!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-timer"),require("d3-dispatch"),require("d3-collection")):"function"==typeof define&&define.amd?define(["exports","d3-timer","d3-dispatch","d3-collection"],n):n(t.d3_force=t.d3_force||{},t.d3_timer,t.d3_dispatch,t.d3_collection)}(this,function(t,n,r,e){"use strict";function i(t,n,r){function e(e,i){for(var o,c,u,f,s,h,l=0,d=t.length;d>l;++l)o=t[l],c=o.source,u=o.target,f=u.x-c.x,s=u.y-c.y,(h=f*f+s*s)?(h=Math.sqrt(h),h=(h-r)/(2*h)):(h=Math.random()*a,f=Math.cos(h),s=Math.sin(h),h=r/2),h*=i*n,f*=h,s*=h,u.x-=f,u.y-=s,c.x+=f,c.y+=s}return e.links=function(t){return i(t,n,r)},e.strength=function(n){return i(t,+n,r)},e.distance=function(r){return i(t,n,+r)},e}function o(t){return i(t,1,40)}function c(t,n,r){function e(e,i){for(var o,c=0,u=e.length,f=r*i;u>c;++c)o=e[c],o.x+=(t-o.x)*f,o.y+=(n-o.y)*f}return e.position=function(t){return c(+t[0],+t[1],r)},e.strength=function(r){return c(t,n,+r)},e}function u(t,n){return c(+t,+n,.1)}function f(t){function i(t){(t=+t)>0?h>0?h=t:(h=t,d.call("start",this),a.restart(o)):h>0&&(h=0,d.call("end",this),a.stop())}function o(){if((h*=s)<=f)return i(0);l.each(c);for(var n,r=0,e=t.length;e>r;++r)n=t[r],n.x-=n.px-(n.px=n.x),n.y-=n.py-(n.py=n.y);d.call("tick",this)}function c(n){n(t,h)}var u=.1,f=.001,s=.99,h=u,a=n.timer(o),l=e.map(),d=r.dispatch("start","tick","end");return{nodes:function(n){return arguments.length?(t=n,this):t},start:function(){return i(u),this},stop:function(){return i(0),this},alpha:function(t){return arguments.length?(i(+t),this):h},alphaRange:function(t){return arguments.length?(u=+t[0],f=+t[1],this):[u,f]},alphaDecay:function(t){return arguments.length?(s=+t,this):s},force:function(t,n){return arguments.length>1?(l.set(t,n),this):l.get(t)},on:function(t,n){return arguments.length>1?(d.on(t,n),this):d.on(t)}}}var s="0.0.1",h=function l(t){function n(n){for(var r,e=0,i=n.length;i>e;++e)r=n[e],r.x+=(r.px-r.x)*t,r.y+=(r.py-r.y)*t}return n.strength=function(t){return l(+t)},n}(.1),a=2*Math.PI;t.version=s,t.forceFriction=h,t.forceLink=o,t.forcePosition=u,t.forceSimulation=f});