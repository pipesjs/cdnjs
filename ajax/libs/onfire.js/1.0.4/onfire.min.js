!function(n,t){"object"==typeof module&&module.exports?module.exports=t(n):n.onfire=t(n)}("undefined"!=typeof window?window:this,function(){function n(n,t){return n.hasOwnProperty(t)}function t(t,e,r){if("string"!=typeof t||"function"!=typeof e)throw new Error("args must be (string, function).");n(c,t)||(c[t]={});var o="e"+ ++l;return c[t][o]=[e,r],[t,o]}function e(t,e){var r;for(r in t)n(t,r)&&e(r,t[r])}function r(n,e){return t(n,e,0)}function o(n,e){return t(n,e,1)}function u(t){var r=Array.prototype.slice.call(arguments,1);n(c,t)&&e(c[t],function(n,e){e[0].apply(null,r),e[1]&&delete c[t][n]})}function f(t){var r,o;if("string"==typeof t)return n(c,t)?(delete c[t],p):a;if("object"==typeof t)return r=t[0],o=t[1],n(c,r)&&n(c[r],o)?(delete c[r][o],p):a;if("function"==typeof t){var u=a;return e(c,function(n,r){e(r,function(e,r){r[0]===t&&(delete c[n][e],u=p)})}),u}return a}function i(){c={}}var c={},l=0,p=!0,a=!1;return{on:r,one:o,un:f,fire:u,clear:i}});