!function(n,e){"object"==typeof module&&module.exports?module.exports=e(n):n.onfire=e(n)}("undefined"!=typeof window?window:this,function(){var n={},e=0,t=function(t,r,o){if("string"!=typeof t||"function"!=typeof r)throw new Error("args[0] must be string, args[1] must be function.");n[t]||(n[t]={});var i="e"+ ++e;return n[t][i]=[r,o],[t,i]},r=function(n,e){return t(n,e,!1)},o=function(n,e){return t(n,e,!0)},i=function(e){var t,r;if(n[e])for(r in n[e])t=n[e][r],t[0].apply(null,Array.prototype.slice.call(arguments,1)),t[1]&&delete n[e][r]},u=function(e){if("string"==typeof e)return!!n[e]&&(delete n[e],!0);if("object"==typeof e){var t=e[0],r=e[1];return!(!n[t]||!n[t][r])&&(delete n[t][r],!0)}},f=function(){n={}},c=function(){var e,t=[];for(e in n)t.push(e);return t},l=function(){return c().length};return{on:r,one:o,un:u,fire:i,size:l,clear:f,events:c}});