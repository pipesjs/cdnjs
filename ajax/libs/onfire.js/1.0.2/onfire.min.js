!function(n,e){"object"==typeof module&&module.exports?module.exports=e(n):n.onfire=e(n)}("undefined"!=typeof window?window:this,function(){var n=Function.call.bind(Array.prototype.slice),e={},t=0,r=0,o=function(n,o,i){if("string"!=typeof n||"function"!=typeof o)throw new Error("args[0] must be string, args[1] must be function.");e[n]||(e[n]={},r++);var u="e"+ ++t;return e[n][u]=[o,i],[n,u]},i=function(n,e){return o(n,e,!1)},u=function(n,e){return o(n,e,!0)},f=function(t){var r,o;if(e[t])for(o in e[t])r=e[t][o],r[0].apply(null,n(arguments,1)),r[1]&&delete e[t][o]},c=function(n){if("string"==typeof n)return!!e[n]&&(delete e[n],r--,!0);if("object"==typeof n){var t=n[0],o=n[1];return!(!e[t]||!e[t][o])&&(delete e[t][o],!0)}},s=function(){e={},r=0},l=function(){var n=[];for(var t in e)n.push(t);return n},p=function(){return r};return{on:i,one:u,un:c,fire:f,size:p,clear:s,events:l}});