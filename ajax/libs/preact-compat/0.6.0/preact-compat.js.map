{"version":3,"sources":["preact-compat.js"],"names":[],"mappings":"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","file":"preact-compat.js","sourcesContent":["import PropTypes from 'proptypes';\nimport { render, h, Component as PreactComponent, hooks } from 'preact';\n\n\nconst DEV = !process || !process.env || process.env.NODE_ENV!=='production';\n\n\nlet createElement = (...args) => {\n\tlet vnode = h(...args);\n\tapplyClassName(vnode);\n\treturn vnode;\n};\n\n\nlet applyClassName = ({ attributes }) => {\n\tif (!attributes) return;\n\tlet cl = attributes.className || attributes.class;\n\tif (cl) attributes.className = cl;\n};\n\n\nlet extend = (base, ...objs) => {\n\tfor (let i=0; i<objs.length; i++) {\n\t\tfor (let key in objs[i]) {\n\t\t\tif (objs[i].hasOwnProperty(key)) {\n\t\t\t\tlet v = objs[i][key];\n\t\t\t\tif (v!==null && v!==undefined) {\n\t\t\t\t\tbase[key] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn base;\n};\n\n\nlet findDOMNode = component => component.base || component;\n\n\nfunction F(){}\n\nlet createClass = obj => {\n\tlet cl = function() {\n\t\tComponent.call(this);\n\t\textend(this, obj);\n\t\tbindAll(this);\n\t};\n\tF.prototype = Component.prototype;\n\tcl.prototype = new F();\n\tcl.prototype.constructor = cl;\n\treturn cl;\n};\n\nlet bindAll = ctx => {\n\tfor (let i in ctx) {\n\t\tlet v = ctx[i];\n\t\tif (typeof v==='function' && !v.__bound) {\n\t\t\t(ctx[i] = v.bind(ctx)).__bound = true;\n\t\t}\n\t}\n};\n\n\nclass Component extends PreactComponent {\n\tconstructor(...args) {\n\t\tsuper(...args);\n\t\tthis._stateUpdateCallbacks = [];\n\t}\n\n\tgetDOMNode() {\n\t\treturn this.base;\n\t}\n\n\tsetState(state, callback) {\n\t\tsuper.setState(state);\n\t\tif (typeof callback==='function') {\n\t\t\tthis._stateUpdateCallbacks.push(callback);\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(props) {\n\t\tlet defaultProps = this.defaultProps || this.constructor.defaultProps;\n\t\tif (defaultProps) {\n\t\t\tprops = extend({}, defaultProps, props);\n\t\t}\n\n\t\t// add proptype checking\n\t\tif (DEV) {\n\t\t\tlet propTypes = this.propTypes || this.constructor.propTypes;\n\t\t\tif (propTypes) {\n\t\t\t\tfor (let prop in propTypes) {\n\t\t\t\t\tif (propTypes.hasOwnProperty(prop)) {\n\t\t\t\t\t\tlet err = propTypes[prop](props, prop, this.constructor.name, 'prop');\n\t\t\t\t\t\tif (err) throw err;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_render(...args) {\n\t\tlet ret = super._render(...args);\n\n\t\tif (this.props.ref && this.base.getAttribute('ref')!==this.props.ref) {\n\t\t\tthis.base.setAttribute('ref', this.props.ref);\n\t\t}\n\n\t\t// add refs\n\t\tlet refs = this.base.querySelectorAll('[ref]');\n\t\tthis.refs = {};\n\t\tfor (let i=refs.length; i--; ) {\n\t\t\tthis.refs[refs[i].getAttribute('ref')] = refs[i]._component || refs[i];\n\t\t}\n\n\t\tlet cb = this._stateUpdateCallbacks;\n\t\tif (cb) {\n\t\t\tthis._stateUpdateCallbacks = [];\n\t\t\tfor (let i=0; i<cb.length; i++) cb[i]();\n\t\t}\n\n\t\treturn ret;\n\t}\n}\n\n\nexport { PropTypes, render, createClass, createElement, findDOMNode, Component };\nexport default { PropTypes, render, createClass, createElement, findDOMNode, Component };\n"]}