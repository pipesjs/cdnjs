/*!
 * Swipe 2.1.3
 *
 * Brad Birdsall
 * Copyright 2013, MIT License
 *
*/
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Swipe=b(a)}):"object"==typeof module&&module.exports?module.exports=b(a):a.Swipe=b(a)}(this,function(a){function Swipe(c,d){"use strict";function e(){v.addEventListener?(A.removeEventListener("touchstart",F,!1),A.removeEventListener("mousedown",F,!1),A.removeEventListener("webkitTransitionEnd",F,!1),A.removeEventListener("msTransitionEnd",F,!1),A.removeEventListener("oTransitionEnd",F,!1),A.removeEventListener("otransitionend",F,!1),A.removeEventListener("transitionend",F,!1),a.removeEventListener("resize",F,!1)):a.onresize=null}function f(){v.addEventListener?(v.touch&&A.addEventListener("touchstart",F,!1),d.draggable&&A.addEventListener("mousedown",F,!1),v.transitions&&(A.addEventListener("webkitTransitionEnd",F,!1),A.addEventListener("msTransitionEnd",F,!1),A.addEventListener("oTransitionEnd",F,!1),A.addEventListener("otransitionend",F,!1),A.addEventListener("transitionend",F,!1)),a.addEventListener("resize",F,!1)):a.onresize=function(){g()}}function g(){if(w=A.children,z=w.length,w.length<2&&(d.continuous=!1),v.transitions&&d.continuous&&w.length<3){var a=w[0].cloneNode(!0),b=A.children[1].cloneNode(!0);A.appendChild(a),A.appendChild(b),a.setAttribute("data-cloned",!0),b.setAttribute("data-cloned",!0),w=A.children}x=new Array(w.length),y=c.getBoundingClientRect().width||c.offsetWidth,A.style.width=w.length*y*2+"px";for(var g=w.length;g--;){var h=w[g];h.style.width=y+"px",h.setAttribute("data-index",g),v.transitions&&(h.style.left=g*-y+"px",m(g,B>g?-y:B<g?y:0,0))}d.continuous&&v.transitions&&(m(j(B-1),-y,0),m(j(B+1),y,0)),v.transitions||(A.style.left=B*-y+"px"),c.style.visibility="visible",e(),f()}function h(){d.continuous?l(B-1):B&&l(B-1)}function i(){d.continuous?l(B+1):B<w.length-1&&l(B+1)}function j(a){return(w.length+a%w.length)%w.length}function k(){var a=B;return a>=z&&(a-=z),a}function l(a,b){if(a="number"!=typeof a?parseInt(a,10):a,B!==a){if(v.transitions){var c=Math.abs(B-a)/(B-a);if(d.continuous){var e=c;c=-x[j(a)]/y,c!==e&&(a=-c*w.length+a)}for(var f=Math.abs(B-a)-1;f--;)m(j((a>B?a:B)-f-1),y*c,0);a=j(a),m(B,y*c,b||C),m(a,0,b||C),d.continuous&&m(j(a-c),-(y*c),0)}else a=j(a),o(B*-y,a*-y,b||C);B=a,u(function(){d.callback&&d.callback(k(),w[B])})}}function m(a,b,c){n(a,b,c),x[a]=b}function n(a,b,c){var d=w[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function o(a,b,c){if(!c)return void(A.style.left=b+"px");var e=+new Date,f=setInterval(function(){var g=+new Date-e;return g>c?(A.style.left=b+"px",G&&p(),d.transitionEnd&&d.transitionEnd.call(event,k(),w[B]),void clearInterval(f)):void(A.style.left=(b-a)*(Math.floor(g/c*100)/100)+a+"px")},4)}function p(){D=setTimeout(i,G)}function q(){G=0,clearTimeout(D)}function r(){q(),G=d.auto||0,p()}function s(a){return/^mouse/.test(a.type)}var t=function(){},u=function(a){setTimeout(a||t,0)},v={addEventListener:!!a.addEventListener,touch:"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(b.createElement("swipe"))};if(c){var w,x,y,z,A=c.children[0];d=d||{};var B=parseInt(d.startSlide,10)||0,C=d.speed||300;d.continuous=void 0===d.continuous||d.continuous,d.autoRestart=void 0!==d.autoRestart&&d.autoRestart;var D,E,F={handleEvent:function(a){switch(a.type){case"mousedown":case"touchstart":this.start(a);break;case"mousemove":case"touchmove":this.move(a);break;case"mouseup":case"mouseleave":case"touchend":this.end(a);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(a);break;case"resize":u(g)}d.stopPropagation&&a.stopPropagation()},start:function(a){var b;s(a)?(b=a,a.preventDefault()):b=a.touches[0],H={x:b.pageX,y:b.pageY,time:+new Date},E=void 0,I={},s(a)?(A.addEventListener("mousemove",this,!1),A.addEventListener("mouseup",this,!1),A.addEventListener("mouseleave",this,!1)):(A.addEventListener("touchmove",this,!1),A.addEventListener("touchend",this,!1))},move:function(a){var b;if(s(a))b=a;else{if(a.touches.length>1||a.scale&&1!==a.scale)return;d.disableScroll&&a.preventDefault(),b=a.touches[0]}I={x:b.pageX-H.x,y:b.pageY-H.y},"undefined"==typeof E&&(E=!!(E||Math.abs(I.x)<Math.abs(I.y))),E||(a.preventDefault(),q(),d.continuous?(n(j(B-1),I.x+x[j(B-1)],0),n(B,I.x+x[B],0),n(j(B+1),I.x+x[j(B+1)],0)):(I.x=I.x/(!B&&I.x>0||B===w.length-1&&I.x<0?Math.abs(I.x)/y+1:1),n(B-1,I.x+x[B-1],0),n(B,I.x+x[B],0),n(B+1,I.x+x[B+1],0)))},end:function(a){var b=+new Date-H.time,c=Number(b)<250&&Math.abs(I.x)>20||Math.abs(I.x)>y/2,e=!B&&I.x>0||B===w.length-1&&I.x<0;d.continuous&&(e=!1);var f=I.x<0;E||(c&&!e?(f?(d.continuous?(m(j(B-1),-y,0),m(j(B+2),y,0)):m(B-1,-y,0),m(B,x[B]-y,C),m(j(B+1),x[j(B+1)]-y,C),B=j(B+1)):(d.continuous?(m(j(B+1),y,0),m(j(B-2),-y,0)):m(B+1,y,0),m(B,x[B]+y,C),m(j(B-1),x[j(B-1)]+y,C),B=j(B-1)),d.callback&&d.callback(k(),w[B])):d.continuous?(m(j(B-1),-y,C),m(B,0,C),m(j(B+1),y,C)):(m(B-1,-y,C),m(B,0,C),m(B+1,y,C))),s(a)?(A.removeEventListener("mousemove",F,!1),A.removeEventListener("mouseup",F,!1),A.removeEventListener("mouseleave",F,!1)):(A.removeEventListener("touchmove",F,!1),A.removeEventListener("touchend",F,!1))},transitionEnd:function(a){var b=parseInt(a.target.getAttribute("data-index"),10);b===B&&((G||d.autoRestart)&&r(),d.transitionEnd&&d.transitionEnd.call(a,k(),w[B]))}},G=d.auto||0,H={},I={};return g(),G&&p(),{setup:function(){g()},slide:function(a,b){q(),l(a,b)},prev:function(){q(),h()},next:function(){q(),i()},restart:function(){r()},stop:function(){q()},getPos:function(){return k()},getNumSlides:function(){return z},kill:function(){q(),c.style.visibility="",A.style.width="",A.style.left="";for(var a=w.length;a--;){v.transitions&&n(a,0,0);var b=w[a];if(b.getAttribute("data-cloned")){var d=b.parentElement;d.removeChild(b)}b.style.width="",b.style.left="",b.style.webkitTransitionDuration=b.style.MozTransitionDuration=b.style.msTransitionDuration=b.style.OTransitionDuration=b.style.transitionDuration="",b.style.webkitTransform=b.style.msTransform=b.style.MozTransform=b.style.OTransform=""}e()}}}}var b=a.document||this.document;return(a.jQuery||a.Zepto)&&!function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(a.jQuery||a.Zepto),Swipe});