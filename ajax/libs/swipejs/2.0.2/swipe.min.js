/*!
 * Swipe 2.0.2
 *
 * Brad Birdsall & Felix Liu
 * Copyright 2015, MIT License
 *
*/
function Swipe(a,b){"use strict";function c(){r=v.children,u=r.length,r.length<2&&(b.continuous=!1),q.transitions&&b.continuous&&r.length<3&&(v.appendChild(r[0].cloneNode(!0)),v.appendChild(v.children[1].cloneNode(!0)),r=v.children),s=new Array(r.length),t=a.getBoundingClientRect().width||a.offsetWidth,v.style.width=r.length*t+"px";for(var c=r.length;c--;){var d=r[c];d.style.width=t+"px",d.setAttribute("data-index",c),q.transitions&&(d.style.left=c*-t+"px",i(c,w>c?-t:c>w?t:0,0))}b.continuous&&q.transitions&&(i(f(w-1),-t,0),i(f(w+1),t,0)),q.transitions||(v.style.left=w*-t+"px"),a.style.visibility="visible"}function d(){b.continuous?h(w-1):w&&h(w-1)}function e(){b.continuous?h(w+1):w<r.length-1&&h(w+1)}function f(a){return(r.length+a%r.length)%r.length}function g(){var a=w;return a>=u&&(a-=u),a}function h(a,c){if(w!==a){if(q.transitions){var d=Math.abs(w-a)/(w-a);if(b.continuous){var e=d;d=-s[f(a)]/t,d!==e&&(a=-d*r.length+a)}for(var h=Math.abs(w-a)-1;h--;)i(f((a>w?a:w)-h-1),t*d,0);a=f(a),i(w,t*d,c||x),i(a,0,c||x),b.continuous&&i(f(a-d),-(t*d),0)}else a=f(a),k(w*-t,a*-t,c||x);w=a,p(b.callback&&b.callback(g(),r[w]))}}function i(a,b,c){j(a,b,c),s[a]=b}function j(a,b,c){var d=r[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function k(a,c,d){if(!d)return void(v.style.left=c+"px");var e=+new Date,f=setInterval(function(){var h=+new Date-e;return h>d?(v.style.left=c+"px",A&&l(),b.transitionEnd&&b.transitionEnd.call(event,g(),r[w]),void clearInterval(f)):void(v.style.left=(c-a)*(Math.floor(h/d*100)/100)+a+"px")},4)}function l(){y=setTimeout(e,A)}function m(){A=0,clearTimeout(y)}function n(){m(),A=b.auto||0,l()}var o=function(){},p=function(a){setTimeout(a||o,0)},q={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(document.createElement("swipe"))};if(a){var r,s,t,u,v=a.children[0];b=b||{};var w=parseInt(b.startSlide,10)||0,x=b.speed||300;b.continuous=void 0!==b.continuous?b.continuous:!0,b.autoRestart=void 0!==b.autoRestart?b.autoRestart:!0;var y,z,A=b.auto||0,B={},C={},D={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":p(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":p(this.transitionEnd(a));break;case"resize":p(c)}b.stopPropagation&&a.stopPropagation()},start:function(a){var b=a.touches[0];B={x:b.pageX,y:b.pageY,time:+new Date},z=void 0,C={},v.addEventListener("touchmove",this,!1),v.addEventListener("touchend",this,!1)},move:function(a){if(!(a.touches.length>1||a.scale&&1!==a.scale)){b.disableScroll&&a.preventDefault();var c=a.touches[0];C={x:c.pageX-B.x,y:c.pageY-B.y},"undefined"==typeof z&&(z=!!(z||Math.abs(C.x)<Math.abs(C.y))),z||(a.preventDefault(),m(),b.continuous?(j(f(w-1),C.x+s[f(w-1)],0),j(w,C.x+s[w],0),j(f(w+1),C.x+s[f(w+1)],0)):(C.x=C.x/(!w&&C.x>0||w===r.length-1&&C.x<0?Math.abs(C.x)/t+1:1),j(w-1,C.x+s[w-1],0),j(w,C.x+s[w],0),j(w+1,C.x+s[w+1],0)))}},end:function(){var a=+new Date-B.time,c=Number(a)<250&&Math.abs(C.x)>20||Math.abs(C.x)>t/2,d=!w&&C.x>0||w===r.length-1&&C.x<0;b.continuous&&(d=!1);var e=C.x<0;z||(c&&!d?(e?(b.continuous?(i(f(w-1),-t,0),i(f(w+2),t,0)):i(w-1,-t,0),i(w,s[w]-t,x),i(f(w+1),s[f(w+1)]-t,x),w=f(w+1)):(b.continuous?(i(f(w+1),t,0),i(f(w-2),-t,0)):i(w+1,t,0),i(w,s[w]+t,x),i(f(w-1),s[f(w-1)]+t,x),w=f(w-1)),b.callback&&b.callback(g(),r[w])):b.continuous?(i(f(w-1),-t,x),i(w,0,x),i(f(w+1),t,x)):(i(w-1,-t,x),i(w,0,x),i(w+1,t,x))),v.removeEventListener("touchmove",D,!1),v.removeEventListener("touchend",D,!1)},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)===w&&((A||b.autoRestart)&&n(),b.transitionEnd&&b.transitionEnd.call(a,g(),r[w]))}};return c(),A&&l(),q.addEventListener?(q.touch&&v.addEventListener("touchstart",D,!1),q.transitions&&(v.addEventListener("webkitTransitionEnd",D,!1),v.addEventListener("msTransitionEnd",D,!1),v.addEventListener("oTransitionEnd",D,!1),v.addEventListener("otransitionend",D,!1),v.addEventListener("transitionend",D,!1)),window.addEventListener("resize",D,!1)):window.onresize=function(){c()},{setup:function(){c()},slide:function(a,b){m(),h(a,b)},prev:function(){m(),d()},next:function(){m(),e()},restart:function(){n()},stop:function(){m()},getPos:function(){return g()},getNumSlides:function(){return u},kill:function(){m(),v.style.width="",v.style.left="";for(var a=r.length;a--;){var b=r[a];b.style.width="",b.style.left="",q.transitions&&j(a,0,0)}q.addEventListener?(v.removeEventListener("touchstart",D,!1),v.removeEventListener("webkitTransitionEnd",D,!1),v.removeEventListener("msTransitionEnd",D,!1),v.removeEventListener("oTransitionEnd",D,!1),v.removeEventListener("otransitionend",D,!1),v.removeEventListener("transitionend",D,!1),window.removeEventListener("resize",D,!1)):window.onresize=null}}}}(window.jQuery||window.Zepto)&&!function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(window.jQuery||window.Zepto);