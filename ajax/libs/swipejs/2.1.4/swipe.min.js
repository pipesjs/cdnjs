/*!
 * Swipe 2.1.4
 *
 * Brad Birdsall
 * Copyright 2013, MIT License
 *
*/
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.Swipe=b(a)}):"object"==typeof module&&module.exports?module.exports=b(a):a.Swipe=b(a)}(this,function(a){function Swipe(c,d){"use strict";function e(){w.addEventListener?(B.removeEventListener("touchstart",H,!1),B.removeEventListener("mousedown",H,!1),B.removeEventListener("webkitTransitionEnd",H,!1),B.removeEventListener("msTransitionEnd",H,!1),B.removeEventListener("oTransitionEnd",H,!1),B.removeEventListener("otransitionend",H,!1),B.removeEventListener("transitionend",H,!1),a.removeEventListener("resize",H,!1)):a.onresize=null}function f(){w.addEventListener?(w.touch&&B.addEventListener("touchstart",H,!1),d.draggable&&B.addEventListener("mousedown",H,!1),w.transitions&&(B.addEventListener("webkitTransitionEnd",H,!1),B.addEventListener("msTransitionEnd",H,!1),B.addEventListener("oTransitionEnd",H,!1),B.addEventListener("otransitionend",H,!1),B.addEventListener("transitionend",H,!1)),a.addEventListener("resize",H,!1)):a.onresize=G}function g(){if(x=B.children,A=x.length,x.length<2&&(d.continuous=!1),w.transitions&&d.continuous&&x.length<3){var a=x[0].cloneNode(!0),b=B.children[1].cloneNode(!0);B.appendChild(a),B.appendChild(b),a.setAttribute("data-cloned",!0),b.setAttribute("data-cloned",!0),x=B.children}y=new Array(x.length),z=c.getBoundingClientRect().width||c.offsetWidth,B.style.width=x.length*z*2+"px";for(var g=x.length;g--;){var h=x[g];h.style.width=z+"px",h.setAttribute("data-index",g),w.transitions&&(h.style.left=g*-z+"px",m(g,C>g?-z:C<g?z:0,0))}d.continuous&&w.transitions&&(m(j(C-1),-z,0),m(j(C+1),z,0)),w.transitions||(B.style.left=C*-z+"px"),c.style.visibility="visible",e(),f()}function h(){d.continuous?l(C-1):C&&l(C-1)}function i(){d.continuous?l(C+1):C<x.length-1&&l(C+1)}function j(a){return(x.length+a%x.length)%x.length}function k(){var a=C;return a>=A&&(a-=A),a}function l(a,b){if(a="number"!=typeof a?parseInt(a,10):a,C!==a){if(w.transitions){var c=Math.abs(C-a)/(C-a);if(d.continuous){var e=c;c=-y[j(a)]/z,c!==e&&(a=-c*x.length+a)}for(var f=Math.abs(C-a)-1;f--;)m(j((a>C?a:C)-f-1),z*c,0);a=j(a),m(C,z*c,b||D),m(a,0,b||D),d.continuous&&m(j(a-c),-(z*c),0)}else a=j(a),o(C*-z,a*-z,b||D);C=a,u(function(){d.callback&&d.callback(k(),x[C])})}}function m(a,b,c){n(a,b,c),y[a]=b}function n(a,b,c){var d=x[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function o(a,b,c){if(!c)return void(B.style.left=b+"px");var e=+new Date,f=setInterval(function(){var g=+new Date-e;return g>c?(B.style.left=b+"px",I&&p(),d.transitionEnd&&d.transitionEnd.call(event,k(),x[C]),void clearInterval(f)):void(B.style.left=(b-a)*(Math.floor(g/c*100)/100)+a+"px")},4)}function p(){E=setTimeout(i,I)}function q(){I=0,clearTimeout(E)}function r(){q(),I=d.auto||0,p()}function s(a){return/^mouse/.test(a.type)}var t=function(){},u=function(a){setTimeout(a||t,0)},v=function(a,b){b=b||100;var c=null;return function(){var d=this,e=arguments;c&&clearTimeout(c),c=setTimeout(function(){c=null,a.apply(d,e)},b)}},w={addEventListener:!!a.addEventListener,touch:"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(b.createElement("swipe"))};if(c){var x,y,z,A,B=c.children[0];d=d||{};var C=parseInt(d.startSlide,10)||0,D=d.speed||300;d.continuous=void 0===d.continuous||d.continuous,d.autoRestart=void 0!==d.autoRestart&&d.autoRestart;var E,F,G=v(g),H={handleEvent:function(a){switch(a.type){case"mousedown":case"touchstart":this.start(a);break;case"mousemove":case"touchmove":this.move(a);break;case"mouseup":case"mouseleave":case"touchend":this.end(a);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(a);break;case"resize":G()}d.stopPropagation&&a.stopPropagation()},start:function(a){var b;s(a)?(b=a,a.preventDefault()):b=a.touches[0],J={x:b.pageX,y:b.pageY,time:+new Date},F=void 0,K={},s(a)?(B.addEventListener("mousemove",this,!1),B.addEventListener("mouseup",this,!1),B.addEventListener("mouseleave",this,!1)):(B.addEventListener("touchmove",this,!1),B.addEventListener("touchend",this,!1))},move:function(a){var b;if(s(a))b=a;else{if(a.touches.length>1||a.scale&&1!==a.scale)return;d.disableScroll&&a.preventDefault(),b=a.touches[0]}K={x:b.pageX-J.x,y:b.pageY-J.y},"undefined"==typeof F&&(F=!!(F||Math.abs(K.x)<Math.abs(K.y))),F||(a.preventDefault(),q(),d.continuous?(n(j(C-1),K.x+y[j(C-1)],0),n(C,K.x+y[C],0),n(j(C+1),K.x+y[j(C+1)],0)):(K.x=K.x/(!C&&K.x>0||C===x.length-1&&K.x<0?Math.abs(K.x)/z+1:1),n(C-1,K.x+y[C-1],0),n(C,K.x+y[C],0),n(C+1,K.x+y[C+1],0)))},end:function(a){var b=+new Date-J.time,c=Number(b)<250&&Math.abs(K.x)>20||Math.abs(K.x)>z/2,e=!C&&K.x>0||C===x.length-1&&K.x<0;d.continuous&&(e=!1);var f=K.x<0;F||(c&&!e?(f?(d.continuous?(m(j(C-1),-z,0),m(j(C+2),z,0)):m(C-1,-z,0),m(C,y[C]-z,D),m(j(C+1),y[j(C+1)]-z,D),C=j(C+1)):(d.continuous?(m(j(C+1),z,0),m(j(C-2),-z,0)):m(C+1,z,0),m(C,y[C]+z,D),m(j(C-1),y[j(C-1)]+z,D),C=j(C-1)),d.callback&&d.callback(k(),x[C])):d.continuous?(m(j(C-1),-z,D),m(C,0,D),m(j(C+1),z,D)):(m(C-1,-z,D),m(C,0,D),m(C+1,z,D))),s(a)?(B.removeEventListener("mousemove",H,!1),B.removeEventListener("mouseup",H,!1),B.removeEventListener("mouseleave",H,!1)):(B.removeEventListener("touchmove",H,!1),B.removeEventListener("touchend",H,!1))},transitionEnd:function(a){var b=parseInt(a.target.getAttribute("data-index"),10);b===C&&((I||d.autoRestart)&&r(),d.transitionEnd&&d.transitionEnd.call(a,k(),x[C]))}},I=d.auto||0,J={},K={};return g(),I&&p(),{setup:function(){g()},slide:function(a,b){q(),l(a,b)},prev:function(){q(),h()},next:function(){q(),i()},restart:function(){r()},stop:function(){q()},getPos:function(){return k()},getNumSlides:function(){return A},kill:function(){q(),c.style.visibility="",B.style.width="",B.style.left="";for(var a=x.length;a--;){w.transitions&&n(a,0,0);var b=x[a];if(b.getAttribute("data-cloned")){var d=b.parentElement;d.removeChild(b)}b.style.width="",b.style.left="",b.style.webkitTransitionDuration=b.style.MozTransitionDuration=b.style.msTransitionDuration=b.style.OTransitionDuration=b.style.transitionDuration="",b.style.webkitTransform=b.style.msTransform=b.style.MozTransform=b.style.OTransform=""}e()}}}}var b=a.document||this.document;return(a.jQuery||a.Zepto)&&!function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(a.jQuery||a.Zepto),Swipe});