class e extends HTMLElement{static polyfill(t){e.__isWCSupported||document.write('<script src="'+t+'"></script>')}static tag(t,r,i){void 0===i?i=r:e.__templateDict[t]=r,e.__prototypeDict[t]=i,document.registerElement(t,i)}static getTag(t){for(let r in e.__prototypeDict)if(e.__prototypeDict[r]===t)return r}static get interactionEventNames(){return["click","mouseover","mouseout","mousemove","mouseenter","mousedown","mouseup","dblclick","contextmenu","wheel","mouseleave","select","pointerlockchange","pointerlockerror","focus","blur","input","error","invalid","animationstart","animationend","animationiteration","reset","submit","resize","scroll","keydown","keypress","keyup","change"]}static plugin(t,r){if(["create","beforeRender","beforeRemove","afterRender"].indexOf(t)===-1)throw"Supported phase can be create, beforeRemove, beforeRender or afterRender only";e.__plugins[t].push(r)}static registerCustomAttribute(t,r){e.__customAttributeProcessors[t]=e.__customAttributeProcessors[t]||[],e.__customAttributeProcessors[t].push(r)}static __runPlugins(t,r){e.__plugins[t].forEach(e=>{e(r)})}static __moveChildrenBefore(e,t,r){for(;e.children.length;)t.parentNode.insertBefore(e.children[0],t);let i=Array.prototype.slice.call(t.querySelectorAll("*"));for(let n of i)r&&n.isSlim&&n.createdCallback()}static __moveChildren(e,t,r){for(;e.children.length;)t.appendChild(e.children[0]);let i=Array.prototype.slice.call(t.querySelectorAll("*"));for(let n of i)r&&n.isSlim&&n.createdCallback()}static __lookup(e,t){let r=t.split("."),i=r[0];for(;r.length&&e;)e=e[i=r.shift()];return{source:t,prop:i,obj:e}}static __createRepeater(t){void 0===e.__prototypeDict["slim-repeat"]&&e.__initRepeater();let r;e.__isWCSupported?(r=document.createElement("slim-repeat"),r.sourceNode=t.target,t.target.parentNode.insertBefore(r,t.target),t.repeater=r):(t.target.insertAdjacentHTML("beforebegin",'<slim-repeat slim-new="true"></slim-repeat>'),r=t.target.parentNode.querySelector('slim-repeat[slim-new="true"]'),r.__proto__=window.SlimRepeater.prototype,r.sourceNode=t.target,r.removeAttribute("slim-new"),r.createdCallback()),r._boundParent=t.source,t.target.parentNode.removeChild(t.target),r._isAdjacentRepeater=t.repeatAdjacent,r.setAttribute("source",t.properties[0]),r.setAttribute("target-attr",t.targetAttribute),t.repeater=r}static __dashToCamel(e){return e.indexOf("-")<0?e:e.replace(/-[a-z]/g,e=>{return e[1].toUpperCase()})}static __camelToDash(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}constructor(){super(),this.createdCallback()}find(e){return this.querySelector(e)}findAll(e){return Array.prototype.slice.call(this.querySelectorAll(e))}watch(e,t){let r={type:"W",properties:[e],executor:t,target:this,source:this};this._bindings=this._bindings||{},this._boundParent=this._boundParent||this,this.__bind(r)}callAttribute(t,r){if(!this._boundParent)throw"Unable to call attribute-bound method when no bound parent available";let i=this.getAttribute(t);if(null===i)return void(console.warn&&console.warn("Unable to call null attribute-bound method on bound parent "+this._boundParent.outerHTML));if("function"==typeof this[i])this[i](r);else if("function"==typeof this._boundParent[i])this._boundParent[i](r);else if(this._boundParent&&this._boundParent._boundParent&&"function"==typeof this._boundParent._boundParent[i])this._boundParent._boundParent[i](r);else{if(!this._boundRepeaterParent||"function"!=typeof this._boundRepeaterParent[i])throw"Unable to call attribute-bound method: "+i+" on bound parent "+this._boundParent.outerHTML+" with value "+r;this._boundRepeaterParent[i](r)}"function"==typeof this.update&&(this.isInteractive||e.autoAttachInteractionEvents||this.getAttribute("interactive"))&&this.update()}__bind(t){t.properties.forEach(r=>{let i;i=r.indexOf(".")>0?r.split(".")[0]:r;let n=t.source||t.target._boundParent||t.parentNode;n._bindings=n._bindings||{},n._bindings[i]=n._bindings[i]||{value:n[i],executors:[]},n.__lookupGetter__(r)||n.__defineGetter__(r,function(){return this._bindings[r].value}),n.__lookupSetter__(r)||n.__defineSetter__(r,function(e){this._bindings[r].value=e,t.sourceText&&(t.target.innerText=t.sourceText),this._executeBindings(r)});let o;"C"===t.type?o=(()=>{t.executor()}):"P"===t.type?o=(()=>{if(!t.target.hasAttribute("slim-repeat")){let i=t.target._boundRepeaterParent,o=e.__lookup(i||n,r).obj||e.__lookup(t.target,r).obj;t.target[e.__dashToCamel(t.attribute)]=o,t.target.setAttribute(t.attribute,o)}}):"M"===t.type?o=(()=>{if(!t.target.hasAttribute("slim-repeat")){let r=t.target._boundRepeaterParent||n,i=r[t.method].apply(r,t.properties.map(e=>{return t.target[e]||r[e]}));t.target[e.__dashToCamel(t.attribute)]=i,t.target.setAttribute(t.attribute,i)}}):"T"===t.type?o=(()=>{let i=t.target._boundParent;t.target.innerText=t.target.innerText.replace(`[[${r}]]`,e.__lookup(i,r).obj)}):"R"===t.type?o=(()=>{t.repeater.renderList()}):"W"===t.type&&(o=(()=>{t.executor(e.__lookup(n,r).obj)})),o.descriptor=t,n._bindings[i].executors.push(o)})}static __processRepeater(e,t){return{type:"R",target:t,targetAttribute:t.getAttribute("slim-repeat-as")?t.getAttribute("slim-repeat-as"):"data",repeatAdjacent:t.hasAttribute("slim-repeat-adjacent")||"option"===t.localName,attribute:e.nodeName,properties:[e.nodeValue],source:t._boundParent}}static __processCustomAttribute(t,r){return{type:"C",target:r,properties:[t.nodeValue],executor:()=>{e.__customAttributeProcessors[t.nodeName].forEach(e=>{e(r,t.nodeValue)})}}}static extract(t,r){const i=(e.rxInject.exec(r),e.rxProp.exec(r)),n=e.rxMethod.exec(r);return i?t[i[1]]:n?t[n[1]].apply(t,n[3].replace(" ","").split(",")):void 0}static __processAttribute(t,r){if("slim-repeat"===t.nodeName)return e.__processRepeater(t,r);if(e.__customAttributeProcessors[t.nodeName])return e.__processCustomAttribute(t,r);const i=e.rxInject.exec(t.nodeValue),n=e.rxProp.exec(t.nodeValue),o=e.rxMethod.exec(t.nodeValue);return o?{type:"M",target:r,attribute:t.nodeName,method:o[1],properties:o[3].replace(" ","").split(",")}:n?{type:"P",target:r,attribute:t.nodeName,properties:[n[1]]}:i?{type:"I",target:r,attribute:t.nodeName,factory:i[1]}:void 0}get isVirtual(){let e=this;for(;e;){if(e=e.parentNode,!e)return!0;if("BODY"===e.nodeName)return!1}return!0}get useShadow(){return!1}get rootElement(){return this.useShadow?(this.__shadowRoot=this.__shadowRoot||this.createShadowRoot(),this.__shadowRoot):this}createdCallback(){this.isVirtual||this.__createdCallbackRunOnce||(this.__createdCallbackRunOnce=!0,this.initialize(),this.onBeforeCreated(),this._captureBindings(),e.__runPlugins("create",this),this.onCreated(),this.__onCreatedComplete=!0,this.onBeforeRender(),e.__runPlugins("beforeRender",this),e.__moveChildren(this._virtualDOM,this.rootElement,!0),this.onAfterRender(),e.__runPlugins("afterRender",this),this.update())}detachedCallback(){e.__runPlugins("beforeRemove",this),this.onRemoved()}_initInteractiveEvents(){!this.__eventsInitialized&&(e.autoAttachInteractionEvents||this.isInteractive||this.hasAttribute("interactive"))&&e.interactionEventNames.forEach(e=>{this.addEventListener(e,e=>{this.handleEvent(e)})})}initialize(){this._bindings=this._bindings||{},this._boundChildren=this._boundChildren||[],this._initInteractiveEvents(),this.__eventsInitialized=!0,this.alternateTemplate=this.alternateTemplate||null,this._virtualDOM=this._virtualDOM||document.createElement("slim-root")}get isSlim(){return!0}get template(){return e.__templateDict[this.nodeName.toLowerCase()]||null}get isInteractive(){return!1}handleEvent(e){this.hasAttribute("on"+e.type)?this.callAttribute("on"+e.type,e):this.hasAttribute(e.type)&&this.callAttribute(e.type,e)}connectedCallback(){this.attachedCallback()}disconnectedCallback(){this.detachedCallback()}attachedCallback(){this.onAdded()}onAdded(){}onRemoved(){}onBeforeCreated(){}onCreated(){}onBeforeRender(){}onAfterRender(){}onBeforeUpdate(){}onAfterUpdate(){}update(){this.onBeforeUpdate(),this._executeBindings(),this.onAfterUpdate()}render(t){e.__runPlugins("beforeRender",this),this.onBeforeRender(),this.alternateTemplate=t,this.initialize(),this.rootElement.innerHTML="",this._captureBindings(),this._executeBindings(),e.__moveChildren(this._virtualDOM,this.rootElement,!0),this.onAfterRender(),e.__runPlugins("afterRender",this)}_executeBindings(e){if(this._bindings){this._boundChildren.forEach(e=>{e.hasAttribute("bind")&&void 0!==e.sourceText&&(e.innerText=e.sourceText)});const t=e?[e]:Object.keys(this._bindings);t.forEach(e=>{this._bindings[e].executors.forEach(e=>{"T"!==e.descriptor.type&&e()})}),Object.keys(this._bindings).forEach(e=>{this._bindings[e].executors.forEach(e=>{"T"===e.descriptor.type&&e()})})}}_captureBindings(){const t=this;let r=this.alternateTemplate||this.template;if(r){if("string"==typeof r){this._virtualDOM.innerHTML=r;let e=this._virtualDOM.querySelector("slim-content");if(e)for(;t.children.length;)t.children[0]._boundParent=this.children[0]._boundParent||this,e.appendChild(this.children[0])}}else for(;this.children.length;)t._virtualDOM=this._virtualDOM||document.createElement("slim-root"),t._virtualDOM.appendChild(this.children[0]);let i=Array.prototype.slice.call(this._virtualDOM.querySelectorAll("*"));for(let n of i){n._sourceOuterHTML=n.outerHTML,n._boundParent=n._boundParent||this,t._boundChildren=this._boundChildren||[],t._boundChildren.push(n),t._boundChildren.push(n),n.getAttribute("slim-id")&&(n._boundParent[e.__dashToCamel(n.getAttribute("slim-id"))]=n);let r=n.getAttribute("slim-id");r&&(this[r]=n);let i=[];if(n.attributes)for(let o=0;o<n.attributes.length;o++){!n.isSlim&&e.interactionEventNames.indexOf(n.attributes[o].nodeName)>=0&&(n.isInteractive=!0,n.handleEvent=t.handleEvent.bind(n),n.callAttribute=t.callAttribute.bind(n),n.addEventListener(n.attributes[o].nodeName,n.handleEvent));let r=e.__processAttribute(n.attributes[o],n);if(r&&i.push(r),n[e.__dashToCamel(n.attributes[o].nodeName)]=n.attributes[o].nodeValue,"0"==n.attributes[o].nodeName.indexOf("#")){let e=n.attributes[o].nodeName.slice(1);this[e]=n}}i=i.sort(e=>{return"I"===e.type?-1:"R"===e.type?1:"C"===e.type?2:0}),i.forEach(t=>{"P"===t.type||"M"===t.type||"C"===t.type?this.__bind(t):"I"===t.type?e.__inject(t):"R"===t.type&&(e.__createRepeater(t),this.__bind(t))})}i=Array.prototype.slice.call(this._virtualDOM.querySelectorAll("*[bind]"));for(let n of i){let e=n.innerText.match(/\[\[([\w|.]+)\]\]/g);if(e&&n.children.length>0)throw"Bind Error: Illegal bind attribute use on element type "+n.localName+" with nested children.\n"+n.outerHTML;if(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r].match(/([^\[].+[^\]])/)[0];t.push(i)}let i={type:"T",properties:t,target:n,sourceText:n.innerText};n.sourceText=n.innerText,this.__bind(i)}}}}e.rxInject=/\{(.+[^(\((.+)\))])\}/,e.rxProp=/\[\[(.+[^(\((.+)\))])\]\]/,e.rxMethod=/\[\[(.+)(\((.+)\)){1}\]\]/,e.__customAttributeProcessors={},e.__prototypeDict={},e.__templateDict={},e.__plugins={create:[],beforeRender:[],afterRender:[],beforeRemove:[]};try{e.__isWCSupported=function(){return"registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template")}()}catch(t){e.__isWCSupported=!1}e.__initRepeater=function(){class t extends e{get useShadow(){return!1}get sourceData(){try{let t=e.__lookup(this._boundParent,this.getAttribute("source"));return t.obj||[]}catch(e){return[]}}onRemoved(){this.sourceData.unregisterSlimRepeater(this)}registerForRender(){this.pendingRender||(this.pendingRender=!0,setTimeout(()=>{this.checkoutRender()},0))}checkoutRender(){this.pendingRender=!1,this.renderList()}renderList(){let t=this.getAttribute("target-attr");if(this.sourceNode){this.clones&&this.clones.forEach(e=>{e.remove()}),this.clones=[],this.sourceData.registerSlimRepeater(this),this.sourceData.forEach((r,i)=>{let n=this.sourceNode.cloneNode(!0);n.removeAttribute("slim-repeat"),n.removeAttribute("slim-repeat-as"),n.setAttribute("slim-repeat-index",i),e.__isWCSupported||(this.insertAdjacentHTML("beforeEnd",n.outerHTML),n=this.find('*[slim-repeat-index="'+i.toString()+'"]')),n[t]=r,n.data_index=i,n.data_source=this.sourceData,n.sourceText=n.innerText,e.__isWCSupported&&this.insertAdjacentElement("beforeEnd",n),this.clones.push(n)}),this._captureBindings();for(let r of this.clones)r[t]=r[t],r._boundRepeaterParent=this._boundParent,void 0!==e.__prototypeDict[r.localName]||r.isSlim?r._boundParent=this._boundParent:r._boundParent=r,Array.prototype.slice.call(r.querySelectorAll("*")).forEach(e=>{e._boundParent=r._boundParent,e._boundRepeaterParent=r._boundRepeaterParent,e[t]=r[t],e.data_index=r.data_index,e.data_source=r.data_source});this._executeBindings(),this._isAdjacentRepeater?e.__moveChildrenBefore(this._virtualDOM,this,!0):e.__moveChildren(this._virtualDOM,this,!0)}}}e.tag("slim-repeat",t),window.SlimRepeater=t},window.Slim=e,function(){const e={};["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){e[t]=Array.prototype[t],Array.prototype[t]=function(){let r=e[t].apply(this,arguments);return this.registeredSlimRepeaters&&this.registeredSlimRepeaters.forEach(e=>{e.registerForRender()}),r}}),Array.prototype.registerSlimRepeater=function(e){void 0===this.registeredSlimRepeaters&&Object.defineProperty(this,"registeredSlimRepeaters",{enumerable:!1,configurable:!1,value:[]}),this.registeredSlimRepeaters.indexOf(e)<0&&this.registeredSlimRepeaters.push(e)},Array.prototype.unregisterSlimRepeater=function(e){this.registeredSlimRepeaters&&this.registeredSlimRepeaters.indexOf(e)>=0&&this.registeredSlimRepeaters.splice(this.registeredSlimRepeaters.indexOf(e),1)}}(),"undefined"!=typeof module&&module.exports&&(module.exports.Slim=e);