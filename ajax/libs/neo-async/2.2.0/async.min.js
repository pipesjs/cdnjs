(function(M,O){"object"===typeof exports&&"undefined"!==typeof module?O(exports):"function"===typeof define&&define.amd?define(["exports"],O):M.async?O(M.neo_async=M.neo_async||{}):O(M.async=M.async||{})})(this,function(M){function O(a){var b=function(a){var b=J(arguments,1);setTimeout(function(){a.apply(null,b)})};P="function"===typeof setImmediate?setImmediate:b;"object"===typeof process&&"function"===typeof process.nextTick?(C=/^v0.10/.test(process.version)?P:process.nextTick,$=/^v0/.test(process.version)?
P:process.nextTick):$=C=P;!1===a&&(C=function(a){a()})}function E(a){for(var b=-1,c=a.length,d=Array(c);++b<c;)d[b]=a[b];return d}function J(a,b){var c=-1,d=a.length-b;if(0>=d)return[];for(var e=Array(d);++c<d;)e[c]=a[c+b];return e}function L(a){for(var b=D(a),c=b.length,d=-1,e={};++d<c;){var f=b[d];e[f]=a[f]}return e}function ka(a){for(var b=-1,c=a.length,d=[];++b<c;){var e=a[b];e&&(d[d.length]=e)}return d}function Xa(a){for(var b=-1,c=a.length,d=Array(c),e=c;++b<c;)d[--e]=a[b];return d}function Ya(a,
b){for(var c=-1,d=a.length;++c<d;)if(a[c]===b)return!1;return!0}function Q(a,b){for(var c=-1,d=a.length;++c<d;)b(a[c],c);return a}function R(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d];b(a[f],f)}return a}function K(a,b){for(var c=-1;++c<a;)b(c)}function aa(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=(a[c]||{})[b];return e}function ba(a,b){return a.criteria-b.criteria}function la(a,b,c){var d=-1,e=a.length;if(3===b.length)for(;++d<e;)b(a[d],d,z(c));else for(;++d<e;)b(a[d],z(c))}function ma(a,
b,c,d){var e,f=-1,g=d.length;if(3===b.length)for(;++f<g;)e=d[f],b(a[e],e,z(c));else for(;++f<g;)b(a[d[f]],z(c))}function na(a,b,c){a=a[x]();var d=-1,e;if(3===b.length)for(;!1===(e=a.next()).done;)b(e.value,++d,c);else for(;!1===(e=a.next()).done;)b(e.value,c)}function oa(a,b,c){var d=-1,e=a.length;if(3===b.length)for(;++d<e;)b(a[d],d,c(d));else for(;++d<e;)b(a[d],c(d))}function S(a,b,c){var d,e=-1,f=a.length;if(3===b.length)for(;++e<f;)d=a[e],b(d,e,c(d));else for(;++e<f;)d=a[e],b(d,c(d))}function T(a,
b,c,d){var e,f,g=-1,l=d.length;if(3===b.length)for(;++g<l;)e=d[g],f=a[e],b(f,e,c(f));else for(;++g<l;)f=a[d[g]],b(f,c(f))}function U(a,b,c){var d,e=-1;a=a[x]();if(3===b.length)for(;!1===(d=a.next()).done;)d=d.value,b(d,++e,c(d));else for(;!1===(d=a.next()).done;)d=d.value,b(d,c(d))}function V(a,b,c){var d,e=-1,f=a.length;if(3===b.length)for(;++e<f;)d=a[e],b(d,e,c(e,d));else for(;++e<f;)d=a[e],b(d,c(e,d))}function pa(a,b,c,d){var e,f,g=-1,l=d.length;if(3===b.length)for(;++g<l;)e=d[g],f=a[e],b(f,e,
c(g,f));else for(;++g<l;)f=a[d[g]],b(f,c(g,f))}function qa(a,b,c){var d,e=-1;a=a[x]();if(3===b.length)for(;!1===(d=a.next()).done;)d=d.value,b(d,++e,c(e,d));else for(;!1===(d=a.next()).done;)d=d.value,b(d,c(++e,d))}function ra(a,b,c,d){var e,f,g=-1,l=d.length;if(3===b.length)for(;++g<l;)e=d[g],f=a[e],b(f,e,c(e,f));else for(;++g<l;)e=d[g],f=a[e],b(f,c(e,f))}function sa(a,b,c){var d,e=-1;a=a[x]();if(3===b.length)for(;!1===(d=a.next()).done;)d=d.value,b(d,++e,c(e,d));else for(;!1===(d=a.next()).done;)d=
d.value,b(d,c(++e,d))}function z(a){return function(b,c){var d=a;a=A;d(b,c)}}function H(a){return function(b,c){var d=a;a=y;d(b,c)}}function ta(a,b,c,d){var e,f;d?(e=Array,f=E):(e=function(){return{}},f=L);return function(d,l,r){function s(a){return function(b,c){null===a&&A();b?(a=null,r=H(r),r(b,f(h))):(h[a]=c,a=null,++n===k&&r(null,h))}}r=r||y;var k,m,h,n=0;B(d)?(k=d.length,h=e(k),a(d,l,s)):d&&(x&&d[x]?(k=d.size,h=e(k),c(d,l,s)):"object"===typeof d&&(m=D(d),k=m.length,h=e(k),b(d,l,s,m)));k||r(null,
e())}}function ua(a,b,c,d){return function(e,f,g){function l(a,b){return function(c,e){null===a&&A();c?(a=null,g=H(g),g(c)):(!!e===d&&(k[a]=b),a=null,++m===r&&g(null,ka(k)))}}g=g||y;var r,s,k,m=0;B(e)?(r=e.length,k=Array(r),a(e,f,l)):e&&(x&&e[x]?(r=e.size,k=Array(r),c(e,f,l)):"object"===typeof e&&(s=D(e),r=s.length,k=Array(r),b(e,f,l,s)));if(!r)return g(null,[])}}function va(a){return function(b,c,d){function e(){n=b[u];c(n,k)}function f(){n=b[u];c(n,u,k)}function g(){n=p.next().value;c(n,k)}function l(){n=
p.next().value;c(n,u,k)}function r(){h=q[u];n=b[h];c(n,k)}function s(){h=q[u];n=b[h];c(n,h,k)}function k(b,c){b?d(b):(!!c===a&&(w[w.length]=n),++u===m?(t=A,d(null,w)):v?C(t):(v=!0,t()),v=!1)}d=z(d||y);var m,h,n,q,p,t,v=!1,u=0,w=[];B(b)?(m=b.length,t=3===c.length?f:e):b&&(x&&b[x]?(m=b.size,p=b[x](),t=3===c.length?l:g):"object"===typeof b&&(q=D(b),m=q.length,t=3===c.length?s:r));if(!m)return d(null,[]);t()}}function wa(a){return function(b,c,d,e){function f(){n=G++;n<h&&(p=b[n],d(p,m(p,n)))}function g(){n=
G++;n<h&&(p=b[n],d(p,n,m(p,n)))}function l(){!1===(u=v.next()).done&&(p=u.value,d(p,m(p,G++)))}function r(){!1===(u=v.next()).done&&(p=u.value,d(p,G,m(p,G++)))}function s(){n=G++;n<h&&(p=b[t[n]],d(p,m(p,n)))}function k(){n=G++;n<h&&(q=t[n],p=b[q],d(p,q,m(p,n)))}function m(b,c){return function(d,f){null===c&&A();d?(c=null,w=y,e=H(e),e(d)):(!!f===a&&(F[c]=b),c=null,++Za===h?(e=z(e),e(null,ka(F))):I?C(w):(I=!0,w()),I=!1)}}e=e||y;var h,n,q,p,t,v,u,w,F,I=!1,G=0,Za=0;B(b)?(h=b.length,w=3===d.length?g:f):
b&&(x&&b[x]?(h=b.size,v=b[x](),w=3===d.length?r:l):"object"===typeof b&&(t=D(b),h=t.length,w=3===d.length?k:s));if(!h||isNaN(c)||1>c)return e(null,[]);F=Array(h);K(c>h?h:c,w)}}function W(a,b,c){function d(){b(a[v],s)}function e(){b(a[v],v,s)}function f(){b(n.next().value,s)}function g(){q=n.next().value;b(q,v,s)}function l(){b(a[h[v]],s)}function r(){m=h[v];b(a[m],m,s)}function s(a,b){a?c(a):++v===k?(p=A,c(null)):!1===b?(p=A,c(null)):t?C(p):(t=!0,p());t=!1}c=z(c||y);var k,m,h,n,q,p,t=!1,v=0;B(a)?
(k=a.length,p=3===b.length?e:d):a&&(x&&a[x]?(k=a.size,n=a[x](),p=3===b.length?g:f):"object"===typeof a&&(h=D(a),k=h.length,p=3===b.length?r:l));if(!k)return c(null);p()}function X(a,b,c,d){function e(){w<m&&c(a[w++],k)}function f(){h=w++;h<m&&c(a[h],h,k)}function g(){!1===(t=p.next()).done&&c(t.value,k)}function l(){!1===(t=p.next()).done&&c(t.value,w++,k)}function r(){w<m&&c(a[q[w++]],k)}function s(){h=w++;h<m&&(n=q[h],c(a[n],n,k))}function k(a,b){a?(v=y,d=H(d),d(a)):++F===m?(v=A,d=z(d),d(null)):
!1===b?(v=y,d=H(d),d(null)):u?C(v):(u=!0,v());u=!1}d=d||y;var m,h,n,q,p,t,v,u=!1,w=0,F=0;if(B(a))m=a.length,v=3===c.length?f:e;else if(a)if(x&&a[x])m=a.size,p=a[x](),v=3===c.length?l:g;else if("object"===typeof a)q=D(a),m=q.length,v=3===c.length?s:r;else return d(null);if(!m||isNaN(b)||1>b)return d(null);K(b>m?m:b,v)}function xa(a,b,c){function d(){b(a[u],s)}function e(){b(a[u],u,s)}function f(){b(n.next().value,s)}function g(){q=n.next().value;b(q,u,s)}function l(){b(a[h[u]],s)}function r(){m=h[u];
b(a[m],m,s)}function s(a,b){a?(t=A,c=z(c),c(a,E(p))):(p[u]=b,++u===k?(t=A,c(null,p),c=A):v?C(t):(v=!0,t()),v=!1)}c=c||y;var k,m,h,n,q,p,t,v=!1,u=0;B(a)?(k=a.length,t=3===b.length?e:d):a&&(x&&a[x]?(k=a.size,n=a[x](),t=3===b.length?g:f):"object"===typeof a&&(h=D(a),k=h.length,t=3===b.length?r:l));if(!k)return c(null,[]);p=Array(k);t()}function ya(a,b,c,d){return function(e,f,g){function l(a){var b=!1;return function(c,e){b&&A();b=!0;c?(g=H(g),g(c)):!!e===d?(g=H(g),g(null,a)):++k===r&&g(null)}}g=g||
y;var r,s,k=0;B(e)?(r=e.length,a(e,f,l)):e&&(x&&e[x]?(r=e.size,c(e,f,l)):"object"===typeof e&&(s=D(e),r=s.length,b(e,f,l,s)));r||g(null)}}function za(a){return function(b,c,d){function e(){n=b[u];c(n,k)}function f(){n=b[u];c(n,u,k)}function g(){n=p.next().value;c(n,k)}function l(){n=p.next().value;c(n,u,k)}function r(){n=b[q[u]];c(n,k)}function s(){h=q[u];n=b[h];c(n,h,k)}function k(b,c){b?d(b):!!c===a?(t=A,d(null,n)):++u===m?(t=A,d(null)):v?C(t):(v=!0,t());v=!1}d=z(d||y);var m,h,n,q,p,t,v=!1,u=0;
B(b)?(m=b.length,t=3===c.length?f:e):b&&(x&&b[x]?(m=b.size,p=b[x](),t=3===c.length?l:g):"object"===typeof b&&(q=D(b),m=q.length,t=3===c.length?s:r));if(!m)return d(null);t()}}function Aa(a){return function(b,c,d,e){function f(){n=I++;n<h&&(p=b[n],d(p,m(p)))}function g(){n=I++;n<h&&(p=b[n],d(p,n,m(p)))}function l(){!1===(u=v.next()).done&&(p=u.value,d(p,m(p)))}function r(){!1===(u=v.next()).done&&(p=u.value,d(p,I++,m(p)))}function s(){n=I++;n<h&&(p=b[t[n]],d(p,m(p)))}function k(){I<h&&(q=t[I++],p=
b[q],d(p,q,m(p)))}function m(b){var c=!1;return function(d,f){c&&A();c=!0;d?(w=y,e=H(e),e(d)):!!f===a?(w=y,e=H(e),e(null,b)):++G===h?e(null):F?C(w):(F=!0,w());F=!1}}e=e||y;var h,n,q,p,t,v,u,w,F=!1,I=0,G=0;B(b)?(h=b.length,w=3===d.length?g:f):b&&(x&&b[x]?(h=b.size,v=b[x](),w=3===d.length?r:l):"object"===typeof b&&(t=D(b),h=t.length,w=3===d.length?k:s));if(!h||isNaN(c)||1>c)return e(null);K(c>h?h:c,w)}}function Ba(a,b,c,d){return function(e,f,g){function l(a,b){return function(c,e){null===a&&A();c?
(a=null,g=H(g),g(c,L(m))):(!!e===d&&(m[a]=b),a=null,++k===r&&g(null,m))}}g=g||y;var r,s,k=0,m={};B(e)?(r=e.length,a(e,f,l)):e&&(x&&e[x]?(r=e.size,c(e,f,l)):"object"===typeof e&&(s=D(e),r=s.length,b(e,f,l,s)));if(!r)return g(null,{})}}function Ca(a){return function(b,c,d){function e(){h=w;n=b[w];c(n,k)}function f(){h=w;n=b[w];c(n,w,k)}function g(){h=w;n=p.next().value;c(n,k)}function l(){h=w;n=p.next().value;c(n,h,k)}function r(){h=q[w];n=b[h];c(n,k)}function s(){h=q[w];n=b[h];c(n,h,k)}function k(b,
c){b?d(b,u):(!!c===a&&(u[h]=n),++w===m?(t=A,d(null,u)):v?C(t):(v=!0,t()),v=!1)}d=z(d||y);var m,h,n,q,p,t,v=!1,u={},w=0;B(b)?(m=b.length,t=3===c.length?f:e):b&&(x&&b[x]?(m=b.size,p=b[x](),t=3===c.length?l:g):"object"===typeof b&&(q=D(b),m=q.length,t=3===c.length?s:r));if(!m)return d(null,{});t()}}function Da(a){return function(b,c,d,e){function f(){n=G++;n<h&&(p=b[n],d(p,m(p,n)))}function g(){n=G++;n<h&&(p=b[n],d(p,n,m(p,n)))}function l(){!1===(u=v.next()).done&&(p=u.value,d(p,m(p,G++)))}function r(){!1===
(u=v.next()).done&&(p=u.value,d(p,G,m(p,G++)))}function s(){G<h&&(q=t[G++],p=b[q],d(p,m(p,q)))}function k(){G<h&&(q=t[G++],p=b[q],d(p,q,m(p,q)))}function m(b,c){return function(d,f){null===c&&A();d?(c=null,w=y,e=H(e),e(d,L(I))):(!!f===a&&(I[c]=b),c=null,++E===h?(w=A,e=z(e),e(null,I)):F?C(w):(F=!0,w()),F=!1)}}e=e||y;var h,n,q,p,t,v,u,w,F=!1,I={},G=0,E=0;B(b)?(h=b.length,w=3===d.length?g:f):b&&(x&&b[x]?(h=b.size,v=b[x](),w=3===d.length?r:l):"object"===typeof b&&(t=D(b),h=t.length,w=3===d.length?k:s));
if(!h||isNaN(c)||1>c)return e(null,{});K(c>h?h:c,w)}}function Y(a,b,c,d){function e(b){c(b,a[v],k)}function f(b){c(b,a[v],v,k)}function g(){c(b,q.next().value,k)}function l(){c(b,q.next().value,v,k)}function r(b){c(b,a[n[v]],k)}function s(b){h=n[v];c(b,a[h],h,k)}function k(a,b){a?d(a,b):++v===m?(c=A,d(null,b)):t?C(function(){p(b)}):(t=!0,p(b));t=!1}d=z(d||y);var m,h,n,q,p,t=!1,v=0;B(a)?(m=a.length,p=4===c.length?f:e):a&&(x&&a[x]?(m=a.size,q=a[x](),p=4===c.length?l:g):"object"===typeof a&&(n=D(a),
m=n.length,p=4===c.length?s:r));if(!m)return d(null,b);p(b)}function Ea(a,b,c,d){function e(b){c(b,a[--s],r)}function f(b){c(b,a[--s],s,r)}function g(b){c(b,a[h[--s]],r)}function l(b){m=h[--s];c(b,a[m],m,r)}function r(a,b){a?d(a,b):0===s?(t=A,d(null,b)):v?C(function(){t(b)}):(v=!0,t(b));v=!1}d=z(d||y);var s,k,m,h,n,q,p,t,v=!1;if(B(a))s=a.length,t=4===c.length?f:e;else if(a)if(x&&a[x]){s=a.size;p=Array(s);n=a[x]();for(k=-1;!1===(q=n.next()).done;)p[++k]=q.value;a=p;t=4===c.length?f:e}else"object"===
typeof a&&(h=D(a),s=h.length,t=4===c.length?l:g);if(!s)return d(null,b);t(b)}function Fa(a,b,c){c=c||y;ca(a,b,function(a,b){if(a)return c(a);c(null,!!b)})}function Ga(a,b,c){c=c||y;da(a,b,function(a,b){if(a)return c(a);c(null,!!b)})}function Ha(a,b,c,d){d=d||y;ea(a,b,c,function(a,b){if(a)return d(a);d(null,!!b)})}function Ia(a,b){return B(a)?0===a.length?(b(null),!1):!0:(b(Error("First argument to waterfall must be an array of functions")),!1)}function fa(a,b,c){switch(b.length){case 0:case 1:return a(c);
case 2:return a(b[1],c);case 3:return a(b[1],b[2],c);case 4:return a(b[1],b[2],b[3],c);case 5:return a(b[1],b[2],b[3],b[4],c);case 6:return a(b[1],b[2],b[3],b[4],b[5],c);default:return b=J(b,1),b.push(c),a.apply(null,b)}}function Ja(a,b){function c(c,k){if(c)r=A,b=z(b),b(c);else if(++d===f){r=A;var m=b;b=A;2===arguments.length?m(c,k):m.apply(null,E(arguments))}else g=a[d],l=arguments,e?C(r):(e=!0,r()),e=!1}b=b||y;if(Ia(a,b)){var d=0,e=!1,f=a.length,g=a[d],l=[],r=function(){switch(g.length){case 0:try{c(null,
g())}catch(a){c(a)}break;case 1:return g(c);case 2:return g(l[1],c);case 3:return g(l[1],l[2],c);case 4:return g(l[1],l[2],l[3],c);case 5:return g(l[1],l[2],l[3],l[4],c);default:return l=J(l,1),l[g.length-1]=c,g.apply(null,l)}};r()}}function Ka(){var a=E(arguments);return function(){var b=this,c=E(arguments),d=c[c.length-1];"function"===typeof d?c.pop():d=y;Y(a,c,function(a,c,d){a.push(function(a){var b=J(arguments,1);d(a,b)});c.apply(b,a)},function(a,c){c=B(c)?c:[c];c.unshift(a);d.apply(b,c)})}}
function La(a){return function(b){var c=function(){var c=this,d=E(arguments),g=d.pop()||y;return a(b,function(a,b){a.apply(c,d.concat([b]))},g)};if(1<arguments.length){var d=J(arguments,1);return c.apply(this,d)}return c}}function N(){this.tail=this.head=null;this.length=0}function ga(a,b,c,d){function e(a){a={data:a,callback:h};n?q._tasks.unshift(a):q._tasks.push(a);C(q.process)}function f(a,b,c){if(null==b)b=y;else if("function"!==typeof b)throw Error("task callback must be a function");q.started=
!0;var d=B(a)?a:[a];void 0!==a&&d.length?(n=c,h=b,Q(d,e)):q.idle()&&C(q.drain)}function g(a,b){var c=!1;return function(d,e){c&&A();c=!0;k--;for(var f,g=-1,h=m.length,l=-1,r=b.length,n=2<arguments.length,s=n&&E(arguments);++l<r;){for(f=b[l];++g<h;)m[g]===f&&(m.splice(g,1),g=h,h--);g=-1;n?f.callback.apply(f,s):f.callback(d,e);d&&a.error(d,f.data)}k<=a.concurrency-a.buffer&&a.unsaturated();0===a._tasks.length+k&&a.drain();a.process()}}function l(){for(;!q.paused&&k<q.concurrency&&q._tasks.length;){var a=
q._tasks.shift();0===q._tasks.length&&q.empty();k++;m.push(a);k===q.concurrency&&q.saturated();var c=g(q,[a]);b(a.data,c)}}function r(){for(;!q.paused&&k<q.concurrency&&q._tasks.length;){for(var a=q._tasks.splice(q.payload||q._tasks.length),c=-1,d=a.length,e=Array(d);++c<d;)e[c]=a[c].data;0===q._tasks.length&&q.empty();k++;Array.prototype.push.apply(m,a);k===q.concurrency&&q.saturated();a=g(q,a);b(e,a)}}function s(){C(q.process)}if(void 0===c)c=1;else if(isNaN(c)||1>c)throw Error("Concurrency must not be zero");
var k=0,m=[],h,n,q={_tasks:new N,concurrency:c,payload:d,saturated:y,unsaturated:y,buffer:c/4,empty:y,drain:y,error:y,started:!1,paused:!1,push:function(a,b){f(a,b)},kill:function(){q.drain=y;q._tasks.empty()},unshift:function(a,b){f(a,b,!0)},process:a?l:r,length:function(){return q._tasks.length},running:function(){return k},workersList:function(){return m},idle:function(){return 0===q.length()+k},pause:function(){q.paused=!0},resume:function(){!1!==q.paused&&(q.paused=!1,K(q.concurrency<q._tasks.length?
q.concurrency:q._tasks.length,s))},_worker:b};return q}function Ma(a,b,c){function d(){if(0===s.length&&0===r){if(0!==g)throw Error("async.auto task has cyclic dependencies");return c(null,l)}for(;s.length&&r<b&&c!==y;){r++;var a=s.shift();if(0===a[1])a[0](a[2]);else a[0](l,a[2])}}function e(a){Q(k[a]||[],function(a){a()});d()}"function"===typeof b&&(c=b,b=null);var f=D(a),g=f.length,l={};if(0===g)return c(null,l);var r=0,s=[],k=Object.create(null);c=z(c||y);b=b||g;R(a,function(a,b){function d(a,
f){null===b&&A();r--;g--;f=2>=arguments.length?f:J(arguments,1);if(a){var k=L(l);k[b]=f;b=null;var m=c;c=y;m(a,k)}else l[b]=f,e(b),b=null}function q(){0===--v&&s.push([p,t,d])}var p,t;if(B(a)){var v=a.length-1;p=a[v];t=v;if(0===v)s.push([p,t,d]);else for(var u=-1;++u<v;){var w=a[u];if(Ya(f,w))throw u="async.auto task `"+b+"` has non-existent dependency `"+w+"` in "+a.join(", "),Error(u);var x=k[w];x||(x=k[w]=[]);x.push(q)}}else p=a,t=0,s.push([p,t,d])},f);d()}function $a(a){a=a.toString().replace(ab,
"");a=(a=a.match(bb)[2].replace(" ",""))?a.split(cb):[];return a=a.map(function(a){return a.replace(db,"").trim()})}function ha(a,b,c){function d(a,e){if(++s===g||!a||r&&!r(a)){if(2>=arguments.length)return c(a,e);var f=E(arguments);return c.apply(null,f)}b(d)}function e(){b(f)}function f(a,b){if(++s===g||!a||r&&!r(a)){if(2>=arguments.length)return c(a,b);var d=E(arguments);return c.apply(null,d)}setTimeout(e,l(s))}var g,l,r,s=0;if(3>arguments.length&&"function"===typeof a)c=b||y,b=a,a=null,g=5;else switch(c=
c||y,typeof a){case "object":"function"===typeof a.errorFilter&&(r=a.errorFilter);var k=a.interval;switch(typeof k){case "function":l=k;break;case "string":case "number":l=(k=+k)?function(){return k}:function(){return 0}}g=+a.times||5;break;case "number":g=a||5;break;case "string":g=+a||5;break;default:throw Error("Invalid arguments for async.retry");}if("function"!==typeof b)throw Error("Invalid arguments for async.retry");l?b(f):b(d)}function Na(a){return function(){var b=E(arguments),c=b.pop(),
d;try{d=a.apply(this,b)}catch(e){return c(e)}d&&"function"===typeof d.then?d.then(function(a){try{c(null,a)}catch(b){C(Oa,b)}},function(a){a=a.message?a:Error(a);try{c(a,void 0)}catch(b){C(Oa,b)}}):c(null,d)}}function Oa(a){throw a;}function Pa(a){return function(){function b(a,b){if(a)return c(null,{error:a});2<arguments.length&&(b=J(arguments,1));c(null,{value:b})}var c;switch(arguments.length){case 1:return c=arguments[0],a(b);case 2:return c=arguments[1],a(arguments[0],b);default:var d=E(arguments),
e=d.length-1;c=d[e];d[e]=b;a.apply(this,d)}}}function ia(a){function b(b){if("object"===typeof console)if(b)console.error&&console.error(b);else if(console[a]){var d=J(arguments,1);Q(d,function(b){console[a](b)})}}return function(a){var d=J(arguments,1);d.push(b);a.apply(null,d)}}var y=function(){},A=function(){throw Error("Callback was already called.");},B=Array.isArray,D=Object.keys,x="function"===typeof Symbol&&Symbol.iterator,C,$,P;O();var Z=function(a,b,c){return function(d,e,f){function g(a,
b){a?(f=H(f),f(a)):++s===l?f(null):!1===b&&(f=H(f),f(null))}f=f||y;var l,r,s=0;B(d)?(l=d.length,a(d,e,g)):d&&(x&&d[x]?(l=d.size,c(d,e,g)):"object"===typeof d&&(r=D(d),l=r.length,b(d,e,g,r)));l||f(null)}}(la,ma,na),Qa=ta(oa,function(a,b,c,d){var e,f=-1,g=d.length;if(3===b.length)for(;++f<g;)e=d[f],b(a[e],e,c(f));else for(;++f<g;)b(a[d[f]],c(f))},function(a,b,c){var d=-1,e=a.size,f=a[x]();if(3===b.length)for(;++d<e;)a=f.next().value,b(a,d,c(d));else for(;++d<e;)b(f.next().value,c(d))},!0),eb=ta(oa,
function(a,b,c,d){var e,f=-1,g=d.length;if(3===b.length)for(;++f<g;)e=d[f],b(a[e],e,c(e));else for(;++f<g;)e=d[f],b(a[e],c(e))},function(a,b,c){var d=-1,e=a[x]();if(3===b.length)for(;!1===(a=e.next()).done;)b(a.value,++d,c(d));else for(;!1===(a=e.next()).done;)b(a.value,c(++d))},!1),Ra=ua(V,pa,qa,!0),Sa=va(!0),Ta=wa(!0),fb=ua(V,pa,qa,!1),gb=va(!1),hb=wa(!1),ca=ya(S,T,U,!0),da=za(!0),ea=Aa(!0),Ua=function(a,b,c){var d=ya(a,b,c,!1);return function(a,b,c){c=c||y;d(a,b,function(a,b){if(a)return c(a);
c(null,!b)})}}(S,T,U),Va=function(){var a=za(!1);return function(b,c,d){d=d||y;a(b,c,function(a,b){if(a)return d(a);d(null,!b)})}}(),Wa=function(){var a=Aa(!1);return function(b,c,d,e){e=e||y;a(b,c,d,function(a,b){if(a)return e(a);e(null,!b)})}}(),ib=Ba(V,ra,sa,!0),jb=Ca(!0),kb=Da(!0),lb=Ba(V,ra,sa,!1),mb=Ca(!1),nb=Da(!1),ob=function(a,b,c){return function(d,e,f,g){function l(a,b){a?(g=H(g),g(a,B(k)?E(k):L(k))):++m===r?g(null,k):!1===b&&(g=H(g),g(null,B(k)?E(k):L(k)))}3===arguments.length&&(g=f,f=
e,e=void 0);g=g||y;var r,s,k,m=0;B(d)?(r=d.length,k=void 0!==e?e:[],a(d,k,f,l)):d&&(x&&d[x]?(r=d.size,k=void 0!==e?e:{},c(d,k,f,l)):"object"===typeof d&&(s=D(d),r=s.length,k=void 0!==e?e:{},b(d,k,f,l,s)));r||g(null,void 0!==e?e:k||{})}}(function(a,b,c,d){var e=-1,f=a.length;if(4===c.length)for(;++e<f;)c(b,a[e],e,z(d));else for(;++e<f;)c(b,a[e],z(d))},function(a,b,c,d,e){var f,g=-1,l=e.length;if(4===c.length)for(;++g<l;)f=e[g],c(b,a[f],f,z(d));else for(;++g<l;)c(b,a[e[g]],z(d))},function(a,b,c,d){var e=
-1,f=a[x]();if(4===c.length)for(;!1===(a=f.next()).done;)c(b,a.value,++e,z(d));else for(;!1===(a=f.next()).done;)c(b,a.value,z(d))}),pb=function(a,b,c){return function(d,e,f){function g(a){var b=!1;return function(c,d){b&&A();b=!0;r[s]={value:a,criteria:d};c?(f=H(f),f(c)):++s===l&&(r.sort(ba),f(null,aa(r,"value")))}}f=f||y;var l,r,s=0;if(B(d))l=d.length,r=Array(l),a(d,e,g);else if(d)if(x&&d[x])l=d.size,r=Array(l),c(d,e,g);else if("object"===typeof d){var k=D(d);l=k.length;r=Array(l);b(d,e,g,k)}l||
f(null,[])}}(S,T,U),qb=function(a,b,c){return function(d,e,f){function g(a,b){b&&Array.prototype.push.apply(s,B(b)?b:[b]);a?(f=H(f),f(a,E(s))):++r===l&&f(null,s)}f=f||y;var l,r=0,s=[];if(B(d))l=d.length,a(d,e,g);else if(d)if(x&&d[x])l=d.size,c(d,e,g);else if("object"===typeof d){var k=D(d);l=k.length;b(d,e,g,k)}l||f(null,s)}}(la,ma,na),rb=function(a,b,c){return function(d,e,f){function g(a){var b=!1;return function(c,d){b&&A();b=!0;if(c)f=H(f),f(c,L(s));else{var e=s[d];e?e.push(a):s[d]=[a];++r===
l&&f(null,s)}}}f=f||y;var l,r=0,s={};if(B(d))l=d.length,a(d,e,g);else if(d)if(x&&d[x])l=d.size,c(d,e,g);else if("object"===typeof d){var k=D(d);l=k.length;b(d,e,g,k)}l||f(null,{})}}(S,T,U),sb=function(a,b){return function(c,d){function e(a){return function(b,c){null===a&&A();b?(a=null,d=H(d),d(b,l)):(l[a]=2>=arguments.length?c:J(arguments,1),a=null,++r===f&&d(null,l))}}d=d||y;var f,g,l,r=0;B(c)?(f=c.length,l=Array(f),a(c,e)):c&&"object"===typeof c&&(g=D(c),f=g.length,l={},b(c,e,g));f||d(null,l)}}(function(a,
b){for(var c=-1,d=a.length;++c<d;)a[c](b(c))},function(a,b,c){for(var d,e=-1,f=c.length;++e<f;)d=c[e],a[d](b(d))}),tb=La(Qa),ub=La(xa),vb=ia("log"),wb=ia("dir"),ja={VERSION:"2.2.0",each:Z,eachSeries:W,eachLimit:X,forEach:Z,forEachSeries:W,forEachLimit:X,eachOf:Z,eachOfSeries:W,eachOfLimit:X,forEachOf:Z,forEachOfSeries:W,forEachOfLimit:X,map:Qa,mapSeries:xa,mapLimit:function(a,b,c,d){function e(){h=F++;h<m&&c(a[h],k(h))}function f(){h=F++;h<m&&c(a[h],h,k(h))}function g(){!1===(t=p.next()).done&&c(t.value,
k(F++))}function l(){!1===(t=p.next()).done&&c(t.value,F,k(F++))}function r(){h=F++;h<m&&c(a[q[h]],k(h))}function s(){h=F++;h<m&&(n=q[h],c(a[n],n,k(h)))}function k(a){return function(b,c){null===a&&A();b?(a=null,u=y,d=H(d),d(b,E(v))):(v[a]=c,a=null,++z===m?(u=A,d(null,v),d=A):w?C(u):(w=!0,u()),w=!1)}}d=d||y;var m,h,n,q,p,t,v,u,w=!1,F=0,z=0;B(a)?(m=a.length,u=3===c.length?f:e):a&&(x&&a[x]?(m=a.size,p=a[x](),u=3===c.length?l:g):"object"===typeof a&&(q=D(a),m=q.length,u=3===c.length?s:r));if(!m||isNaN(b)||
1>b)return d(null,[]);v=Array(m);K(b>m?m:b,u)},mapValues:eb,mapValuesSeries:function(a,b,c){function d(){m=u;b(a[u],s)}function e(){m=u;b(a[u],u,s)}function f(){m=u;q=n.next().value;b(q,s)}function g(){m=u;q=n.next().value;b(q,u,s)}function l(){m=h[u];b(a[m],s)}function r(){m=h[u];b(a[m],m,s)}function s(a,b){a?(p=A,c=z(c),c(a,L(v))):(v[m]=b,++u===k?(p=A,c(null,v),c=A):t?C(p):(t=!0,p()),t=!1)}c=c||y;var k,m,h,n,q,p,t=!1,v={},u=0;B(a)?(k=a.length,p=3===b.length?e:d):a&&(x&&a[x]?(k=a.size,n=a[x](),p=
3===b.length?g:f):"object"===typeof a&&(h=D(a),k=h.length,p=3===b.length?r:l));if(!k)return c(null,v);p()},mapValuesLimit:function(a,b,c,d){function e(){h=F++;h<m&&c(a[h],k(h))}function f(){h=F++;h<m&&c(a[h],h,k(h))}function g(){!1===(t=p.next()).done&&c(t.value,k(F++))}function l(){!1===(t=p.next()).done&&c(t.value,F,k(F++))}function r(){h=F++;h<m&&(n=q[h],c(a[n],k(n)))}function s(){h=F++;h<m&&(n=q[h],c(a[n],n,k(n)))}function k(a){return function(b,c){null===a&&A();b?(a=null,v=y,d=H(d),d(b,L(w))):
(w[a]=c,a=null,++z===m?d(null,w):u?C(v):(u=!0,v()),u=!1)}}d=d||y;var m,h,n,q,p,t,v,u=!1,w={},F=0,z=0;B(a)?(m=a.length,v=3===c.length?f:e):a&&(x&&a[x]?(m=a.size,p=a[x](),v=3===c.length?l:g):"object"===typeof a&&(q=D(a),m=q.length,v=3===c.length?s:r));if(!m||isNaN(b)||1>b)return d(null,w);K(b>m?m:b,v)},filter:Ra,filterSeries:Sa,filterLimit:Ta,select:Ra,selectSeries:Sa,selectLimit:Ta,reject:fb,rejectSeries:gb,rejectLimit:hb,detect:ca,detectSeries:da,detectLimit:ea,find:ca,findSeries:da,findLimit:ea,
pick:ib,pickSeries:jb,pickLimit:kb,omit:lb,omitSeries:mb,omitLimit:nb,reduce:Y,inject:Y,foldl:Y,reduceRight:Ea,foldr:Ea,transform:ob,transformSeries:function(a,b,c,d){function e(){c(t,a[u],k)}function f(){c(t,a[u],u,k)}function g(){c(t,q.next().value,k)}function l(){c(t,q.next().value,u,k)}function r(){c(t,a[n[u]],k)}function s(){h=n[u];c(t,a[h],h,k)}function k(a,b){a?d(a,t):++u===m?(p=A,d(null,t)):!1===b?(p=A,d(null,t)):v?C(p):(v=!0,p());v=!1}3===arguments.length&&(d=c,c=b,b=void 0);d=z(d||y);var m,
h,n,q,p,t,v=!1,u=0;B(a)?(m=a.length,t=void 0!==b?b:[],p=4===c.length?f:e):a&&(x&&a[x]?(m=a.size,q=a[x](),t=void 0!==b?b:{},p=4===c.length?l:g):"object"===typeof a&&(n=D(a),m=n.length,t=void 0!==b?b:{},p=4===c.length?s:r));if(!m)return d(null,void 0!==b?b:t||{});p()},transformLimit:function(a,b,c,d,e){function f(){n=I++;n<h&&d(w,a[n],z(m))}function g(){n=I++;n<h&&d(w,a[n],n,z(m))}function l(){!1===(v=t.next()).done&&d(w,v.value,z(m))}function r(){!1===(v=t.next()).done&&d(w,v.value,I++,z(m))}function s(){n=
I++;n<h&&d(w,a[p[n]],z(m))}function k(){n=I++;n<h&&(q=p[n],d(w,a[q],q,z(m)))}function m(a,b){a?(u=y,e(a,B(w)?E(w):L(w)),e=y):++G===h?e(null,w):!1===b?(u=y,e(null,B(w)?E(w):L(w)),e=y):A?C(u):(A=!0,u());A=!1}4===arguments.length&&(e=d,d=c,c=void 0);e=e||y;var h,n,q,p,t,v,u,w,A=!1,I=0,G=0;B(a)?(h=a.length,w=void 0!==c?c:[],u=4===d.length?g:f):a&&(x&&a[x]?(h=a.size,t=a[x](),w=void 0!==c?c:{},u=4===d.length?r:l):"object"===typeof a&&(p=D(a),h=p.length,w=void 0!==c?c:{},u=4===d.length?k:s));if(!h||isNaN(b)||
1>b)return e(null,void 0!==c?c:w||{});K(b>h?h:b,u)},sortBy:pb,sortBySeries:function(a,b,c){function d(){h=a[u];b(h,s)}function e(){h=a[u];b(h,u,s)}function f(){h=q.next().value;b(h,s)}function g(){h=q.next().value;b(h,u,s)}function l(){h=a[n[u]];b(h,s)}function r(){m=n[u];h=a[m];b(h,m,s)}function s(a,b){p[u]={value:h,criteria:b};a?c(a):++u===k?(t=A,p.sort(ba),c(null,aa(p,"value"))):v?C(t):(v=!0,t());v=!1}c=z(c||y);var k,m,h,n,q,p,t,v=!1,u=0;B(a)?(k=a.length,t=3===b.length?e:d):a&&(x&&a[x]?(k=a.size,
q=a[x](),t=3===b.length?g:f):"object"===typeof a&&(n=D(a),k=n.length,t=3===b.length?r:l));if(!k)return c(null,[]);p=Array(k);t()},sortByLimit:function(a,b,c,d){function e(){z<m&&(q=a[z++],c(q,k(q)))}function f(){h=z++;h<m&&(q=a[h],c(q,h,k(q)))}function g(){!1===(v=t.next()).done&&(q=v.value,c(q,k(q)))}function l(){!1===(v=t.next()).done&&(q=v.value,c(q,z++,k(q)))}function r(){z<m&&(q=a[p[z++]],c(q,k(q)))}function s(){z<m&&(n=p[z++],q=a[n],c(q,n,k(q)))}function k(a){var b=!1;return function(c,e){b&&
A();b=!0;u[G]={value:a,criteria:e};c?(w=y,d(c),d=y):++G===m?(u.sort(ba),d(null,aa(u,"value"))):F?C(w):(F=!0,w());F=!1}}d=d||y;var m,h,n,q,p,t,v,u,w,F=!1,z=0,G=0;B(a)?(m=a.length,w=3===c.length?f:e):a&&(x&&a[x]?(m=a.size,t=a[x](),w=3===c.length?l:g):"object"===typeof a&&(p=D(a),m=p.length,w=3===c.length?s:r));if(!m||isNaN(b)||1>b)return d(null,[]);u=Array(m);K(b>m?m:b,w)},some:Fa,someSeries:Ga,someLimit:Ha,any:Fa,anySeries:Ga,anyLimit:Ha,every:Ua,everySeries:Va,everyLimit:Wa,all:Ua,allSeries:Va,allLimit:Wa,
concat:qb,concatSeries:function(a,b,c){function d(){b(a[u],s)}function e(){b(a[u],u,s)}function f(){b(n.next().value,s)}function g(){q=n.next().value;b(q,u,s)}function l(){b(a[h[u]],s)}function r(){m=h[u];b(a[m],m,s)}function s(a,b){b&&Array.prototype.push.apply(v,B(b)?b:[b]);a?c(a,v):++u===k?(p=A,c(null,v)):t?C(p):(t=!0,p());t=!1}c=z(c||y);var k,m,h,n,q,p,t=!1,v=[],u=0;B(a)?(k=a.length,p=3===b.length?e:d):a&&(x&&a[x]?(k=a.size,n=a[x](),p=3===b.length?g:f):"object"===typeof a&&(h=D(a),k=h.length,
p=3===b.length?r:l));if(!k)return c(null,v);p()},concatLimit:function(a,b,c,d){function e(){w<h&&c(a[w++],z(k))}function f(){n=w++;n<h&&c(a[n],n,z(k))}function g(){!1===(t=p.next()).done&&c(t.value,z(k))}function l(){!1===(t=p.next()).done&&c(t.value,w++,z(k))}function r(){w<h&&c(a[E[w++]],z(k))}function s(){w<h&&(q=E[w++],c(a[q],q,z(k)))}function k(a,b){b&&Array.prototype.push.apply(m,B(b)?b:[b]);a?(v=y,d=H(d),d(a,m)):++F===h?(v=A,d=z(d),d(null,m)):u?C(v):(u=!0,v());u=!1}d=d||y;var m=[],h,n,q,p,
t,v,u=!1,w=0,F=0;if(B(a))h=a.length,v=3===c.length?f:e;else if(a)if(x&&a[x])h=a.size,p=a[x](),v=3===c.length?l:g;else if("object"===typeof a){var E=D(a);h=E.length;v=3===c.length?s:r}if(!h||isNaN(b)||1>b)return d(null,m);K(b>h?h:b,v)},groupBy:rb,groupBySeries:function(a,b,c){function d(){h=a[v];b(h,s)}function e(){h=a[v];b(h,v,s)}function f(){h=q.next().value;b(h,s)}function g(){h=q.next().value;b(h,v,s)}function l(){h=a[n[v]];b(h,s)}function r(){m=n[v];h=a[m];b(h,m,s)}function s(a,b){if(a)p=A,c=
z(c),c(a,L(u));else{var d=u[b];d?d.push(h):u[b]=[h];++v===k?(p=A,c(null,u)):t?C(p):(t=!0,p());t=!1}}c=z(c||y);var k,m,h,n,q,p,t=!1,v=0,u={};B(a)?(k=a.length,p=3===b.length?e:d):a&&(x&&a[x]?(k=a.size,q=a[x](),p=3===b.length?g:f):"object"===typeof a&&(n=D(a),k=n.length,p=3===b.length?r:l));if(!k)return c(null,u);p()},groupByLimit:function(a,b,c,d){function e(){z<m&&(q=a[z++],c(q,k(q)))}function f(){h=z++;h<m&&(q=a[h],c(q,h,k(q)))}function g(){!1===(v=t.next()).done&&(q=v.value,c(q,k(q)))}function l(){!1===
(v=t.next()).done&&(q=v.value,c(q,z++,k(q)))}function r(){z<m&&(q=a[p[z++]],c(q,k(q)))}function s(){z<m&&(n=p[z++],q=a[n],c(q,n,k(q)))}function k(a){var b=!1;return function(c,e){b&&A();b=!0;if(c)u=y,d=H(d),d(c,L(G));else{var f=G[e];f?f.push(a):G[e]=[a];++E===m?d(null,G):w?C(u):(w=!0,u());w=!1}}}d=d||y;var m,h,n,q,p,t,v,u,w=!1,z=0,E=0,G={};B(a)?(m=a.length,u=3===c.length?f:e):a&&(x&&a[x]?(m=a.size,t=a[x](),u=3===c.length?l:g):"object"===typeof a&&(p=D(a),m=p.length,u=3===c.length?s:r));if(!m||isNaN(b)||
1>b)return d(null,G);K(b>m?m:b,u)},parallel:sb,series:function(a,b){function c(){g=m;a[m](e)}function d(){g=l[m];a[g](e)}function e(a,c){a?(s=A,b=z(b),b(a,r)):(r[g]=2>=arguments.length?c:J(arguments,1),++m===f?(s=A,b(null,r)):k?C(s):(k=!0,s()),k=!1)}b=b||y;var f,g,l,r,s,k=!1,m=0;if(B(a))f=a.length,r=Array(f),s=c;else if(a&&"object"===typeof a)l=D(a),f=l.length,r={},s=d;else return b(null);if(!f)return b(null,r);s()},parallelLimit:function(a,b,c){function d(){l=n++;if(l<g)a[l](f(l))}function e(){n<
g&&(r=s[n++],a[r](f(r)))}function f(a){return function(b,d){null===a&&A();b?(a=null,m=y,c=H(c),c(b,k)):(k[a]=2>=arguments.length?d:J(arguments,1),a=null,++q===g?c(null,k):h?C(m):(h=!0,m()),h=!1)}}c=c||y;var g,l,r,s,k,m,h=!1,n=0,q=0;B(a)?(g=a.length,k=Array(g),m=d):a&&"object"===typeof a&&(s=D(a),g=s.length,k={},m=e);if(!g||isNaN(b)||1>b)return c(null,k);K(b>g?g:b,m)},tryEach:function(a,b){function c(){a[r](e)}function d(){a[g[r]](e)}function e(a,c){a?++r===f?b(a):l():2>=arguments.length?b(null,c):
b(null,J(arguments,1))}b=b||y;var f,g,l,r=0;B(a)?(f=a.length,l=c):a&&"object"===typeof a&&(g=D(a),f=g.length,l=d);if(!f)return b(null);l()},waterfall:function(a,b){function c(){fa(e,f,d(e))}function d(k){return function(m,h){void 0===k&&(b=y,A());k=void 0;m?(g=b,b=A,g(m)):++r===s?(g=b,b=A,2>=arguments.length?g(m,h):g.apply(null,E(arguments))):(l?(f=arguments,e=a[r]||A,C(c)):(l=!0,fa(a[r]||A,arguments,d(r))),l=!1)}}b=b||y;if(Ia(a,b)){var e,f,g,l,r=0,s=a.length;fa(a[0],[],d(0))}},angelFall:Ja,angelfall:Ja,
whilst:function(a,b,c){function d(){g?C(e):(g=!0,b(f));g=!1}function e(){b(f)}function f(b,e){if(b)return c(b);2>=arguments.length?a(e)?d():c(null,e):(e=J(arguments,1),a.apply(null,e)?d():c.apply(null,[null].concat(e)))}c=c||y;var g=!1;a()?d():c(null)},doWhilst:function(a,b,c){function d(){g?C(e):(g=!0,a(f));g=!1}function e(){a(f)}function f(a,e){if(a)return c(a);2>=arguments.length?b(e)?d():c(null,e):(e=J(arguments,1),b.apply(null,e)?d():c.apply(null,[null].concat(e)))}c=c||y;var g=!1;e()},until:function(a,
b,c){function d(){g?C(e):(g=!0,b(f));g=!1}function e(){b(f)}function f(b,e){if(b)return c(b);2>=arguments.length?a(e)?c(null,e):d():(e=J(arguments,1),a.apply(null,e)?c.apply(null,[null].concat(e)):d())}c=c||y;var g=!1;a()?c(null):d()},doUntil:function(a,b,c){function d(){g?C(e):(g=!0,a(f));g=!1}function e(){a(f)}function f(a,e){if(a)return c(a);2>=arguments.length?b(e)?c(null,e):d():(e=J(arguments,1),b.apply(null,e)?c.apply(null,[null].concat(e)):d())}c=c||y;var g=!1;e()},during:function(a,b,c){function d(a,
d){if(a)return c(a);d?b(e):c(null)}function e(b){if(b)return c(b);a(d)}c=c||y;a(d)},doDuring:function(a,b,c){function d(b,d){if(b)return c(b);d?a(e):c(null)}function e(a,e){if(a)return c(a);switch(arguments.length){case 0:case 1:b(d);break;case 2:b(e,d);break;default:var l=J(arguments,1);l.push(d);b.apply(null,l)}}c=c||y;d(null,!0)},forever:function(a,b){function c(){a(d)}function d(a){if(a){if(b)return b(a);throw a;}e?C(c):(e=!0,c());e=!1}var e=!1;c()},compose:function(){return Ka.apply(null,Xa(arguments))},
seq:Ka,applyEach:tb,applyEachSeries:ub,queue:function(a,b){return ga(!0,a,b)},priorityQueue:function(a,b){var c=ga(!0,a,b);c.push=function(a,b,f){c.started=!0;b=b||0;var g=B(a)?a:[a],l=g.length;if(void 0===a||0===l)c.idle()&&C(c.drain);else{f="function"===typeof f?f:y;for(a=c._tasks.head;a&&b>=a.priority;)a=a.next;for(;l--;){var r={data:g[l],priority:b,callback:f};a?c._tasks.insertBefore(a,r):c._tasks.push(r);C(c.process)}}};delete c.unshift;return c},cargo:function(a,b){return ga(!1,a,1,b)},auto:Ma,
autoInject:function(a,b,c){var d={};R(a,function(a,b){var c,l=a.length;if(B(a)){if(0===l)throw Error("autoInject task functions require explicit parameters.");c=E(a);l=c.length-1;a=c[l];if(0===l){d[b]=a;return}}else{if(1===l){d[b]=a;return}c=$a(a);if(0===l&&0===c.length)throw Error("autoInject task functions require explicit parameters.");l=c.length-1}c[l]=function(b,d){switch(l){case 1:a(b[c[0]],d);break;case 2:a(b[c[0]],b[c[1]],d);break;case 3:a(b[c[0]],b[c[1]],b[c[2]],d);break;default:for(var f=
-1;++f<l;)c[f]=b[c[f]];c[f]=d;a.apply(null,c)}};d[b]=c},D(a));Ma(d,b,c)},retry:ha,retryable:function(a,b){b||(b=a,a=null);return function(){function c(a){b(a)}function d(a){b(g[0],a)}function e(a){b(g[0],g[1],a)}var f,g=E(arguments),l=g.length-1,r=g[l];switch(b.length){case 1:f=c;break;case 2:f=d;break;case 3:f=e;break;default:f=function(a){g[l]=a;b.apply(null,g)}}a?ha(a,f,r):ha(f,r)}},iterator:function(a){function b(e){var f=function(){c&&a[d[e]||e].apply(null,E(arguments));return f.next()};f.next=
function(){return e<c-1?b(e+1):null};return f}var c=0,d=[];B(a)?c=a.length:(d=D(a),c=d.length);return b(0)},times:function(a,b,c){function d(b){return function(d,l){null===b&&A();e[b]=l;b=null;d?(c(d),c=y):0===--a&&c(null,e)}}c=c||y;a=+a;if(isNaN(a)||1>a)return c(null,[]);var e=Array(a);K(a,function(a){b(a,d(a))})},timesSeries:function(a,b,c){function d(){b(l,e)}function e(b,e){f[l]=e;b?(c(b),c=A):++l>=a?(c(null,f),c=A):g?C(d):(g=!0,d());g=!1}c=c||y;a=+a;if(isNaN(a)||1>a)return c(null,[]);var f=Array(a),
g=!1,l=0;d()},timesLimit:function(a,b,c,d){function e(){var b=r++;b<a&&c(b,f(b))}function f(b){return function(c,f){null===b&&A();g[b]=f;b=null;c?(d(c),d=y):++s>=a?(d(null,g),d=A):l?C(e):(l=!0,e());l=!1}}d=d||y;a=+a;if(isNaN(a)||1>a||isNaN(b)||1>b)return d(null,[]);var g=Array(a),l=!1,r=0,s=0;K(b>a?a:b,e)},race:function(a,b){b=H(b||y);var c,d,e=-1;if(B(a))for(c=a.length;++e<c;)a[e](b);else if(a&&"object"===typeof a)for(d=D(a),c=d.length;++e<c;)a[d[e]](b);else return b(new TypeError("First argument to race must be a collection of functions"));
c||b(null)},apply:function(a){switch(arguments.length){case 0:case 1:return a;case 2:return a.bind(null,arguments[1]);case 3:return a.bind(null,arguments[1],arguments[2]);case 4:return a.bind(null,arguments[1],arguments[2],arguments[3]);case 5:return a.bind(null,arguments[1],arguments[2],arguments[3],arguments[4]);default:var b=arguments.length,c=0,d=Array(b);for(d[c]=null;++c<b;)d[c]=arguments[c];return a.bind.apply(a,d)}},nextTick:$,setImmediate:P,memoize:function(a,b){b=b||function(a){return a};
var c={},d={},e=function(){function e(){var a=E(arguments);c[r]=a;var b=d[r];delete d[r];for(var f=-1,g=b.length;++f<g;)b[f].apply(null,a)}var g=E(arguments),l=g.pop(),r=b.apply(null,g);if(c.hasOwnProperty(r))C(function(){l.apply(null,c[r])});else{if(d.hasOwnProperty(r))return d[r].push(l);d[r]=[l];g.push(e);a.apply(null,g)}};e.memo=c;e.unmemoized=a;return e},unmemoize:function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},ensureAsync:function(a){return function(){var b=E(arguments),
c=b.length-1,d=b[c],e=!0;b[c]=function(){var a=E(arguments);e?C(function(){d.apply(null,a)}):d.apply(null,a)};a.apply(this,b);e=!1}},constant:function(){var a=[null].concat(E(arguments));return function(b){b=arguments[arguments.length-1];b.apply(this,a)}},asyncify:Na,wrapSync:Na,log:vb,dir:wb,reflect:Pa,reflectAll:function(a){function b(a,b){d[b]=Pa(a)}var c,d,e;B(a)?(c=a.length,d=Array(c),Q(a,b)):a&&"object"===typeof a&&(e=D(a),c=e.length,d={},R(a,b,e));return d},timeout:function(a,b,c){function d(){var b=
Error('Callback function "'+(a.name||"anonymous")+'" timed out.');b.code="ETIMEDOUT";c&&(b.info=c);l=null;g(b)}function e(){null!==l&&(f(g,E(arguments)),clearTimeout(l))}function f(a,b){switch(b.length){case 0:a();break;case 1:a(b[0]);break;case 2:a(b[0],b[1]);break;default:a.apply(null,b)}}var g,l;return function(){l=setTimeout(d,b);var c=E(arguments),s=c.length-1;g=c[s];c[s]=e;f(a,c)}},createLogger:ia,safe:function(){O();return M},fast:function(){O(!1);return M}};M["default"]=ja;R(ja,function(a,
b){M[b]=a},D(ja));N.prototype._removeLink=function(a){(this.head=a.next)?a.next.prev=a.prev:this.tail=a.prev;a.prev=null;a.next=null;this.length--;return a};N.prototype.empty=N;N.prototype._setInitial=function(a){this.length=1;this.head=this.tail=a};N.prototype.insertBefore=function(a,b){b.prev=a.prev;b.next=a;a.prev?a.prev.next=b:this.head=b;a.prev=b;this.length++};N.prototype.unshift=function(a){this.head?this.insertBefore(this.head,a):this._setInitial(a)};N.prototype.push=function(a){var b=this.tail;
b?(a.prev=b,a.next=b.next,this.tail=a,b.next=a,this.length++):this._setInitial(a)};N.prototype.shift=function(){return this.head&&this._removeLink(this.head)};N.prototype.splice=function(a){for(var b,c=[];a--&&(b=this.shift());)c.push(b);return c};var bb=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,cb=/,/,db=/(=.+)?(\s*)$/,ab=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg});
