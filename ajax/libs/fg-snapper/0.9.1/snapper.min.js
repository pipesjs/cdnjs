!function(t,e){var r="snapper";e.fn[r]=function(){function n(t,n){var i=e(t).find("."+r+"_item"),a=e(t).width(),s=[];return i.each(function(t){this.offsetLeft>=n-5&&this.offsetLeft<n+a-5&&s.push(this)}),e(s)}function i(t){return t.width()+parseFloat(t.css("margin-left"))+parseFloat(t.css("margin-right"))}function a(t,i){var a=n(t,i);e(t).trigger(r+".snap",{activeSlides:a})}function s(e,r,n){a(e,r),void 0===t.overthrow||n?e.scrollLeft=r:t.overthrow.toss(e,{left:r})}var o="scroll-snap-type",l=t.CSS&&t.CSS.supports&&(t.CSS.supports(o,"mandatory")||t.CSS.supports("-webkit-"+o,"mandatory")||t.CSS.supports("-ms-"+o,"mandatory"));return this.each(function(){function n(){var e=w.attr("style");w.attr("style","");var r=x.eq(0).attr("style");x.eq(0).attr("style","");var n=_.width(),i=x.eq(0).width(),a=t.getComputedStyle(x[0],null),s=parseFloat(a.getPropertyValue("margin-left")),o=parseFloat(a.getPropertyValue("margin-right"));x.eq(0).attr("style",r),w.attr("style",e);var l=i/n*100,f=o/n*100,c=s/n*100,d=l+c+f,p=l/d,u=f/d,h=c/d;w.css("width",C*d+"%"),x.css("width",100/C*p+"%"),x.css("margin-left",100/C*h+"%"),x.css("margin-right",100/C*u+"%")}function o(){var t=_[0].scrollLeft,e=w.width(),r=x[1]?x[1].offsetLeft:i(x.eq(0)),n=Math.round(t/r)*r,o=e-_.width();n>o&&(n=o),t!==n&&(l?a(_[0],n):s(_[0],n))}function f(){var t=_[0].scrollLeft,e=x.length,r=w.width();void 0===b&&(b=Math.round(t/r*e)),k&&clearTimeout(k),k=setTimeout(function(){n(),s(_[0],x[b].offsetLeft,!0),b=k=void 0},50)}function c(t){var e=_[0].scrollLeft,r=w.width(),n=i(_),a=r-n-5;return t?e>=a?u():d():0===e?h():p()}function d(){s(_[0],_[0].scrollLeft+_.width())}function p(){s(_[0],_[0].scrollLeft-_.width())}function u(){s(_[0],0)}function h(){s(_[0],w.width()-_.width())}function v(){var t=_[0].scrollLeft,e=i(w),r=Math.round(t/e*C);S.children().removeClass(L).eq(r).addClass(L)}var m=this,y=e(m).is("[data-"+r+"-nextprev]"),_=e("."+r+"_pane",m),g=r+"-enhanced",w=_.find("."+r+"_items"),x=w.children();x.addClass(r+"_item");var C=x.length,S=e("."+r+"_nav",m),L=r+"_nav_item-selected";if(n(),e(m).addClass(g),y){e('<ul class="snapper_nextprev"><li class="snapper_nextprev_item"><a href="#prev" class="snapper_nextprev_prev">Prev</a></li><li class="snapper_nextprev_item"><a href="#next" class="snapper_nextprev_next">Next</a></li></ul>').appendTo(m)}e("a",this).bind("click",function(r){var n=e(this).attr("href");if(-1!==n.indexOf("#")){if(r.preventDefault(),e(this).is(".snapper_nextprev_next"))return c(!0);if(e(this).is(".snapper_nextprev_prev"))return c(!1);var i=e(n,m);s(_[0],i[0].offsetLeft),"replaceState"in t.history&&t.history.replaceState({},document.title,n)}}),e(this).attr("tabindex","0").bind("keyup",function(t){37!==t.keyCode&&38!==t.keyCode||(t.preventDefault(),c(!1)),39!==t.keyCode&&40!==t.keyCode||(t.preventDefault(),c(!0))});var b,k;e(t).bind("resize",f),S.length&&(_.bind("scroll",v),v());var q;_.bind("scroll",function(t){q&&clearTimeout(q),q=setTimeout(o,50)})})},e(document).bind("enhance",function(t){e("."+r,t.target).add(t.target).filter("."+r)[r]()})}(this,jQuery);
//# sourceMappingURL=snapper.min.js.map