!function(t,e){var r="snapper";e.fn[r]=function(){function n(t,n){var a=e(t).find("."+r+"_item"),i=e(t).width(),s=[];return a.each(function(t){this.offsetLeft>=n-5&&this.offsetLeft<n+i-5&&s.push(this)}),e(s)}function a(t){return t.width()+parseFloat(t.css("margin-left"))+parseFloat(t.css("margin-right"))}function i(t,a){var i=n(t,a);e(t).trigger(r+".snap",{activeSlides:i})}function s(e,r,n){i(e,r),"undefined"==typeof t.overthrow||n?e.scrollLeft=r:t.overthrow.toss(e,{left:r})}var o="scroll-snap-type",l=t.CSS&&t.CSS.supports&&(t.CSS.supports(o,"mandatory")||t.CSS.supports("-webkit-"+o,"mandatory")||t.CSS.supports("-ms-"+o,"mandatory"));return this.each(function(){function n(){var t=w.attr("data-autoplay")||w.attr("data-snapper-autoplay"),e=!1;if(t){try{t=parseInt(t,10)}catch(t){e=!0}if(!t||e){var r="Snapper: `data-autoplay` must have an natural number value.";throw new Error(r)}return t}}function o(){var e=L.attr("style");L.attr("style","");var r=T.eq(0).attr("style");T.eq(0).attr("style","");var n=x.width(),a=T.eq(0).width(),i=t.getComputedStyle(T[0],null),s=parseFloat(i.getPropertyValue("margin-left")),o=parseFloat(i.getPropertyValue("margin-right")),l=a+s+o;T.eq(0).attr("style",r),L.attr("style",e);var u=b/Math.round(n/l)*100,c=a/n*100,f=o/n*100,p=s/n*100,d=c+p+f,h=c/d,v=f/d,m=p/d;L.css("width",u+"%"),T.css("width",100/b*h+"%"),T.css("margin-left",100/b*m+"%"),T.css("margin-right",100/b*v+"%")}function u(){var t=x[0].scrollLeft,e=L.width(),r=T[1]?T[1].offsetLeft:a(T.eq(0)),n=Math.round(t/r)*r,o=e-x.width();n>o&&(n=o),t!==n&&(l?i(x[0],n):s(x[0],n))}function c(){var t=x[0].scrollLeft,e=T.length,r=L.width();void 0===D&&(D=Math.round(t/r*e)),P&&clearTimeout(P),P=setTimeout(function(){o(),s(x[0],T[D].offsetLeft,!0),D=P=void 0},50)}function f(t){var e=x[0].scrollLeft,r=L.width(),n=a(x),i=r-n-5;return t?e>=i?h():p():0===e?v():d()}function p(){s(x[0],x[0].scrollLeft+L.width()/b)}function d(){s(x[0],x[0].scrollLeft-L.width()/b)}function h(){s(x[0],0)}function v(){s(x[0],L.width()-x.width())}function m(){var t=x[0].scrollLeft,e=a(L),r=Math.round(t/e*b);k.children().removeClass(q).eq(r).addClass(q)}function y(){var t=n();t&&(_=setTimeout(function(){f(!0),y()},t))}var _,g=this,w=e(g),S=w.is("[data-"+r+"-nextprev]"),x=e("."+r+"_pane",g),C=r+"-enhanced",L=x.find("."+r+"_items"),T=L.children();T.addClass(r+"_item");var b=T.length,k=e("."+r+"_nav",g),q=r+"_nav_item-selected";if(o(),e(g).addClass(C),S){var F=e('<ul class="snapper_nextprev"><li class="snapper_nextprev_item"><a href="#prev" class="snapper_nextprev_prev">Prev</a></li><li class="snapper_nextprev_item"><a href="#next" class="snapper_nextprev_next">Next</a></li></ul>'),M=e(".snapper_nextprev_contain",g);M.length||(M=e(g)),F.appendTo(M)}e("a",this).bind("click",function(r){clearTimeout(_);var n=e(this).attr("href");if(n.indexOf("#")!==-1){if(r.preventDefault(),e(this).is(".snapper_nextprev_next"))return f(!0);if(e(this).is(".snapper_nextprev_prev"))return f(!1);var a=e(n,g);s(x[0],a[0].offsetLeft),"replaceState"in t.history&&t.history.replaceState({},document.title,n)}}),e(this).bind("keyup",function(t){37!==t.keyCode&&38!==t.keyCode||(clearTimeout(_),t.preventDefault(),f(!1)),39!==t.keyCode&&40!==t.keyCode||(clearTimeout(_),t.preventDefault(),f(!0))});var D,P;e(t).bind("resize",c),k.length&&(x.bind("scroll",m),m());var V;x.bind("scroll",function(t){V&&clearTimeout(V),V=setTimeout(u,50)}),w.bind("touchstart",function(){clearTimeout(_)}),y()})},e(document).bind("enhance",function(t){e("."+r,t.target).add(t.target).filter("."+r)[r]()})}(this,jQuery);
//# sourceMappingURL=snapper.min.js.map