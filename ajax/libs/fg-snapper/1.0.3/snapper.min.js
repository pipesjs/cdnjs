!function(t,e){var r="snapper";e.fn[r]=function(){function n(t,n){var a=e(t).find("."+r+"_item"),i=e(t).width(),s=[];return a.each(function(t){this.offsetLeft>=n-5&&this.offsetLeft<n+i-5&&s.push(this)}),e(s)}function a(t){return t.width()+parseFloat(t.css("margin-left"))+parseFloat(t.css("margin-right"))}function i(t,a){var i=n(t,a);e(t).trigger(r+".snap",{activeSlides:i})}function s(e,r,n){i(e,r),void 0===t.overthrow||n?e.scrollLeft=r:t.overthrow.toss(e,{left:r})}var o="scroll-snap-type",l=t.CSS&&t.CSS.supports&&(t.CSS.supports(o,"mandatory")||t.CSS.supports("-webkit-"+o,"mandatory")||t.CSS.supports("-ms-"+o,"mandatory"));return this.each(function(){function n(){var e=w.attr("style");w.attr("style","");var r=x.eq(0).attr("style");x.eq(0).attr("style","");var n=y.width(),a=x.eq(0).width(),i=t.getComputedStyle(x[0],null),s=parseFloat(i.getPropertyValue("margin-left")),o=parseFloat(i.getPropertyValue("margin-right"));x.eq(0).attr("style",r),w.attr("style",e);var l=C/Math.round(n/a)*100,f=a/n*100,c=o/n*100,p=s/n*100,d=f+p+c,u=f/d,h=c/d,v=p/d;w.css("width",l+"%"),x.css("width",100/C*u+"%"),x.css("margin-left",100/C*v+"%"),x.css("margin-right",100/C*h+"%")}function o(){var t=y[0].scrollLeft,e=w.width(),r=x[1]?x[1].offsetLeft:a(x.eq(0)),n=Math.round(t/r)*r,o=e-y.width();n>o&&(n=o),t!==n&&(l?i(y[0],n):s(y[0],n))}function f(){var t=y[0].scrollLeft,e=x.length,r=w.width();void 0===q&&(q=Math.round(t/r*e)),T&&clearTimeout(T),T=setTimeout(function(){n(),s(y[0],x[q].offsetLeft,!0),q=T=void 0},50)}function c(t){var e=y[0].scrollLeft,r=w.width(),n=a(y),i=r-n-5;return t?e>=i?u():p():0===e?h():d()}function p(){s(y[0],y[0].scrollLeft+w.width()/C)}function d(){s(y[0],y[0].scrollLeft-w.width()/C)}function u(){s(y[0],0)}function h(){s(y[0],w.width()-y.width())}function v(){var t=y[0].scrollLeft,e=a(w),r=Math.round(t/e*C);S.children().removeClass(L).eq(r).addClass(L)}var m=this,_=e(m).is("[data-"+r+"-nextprev]"),y=e("."+r+"_pane",m),g=r+"-enhanced",w=y.find("."+r+"_items"),x=w.children();x.addClass(r+"_item");var C=x.length,S=e("."+r+"_nav",m),L=r+"_nav_item-selected";if(n(),e(m).addClass(g),_){var b=e('<ul class="snapper_nextprev"><li class="snapper_nextprev_item"><a href="#prev" class="snapper_nextprev_prev">Prev</a></li><li class="snapper_nextprev_item"><a href="#next" class="snapper_nextprev_next">Next</a></li></ul>'),k=e(".snapper_nextprev_contain",m);k.length||(k=e(m)),b.appendTo(k)}e("a",this).bind("click",function(r){var n=e(this).attr("href");if(-1!==n.indexOf("#")){if(r.preventDefault(),e(this).is(".snapper_nextprev_next"))return c(!0);if(e(this).is(".snapper_nextprev_prev"))return c(!1);var a=e(n,m);s(y[0],a[0].offsetLeft),"replaceState"in t.history&&t.history.replaceState({},document.title,n)}}),e(this).attr("tabindex","0").bind("keyup",function(t){37!==t.keyCode&&38!==t.keyCode||(t.preventDefault(),c(!1)),39!==t.keyCode&&40!==t.keyCode||(t.preventDefault(),c(!0))});var q,T;e(t).bind("resize",f),S.length&&(y.bind("scroll",v),v());var F;y.bind("scroll",function(t){F&&clearTimeout(F),F=setTimeout(o,50)})})},e(document).bind("enhance",function(t){e("."+r,t.target).add(t.target).filter("."+r)[r]()})}(this,jQuery);
//# sourceMappingURL=snapper.min.js.map