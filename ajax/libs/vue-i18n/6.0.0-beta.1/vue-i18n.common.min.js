"use strict";function warn(t,e){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function hasOwn(t,e){return hasOwnProperty.call(t,e)}function isObject(t){return null!==t&&"object"==typeof t}function isPlainObject(t){return toString.call(t)===OBJECT_STRING}function isNull(t){return null===t||void 0===t}function parseArgs(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=null,r=null;return 1===t.length?isObject(t[0])||Array.isArray(t[0])?r=t[0]:"string"==typeof t[0]&&(n=t[0]):2===t.length&&("string"==typeof t[0]&&(n=t[0]),(isObject(t[1])||Array.isArray(t[1]))&&(r=t[1])),{locale:n,params:r}}function getOldChoiceIndexFixed(t){return t?t>1?1:0:1}function getChoiceIndex(t,e){return t=Math.abs(t),2===e?getOldChoiceIndexFixed(t):t?Math.min(t,2):0}function fetchChoice(t,e){if(!t&&"string"!=typeof t)return null;var n=t.split("|");return e=getChoiceIndex(e,n.length),n[e]?n[e].trim():t}function looseClone(t){return JSON.parse(JSON.stringify(t))}function defineComputed(t,e){e.computed=e.computed||{},e.computed.$t=function(){return $t(t)},e.computed.$tc=function(){return $tc(t)},e.computed.$te=function(){return $te(t)}}function install(t){Vue=t;var e=Vue.version&&Number(Vue.version.split(".")[0])||-1;if("production"!==process.env.NODE_ENV&&install.installed)return void warn("already installed.");if(install.installed=!0,"production"!==process.env.NODE_ENV&&e<2)return void warn("vue-i18n ("+install.version+") need to use Vue 2.0 or later (Vue: "+Vue.version+").");Object.defineProperty(Vue.prototype,"$i18n",{get:function(){return this._i18n}}),Vue.mixin(mixin);var n=Vue.config.optionMergeStrategies;n.i18n=n.methods}function template(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e=1===e.length&&"object"==typeof e[0]?e[0]:{},e&&e.hasOwnProperty||(e={}),t.replace(RE_NARGS,function(n,r,o,i){var a;return"{"===t[i-1]&&"}"===t[i+n.length]?o:(a=hasOwn(e,o)?e[o]:n,isNull(a)?"":a)})}function isLiteral(t){return literalValueRE.test(t)}function stripQuotes(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function getPathCharType(t){if(void 0===t||null===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function formatSubPath(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(isLiteral(e)?stripQuotes(e):"*"+e)}function parse(t){function e(){var e=t[u+1];if(p===IN_SINGLE_QUOTE&&"'"===e||p===IN_DOUBLE_QUOTE&&'"'===e)return u++,o="\\"+e,h[APPEND](),!0}var n,r,o,i,a,s,c,l=[],u=-1,p=BEFORE_PATH,f=0,h=[];for(h[PUSH]=function(){void 0!==r&&(l.push(r),r=void 0)},h[APPEND]=function(){void 0===r?r=o:r+=o},h[INC_SUB_PATH_DEPTH]=function(){h[APPEND](),f++},h[PUSH_SUB_PATH]=function(){if(f>0)f--,p=IN_SUB_PATH,h[APPEND]();else{if(f=0,r=formatSubPath(r),r===!1)return!1;h[PUSH]()}};null!==p;)if(u++,n=t[u],"\\"!==n||!e()){if(i=getPathCharType(n),c=pathStateMachine[p],a=c[i]||c.else||ERROR,a===ERROR)return;if(p=a[0],s=h[a[1]],s&&(o=a[2],o=void 0===o?n:o,s()===!1))return;if(p===AFTER_PATH)return l}}function parsePath(t){var e=pathCache[t];return e||(e=parse(t),e&&(pathCache[t]=e)),e||[]}function empty(t){if(null===t||void 0===t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(isPlainObject(t))for(var e in t)if(hasOwn(t,e))return!1;return!0}function getPathValue(t,e){if(!isObject(t))return null;var n=parsePath(e);if(empty(n))return null;for(var r=n.length,o=null,i=t,a=0;a<r;){var s=i[n[a]];if(void 0===s){i=null;break}i=s,a++}return o=i}var hasOwnProperty=Object.prototype.hasOwnProperty,toString=Object.prototype.toString,OBJECT_STRING="[object Object]",$t=function(t){var e=t.$i18n.locale,n=(t.$i18n.fallbackLocal,t.$i18n.vm.messages);return function(r){for(var o=[],i=arguments.length-1;i-- >0;)o[i]=arguments[i+1];return(a=t.$i18n)._t.apply(a,[r,e,n,t].concat(o));var a}},$tc=function(t){var e=t.$i18n.locale,n=(t.$i18n.fallbackLocal,t.$i18n.vm.messages);return function(r,o){for(var i=[],a=arguments.length-2;a-- >0;)i[a]=arguments[a+2];return(s=t.$i18n)._tc.apply(s,[r,e,n,t,o].concat(i));var s}},$te=function(t){var e=t.$i18n.locale,n=t.$i18n.vm.messages;return function(r){for(var o=[],i=arguments.length-1;i-- >0;)o[i]=arguments[i+1];return(a=t.$i18n)._te.apply(a,[r,e,n].concat(o));var a}},mixin={beforeCreate:function(){var t=this.$options;t.i18n?t.i18n instanceof VueI18n?(this._i18n=t.i18n,defineComputed(this,t)):isPlainObject(t.i18n)?(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n&&(t.i18n.root=this.$root.$i18n),this._i18n=new VueI18n(t.i18n),defineComputed(this,t),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale())):"production"!==process.env.NODE_ENV&&warn("Cannot be interpreted 'i18n' option."):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof VueI18n&&(this._i18n=this.$root.$i18n,defineComputed(this,t))},beforeDestroy:function(){this._i18n&&(this._localeWatcher&&(this.$i18n.unwatchLocale(),delete this._localeWatcher),this._i18n=null)}},Vue,BaseFormatter=function(t){void 0===t&&(t={}),this._options=t},prototypeAccessors$1={options:{}};prototypeAccessors$1.options.get=function(){return this._options},BaseFormatter.prototype.format=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return template.apply(void 0,[t].concat(e))},Object.defineProperties(BaseFormatter.prototype,prototypeAccessors$1);var RE_NARGS=/(%|)\{([0-9a-zA-Z_]+)\}/g,pathCache=Object.create(null),APPEND=0,PUSH=1,INC_SUB_PATH_DEPTH=2,PUSH_SUB_PATH=3,BEFORE_PATH=0,IN_PATH=1,BEFORE_IDENT=2,IN_IDENT=3,IN_SUB_PATH=4,IN_SINGLE_QUOTE=5,IN_DOUBLE_QUOTE=6,AFTER_PATH=7,ERROR=8,pathStateMachine=[];pathStateMachine[BEFORE_PATH]={ws:[BEFORE_PATH],ident:[IN_IDENT,APPEND],"[":[IN_SUB_PATH],eof:[AFTER_PATH]},pathStateMachine[IN_PATH]={ws:[IN_PATH],".":[BEFORE_IDENT],"[":[IN_SUB_PATH],eof:[AFTER_PATH]},pathStateMachine[BEFORE_IDENT]={ws:[BEFORE_IDENT],ident:[IN_IDENT,APPEND],0:[IN_IDENT,APPEND],number:[IN_IDENT,APPEND]},pathStateMachine[IN_IDENT]={ident:[IN_IDENT,APPEND],0:[IN_IDENT,APPEND],number:[IN_IDENT,APPEND],ws:[IN_PATH,PUSH],".":[BEFORE_IDENT,PUSH],"[":[IN_SUB_PATH,PUSH],eof:[AFTER_PATH,PUSH]},pathStateMachine[IN_SUB_PATH]={"'":[IN_SINGLE_QUOTE,APPEND],'"':[IN_DOUBLE_QUOTE,APPEND],"[":[IN_SUB_PATH,INC_SUB_PATH_DEPTH],"]":[IN_PATH,PUSH_SUB_PATH],eof:ERROR,else:[IN_SUB_PATH,APPEND]},pathStateMachine[IN_SINGLE_QUOTE]={"'":[IN_SUB_PATH,APPEND],eof:ERROR,else:[IN_SINGLE_QUOTE,APPEND]},pathStateMachine[IN_DOUBLE_QUOTE]={'"':[IN_SUB_PATH,APPEND],eof:ERROR,else:[IN_DOUBLE_QUOTE,APPEND]};var literalValueRE=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,VueI18n=function(t){void 0===t&&(t={});var e=t.locale||"en-US",n=t.fallbackLocale||"en-US",r=t.messages||{};this._vm=null,this._formatter=t.formatter||new BaseFormatter,this._missing=t.missing,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._exist=function(t,e){return!(!t||!e)&&!isNull(getPathValue(t,e))},this._initVM({locale:e,fallbackLocale:n,messages:r})},prototypeAccessors={vm:{},messages:{},locale:{},fallbackLocale:{},missing:{},formatter:{}};VueI18n.prototype._initVM=function(t){var e=Vue.config.silent;Vue.config.silent=!0,this._vm=new Vue({data:t}),Vue.config.silent=e},VueI18n.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var t=this._vm;return this._watcher=this._root.vm.$watch("locale",function(e){t.$set(t,"locale",e)},{immediate:!0}),this._watcher},VueI18n.prototype.unwatchLocale=function(){return!(!this._sync||!this._watcher)&&(this._watcher&&(this._watcher(),delete this._watcher),!0)},prototypeAccessors.vm.get=function(){return this._vm},prototypeAccessors.messages.get=function(){return looseClone(this._vm.messages)},prototypeAccessors.locale.get=function(){return this._vm.locale},prototypeAccessors.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},prototypeAccessors.fallbackLocale.get=function(){return this._vm.fallbackLocale},prototypeAccessors.fallbackLocale.set=function(t){this._vm.$set(this._vm,"fallbackLocale",t)},prototypeAccessors.missing.get=function(){return this._missing},prototypeAccessors.missing.set=function(t){this._missing=t},prototypeAccessors.formatter.get=function(){return this._formatter},prototypeAccessors.formatter.set=function(t){this._formatter=t},VueI18n.prototype._warnDefault=function(t,e,n,r){return isNull(n)?(this.missing?this.missing.apply(null,[t,e,r]):"production"!==process.env.NODE_ENV&&warn("Cannot translate the value of keypath '"+e+"'. Use the value of keypath as default."),e):n},VueI18n.prototype._isFallbackRoot=function(t){return!t&&!isNull(this._root)&&this._fallbackRoot},VueI18n.prototype._interpolate=function(t,e,n){var r=this;if(!t)return null;var o=getPathValue(t,e);if(Array.isArray(o))return o;var i;if(isNull(o)){if(!isPlainObject(t))return null;if(i=t[e],"string"!=typeof i)return"production"!==process.env.NODE_ENV&&warn("Value of key '"+e+"' is not a string!"),null}else{if("string"!=typeof o)return"production"!==process.env.NODE_ENV&&warn("Value of key '"+e+"' is not a string!"),null;i=o}if(i.indexOf("@:")>=0){var a=i.match(/(@:[\w|.]+)/g);for(var s in a){var c=a[s],l=c.substr(2),u=r._interpolate(t,l,n);i=i.replace(c,u)}}return n?this._format(i,n):i},VueI18n.prototype._format=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return(r=this._formatter).format.apply(r,[t].concat(e));var r},VueI18n.prototype._translate=function(t,e,n,r,o){var i=null;return i=this._interpolate(t[e],r,o),isNull(i)?(i=this._interpolate(t[n],r,o),isNull(i)?null:("production"!==process.env.NODE_ENV&&warn("Fall back to translate the keypath '"+r+"' with '"+n+"' locale."),i)):i},VueI18n.prototype._t=function(t,e,n,r){for(var o=[],i=arguments.length-4;i-- >0;)o[i]=arguments[i+4];if(!t)return"";var a=parseArgs.apply(void 0,o),s=a.locale||e,c=this._translate(n,s,this.fallbackLocale,t,a.params);if(this._isFallbackRoot(c)){if("production"!==process.env.NODE_ENV&&warn("Fall back to translate the keypath '"+t+"' with root locale."),!this._root)throw Error("unexpected error");return(l=this._root).t.apply(l,[t].concat(o))}return this._warnDefault(s,t,c,r);var l},VueI18n.prototype.t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return(r=this)._t.apply(r,[t,this.locale,this.messages,null].concat(e));var r},VueI18n.prototype._tc=function(t,e,n,r,o){for(var i=[],a=arguments.length-5;a-- >0;)i[a]=arguments[a+5];return t?void 0!==o?fetchChoice((s=this)._t.apply(s,[t,e,n,r].concat(i)),o):(c=this)._t.apply(c,[t,e,n,r].concat(i)):"";var s,c},VueI18n.prototype.tc=function(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return(o=this)._tc.apply(o,[t,this.locale,this.messages,null,e].concat(n));var o},VueI18n.prototype._te=function(t,e,n){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var i=parseArgs.apply(void 0,r).locale||e;return this._exist(n[i],t)},VueI18n.prototype.te=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return(r=this)._te.apply(r,[t,this.locale,this.messages].concat(e));var r},VueI18n.prototype.getLocaleMessage=function(t){return looseClone(this._vm.messages[t])},VueI18n.prototype.setLocaleMessage=function(t,e){this._vm.messages[t]=e},Object.defineProperties(VueI18n.prototype,prototypeAccessors),VueI18n.install=install,VueI18n.version="__VERSION__","undefined"!=typeof window&&window.Vue&&window.Vue.use(VueI18n),module.exports=VueI18n;
//# sourceMappingURL=vue-i18n.common.min.js.map