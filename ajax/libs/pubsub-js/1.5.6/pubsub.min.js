!function(n,r){"use strict";"function"==typeof define&&define.amd?define(["exports"],r):"object"==typeof exports&&r(exports);var t={};n.PubSub=t,r(t)}("object"==typeof window&&window||this,function(n){"use strict";function r(n){var r;for(r in n)if(n.hasOwnProperty(r))return!0;return!1}function t(n){return function(){throw n}}function e(n,r,e){try{n(r,e)}catch(n){setTimeout(t(n),0)}}function i(n,r,t){n(r,t)}function o(n,r,t,o){var f,u=c[r],s=o?i:e;if(c.hasOwnProperty(r))for(f in u)u.hasOwnProperty(f)&&s(u[f],n,t)}function f(n,r,t){return function(){var e=String(n),i=e.lastIndexOf(".");for(o(n,n,r,t);i!==-1;)e=e.substr(0,i),i=e.lastIndexOf("."),o(n,e,r,t)}}function u(n){for(var t=String(n),e=Boolean(c.hasOwnProperty(t)&&r(c[t])),i=t.lastIndexOf(".");!e&&i!==-1;)t=t.substr(0,i),i=t.lastIndexOf("."),e=Boolean(c.hasOwnProperty(t)&&r(c[t]));return e}function s(n,r,t,e){var i=f(n,r,e),o=u(n);return!!o&&(t===!0?i():setTimeout(i,0),!0)}var c={},a=-1;n.publish=function(r,t){return s(r,t,!1,n.immediateExceptions)},n.publishSync=function(r,t){return s(r,t,!0,n.immediateExceptions)},n.subscribe=function(n,r){if("function"!=typeof r)return!1;c.hasOwnProperty(n)||(c[n]={});var t="uid_"+String(++a);return c[n][t]=r,t},n.clearAllSubscriptions=function(){c={}},n.clearSubscriptions=function(n){var r;for(r in c)c.hasOwnProperty(r)&&0===r.indexOf(n)&&delete c[r]},n.unsubscribe=function(r){var t,e,i,o=function(n){var r;for(r in c)if(c.hasOwnProperty(r)&&0===r.indexOf(n))return!0;return!1},f="string"==typeof r&&(c.hasOwnProperty(r)||o(r)),u=!f&&"string"==typeof r,s="function"==typeof r,a=!1;if(f)return void n.clearSubscriptions(r);for(t in c)if(c.hasOwnProperty(t)){if(e=c[t],u&&e[r]){delete e[r],a=r;break}if(s)for(i in e)e.hasOwnProperty(i)&&e[i]===r&&(delete e[i],a=!0)}return a}});
//# sourceMappingURL=pubsub.min.js.map