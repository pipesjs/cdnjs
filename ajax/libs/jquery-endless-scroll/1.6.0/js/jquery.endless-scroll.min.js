var EndlessScroll;EndlessScroll=function(){function t(t,r){var n=this;this.options=$.extend({},e,r),this.firing=!0,this.fired=!1,this.fireSequence=0,this.didScroll=!1,this.isScrollable=!0,this.target=t,this.targetId="",this.content="",this.innerWrap=$(".endless_scroll_inner_wrap",this.target),this.options.data&&(this.options.content=this.options.data),$(t).scroll(function(){return n.didScroll=!0,n.target=t,n.targetId=$(n.target).attr("id")})}var e;return t.name="EndlessScroll",e={bottomPixels:50,fireOnce:!0,fireDelay:150,loader:"Loading...",content:"",insertAfter:"div:last",intervalFrequency:250,resetCounter:function(){return!1},callback:function(){return!0},ceaseFire:function(){return!1}},t.prototype.run=function(){var t=this;return setInterval(function(){if(t.shouldTryFiring()){if(t.didScroll=!1,t.ceaseFireWhenNecessary())return;if(t.shouldBeFiring())return t.resetFireSequenceWhenNecessary(),t.acknowledgeFiring(),t.insertLoader(),t.hasContent()&&(t.showContent(),t.fireCallback(),t.delayFireingWhenNecessary()),t.removeLoader()}},this.options.intervalFrequency)},t.prototype.shouldTryFiring=function(){return this.didScroll&&this.firing===!0},t.prototype.ceaseFireWhenNecessary=function(){return!!this.options.ceaseFire.apply(this.target,[this.fireSequence])&&(this.firing=!1,!0)},t.prototype.wrapContainer=function(){if(0===this.innerWrap.length)return this.innerWrap=$(this.target).wrapInner('<div class="endless_scroll_inner_wrap" />').find(".endless_scroll_inner_wrap")},t.prototype.isScrollableOrNot=function(){return this.target===document||this.target===window?this.isScrollable=$(document).height()-$(window).height()<=$(window).scrollTop()+this.options.bottomPixels:(this.wrapContainer(),this.isScrollable=this.innerWrap.length>0&&this.innerWrap.height()-$(this.target).height()<=$(this.target).scrollTop()+this.options.bottomPixels)},t.prototype.shouldBeFiring=function(){return this.isScrollableOrNot(),this.isScrollable&&(this.options.fireOnce===!1||this.options.fireOnce===!0&&this.fired!==!0)},t.prototype.resetFireSequenceWhenNecessary=function(){if(this.options.resetCounter.apply(this.target)===!0)return this.fireSequence=0},t.prototype.acknowledgeFiring=function(){return this.fired=!0,this.fireSequence++},t.prototype.insertLoader=function(){return $(this.options.insertAfter).after('<div class="endless_scroll_loader_'+this.targetId+' endless_scroll_loader">'+this.options.loader+"</div>")},t.prototype.removeLoader=function(){return $(".endless_scroll_loader_"+this.targetId).fadeOut(function(){return $(this).remove()})},t.prototype.hasContent=function(){return"function"==typeof this.options.content?this.content=this.options.content.apply(this.target,[this.fireSequence]):this.content=this.options.content,this.content!==!1},t.prototype.showContent=function(){return $(this.options.insertAfter).after('<div id="endless_scroll_content">'+this.content+"</div>"),$("#endless_scroll_content").hide().fadeIn(250,function(){return $(this).removeAttr("id")})},t.prototype.fireCallback=function(){return this.options.callback.apply(this.target,[this.fireSequence])},t.prototype.delayFireingWhenNecessary=function(){var t=this;return this.options.fireDelay>0?($("body").after('<div id="endless_scroll_marker"></div>'),$("#endless_scroll_marker").fadeTo(this.options.fireDelay,1,function(){return $("#endless_scroll_marker").remove(),t.fired=!1})):this.fired=!1},t}(),function(t){return t.fn.endlessScroll=function(t){return new EndlessScroll(this,t).run()}}(jQuery);
//# sourceMappingURL=jquery.endless-scroll.min.js.map