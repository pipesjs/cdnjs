/**
 * Chirashi.js v6.4.3-rc
 * (c) 2017 Alex Toudic
 * Released under MIT License.
 **/

!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Chirashi=n.Chirashi||{})}(this,function(n){"use strict";function t(n,t){if(!n)return[];"object"===(void 0===n?"undefined":it(n))&&"length"in n||(n=[n]);for(var e=n.length,r=0;r<e;++r)t(n[r],r);return n}function e(n,t){n[t]=function(){return this["_chrsh-valid"]=!1,Array.prototype[t].apply(this,arguments)}}function r(n){return t(lt,e.bind(null,n)),n["_chrsh-valid"]=!0,n}function i(n){for(var t=[],e=-1;t[++e]=n[e];);return t.length--,r(t)}function o(n,t){if(0===t.search(ct))switch(t[0]){case".":return i(n.getElementsByClassName(t.slice(1)));case"#":var e=n===document?n.getElementById(t.slice(1)):n.querySelector(t);return r(e?[e]:[]);default:return i(n.getElementsByTagName(t))}return i(n.querySelectorAll(t))}function u(n){return!(!n||!n.nodeType&&n!==window)}function l(n){if("string"==typeof n)return o(document,n);if(n instanceof window.NodeList||n instanceof window.HTMLCollection)return i(n);if(n instanceof Array){if(n["_chrsh-valid"])return n;var e=[];return t(n,c.bind(null,e)),r(e)}return r(u(n)?[n]:[])}function c(n,t){n.push.apply(n,l(t))}function f(n,e){return t(l(n),e)}function a(n,e){if("object"===(void 0===n?"undefined":it(n)))return t(Object.keys(n),s.bind(null,n,e)),n}function s(n,t,e){t(e,n[e])}function d(n,t){if(0===t.search(ft))switch(t[0]){case".":return n.getElementsByClassName(t.slice(1))[0];case"#":return n===document?n.getElementById(t.slice(1)):n.querySelector(t);default:return n.getElementsByTagName(t)[0]}return n.querySelector(t)}function h(n){return"string"==typeof n?d(document,n):n instanceof window.NodeList||n instanceof window.HTMLCollection?n[0]:n instanceof Array?h(n[0]):u(n)&&n}function p(n,t,e){e.classList[n].apply(e.classList,t)}function g(n,t,e){return f(n,p.bind(null,t,e))}function v(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return g(n,"add",e)}function b(n){if(at.lastIndex=0,0!==n.indexOf("<")){for(var t=null,e="",r="",i="",o=void 0;o=at.exec(n);)if(o[1])switch(o[0][0]){case"#":e+=' id="'+o[1]+'"';break;case".":r+=" "+o[1];break;default:t=o[1]}else o[2]?e+=" "+o[2]+(o[4]?'="'+o[4]+'"':""):i=o[5];null===t&&(t="div"),n="<"+t+(r?' class="'+r.slice(1)+'"':"")+e+">"+i+"</"+t+">"}var u=document.createElement("div");return u.innerHTML=n,u.firstChild}function y(n,e){return!(!(n=h(n))||!n.appendChild)&&(t(e,m.bind(null,n)),n)}function m(n,t){n.appendChild("string"==typeof t?b(t):t)}function w(n,e){if(1===n.length)return e(n[0]);var r={};return t(n,x.bind(null,r,e)),r}function x(n,t,e){n[e]=t(e)}function C(n,t){for(var e=arguments.length,r=Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return!!(t=h(t))&&w(r,n.bind(null,t))}function A(n,t){return n[t]}function S(n){return i(st(n,"children"))}function E(n){return!!(n=h(n))&&"cloneNode"in n&&n.cloneNode(!0)}function N(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return!(!(n=h(n))||("string"==typeof e?n.matches(e):n===e))&&(("string"==typeof t?n.matches(t):n===t)?n:!!n.parentNode&&N(n.parentNode,t,e))}function L(n){return f(n,M)}function M(n){for(var t=void 0;t=n.firstChild;)n.removeChild(t)}function O(n,t,e){var i=[];return f(t,n.bind(null,i,e)),r(i)}function j(n,t,e){("string"==typeof t&&"matches"in e&&e.matches(t)||e===t)&&n.push(e)}function _(n,t,e){n.push.apply(n,o(e,t))}function z(n,t){return(n=h(n))?d(n,t):null}function B(n,t){return n.getAttribute(t)}function H(n,t){return n.getAttribute("data-"+t)}function T(n){return st(n,"innerHTML")}function P(n){if(n=h(n)){for(var t=arguments.length<=1?0:arguments.length-1,e=void 0,r=0;r<t&&(e=n.classList.contains((i=1+r++,arguments.length<=i?void 0:arguments[i])));)var i;return e}}function k(n){if(!(n=h(n)))return null;var t=void 0,e=void 0;for(t=0,e=n;e=e.previousElementSibling;++t);return t}function I(n,e,r){if((e=h(e))&&"parentNode"in e){var i=e.parentNode;return t(r,n.bind(null,i,e)),e}}function D(n,t,e){n.insertBefore("string"==typeof e?b(e):e,t.nextElementSibling)}function q(n,t,e){n.insertBefore("string"==typeof e?b(e):e,t)}function X(n){return st(n,"nextElementSibling")}function Y(n){return st(n,"parentNode")}function R(n){return r(U(h(n)))}function U(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=void 0;return n&&(e=n.parentNode)?(t.push(e),U(e,t)):t}function W(n){return st(n,"previousElementSibling")}function Z(n){return f(n,F)}function F(n){n.parentNode&&n.parentNode.removeChild(n)}function $(n,t,e){n[t](e)}function J(n,e,r){r[n]&&t(e,$.bind(null,r,n))}function G(n,t,e){return f(n,J.bind(null,t,e))}function K(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return G(n,"removeAttribute",e)}function Q(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return g(n,"remove",e)}function V(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return t(r,nn.bind(null,r)),G(n,"removeAttribute",r)}function nn(n,t,e){n[e]="data-"+t}function tn(n,t,e,r){return a(r,n.bind(null,r)),f(e,t.bind(null,r))}function en(n,t){a(n,t.setAttribute.bind(t))}function rn(n,t,e){"string"==typeof e||e instanceof Array||(n[t]=JSON.stringify(e))}function on(n,t){var e={};return a(t,un.bind(null,e)),yt(n,e)}function un(n,t,e){n["data-"+t]=e}function ln(n,t){return f(n,cn.bind(null,t))}function cn(n,t){Object.assign(t,n)}function fn(n,t){return ln(n,{innerHTML:t})}function an(n){return mt.lastIndex=0,"string"==typeof n?n.search(mt)!==-1?n.split(mt):[n]:n}function sn(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];"object"===it(r[0])?a(r[0],vn.bind(null,n)):t(r,hn.bind(null,n))}function dn(n,t){t.classList.toggle(n)}function hn(n,t){f(n,dn.bind(null,t))}function pn(n,t,e){e.classList.toggle(n,t(e))}function gn(n,t,e){f(n,pn.bind(null,e,t))}function vn(n,e,r){t(an(e),gn.bind(null,n,r))}function bn(n,t,e,r,i){i[n](r,t,e)}function yn(n,e,r,i,o){t(n,bn.bind(null,e,r,i,o))}function mn(n,e,r,i){var o=void 0,u=void 0;"function"==typeof i?(o=i,u=!1):(o=i.handler,u=ut({},i)),t(an(r),yn.bind(null,n,e,o,u))}function wn(n,t,e){return t+="EventListener",n=l(n),a(e,mn.bind(null,n,t)),n}function xn(n,t){return n=wn(n,"add",t),function(e,r){wn(e||n,"remove",r?ot({},r,t[r]):t)}}function Cn(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;e=h(e);var r={};a(t,An.bind(null,n,e,r));var i=xn(e,r);return function(n){i(e,n)}}function An(n,t,e,r,i){e[r]="function"==typeof i?Sn(n,t,i):ut({},i,{handler:Sn(n,t,i.handler)})}function Sn(n,t,e){return function(r){var i=N(r.target,n,t);i&&e(r,i)}}function En(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=void 0,o={};return a(t,function(n,t){o[n]=function(o){t(o),i(e&&o.currentTarget,r&&n)}}),i=xn(n,o)}function Nn(n){"complete"===(arguments[1]||document.readyState)?n():En(document,{DOMContentLoaded:n})}function Ln(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n=l(n),n.length)return r=ut({},r,wt),t(an(e),Mn.bind(null,n,r)),n}function Mn(n,e,r){r=new window.CustomEvent(r,e),t(n,On.bind(null,r))}function On(n,t){t.dispatchEvent(n)}function jn(n){for(var t=""+n,e=void 0;e=xt.exec(n);)t=t.replace(new RegExp(e,"g"),"-"+e[0].toLowerCase());return t}function _n(n,t,e){Ct.indexOf(jn(t))===-1&&"number"==typeof e&&(n[t]+="px")}function zn(n,t){t.style&&Object.assign(t.style,n)}function Bn(n){for(var e={},r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t(i,Hn.bind(null,e)),At(n,e)}function Hn(n,t){n[t]=""}function Tn(n){if(!(n=h(n)))return!1;var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Pn(n){return!!(n=h(n))&&window.getComputedStyle(n)}function kn(n,t,e){return st(n,(e?"offset":"client")+t)}function In(n){return kn(n,"Height",arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function Dn(n){return kn(n,"Width",arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function qn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{width:Dn(n,t),height:In(n,t)}}function Xn(n){var t=Pn(n);if(!t)return!1;for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return w(r,Yn.bind(null,t))}function Yn(n,t){var e=n[t];return!e||isNaN(+e)&&e.indexOf("px")===-1?e:parseFloat(e)}function Rn(n){return At(n,{visibility:"hidden"})}function Un(n){var t=Tn(n);return t&&{top:t.top,left:t.left}}function Wn(n){var t=Un(n);return t&&{top:t.top+window.scrollY,left:t.left+window.scrollX}}function Zn(n){return!!(n=h(n))&&{top:n.offsetTop,left:n.offsetLeft}}function Fn(n,t){return At(n,{height:t})}function $n(n,t,e){return At(n,{width:t,height:e})}function Jn(n,t){return At(n,{width:t})}function Gn(n){return At(n,{visibility:"visible"})}function Kn(n,t){return At(n,{transform:"matrix3d("+rt(t).join(",")+")"})}function Qn(n,t,e,r,i){n[e+i.toUpperCase()]=i in t[e]?t[e][i]:r}function Vn(n,t,e,r){n[t+r.toUpperCase()]=e[r]}function nt(n,t,e,r){n[t+r.toUpperCase()]=e}function tt(n,e,r,i,o){var u={};return r in n?"object"===it(n[r])?t(e,Qn.bind(null,u,n,r,i)):t(e,Vn.bind(null,u,r,o)):t(e,nt.bind(null,u,r,i)),u}function et(n,t,e){n[e]=+t.toFixed(2)}function rt(n){var e="x"in n?n.x:0,r="y"in n?n.y:0,i="z"in n?n.z:0,o=tt(n,["x","y","z"],"scale",1,{x:n.scale,y:n.scale,z:1}),u=o.scaleX,l=o.scaleY,c=o.scaleZ,f=tt(n,["x","y","z"],"rotate",0,{x:0,y:0,z:n.rotate}),a=f.rotateX,s=f.rotateY,d=f.rotateZ,h=tt(n,["x","y"],"skew",0,{x:n.skew,y:n.skew}),p=h.skewX,g=h.skewY,v=Math.cos(a),b=Math.sin(a),y=Math.cos(s),m=Math.sin(s),w=Math.cos(d),x=Math.sin(d),C=Math.tan(p),A=Math.tan(g),S=[u*y*w,x+A,-m,0,-x+C,l*v*w,b,0,m,-b,c*v*y,0,e,r,i,1];return t(S,et.bind(null,S)),S}var it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ot=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n},ut=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},lt=["push","splice","unshift"],ct=/^[.#]?[\w-_]+$/,ft=/^[.#]?[\w-_]+$/,at=/[#.]?([\w-_]+)|\[([\w-_]+)(="([\w.,;:{}'\/\\#!@_&?%=<>-\s]+)?")?]|{([\w.,;:{}\/\\'"#!@_&?%=<>-\s]+)}/g,st=C.bind(null,A),dt=O.bind(null,j),ht=O.bind(null,_),pt=C.bind(null,B),gt=C.bind(null,H),vt=I.bind(null,D),bt=I.bind(null,q),yt=tn.bind(null,rn,en),mt=/[,\s]+/g,wt={bubbles:!0,cancelable:!0},xt=/[A-Z]/g,Ct=["z-index","zoom","font-weight","line-height","counter-reset","counter-increment","volume","stress","pitch-range","richness","opacity"],At=tn.bind(null,_n,zn);n.forEach=t,n.forElements=f,n.forIn=a,n.getElement=h,n.getElements=l,n.isDomElement=u,n.addClass=v,n.append=y,n.children=S,n.clone=E,n.closest=N,n.createElement=b,n.empty=L,n.filter=dt,n.find=ht,n.findOne=z,n.getAttr=pt,n.getData=gt,n.getHtml=T,n.getProp=st,n.hasClass=P,n.indexInParent=k,n.insertAfter=vt,n.insertBefore=bt,n.next=X,n.parent=Y,n.parents=R,n.prev=W,n.remove=Z,n.removeAttr=K,n.removeClass=Q,n.removeData=V,n.setAttr=yt,n.setData=on,n.setHtml=fn,n.setProp=ln,n.toggleClass=sn,n.delegate=Cn,n.on=xn,n.once=En,n.ready=Nn,n.trigger=Ln,n.clearStyle=Bn,n.clientRect=Tn,n.getComputedStyle=Pn,n.getHeight=In,n.getSize=qn,n.getStyleProp=Xn,n.getWidth=Dn,n.hide=Rn,n.offset=Wn,n.position=Zn,n.screenPosition=Un,n.setHeight=Fn,n.setSize=$n,n.setStyleProp=At,n.setWidth=Jn,n.show=Gn,n.transform=Kn,Object.defineProperty(n,"__esModule",{value:!0})});