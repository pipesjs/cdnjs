!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,r,i,o=0,u=0,a=0;a<=e.length;a++){var f=e.charCodeAt(a);if(f===p||f===w||!f){if(0===o)n=0===a?"div":f?e.substring(u,a):e;else{var d=e.substring(u,a);1===o?r=d:i?i+=" "+d:i=d}u=a+1,o=f===p?1:2}}var l=t?document.createElementNS(t,n):document.createElement(n);return r&&(l.id=r),i&&(t?l.setAttribute("class",i):l.className=i),l}function n(e,t,n){var r=x(e),u=x(t);t===u&&u.__redom_view&&(t=u.__redom_view),t!==u&&(u.__redom_view=t);var a=u.__redom_mounted,f=u.parentNode;return a&&f!==r&&o(t,u,f),n?r.insertBefore(u,x(n)):r.appendChild(u),i(t,u,r,f),t}function r(e,t){var n=e.el||e,r=t.el||t;return t===r&&r.__redom_view&&(t=r.__redom_view),o(t,r,n),n.removeChild(r),t}function i(e,t,n,r){for(var i=t.__redom_lifecycle||(t.__redom_lifecycle={}),o=n===r,a=!1,f=0;f<g.length;f++){var d=g[f];!o&&e!==t&&d in e&&(i[d]=(i[d]||0)+1),i[d]&&(a=!0)}if(a){var l=n,s=!1;if((o||!s&&l&&l.__redom_mounted)&&(u(t,o?"onremount":"onmount"),s=!0),!o)for(;l;){var c=l.parentNode,v=l.__redom_lifecycle||(l.__redom_lifecycle={});for(var _ in i)v[_]=(v[_]||0)+i[_];!s&&(l===document||c&&c.__redom_mounted)&&(u(l,o?"onremount":"onmount"),s=!0),l=c}}}function o(e,t,n){var r=t.__redom_lifecycle;if(r){var i=n;for(t.__redom_mounted&&u(t,"onunmount");i;){var o=i.__redom_lifecycle,a=!1;for(var f in r)o[f]&&(o[f]-=r[f]),o[f]&&(a=!0);a||(i.__redom_lifecycle=null),i=i.parentNode}}}function u(e,t){"onmount"===t?e.__redom_mounted=!0:"onunmount"===t&&(e.__redom_mounted=!1);var n=e.__redom_lifecycle;if(n){var r=e.__redom_view,i=0;r&&r[t]&&r[t]();for(var o in n)o&&i++;if(i)for(var a=e.firstChild;a;){var f=a.nextSibling;u(a,t),a=f}}}function a(e,t,n){var r=x(e);if(arguments.length>2)r.style[t]=n;else if(N(t))r.setAttribute("style",t);else for(var i in t)a(r,i,t[i])}function f(e,t,n){var r=x(e),i=r instanceof window.SVGElement;if(arguments.length>2)"style"===t?a(r,n):i&&C(n)?r[t]=n:!i&&(t in r||C(n))?r[t]=n:r.setAttribute(t,n);else for(var o in t)f(r,o,t[o])}function d(e,t){for(var r=0;r<t.length;r++){var i=t[r];i&&("function"==typeof i?i(e):N(i)||A(i)?e.appendChild(y(i)):S(x(i))?n(e,i):i.length?d(e,i):"object"==typeof i&&f(e,i))}}function l(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(N(e))r=E(e).cloneNode(!1);else{if(!S(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return d(r,t),r}function s(e,t){if(void 0===t.length)return s(e,[t]);for(var i=x(e),o=i.firstChild,u=0;u<t.length;u++){var a=t[u];if(a){var f=x(a);f!==o?n(e,a,o):o=o.nextSibling}}for(;o;){var d=o.nextSibling;r(e,o),o=d}}function c(e,t,n,r){return new v(e,t,n,r)}function v(e,t,n,r){this.__redom_list=!0,this.View=t,this.key=n,this.initData=r,this.views=[],this.el=b(e),n&&(this.lookup={})}function _(e,t,n){return new D(e,t,n)}function m(e){for(var t=[],n=arguments.length-1;n-->0;)t[n]=arguments[n+1];var r;if(N(e))r=q(e).cloneNode(!1);else{if(!S(e))throw new Error("At least one argument required");r=e.cloneNode(!1)}return d(r,t),r}function h(e){var t=e.el||e,i=document.createTextNode(""),o=e.update,u=!0;return e.show=function(){if(!u){e!==t&&(e.el=t,o&&(e.update=o));var a=i.parentNode;if(a){var f=i.nextSibling;n(a,e,f),r(a,i)}return u=!0,e}},e.hide=function(){if(u){var a=t.parentNode;if(a){var f=t.nextSibling;r(a,e),n(a,i,f)}return e!==t&&(e.el=i,o&&(e.update=function(){})),u=!1,e}},e}var p="#".charCodeAt(0),w=".".charCodeAt(0),g=["onmount","onunmount"],y=function(e){return document.createTextNode(e)},b=function(e){return N(e)?l(e):x(e)},x=function(e){return e.nodeType&&e||!e.el&&e||x(e.el)},N=function(e){return"string"==typeof e},A=function(e){return"number"==typeof e},C=function(e){return"function"==typeof e},S=function(e){return e&&e.nodeType},k={},E=function(e){return k[e]||t(e)};l.extend=function(e){var t=E(e);return l.bind(this,t)};var V=l;v.extend=function(e,t,n,r){return v.bind(v,e,t,n,r)},c.extend=v.extend,v.prototype.update=function(e){void 0===e&&(e=[]);for(var t=this.View,n=this.key,r=C(n),i=this.initData,o=new Array(e.length),u=this.views,a=n&&{},f=n&&this.lookup,d=0;d<e.length;d++){var l=e[d],c=void 0;if(n){var v=r?n(l):l[n];c=o[d]=f[v]||new t(i,l,d,e),a[v]=c,c.__id=v}else c=o[d]=u[d]||new t(i,l,d,e);var _=c.el;_.__redom_list&&(_=_.el),_.__redom_view=c,c.update&&c.update(l,d,e)}s(this,o),n&&(this.lookup=a),this.views=o};var D=function(e,t,n){this.el=b(e),this.Views=t,this.initData=n};D.prototype.update=function(e,t){if(e!==this.route){var n=this.Views,r=n[e];this.view=r&&new r(this.initData,t),this.route=e,s(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t,e)};var T="http://www.w3.org/2000/svg",j={},q=function(e){return j[e]||t(e,T)};m.extend=function(e){var t=q(e);return m.bind(this,t)};var B=h;e.html=l,e.el=V,e.list=c,e.List=v,e.mount=n,e.unmount=r,e.router=_,e.Router=D,e.setAttr=f,e.setStyle=a,e.setChildren=s,e.svg=m,e.text=y,e.hideable=h,e.hidable=B,Object.defineProperty(e,"__esModule",{value:!0})});