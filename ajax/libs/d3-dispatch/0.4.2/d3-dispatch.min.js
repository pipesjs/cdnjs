!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.d3_dispatch=n.d3_dispatch||{})}(this,function(n){"use strict";function e(){for(var n,e=0,r=arguments.length,i={};r>e;++e){if(!(n=arguments[e]+"")||n in i)throw new Error("illegal or duplicate type: "+n);i[n]=[]}return new t(i)}function t(n){this._=n}function r(n,e){return n.trim().split(/^|\s+/).map(function(n){var t="",r=n.indexOf(".");if(r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}})}function i(n,e){for(var t,r=0,i=n.length;i>r;++r)if((t=n[r]).name===e)return t.value}function o(n,e,t){for(var r=0,i=n.length;i>r;++r)if(n[r].name===e){n[r]=a,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=t&&n.push({name:e,value:t}),n}var a={value:function(){}};t.prototype=e.prototype={constructor:t,on:function(n,e){var t,a=this._,u=r(n+"",a),f=-1,l=u.length;{if(!(arguments.length<2)){for(;++f<l;)if(t=(n=u[f]).type)a[t]=o(a[t],n.name,e);else if(null==e)for(t in a)a[t]=o(a[t],n.name,null);return this}for(;++f<l;)if((t=(n=u[f]).type)&&(t=i(a[t],n.name)))return t}},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new t(n)},call:function(n,e){if((t=arguments.length-2)>0)for(var t,r=new Array(t),i=0;t>i;++i)r[i]=arguments[i+2];this.apply(n,e,r)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,o=r.length;o>i;++i)r[i].value.apply(e,t)}};var u="0.4.2";n.version=u,n.dispatch=e});