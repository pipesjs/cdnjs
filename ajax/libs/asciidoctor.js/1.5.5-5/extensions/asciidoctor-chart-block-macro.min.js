Opal.modules["chart-block-macro/extension"]=function(t){function n(t,n){return"number"==typeof t&&"number"==typeof n?t+n:t["$+"](n)}var e=t.top,r=t,a=[t],i=t.nil,s=(t.breaker,t.slice,t.klass),$=t.hash2,c=t.send,o=t.range;return t.add_stubs(["$==","$include","$use_dsl","$named","$name_positional_attributes","$normalize_asset_path","$read_asset","$nil?","$empty?","$resolve_engine","$document","$parse","$process","$create_pass_block","$on_context","$parse_content_as","$source","$at_location","$key?","$downcase","$[]","$attributes","$===","$prepare_data","$bar","$line","$step","$spline","$get_chart_id","$create_chart_div","$chart_bar_script","$to_html","$chart_line_script","$chart_step_script","$chart_spline_script","$+","$uuid","$shift","$with_index","$map","$unshift","$get_chart_height","$get_chart_width","$to_s","$join","$%","$index","$gsub","$each_line","$chomp","$push","$split","$each","$open","$chr","$rand"]),t.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal"),e.$include(t.const_get([t.Object.$$scope],"Asciidoctor",!0,!0)),function(n,e,r){function a(){}var c,o=a=s(n,e,"ChartBlockMacro",a),h=(o.$$proto,o.$$scope),_=r.slice().concat(h);o.$use_dsl(),o.$named("chart"),o.$name_positional_attributes("type","width","height"),t.defn(o,"$process",c=function(n,e,r){var a,s,c=this,o=i,h=i,l=i,u=i,d=i;return o=n.$normalize_asset_path(e,"target"),h=n.$read_asset(o,$(["warn_on_failure","normalize"],{warn_on_failure:!0,normalize:!0})),(a=(s=h["$nil?"]())!==!1&&s!==i&&null!=s?s:h["$empty?"]())===i||null==a||a.$$is_boolean&&1!=a?(l=t.const_get(_,"ChartBackend",!0,!0).$resolve_engine(r,n.$document()),u=t.const_get(_,"PlainRubyCSV",!0,!0).$parse(h),d=t.const_get(_,"ChartBackend",!0,!0).$process(l,r,u),c.$create_pass_block(n,d,r,$(["subs"],{subs:i}))):i},c.$$arity=3)}(r.base,t.const_get([t.const_get(a,"Extensions",!0,!0).$$scope],"BlockMacroProcessor",!0,!0),a),function(n,e,r){function a(){}var c,o=a=s(n,e,"ChartBlockProcessor",a),h=(o.$$proto,o.$$scope),_=r.slice().concat(h);o.$use_dsl(),o.$named("chart"),o.$on_context("literal"),o.$name_positional_attributes("type","width","height"),o.$parse_content_as("raw"),t.defn(o,"$process",c=function(n,e,r){var a=this,s=i,c=i,o=i;return s=t.const_get(_,"ChartBackend",!0,!0).$resolve_engine(r,n.$document()),c=t.const_get(_,"PlainRubyCSV",!0,!0).$parse(e.$source()),o=t.const_get(_,"ChartBackend",!0,!0).$process(s,r,c),a.$create_pass_block(n,o,r,$(["subs"],{subs:i}))},c.$$arity=3)}(r.base,t.const_get([t.const_get(a,"Extensions",!0,!0).$$scope],"BlockProcessor",!0,!0),a),function(n,e,r){function a(){}var i,$=a=s(n,e,"ChartAssetsDocinfoProcessor",a),c=($.$$proto,$.$$scope),o=r.slice().concat(c);$.$use_dsl(),$.$at_location("header"),t.cdecl(c,"C3JS_STYLESHEET",'<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/c3/0.3.0/c3.min.css">'),t.cdecl(c,"D3JS_SCRIPT",'<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js" charset="utf-8"></script>'),t.cdecl(c,"C3JS_SCRIPT",'<script src="http://cdnjs.cloudflare.com/ajax/libs/c3/0.3.0/c3.min.js"></script>'),t.cdecl(c,"CHARTIST_STYLESHEET",'<link rel="stylesheet" href="http://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">'),t.cdecl(c,"CHARTIST_SCRIPT",'<script src="http://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>'),t.cdecl(c,"CHARTJS_SCRIPT",'<script src="http://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>'),t.defn($,"$process",i=function(n){return"\n"+t.const_get(o,"C3JS_STYLESHEET",!0,!0)+"\n"+t.const_get(o,"D3JS_SCRIPT",!0,!0)+"\n"+t.const_get(o,"C3JS_SCRIPT",!0,!0)+"\n"+t.const_get(o,"CHARTIST_STYLESHEET",!0,!0)+"\n"+t.const_get(o,"CHARTIST_SCRIPT",!0,!0)+"\n"+t.const_get(o,"CHARTJS_SCRIPT",!0,!0)},i.$$arity=1)}(r.base,t.const_get([t.const_get(a,"Extensions",!0,!0).$$scope],"DocinfoProcessor",!0,!0),a),function(n,e,r){function a(){}var $,c,o=a=s(n,null,"ChartBackend",a),h=(o.$$proto,o.$$scope),_=r.slice().concat(h);t.defs(o,"$resolve_engine",$=function(t,n){var e;return(e=t["$key?"]("engine"))===i||null==e||e.$$is_boolean&&1!=e?(e=n.$attributes()["$key?"]("chart-engine"))===i||null==e||e.$$is_boolean&&1!=e?"c3js":n.$attributes()["$[]"]("chart-engine").$downcase():t["$[]"]("engine").$downcase()},$.$$arity=2),t.defs(o,"$process",c=function(n,e,r){var a,s,$=i,c=i,o=i,h=i;return $=e["$[]"]("type"),function(){return c=n,"c3js"["$==="](c)?(s=t.const_get(_,"C3jsChartBuilder",!0,!0).$prepare_data(r),a=t.to_ary(s),o=null==a[0]?i:a[0],h=null==a[1]?i:a[1],function(){return c=$,"bar"["$==="](c)?t.const_get(_,"C3jsChartBuilder",!0,!0).$bar(o,h,e):"line"["$==="](c)?t.const_get(_,"C3jsChartBuilder",!0,!0).$line(o,h,e):"step"["$==="](c)?t.const_get(_,"C3jsChartBuilder",!0,!0).$step(o,h,e):"spline"["$==="](c)?t.const_get(_,"C3jsChartBuilder",!0,!0).$spline(o,h,e):t.const_get(_,"C3jsChartBuilder",!0,!0).$line(o,h,e)}()):"chartist"["$==="](c)?(s=t.const_get(_,"ChartistChartBuilder",!0,!0).$prepare_data(r),a=t.to_ary(s),o=null==a[0]?i:a[0],h=null==a[1]?i:a[1],function(){return c=$,"bar"["$==="](c)?t.const_get(_,"ChartistChartBuilder",!0,!0).$bar(o,h,e):("line"["$==="](c),t.const_get(_,"ChartistChartBuilder",!0,!0).$line(o,h,e))}()):"chartjs"["$==="](c)?(s=t.const_get(_,"ChartjsChartBuilder",!0,!0).$prepare_data(r),a=t.to_ary(s),o=null==a[0]?i:a[0],h=null==a[1]?i:a[1],function(){return c=$,"line"["$==="](c),t.const_get(_,"ChartjsChartBuilder",!0,!0).$line(o,h,e)}()):i}()},c.$$arity=3)}(r.base,0,a),function(e,r,a){function $(){}var o,h,_,l,u,d,p,g,f,y,b,v,C,m,j=$=s(e,null,"C3jsChartBuilder",$),k=(j.$$proto,j.$$scope),w=a.slice().concat(k);t.defs(j,"$bar",o=function(t,n,e){var r=this,a=i,s=i,$=i;return a=r.$get_chart_id(),s=r.$create_chart_div(a),$=r.$chart_bar_script(a,t,n,e),r.$to_html(s,$)},o.$$arity=3),t.defs(j,"$line",h=function(t,n,e){var r=this,a=i,s=i,$=i;return a=r.$get_chart_id(),s=r.$create_chart_div(a),$=r.$chart_line_script(a,t,n,e),r.$to_html(s,$)},h.$$arity=3),t.defs(j,"$step",_=function(t,n,e){var r=this,a=i,s=i,$=i;return a=r.$get_chart_id(),s=r.$create_chart_div(a),$=r.$chart_step_script(a,t,n,e),r.$to_html(s,$)},_.$$arity=3),t.defs(j,"$spline",l=function(t,n,e){var r=this,a=i,s=i,$=i;return a=r.$get_chart_id(),s=r.$create_chart_div(a),$=r.$chart_spline_script(a,t,n,e),r.$to_html(s,$)},l.$$arity=3),t.defs(j,"$create_chart_div",u=function(t){return'<div id="'+t+'"></div>'},u.$$arity=1),t.defs(j,"$get_chart_id",d=function(){return n("chart",t.const_get(w,"PlainRubyRandom",!0,!0).$uuid())},d.$$arity=0),t.defs(j,"$prepare_data",p=function(t){var n,e=this,r=i;return r=t["$[]"](0),t.$shift(),c(t.$map(),"with_index",[],(n=function(t,e){n.$$s;return null==t&&(t=i),null==e&&(e=i),t.$unshift(""+e)},n.$$s=e,n.$$arity=2,n)),[t,r]},p.$$arity=1),t.defs(j,"$chart_bar_script",g=function(t,n,e,r){var a=this,s=i,$=i;return s=a.$get_chart_height(r),$=a.$get_chart_width(r),'\n<script type="text/javascript">\nc3.generate({\n  bindto: \'#'+t+"',\n  size: { height: "+s+", width: "+$+" },\n  data: {\n    columns: "+n.$to_s()+",\n    type: 'bar'\n  },\n  axis: {\n    x: {\n      type: 'category',\n      categories: "+e.$to_s()+"\n    }\n  }\n});\n</script>"},g.$$arity=4),t.defs(j,"$chart_line_script",f=function(t,n,e,r){var a=this,s=i,$=i;return s=a.$get_chart_height(r),$=a.$get_chart_width(r),'\n<script type="text/javascript">\nc3.generate({\n  bindto: \'#'+t+"',\n  size: { height: "+s+", width: "+$+" },\n  data: {\n    columns: "+n.$to_s()+"\n  },\n  axis: {\n    x: {\n      type: 'category',\n      categories: "+e.$to_s()+"\n    }\n  }\n});\n</script>"},f.$$arity=4),t.defs(j,"$chart_step_script",y=function(t,n,e,r){var a=this,s=i,$=i;return s=a.$get_chart_height(r),$=a.$get_chart_width(r),'\n<script type="text/javascript">\nc3.generate({\n  bindto: \'#'+t+"',\n  size: { height: "+s+", width: "+$+" },\n  data: {\n    columns: "+n.$to_s()+",\n    type: 'step'\n  },\n  axis: {\n    x: {\n      type: 'category',\n      categories: "+e.$to_s()+"\n    }\n  }\n});\n</script>"},y.$$arity=4),t.defs(j,"$chart_spline_script",b=function(t,n,e,r){var a=this,s=i,$=i;return s=a.$get_chart_height(r),$=a.$get_chart_width(r),'\n<script type="text/javascript">\nc3.generate({\n  bindto: \'#'+t+"',\n  size: { height: "+s+", width: "+$+" },\n  data: {\n    columns: "+n.$to_s()+",\n    type: 'spline'\n  },\n  axis: {\n    x: {\n      type: 'category',\n      categories: "+e.$to_s()+"\n    }\n  }\n});\n</script>"},b.$$arity=4),t.defs(j,"$to_html",v=function(t,n){return"\n    "+t+"\n    "+n+"\n    "},v.$$arity=2),t.defs(j,"$get_chart_height",C=function(t){var n;return(n=t["$key?"]("height"))===i||null==n||n.$$is_boolean&&1!=n?"400":t["$[]"]("height")},C.$$arity=1),t.defs(j,"$get_chart_width",m=function(t){var n;return(n=t["$key?"]("width"))===i||null==n||n.$$is_boolean&&1!=n?"600":t["$[]"]("width")},m.$$arity=1)}(r.base,0,a),function(e,r,a){function o(){}var h,_,l,u,d=o=s(e,null,"ChartjsChartBuilder",o),p=(d.$$proto,d.$$scope),g=a.slice().concat(p);t.defs(d,"$line",h=function(e,r,a){var s,o=this,h=i,_=i,l=i,u=i,d=i,p=i,f=i,y=i,b=i;return h=[$(["r","g","b"],{r:220,g:220,b:220}),$(["r","g","b"],{r:151,g:187,b:205})],_=c(e,"map",[],(s=function(t){var n=(s.$$s,i),r=i;return null==t&&(t=i),n=h["$[]"](e.$index(t)["$%"](2)),r="rgba("+n["$[]"]("r")+","+n["$[]"]("g")+","+n["$[]"]("b")+",1.0)",'\n{\n  fillColor: "'+r.$gsub("1.0","0.2")+'",\n  strokeColor: "'+r+'",\n  pointColor: "'+r+'",\n  pointHighlightStroke: "'+r+'",\n  pointStrokeColor: "#fff",\n  pointHighlightFill: "#fff",\n  data: '+t.$to_s()+"\n}\n      "},s.$$s=o,s.$$arity=1,s)).$join(","),l=n("chart",t.const_get(g,"PlainRubyRandom",!0,!0).$uuid()),u=o.$get_chart_height(a),d=o.$get_chart_width(a),p='<div style="width:'+d+"px; height:"+u+'px"><canvas id="'+l+'"></canvas></div>',f='var ctx = document.getElementById("'+l+'").getContext("2d");',y="var data = {\n  labels: "+r.$to_s()+",\n  datasets: [\n    "+_+"\n  ]\n};",b="var chart = new Chart(ctx).Line(data, {responsive : true});","\n    "+p+'<script type="text/javascript">window.onload = function() {\n    '+f+"\n    "+y+"\n    "+b+"\n}\n</script>"},h.$$arity=3),t.defs(d,"$prepare_data",_=function(t){var n=i;return n=t["$[]"](0),t.$shift(),[t,n]},_.$$arity=1),t.defs(d,"$get_chart_height",l=function(t){var n;return(n=t["$key?"]("height"))===i||null==n||n.$$is_boolean&&1!=n?"400":t["$[]"]("height")},l.$$arity=1),t.defs(d,"$get_chart_width",u=function(t){var n;return(n=t["$key?"]("width"))===i||null==n||n.$$is_boolean&&1!=n?"600":t["$[]"]("width")},u.$$arity=1)}(r.base,0,a),function(e,r,a){function $(){}var c,o,h,_,l,u,d,p,g,f,y=$=s(e,null,"ChartistChartBuilder",$),b=(y.$$proto,y.$$scope),v=a.slice().concat(b);t.defs(y,"$bar",c=function(t,n,e){var r=this,a=i,s=i,$=i;return a=r.$get_chart_id(),s=r.$create_chart_div(a),$=r.$chart_bar_script(a,t,n,e),r.$to_html(s,$)},c.$$arity=3),t.defs(y,"$line",o=function(t,n,e){var r=this,a=i,s=i,$=i;return a=r.$get_chart_id(),s=r.$create_chart_div(a),$=r.$chart_line_script(a,t,n,e),r.$to_html(s,$)},o.$$arity=3),t.defs(y,"$create_chart_div",h=function(t){return'<div id="'+t+'"class="ct-chart"></div>'},h.$$arity=1),t.defs(y,"$get_chart_id",_=function(){return n("chart",t.const_get(v,"PlainRubyRandom",!0,!0).$uuid())},_.$$arity=0),t.defs(y,"$prepare_data",l=function(t){var n=i;return n=t["$[]"](0),t.$shift(),[t,n]},l.$$arity=1),t.defs(y,"$chart_bar_script",u=function(t,n,e,r){var a=this,s=i;return s=a.$get_chart_height(r),a.$get_chart_width(r),'\n<script type="text/javascript">\nvar options = {\n  height: \''+s+'\',\n  colors:["#72B3CC", "#8EB33B"]\n};\nvar data = {\n  labels: '+e.$to_s()+",\n  series: "+n.$to_s()+"\n};\nnew Chartist.Bar('#"+t+"', data, options);\n</script>"},u.$$arity=4),t.defs(y,"$chart_line_script",d=function(t,n,e,r){var a=this,s=i,$=i;return s=a.$get_chart_height(r),$=a.$get_chart_width(r),'\n<script type="text/javascript">\nvar options = {\n  height: \''+s+"',\n  width: '"+$+'\',\n  colors:["#72B3CC", "#8EB33B"]\n};\nvar data = {\n  labels: '+e.$to_s()+",\n  series: "+n.$to_s()+"\n};\nnew Chartist.Line('#"+t+"', data, options);\n</script>"},d.$$arity=4),t.defs(y,"$to_html",p=function(t,n){return"\n    "+t+"\n    "+n+"\n    "},p.$$arity=2),t.defs(y,"$get_chart_height",g=function(t){var n;return(n=t["$key?"]("height"))===i||null==n||n.$$is_boolean&&1!=n?"400":t["$[]"]("height")},g.$$arity=1),t.defs(y,"$get_chart_width",f=function(t){var n;return(n=t["$key?"]("width"))===i||null==n||n.$$is_boolean&&1!=n?"600":t["$[]"]("width")},f.$$arity=1)}(r.base,0,a),function(n,e,r){function a(){}var $,o,h=a=s(n,null,"PlainRubyCSV",a),_=(h.$$proto,h.$$scope),l=r.slice().concat(_);t.defs(h,"$parse",$=function(t){var n,e=this,r=i;return r=[],c(t,"each_line",[],(n=function(t){var e=(n.$$s,i);return null==t&&(t=i),e=t.$chomp(),r.$push(e.$split(","))},n.$$s=e,n.$$arity=1,n)),r},$.$$arity=1),t.defs(h,"$read",o=function(n){var e,r=this,a=i;return a=[],c(t.const_get(l,"File",!0,!0).$open(n),"each",[],(e=function(t){var n=(e.$$s,i);return null==t&&(t=i),n=t.$chomp(),a.$push(n.$split(","))},e.$$s=r,e.$$arity=1,e)),a},o.$$arity=1)}(r.base,0,a),function(e,r,a){function i(){}var $,h=i=s(e,null,"PlainRubyRandom",i),_=(h.$$proto,h.$$scope);a.slice().concat(_);return t.defs(h,"$uuid",$=function(){var t,e=this;return c(o(0,8,!0),"map",[],(t=function(){return n(65,(t.$$s||this).$rand(26)).$chr()},t.$$s=e,t.$$arity=0,t)).$join()},$.$$arity=0)}(r.base,0,a)},function(t){var n,e=t.top,r=[t],a=t.nil,i=(t.breaker,t.slice,t.send);t.add_stubs(["$==","$require","$register","$basebackend?","$document","$block_macro","$block","$docinfo_processor"]),t.const_get(r,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&e.$require("chart-block-macro/extension"),i(t.const_get(r,"Extensions",!0,!0),"register",[],(n=function(){var e,i=n.$$s||this;return(e=i.$document()["$basebackend?"]("html"))===a||null==e||e.$$is_boolean&&1!=e?a:(i.$block_macro(t.const_get(r,"ChartBlockMacro",!0,!0)),i.$block(t.const_get(r,"ChartBlockProcessor",!0,!0)),i.$docinfo_processor(t.const_get(r,"ChartAssetsDocinfoProcessor",!0,!0)))},n.$$s=e,n.$$arity=0,n))}(Opal);
//# sourceMappingURL=asciidoctor-chart-block-macro.min.js.map