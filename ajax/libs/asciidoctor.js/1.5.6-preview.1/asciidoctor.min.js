if("undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=require("opal-runtime").Opal),"undefined"==typeof Opal){var GLOBAL_COUNTER={};(function(e){function t(){}function n(){}function r(){}function $(){}function o(){}function i(e,t,n){var r=[e],$=e.base;if(n||$==b.Object)for(var o=$.$$super;o!==b.BasicObject&&o!==b.Object;)r.push(o.$$scope),o=o.$$super;for(var i=0,l=r.length;i<l;i++)if(r[i].hasOwnProperty(t))return r[i][t]}function l(e){var t=b.Object.$$scope;if(t.hasOwnProperty(e))return t[e]}function a(e,t,n){var r,$,o,l=e.length,a=e[l-1];for(r=l-1;r>=0;r--){var s=e[r];if(s.$$is_singleton?($=s.$$scope,n=s===a):$=s,$.hasOwnProperty(t)&&(o=$[t]),null!=o)return o;if(null!=(o=i($,t,n)))return o}}function s(e,t){var n,r,$=t.$instance_methods();for(n=$.length-1;n>=0;n--)r="$"+$[n],b.bridge_method(e,t,r,t.$$proto[r])}function c(e,t){var n=t.$__id__();m[n]||(m[n]=[]),m[n].push(e)}var u,_=this;if("undefined"!=typeof global&&(_=global),"undefined"!=typeof window&&(_=window),u="object"==typeof _.console?_.console:null==_.console?_.console={}:{},"log"in u||(u.log=function(){}),"warn"in u||(u.warn=u.log),void 0!==this.Opal)return u.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var d,f,p,h,g,b=this.Opal={},m={},y=function(){};y.prototype=b,b.constructor=y,b.constants=[],b.global=_,_.Opal=b,b.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var v=b.hasOwnProperty,w=(b.slice=Array.prototype.slice,4);b.uid=function(){return w+=2},b.id=function(e){return e.$$id||(e.$$id=b.uid())},b.cvars={},b.gvars={},b.exit=function(e){b.gvars.DEBUG&&u.log("Exited with status "+e)},b.exceptions=[],b.pop_exception=function(){b.gvars["!"]=b.exceptions.pop()||d},b.get=function(e){return b.const_get([this],e,!0,!0)},b.counter_count=function(e){void 0===GLOBAL_COUNTER[e]&&(GLOBAL_COUNTER[e]=0),GLOBAL_COUNTER[e]+=1},b.const_get=function(e,t,n,r){var $=a(e,t,n);if(null!=$)return $;if(n&&($=l(t)),null!=$)return $;if(r){var o=e[e.length-1].base;if(o.$$is_a_module)return o.$const_missing(t)}},b.create_scope=function(e,t,n){var r=function(){},$=r.prototype=new e.constructor;t.$$scope=$,t.$$base_module=e.base,$.base=t,$.constructor=r,$.constants=[],n&&(b.cdecl(e,n,t),r.displayName=n+"_scope_alloc")},b.casgn=function(e,t,n){function r(e,t){e.$$name=t;for(t in e.$$scope){var n=e.$$scope[t];n.$$name===d&&(n.$$is_class||n.$$is_module)&&r(n,t)}}var $=e.$$scope;if((n.$$is_class||n.$$is_module)&&((n.$$is_class||n.$$base_module===p)&&(n.$$base_module=e),n.$$name===d&&n.$$base_module.$$name!==d&&r(n,t)),$.constants.push(t),$[t]=n,e.$$is_module&&e.$$included_in)for(var o=0;o<e.$$included_in.length;o++){var i=e.$$included_in[o];b.casgn(i,t,n)}return n},b.cdecl=function(e,t,n){return(n.$$is_class||n.$$is_module)&&null==n.$$orig_scope&&(n.$$name=t,n.$$orig_scope=e,n.$$base_module=e.base,e.constructor[t]=n),e.constants.push(t),e[t]=n},b.klass=function(e,t,n,r){var $,o,i;if(e.$$is_class||e.$$is_module||(e=e.$$class),"function"==typeof t&&(o=t,t=p),($=e.$$scope[n])&&$.$$orig_scope===e.$$scope){if(!$.$$is_class)throw b.TypeError.$new(n+" is not a class");if(t&&$.$$super!==t)throw b.TypeError.$new("superclass mismatch for class "+n);return $}return null==t&&(t=p),i=o||b.boot_class_alloc(n,r,t),$=b.setup_class_object(n,i,t.$$name,t.constructor),$.$$super=t,$.$$parent=t,b.create_scope(e.$$scope,$,n),e[n]=$,o?b.bridge($,i):(t!==p&&t!==f&&b.donate_constants(t,$),t.$inherited&&t.$inherited($)),$},b.boot_class_alloc=function(e,t,n){if(n){var r=function(){};r.prototype=n.$$proto||n.prototype,t.prototype=new r}return e&&(t.displayName=e+"_alloc"),t.prototype.constructor=t,t},b.setup_module_or_class=function(e){e.$$id=b.uid(),e.$$is_a_module=!0,e.$$inc=[],e.$$name=d,e.$$cvars=Object.create(null)},b.setup_class_object=function(e,t,n,r){var $=function(){};$.prototype=r.prototype,$.displayName=n;var o=function(){};o.prototype=new $;var i=new o;return b.setup_module_or_class(i),i.$$alloc=t,i.$$name=e||d,o.displayName="#<Class:"+(e||"#<Class:"+i.$$id+">")+">",i.$$proto=t.prototype,i.$$proto.$$class=i,i.constructor=o,i.$$is_class=!0,i.$$class=g,i},b.module=function(e,t){var n;if(e.$$is_class||e.$$is_module||(e=e.$$class),v.call(e.$$scope,t)){if(n=e.$$scope[t],!n.$$is_module&&n!==p)throw b.TypeError.$new(t+" is not a module")}else n=b.module_allocate(h),b.create_scope(e.$$scope,n,t);return n},b.module_initialize=function(e,t){if(t!==d){var n=t.$$s;t.$$s=null,t.call(e),t.$$s=n}return d},b.module_allocate=function(e){function t(){}var n=function(){};n.prototype=e.$$alloc.prototype,t.prototype=new n;var r=new t,$={};return b.setup_module_or_class(r),r.$$included_in=[],t.displayName="#<Class:#<Module:"+r.$$id+">>",r.$$proto=$,r.constructor=t,r.$$is_module=!0,r.$$class=h,r.$$super=e,r.$$parent=e,r},b.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.$$is_class||e.$$is_module?b.build_class_singleton_class(e):b.build_object_singleton_class(e)},b.build_class_singleton_class=function(e){var t,n,r;return e.$$meta?e.$$meta:(t=e.constructor,n=e===f?g:b.build_class_singleton_class(e.$$super),r=b.setup_class_object(null,t,n.$$name,n.constructor),r.$$super=n,r.$$parent=n,b.create_scope(e.$$scope,r),r.$$is_singleton=!0,r.$$singleton_of=e,e.$$meta=r)},b.build_object_singleton_class=function(e){var t=e.$$class,n="#<Class:#<"+t.$$name+":"+t.$$id+">>",r=b.boot_class_alloc(n,function(){},t),$=b.setup_class_object(n,r,t.$$name,t.constructor);return $.$$super=t,$.$$parent=t,$.$$class=t.$$class,$.$$scope=t.$$scope,$.$$proto=e,$.$$is_singleton=!0,$.$$singleton_of=e,e.$$meta=$},b.class_variables=function(e){var t,n=b.ancestors(e),r=n.length,$={};for(t=r-1;t>=0;t--){var o=n[t];for(var i in o.$$cvars)$[i]=o.$$cvars[i]}return $},b.class_variable_set=function(e,t,n){var r,$=b.ancestors(e),o=$.length;for(r=o-2;r>=0;r--){var i=$[r];if(v.call(i.$$cvars,t))return i.$$cvars[t]=n,n}return e.$$cvars[t]=n,n},b.bridge_method=function(e,t,n,r){var $,o,i,l;for($=e.$$bridge.$ancestors(),o=0,l=$.length;o<l&&(i=$[o],!v.call(i.$$proto,n)||!i.$$proto[n]||i.$$proto[n].$$donated||i.$$proto[n].$$stub||i===t);o++)if(i===t){e.prototype[n]=r;break}},b.bridge_methods=function(e,t){var n,r=m[e.$__id__()],$=t.$__id__();if(r)for(m[$]=r.slice(),n=r.length-1;n>=0;n--)s(r[n],t)},b.has_cyclic_dep=function e(t,n,r,$){var o,i,l;for(o=n.length-1;o>=0;o--)if(l=n[o],i=l.$$id,!$[i]){if($[i]=!0,i===t)return!0;if(e(t,l[r],r,$))return!0}return!1},b.append_features=function(e,t){var n,r,$;for($=t.$$inc.length-1;$>=0;$--)if(t.$$inc[$]===e)return;if(!t.$$is_class&&b.has_cyclic_dep(t.$$id,[e],"$$inc",{}))throw b.ArgumentError.$new("cyclic include detected");for(t.$$inc.push(e),e.$$included_in.push(t),b.bridge_methods(t,e),n={$$name:e.$$name,$$proto:e.$$proto,$$parent:t.$$parent,$$module:e,$$iclass:!0},t.$$parent=n,r=e.$instance_methods(),$=r.length-1;$>=0;$--)b.update_includer(e,t,"$"+r[$]);b.donate_constants(e,t)},b.stubs={},b.bridge=function(e,n){if(n.$$bridge)throw b.ArgumentError.$new("already bridged");b.stub_subscribers.push(n.prototype);for(var r in b.stubs)r in n.prototype||(n.prototype[r]=b.stub_for(r));n.prototype.$$class=e,n.$$bridge=e;for(var $=e.$ancestors(),o=$.length-1;o>=0;o--)c(n,$[o]),s(n,$[o]);for(var i in t.prototype){var l=t.prototype[l];!l||!l.$$stub||i in n.prototype||(n.prototype[i]=l)}return e},b.donate_constants=function(e,t){for(var n=e.$$scope.constants,r=t.$$scope,$=r.constants,o=0,i=n.length;o<i;o++)$.push(n[o]),r[n[o]]=e.$$scope[n[o]]},b.update_includer=function(e,t,n){var r,$,o,i,l,a,s,c;if(o=e.$$proto[n],r=t.$$proto,$=r[n],!r.hasOwnProperty(n)||$.$$donated||$.$$stub)if(r.hasOwnProperty(n)&&!$.$$stub){for(i=t.$$inc,l=0,a=i.length;l<a;l++)i[l]===$.$$donated&&(s=l),i[l]===e&&(c=l);s<=c&&(r[n]=o,r[n].$$donated=e)}else r[n]=o,r[n].$$donated=e;else;t.$$included_in&&b.update_includers(t,n)},b.update_includers=function(e,t){var n,r,$,o;if(o=e.$$included_in)for(n=0,r=o.length;n<r;n++)$=o[n],b.update_includer(e,$,t)},b.ancestors=function(e){for(var t,n=e,r=[];n;){r.push(n);for(var $=0;$<n.$$inc.length;$++){t=b.ancestors(n.$$inc[$]);for(var o=0;o<t.length;o++)r.push(t[o])}n=n.$$is_singleton&&n.$$singleton_of.$$is_module?n.$$singleton_of.$$super:n.$$is_class?n.$$super:null}return r},b.add_stubs=function(e){var t,n,r,$,o,i=b.stub_subscribers,l=e.length,a=i.length,s=b.stubs;for(n=0;n<l;n++)if($=e[n],!s.hasOwnProperty($))for(s[$]=!0,o=b.stub_for($),r=0;r<a;r++)t=i[r],$ in t||(t[$]=o)},b.stub_subscribers=[t.prototype],b.add_stub_for=function(e,t){var n=b.stub_for(t);e[t]=n},b.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var n=new Array(arguments.length),r=0,$=n.length;r<$;r++)n[r]=arguments[r];return this.$method_missing.apply(this,[e.slice(1)].concat(n))}return t.$$stub=!0,t},b.ac=function(e,t,n,r){var $="";throw n.$$is_class||n.$$is_module?$+=n.$$name+".":$+=n.$$class.$$name+"#",$+=r,b.ArgumentError.$new("["+$+"] wrong number of arguments("+e+" for "+t+")")},b.block_ac=function(e,t,n){var r="`block in "+n+"'";throw b.ArgumentError.$new(r+": wrong number of arguments ("+e+" for "+t+")")},b.find_super_dispatcher=function(e,t,n,r,$){var o,i;if(o=$?e.$$is_class||e.$$is_module?$.$$super:e.$$class.$$proto:b.find_obj_super_dispatcher(e,t,n),i=o["$"+t],!r&&i.$$stub&&b.Kernel.$method_missing===e.$method_missing)throw b.NoMethodError.$new("super: no superclass method `"+t+"' for "+e,t);return i},b.find_iter_super_dispatcher=function(e,t,n,r,$){var o=t;if(!n)throw b.RuntimeError.$new("super called outside of method");if($&&n.$$define_meth)throw b.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(o=n.$$jsid),b.find_super_dispatcher(e,o,n,r)},b.find_obj_super_dispatcher=function(e,t,n){var r=e.$$meta||e.$$class;if(!(r=b.find_owning_class(r,n)))throw new Error("could not find current class for super()");return b.find_super_func(r,"$"+t,n)},b.find_owning_class=function(e,t){for(var n=t.$$owner;e&&(!e.$$iclass||e.$$module!==t.$$donated)&&(!e.$$iclass||e.$$module!==n)&&(!n.$$is_singleton||e!==n.$$singleton_of.$$class)&&e!==n;)e=e.$$parent;return e},b.find_super_func=function(e,t,n){for(var r=e.$$parent;r;){var $=r.$$proto[t];if($&&$!==n)break;r=r.$$parent}return r.$$proto},b.ret=function(e){throw b.returner.$v=e,b.returner},b.brk=function(e,t){throw t.$v=e,t},b.new_brk=function(){return new Error("unexpected break")},b.yield1=function(e,t){if("function"!=typeof e)throw b.LocalJumpError.$new("no block given");var n=e.$$has_top_level_mlhs_arg,r=e.$$has_trailing_comma_in_args;return(e.length>1||(n||r)&&1===e.length)&&(t=b.to_ary(t)),(e.length>1||r&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},b.yieldX=function(e,t){if("function"!=typeof e)throw b.LocalJumpError.$new("no block given");if(e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var n=new Array(t.length),r=0,$=n.length;r<$;r++)n[r]=t[r];return e.apply(null,n)}return e.apply(null,t)},b.rescue=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.$$is_array){var $=b.rescue(e,r);if($)return $}else{if(r===b.JS.Error)return r;if(r["$==="](e))return r}}return null},b.is_a=function(e,t){if(e.$$meta===t||e.$$class===t)return!0;if(e.$$is_number&&t.$$is_number_class)return!0;var n,r,$=b.ancestors(e.$$is_class?b.get_singleton_class(e):e.$$meta||e.$$class);for(n=0,r=$.length;n<r;n++)if($[n]===t)return!0;return!1},b.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;throw b.TypeError.$new("Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}throw b.TypeError.$new("no implicit conversion of "+e.$$class+" into Hash")},b.to_ary=function(e){if(e.$$is_array)return e;if(e["$respond_to?"]("to_ary",!0)){var t=e.$to_ary();if(t===d)return[e];if(t.$$is_array)return t;throw b.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")}return[e]},b.to_a=function(e){if(e.$$is_array)return e.slice();if(e["$respond_to?"]("to_a",!0)){var t=e.$to_a();if(t===d)return[e];if(t.$$is_array)return t;throw b.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")}return[e]},b.extract_kwargs=function(e){var t=e[e.length-1];return null!=t&&t["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(e,e.length-1,1),t.$to_hash()):b.hash2([],{})},b.kwrestargs=function(e,t){var n=[],r={},$=null,o=e.$$smap;for($ in o)t[$]||(n.push($),r[$]=o[$]);return b.hash2(n,r)},b.send=function(e,t,n,r){if("string"==typeof t){var $=t;return t=e["$"+$],t?(t.$$p=r,t.apply(e,n)):e.$method_missing.apply(e,[$].concat(n))}if("function"==typeof t)return t.$$p=r,t.apply(e,n)},b.def=function(e,t,n){e.$$eval||!e.$$is_class&&!e.$$is_module?b.defs(e,t,n):b.defn(e,t,n)},b.defn=function(e,t,n){e.$$proto[t]=n,n.$$owner=e,e.$$is_module&&(b.update_includers(e,t),e.$$module_function&&b.defs(e,t,n));var r=e.$__id__&&!e.$__id__.$$stub&&m[e.$__id__()];if(r)for(var $=r.length-1;$>=0;$--)b.bridge_method(r[$],e,t,n);var o=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||o?o&&o.$singleton_method_added&&!o.$singleton_method_added.$$stub&&o.$singleton_method_added(t.substr(1)):e.$method_added(t.substr(1)),d},b.defs=function(e,t,n){b.defn(b.get_singleton_class(e),t,n)},b.rdef=function(e,t){if(!v.call(e.$$proto,t))throw b.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());delete e.$$proto[t],e.$$is_singleton?e.$$proto.$singleton_method_removed&&!e.$$proto.$singleton_method_removed.$$stub&&e.$$proto.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},b.udef=function(e,t){if(!e.$$proto[t]||e.$$proto[t].$$stub)throw b.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());b.add_stub_for(e.$$proto,t),e.$$is_singleton?e.$$proto.$singleton_method_undefined&&!e.$$proto.$singleton_method_undefined.$$stub&&e.$$proto.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},b.alias=function(e,t,n){var r,$="$"+t,o="$"+n,i=e.$$proto["$"+n];if(e.$$eval)return b.alias(b.get_singleton_class(e),t,n);if("function"!=typeof i||i.$$stub){for(var l=e.$$super;"function"!=typeof i&&l;)i=l[o],l=l.$$super;if("function"!=typeof i||i.$$stub)throw b.NameError.$new("undefined method `"+n+"' for class `"+e.$name()+"'")}return i.$$alias_of&&(i=i.$$alias_of),r=function(){for(var e=r.$$p,t=new Array(arguments.length),n=0;n<arguments.length;n++)t[n]=arguments[n];return e&&(r.$$p=null),b.send(this,i,t,e)},r.length=i.length,r.$$arity=i.$$arity,r.$$parameters=i.$$parameters,r.$$source_location=i.$$source_location,r.$$alias_of=i,r.$$alias_name=t,b.defn(e,$,r),e},b.alias_native=function(e,t,n){var r="$"+t,$=e.$$proto[n];if("function"!=typeof $||$.$$stub)throw b.NameError.$new("undefined native method `"+n+"' for class `"+e.$name()+"'");return b.defn(e,r,$),e},b.hash_init=function(e){e.$$smap=Object.create(null),e.$$map=Object.create(null),e.$$keys=[]},b.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var n,r,$=0,o=e.$$keys,i=o.length;$<i;$++)n=e.$$keys[$],n.$$is_string?r=e.$$smap[n]:(r=n.value,n=n.key),b.hash_put(t,n,r)},b.hash_put=function(t,n,r){if(n.$$is_string)return v.call(t.$$smap,n)||t.$$keys.push(n),void(t.$$smap[n]=r);var $,o,i=n.$hash();if(!v.call(t.$$map,i))return $={key:n,key_hash:i,value:r},t.$$keys.push($),void(t.$$map[i]=$);for($=t.$$map[i];$;){if(n===$.key||n["$eql?"]($.key)){o=e,$.value=r;break}o=$,$=$.next}o&&($={key:n,key_hash:i,value:r},t.$$keys.push($),o.next=$)},b.hash_get=function(e,t){if(t.$$is_string){if(v.call(e.$$smap,t))return e.$$smap[t]}else{var n,r=t.$hash();if(v.call(e.$$map,r))for(n=e.$$map[r];n;){if(t===n.key||t["$eql?"](n.key))return n.value;n=n.next}}},b.hash_delete=function(e,t){var n,r,$=e.$$keys,o=$.length;if(t.$$is_string){if(!v.call(e.$$smap,t))return;for(n=0;n<o;n++)if($[n]===t){$.splice(n,1);break}return r=e.$$smap[t],delete e.$$smap[t],r}var i=t.$hash();if(v.call(e.$$map,i))for(var l,a=e.$$map[i];a;){if(t===a.key||t["$eql?"](a.key)){for(r=a.value,n=0;n<o;n++)if($[n]===a){$.splice(n,1);break}return l&&a.next?l.next=a.next:l?delete l.next:a.next?e.$$map[i]=a.next:delete e.$$map[i],r}l=a,a=a.next}},b.hash_rehash=function(t){for(var n,r,$,o=0,i=t.$$keys.length;o<i;o++)if(!t.$$keys[o].$$is_string&&(n=t.$$keys[o].key.$hash())!==t.$$keys[o].key_hash){for(r=t.$$map[t.$$keys[o].key_hash],$=e;r;){if(r===t.$$keys[o]){$&&r.next?$.next=r.next:$?delete $.next:r.next?t.$$map[t.$$keys[o].key_hash]=r.next:delete t.$$map[t.$$keys[o].key_hash];break}$=r,r=r.next}if(t.$$keys[o].key_hash=n,v.call(t.$$map,n)){for(r=t.$$map[n],$=e;r;){if(r===t.$$keys[o]){$=e;break}$=r,r=r.next}$&&($.next=t.$$keys[o])}else t.$$map[n]=t.$$keys[o]}},b.hash=function(){var e,t,n,r,$,o,i=arguments.length;if(1===i&&arguments[0].$$is_hash)return arguments[0];if(t=new b.Hash.$$alloc,b.hash_init(t),1===i&&arguments[0].$$is_array){for(e=arguments[0],r=e.length,n=0;n<r;n++){if(2!==e[n].length)throw b.ArgumentError.$new("value not of length 2: "+e[n].$inspect());$=e[n][0],o=e[n][1],b.hash_put(t,$,o)}return t}if(1===i){e=arguments[0];for($ in e)e.hasOwnProperty($)&&(o=e[$],b.hash_put(t,$,o));return t}if(i%2!=0)throw b.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<i;n+=2)$=arguments[n],o=arguments[n+1],b.hash_put(t,$,o);return t},b.hash2=function(e,t){var n=new b.Hash.$$alloc;return n.$$smap=t,n.$$map=Object.create(null),n.$$keys=e,n},b.getGLOBAL_COUNTER=function(){return GLOBAL_COUNTER},b.range=function(e,t,n){var r=new b.Range.$$alloc;return r.begin=e,r.end=t,r.exclude=n,r},b.ivar=function(e){return"constructor"===e||"displayName"===e||"__count__"===e||"__noSuchMethod__"===e||"__parent__"===e||"__proto__"===e||"hasOwnProperty"===e||"valueOf"===e?e+"$":e},b.escape_regexp=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},b.modules={},b.loaded_features=["corelib/runtime"],b.current_dir=".",b.require_table={"corelib/runtime":!0},b.normalize=function(e){var t,n,r=[];"."!==b.current_dir&&(e=b.current_dir.replace(/\/*$/,"/")+e),e=e.replace(/\.(rb|opal|js)$/,""),t=e.split("/");for(var $=0,o=t.length;$<o;$++)""!==(n=t[$])&&(".."===n?r.pop():r.push(n));return r.join("/")},b.loaded=function(e){var t,n,r;for(t=0,n=e.length;t<n;t++){if(r=b.normalize(e[t]),b.require_table[r])return;b.loaded_features.push(r),b.require_table[r]=!0}},b.load=function(e){e=b.normalize(e),b.loaded([e]);var t=b.modules[e];if(t)t(b);else{var n=b.config.missing_require_severity,r="cannot load such file -- "+e;"error"===n?b.LoadError?b.LoadError.$new(r):function(){throw r}():"warning"===n&&u.warn("WARNING: LoadError: "+r)}return!0},b.require=function(e){return e=b.normalize(e),!b.require_table[e]&&b.load(e)},b.boot_class_alloc("BasicObject",t),b.boot_class_alloc("Object",n,t),b.boot_class_alloc("Module",$,n),b.boot_class_alloc("Class",r,$),b.BasicObject=f=b.setup_class_object("BasicObject",t,"Class",r),b.Object=p=b.setup_class_object("Object",n,"BasicObject",f.constructor),b.Module=h=b.setup_class_object("Module",$,"Object",p.constructor),b.Class=g=b.setup_class_object("Class",r,"Module",h.constructor),b.constants.push("BasicObject"),b.constants.push("Object"),b.constants.push("Module"),b.constants.push("Class"),f.$$class=g,p.$$class=g,h.$$class=g,g.$$class=g,f.$$super=null,p.$$super=f,h.$$super=p,g.$$super=h,f.$$parent=null,p.$$parent=f,h.$$parent=p,g.$$parent=h,b.base=p,f.$$scope=p.$$scope=b,f.$$orig_scope=p.$$orig_scope=b,h.$$scope=p.$$scope,h.$$orig_scope=p.$$orig_scope,g.$$scope=p.$$scope,g.$$orig_scope=p.$$orig_scope,p.$$proto.toString=function(){return this.$to_s()},p.$$proto.$require=b.require,b.top=new p.$$alloc,b.klass(p,p,"NilClass",o),d=b.nil=new o,d.$$id=4,d.call=d.apply=function(){throw b.LocalJumpError.$new("no block given")},b.breaker=new Error("unexpected break (old)"),b.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect","$coerce_to!","$!=","$[]","$upcase"]),function(t,n){var o,i,l,a,s,c,u,_,d,f,p,h,g,b,m,y=o=$(t,"Opal"),v=(y.$$proto,y.$$scope),w=n.slice().concat(v);e.defs(y,"$bridge",i=function(t,n){return e.bridge(t,n)},i.$$arity=2),e.defs(y,"$type_error",l=function(t,n,$,o){var i;return null==$&&($=r),null==o&&(o=r),(i=$!==!1&&$!==r&&null!=$?o:$)===r||null==i||i.$$is_boolean&&1!=i?e.const_get(w,"TypeError",!0,!0).$new("no implicit conversion of "+t.$class()+" into "+n):e.const_get(w,"TypeError",!0,!0).$new("can't convert "+t.$class()+" into "+n+" ("+t.$class()+"#"+$+" gives "+o.$class())},l.$$arity=-3),e.defs(y,"$coerce_to",a=function(e,t,n){var $,o=this;return($=t["$==="](e))===r||null==$||$.$$is_boolean&&1!=$?((($=e["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$)&&o.$raise(o.$type_error(e,t)),e.$__send__(n)):e},a.$$arity=3),e.defs(y,"$coerce_to!",s=function(e,t,n){var $,o=this,i=r;return i=o.$coerce_to(e,t,n),(($=t["$==="](i))===r||null==$||$.$$is_boolean&&1!=$)&&o.$raise(o.$type_error(e,t,n,i)),i},s.$$arity=3),e.defs(y,"$coerce_to?",c=function(e,t,n){var $,o=this,i=r;return($=e["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$?r:(i=o.$coerce_to(e,t,n),($=i["$nil?"]())===r||null==$||$.$$is_boolean&&1!=$?((($=t["$==="](i))===r||null==$||$.$$is_boolean&&1!=$)&&o.$raise(o.$type_error(e,t,n,i)),i):r)},c.$$arity=3),e.defs(y,"$try_convert",u=function(e,t,n){var $;return($=t["$==="](e))===r||null==$||$.$$is_boolean&&1!=$?($=e["$respond_to?"](n))===r||null==$||$.$$is_boolean&&1!=$?r:e.$__send__(n):e},u.$$arity=3),e.defs(y,"$compare",_=function(t,n){var $,o=this,i=r;return i=t["$<=>"](n),($=i===r)===r||null==$||$.$$is_boolean&&1!=$||o.$raise(e.const_get(w,"ArgumentError",!0,!0),"comparison of "+t.$class()+" with "+n.$class()+" failed"),i},_.$$arity=2),e.defs(y,"$destructure",d=function(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var t=new Array(e.length),n=0,r=t.length;n<r;n++)t[n]=e[n];return t},d.$$arity=1),e.defs(y,"$respond_to?",f=function(e,t){return!(null==e||!e.$$class)&&e["$respond_to?"](t)},f.$$arity=2),e.defs(y,"$inspect",p=function(e){return void 0===e?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},p.$$arity=1),e.defs(y,"$instance_variable_name!",h=function(t){var n,$=this;return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),((n=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))===r||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(w,"NameError",!0,!0).$new("'"+t+"' is not allowed as an instance variable name",t)),t},h.$$arity=1),e.defs(y,"$class_variable_name!",g=function(t){var n,$=this;return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),(n=t.length<3||"@@"!==t.slice(0,2))===r||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(w,"NameError",!0,!0).$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1),e.defs(y,"$const_name!",b=function(t){var n,$=this;return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),(n=t["$[]"](0)["$!="](t["$[]"](0).$upcase()))===r||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(w,"NameError",!0,!0),"wrong constant name "+t),t},b.$$arity=1),e.defs(y,"$pristine",m=function(e,t){var n,$=arguments.length,o=$-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<$;i++)n[i-1]=arguments[i];for(var l,a=n.length-1;a>=0;a--)l=n[a],e.$$proto["$"+l].$$pristine=!0;return r},m.$$arity=-2)}(t.base,n)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $rb_plus(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var self=Opal.top,$scope=Opal,$scopes=[Opal],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$visibility_scopes){function $Module(){}var self=$Module=$klass($base,null,"Module",$Module),def=self.$$proto,$scope=self.$$scope,$scopes=$visibility_scopes.slice().concat($scope),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_const_defined$q_23,TMP_Module_const_get_25,TMP_Module_const_missing_26,TMP_Module_const_set_27,TMP_Module_public_constant_28,TMP_Module_define_method_29,TMP_Module_remove_method_31,TMP_Module_singleton_class$q_32,TMP_Module_include_33,TMP_Module_included_modules_34,TMP_Module_include$q_35,TMP_Module_instance_method_36,TMP_Module_instance_methods_37,TMP_Module_included_38,TMP_Module_extended_39,TMP_Module_method_added_40,TMP_Module_method_removed_41,TMP_Module_method_undefined_42,TMP_Module_module_eval_43,TMP_Module_module_exec_45,TMP_Module_method_defined$q_46,TMP_Module_module_function_47,TMP_Module_name_48,TMP_Module_remove_const_49,TMP_Module_to_s_50,TMP_Module_undef_method_51,TMP_Module_instance_variables_52,TMP_Module_dup_53,TMP_Module_copy_class_variables_54,TMP_Module_copy_constants_55;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var e,t=this;return e=Opal.module_allocate(t),Opal.create_scope(Opal.Module.$$scope,e,null),e},TMP_Module_allocate_1.$$arity=0),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var e=this,t=TMP_Module_initialize_2.$$p,n=t||nil;return t&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(e,n)},TMP_Module_initialize_2.$$arity=0),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(e){var t,n=this;return!!((t=null==e)===nil||null==t||t.$$is_boolean&&1!=t)&&Opal.is_a(e,n)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$<",TMP_Module_$lt_4=function(e){var t,n=this;((t=Opal.const_get($scopes,"Module",!0,!0)["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&n.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"compared with non class/module");var r,$,o,i=n;if(i===e)return!1;for($=0,r=Opal.ancestors(n),o=r.length;$<o;$++)if(r[$]===e)return!0;for($=0,r=Opal.ancestors(e),o=r.length;$<o;$++)if(r[$]===n)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(e){var t,n=this;return(t=n["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_lt(n,e)},TMP_Module_$lt$eq_5.$$arity=1),Opal.defn(self,"$>",TMP_Module_$gt_6=function(e){var t,n=this;return((t=Opal.const_get($scopes,"Module",!0,!0)["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&n.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"compared with non class/module"),$rb_lt(e,n)},TMP_Module_$gt_6.$$arity=1),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(e){var t,n=this;return(t=n["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_gt(n,e)},TMP_Module_$gt$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(e){var t,n=this,r=nil;return n===e?0:(t=Opal.const_get($scopes,"Module",!0,!0)["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t?nil:(r=$rb_lt(n,e),(t=r["$nil?"]())===nil||null==t||t.$$is_boolean&&1!=t?r!==!1&&r!==nil&&null!=r?-1:1:nil)},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(e,t){var n=this;return Opal.alias(n,e,t),n},TMP_Module_alias_method_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(e,t){var n=this;return null==t&&(t=e),Opal.alias_native(n,e,t),n},TMP_Module_alias_native_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){var e=this;return Opal.ancestors(e)},TMP_Module_ancestors_11.$$arity=0),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(e){var t=this;return Opal.append_features(t,e),t},TMP_Module_append_features_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return $send(n,"attr_reader",Opal.to_a(t)),$send(n,"attr_writer",Opal.to_a(t))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];for(var i=n.$$proto,l=t.length-1;l>=0;l--){var a=t[l],s="$"+a,c=Opal.ivar(a),u=function(e){return function(){return null==this[e]?nil:this[e]}}(c);i[c]=nil,u.$$parameters=[],u.$$arity=0,n.$$is_singleton?i.constructor.prototype[s]=u:Opal.defn(n,s,u)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];for(var i=n.$$proto,l=t.length-1;l>=0;l--){var a=t[l],s="$"+a+"=",c=Opal.ivar(a),u=function(e){return function(t){return this[e]=t}}(c);u.$$parameters=[["req"]],u.$$arity=1,i[c]=nil,n.$$is_singleton?i.constructor.prototype[s]=u:Opal.defn(n,s,u)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(e,t){var n,r=this;return(n=r.$$autoload)||(n=r.$$autoload={}),n[e]=t,nil},TMP_Module_autoload_16.$$arity=2),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){var e=this;return Object.keys(Opal.class_variables(e))},TMP_Module_class_variables_17.$$arity=0),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(e){var t=this;e=Opal.Opal["$class_variable_name!"](e);var n=Opal.class_variables(t)[e];return null==n&&t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("uninitialized class variable "+e+" in "+t,e)),n},TMP_Module_class_variable_get_18.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(e,t){var n=this;return e=Opal.Opal["$class_variable_name!"](e),Opal.class_variable_set(n,e,t)},TMP_Module_class_variable_set_19.$$arity=2),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(e){var t=this;return e=Opal.Opal["$class_variable_name!"](e),Opal.class_variables(t).hasOwnProperty(e)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(e){var t=this;if(e=Opal.Opal["$class_variable_name!"](e),Opal.hasOwnProperty.call(t.$$cvars,e)){var n=t.$$cvars[e];return delete t.$$cvars[e],n}t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("cannot remove "+e+" for "+t))},TMP_Module_remove_class_variable_21.$$arity=1),Opal.defn(self,"$constants",TMP_Module_constants_22=function(){return this.$$scope.constants.slice(0)},TMP_Module_constants_22.$$arity=0),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_23=function(e,t){var n,r=this;null==t&&(t=!0),e=Opal.Opal["$const_name!"](e),((n=e["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===nil||null==n||n.$$is_boolean&&1!=n)&&r.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+e,e))
;var $=[r.$$scope];if(t||r===Opal.Object)for(var o=r.$$super;o!==Opal.BasicObject;)$.push(o.$$scope),o=o.$$super;for(var i=0,l=$.length;i<l;i++)if($[i].hasOwnProperty(e))return!0;return!1},TMP_Module_const_defined$q_23.$$arity=-2),Opal.defn(self,"$const_get",TMP_Module_const_get_25=function(e,t){var n,r,$=this;return null==t&&(t=!0),e=Opal.Opal["$const_name!"](e),0===e.indexOf("::")&&"::"!==e&&(e=e.slice(2)),(n=e.indexOf("::")!=-1&&"::"!=e)===nil||null==n||n.$$is_boolean&&1!=n?(((n=e["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===nil||null==n||n.$$is_boolean&&1!=n)&&$.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+e,e)),Opal.const_get([$.$$scope],e,t,!0)):$send(e.$split("::"),"inject",[$],(r=function(e,t){r.$$s;return null==e&&(e=nil),null==t&&(t=nil),e.$const_get(t)},r.$$s=$,r.$$arity=2,r))},TMP_Module_const_get_25.$$arity=-2),Opal.defn(self,"$const_missing",TMP_Module_const_missing_26=function(e){var t=this,n=nil;if(t.$$autoload){var r=t.$$autoload[e];if(r)return t.$require(r),t.$const_get(e)}return n=function(){return t["$=="](Opal.const_get($scopes,"Object",!0,!0))?e:t+"::"+e}(),t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("uninitialized constant "+n,e))},TMP_Module_const_missing_26.$$arity=1),Opal.defn(self,"$const_set",TMP_Module_const_set_27=function(e,t){var n,r,$=this;return e=Opal.Opal["$const_name!"](e),(n=(r=e["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0))["$!"]())!==!1&&r!==nil&&null!=r?r:e["$start_with?"]("::"))===nil||null==n||n.$$is_boolean&&1!=n||$.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+e,e)),Opal.casgn($,e,t),t},TMP_Module_const_set_27.$$arity=2),Opal.defn(self,"$public_constant",TMP_Module_public_constant_28=function(e){return nil},TMP_Module_public_constant_28.$$arity=1),Opal.defn(self,"$define_method",TMP_Module_define_method_29=function(e,t){var n,r,$=this,o=TMP_Module_define_method_29.$$p,i=o||nil,l=nil;o&&(TMP_Module_define_method_29.$$p=null),(n=void 0===t&&i===nil)===nil||null==n||n.$$is_boolean&&1!=n||$.$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"tried to create a Proc object without a block"),(n=i)!==!1&&n!==nil&&null!=n||(i=function(){return l=t,Opal.const_get($scopes,"Proc",!0,!0)["$==="](l)?t:Opal.const_get($scopes,"Method",!0,!0)["$==="](l)?t.$to_proc().$$unbound:Opal.const_get($scopes,"UnboundMethod",!0,!0)["$==="](l)?$send($,"lambda",[],(r=function(e){var n,$=r.$$s||this,o=nil,i=arguments.length,l=i-0;l<0&&(l=0),n=new Array(l);for(var a=0;a<i;a++)n[a-0]=arguments[a];return o=t.$bind($),$send(o,"call",Opal.to_a(n))},r.$$s=$,r.$$arity=-1,r)):$.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+i.$class()+" (expected Proc/Method)")}());var a="$"+e;return i.$$jsid=e,i.$$s=null,i.$$def=i,i.$$define_meth=!0,Opal.defn($,a,i),e},TMP_Module_define_method_29.$$arity=-2),Opal.defn(self,"$remove_method",TMP_Module_remove_method_31=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];for(var i=0,l=t.length;i<l;i++)Opal.rdef(n,"$"+t[i]);return n},TMP_Module_remove_method_31.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_32=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_32.$$arity=0),Opal.defn(self,"$include",TMP_Module_include_33=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];for(var i=t.length-1;i>=0;i--){var l=t[i];l.$$is_module||n.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+l.$class()+" (expected Module)"),l.$append_features(n),l.$included(n)}return n},TMP_Module_include_33.$$arity=-1),Opal.defn(self,"$included_modules",TMP_Module_included_modules_34=function(){var e,t=this,n=function(e){for(var t=[],r=0;r!=e.$$inc.length;r++){var $=e.$$inc[r];t.push($),t=t.concat(n($))}return t};if(e=n(t),t.$$is_class)for(var r=t;r;r=r.$$super)e=e.concat(n(r));return e},TMP_Module_included_modules_34.$$arity=0),Opal.defn(self,"$include?",TMP_Module_include$q_35=function(e){var t=this;e.$$is_module||t.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+e.$class()+" (expected Module)");var n,r,$,o=Opal.ancestors(t);for(n=0,r=o.length;n<r;n++)if(($=o[n])===e&&$!==t)return!0;return!1},TMP_Module_include$q_35.$$arity=1),Opal.defn(self,"$instance_method",TMP_Module_instance_method_36=function(e){var t=this,n=t.$$proto["$"+e];return n&&!n.$$stub||t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),Opal.const_get($scopes,"UnboundMethod",!0,!0).$new(t,n.$$owner||t,n,e)},TMP_Module_instance_method_36.$$arity=1),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_37=function(e){var t=this;null==e&&(e=!0);var n,r=[],$=t.$$proto;for(var o in $)if("$"===o.charAt(0)&&"$"!==o.charAt(1)&&"function"==typeof(n=$[o])&&!n.$$stub){if(!t.$$is_module){if(t!==Opal.BasicObject&&n===Opal.BasicObject.$$proto[o])continue;if(!e&&!$.hasOwnProperty(o))continue;if(!e&&n.$$donated)continue}r.push(o.substr(1))}return r},TMP_Module_instance_methods_37.$$arity=-1),Opal.defn(self,"$included",TMP_Module_included_38=function(e){return nil},TMP_Module_included_38.$$arity=1),Opal.defn(self,"$extended",TMP_Module_extended_39=function(e){return nil},TMP_Module_extended_39.$$arity=1),Opal.defn(self,"$method_added",TMP_Module_method_added_40=function(e){return nil},TMP_Module_method_added_40.$$arity=-1),Opal.defn(self,"$method_removed",TMP_Module_method_removed_41=function(e){return nil},TMP_Module_method_removed_41.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_42=function(e){return nil},TMP_Module_method_undefined_42.$$arity=-1),Opal.defn(self,"$module_eval",TMP_Module_module_eval_43=function $$module_eval($a_rest){var $b,$c,TMP_44,self=this,args,$iter=TMP_Module_module_eval_43.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_43.$$p=null),$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n")):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.Opal.$compile(string,compiling_options),block=$send(Opal.const_get($scopes,"Kernel",!0,!0),"proc",[],(TMP_44=function(){var self=TMP_44.$$s||this;return function(self){return eval(compiled)}(self)},TMP_44.$$s=self,TMP_44.$$arity=0,TMP_44)));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_43.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_45=function(e){var t,n=this,r=TMP_Module_module_exec_45.$$p,$=r||nil,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<o;l++)t[l-0]=arguments[l];r&&(TMP_Module_module_exec_45.$$p=null),$===nil&&n.$raise(Opal.const_get($scopes,"LocalJumpError",!0,!0),"no block given");var a,s=$.$$s;return $.$$s=null,a=$.apply(n,t),$.$$s=s,a},TMP_Module_module_exec_45.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_46=function(e){var t=this,n=t.$$proto["$"+e];return!!n&&!n.$$stub},TMP_Module_method_defined$q_46.$$arity=1),Opal.defn(self,"$module_function",TMP_Module_module_function_47=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];if(0===t.length)n.$$module_function=!0;else for(var i=0,l=t.length;i<l;i++){var a=t[i],s="$"+a,c=n.$$proto[s];Opal.defs(n,s,c)}return n},TMP_Module_module_function_47.$$arity=-1),Opal.defn(self,"$name",TMP_Module_name_48=function(){var e=this;if(e.$$full_name)return e.$$full_name;for(var t=[],n=e;n;){if(n.$$name===nil)return 0===t.length?nil:t.join("::");if(t.unshift(n.$$name),(n=n.$$base_module)===Opal.Object)break}return 0===t.length?nil:e.$$full_name=t.join("::")},TMP_Module_name_48.$$arity=0),Opal.defn(self,"$remove_const",TMP_Module_remove_const_49=function(e){var t=this,n=t.$$scope[e];return delete t.$$scope[e],n},TMP_Module_remove_const_49.$$arity=1),Opal.defn(self,"$to_s",TMP_Module_to_s_50=function(){var e,t=this;return(e=Opal.Module.$name.call(t))!==!1&&e!==nil&&null!=e?e:"#<"+(t.$$is_module?"Module":"Class")+":0x"+t.$__id__().$to_s(16)+">"},TMP_Module_to_s_50.$$arity=0),Opal.defn(self,"$undef_method",TMP_Module_undef_method_51=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];for(var i=0,l=t.length;i<l;i++)Opal.udef(n,"$"+t[i]);return n},TMP_Module_undef_method_51.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_52=function(){var e=this,t=nil;t=e.$constants();var n=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!t["$include?"](r)&&n.push("@"+r);return n},TMP_Module_instance_variables_52.$$arity=0),Opal.defn(self,"$dup",TMP_Module_dup_53=function(){var e=this,t=TMP_Module_dup_53.$$p,n=nil,r=nil,$=nil,o=nil;for(t&&(TMP_Module_dup_53.$$p=null),$=0,o=arguments.length,r=new Array(o);$<o;$++)r[$]=arguments[$];return n=$send(e,Opal.find_super_dispatcher(e,"dup",TMP_Module_dup_53,!1),r,t),n.$copy_class_variables(e),n.$copy_constants(e),n},TMP_Module_dup_53.$$arity=0),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_54=function(e){var t=this;for(var n in e.$$cvars)t.$$cvars[n]=e.$$cvars[n]},TMP_Module_copy_class_variables_54.$$arity=1),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_55=function(e){for(var t=this,n=e.$$scope.constants,r=n.length,$=0;$<r;$++){var o=n[$];Opal.casgn(t,o,e.$$scope[o])}},TMP_Module_copy_constants_55.$$arity=1),nil&&"copy_constants"}($scope.base,null,$scopes)},Opal.modules["corelib/class"]=function(e){var t=e.top,n=e,r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$require","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,n,r){function l(){}var a,s,c,u,_,d,f=l=o(t,null,"Class",l),p=(f.$$proto,f.$$scope),h=r.slice().concat(p);return e.defs(f,"$new",a=function(t){var n=a.$$p,r=n||$;if(null==t&&(t=e.const_get(h,"Object",!0,!0)),n&&(a.$$p=null),!t.$$is_class)throw e.TypeError.$new("superclass must be a Class");var o=e.boot_class_alloc(null,function(){},t),i=e.setup_class_object(null,o,t.$$name,t.constructor);return i.$$super=t,i.$$parent=t,e.create_scope(t.$$scope,i),t.$inherited(i),e.module_initialize(i,r),i},a.$$arity=-1),e.defn(f,"$allocate",s=function(){var t=this,n=new t.$$alloc;return n.$$id=e.uid(),n},s.$$arity=0),e.defn(f,"$inherited",c=function(e){return $},c.$$arity=1),e.defn(f,"$new",u=function(t){var n,r=this,o=u.$$p,i=o||$,l=arguments.length,a=l-0;a<0&&(a=0),n=new Array(a);for(var s=0;s<l;s++)n[s-0]=arguments[s];o&&(u.$$p=null);var c=r.$allocate();return e.send(c,c.$initialize,n,i),c},u.$$arity=-1),e.defn(f,"$superclass",_=function(){return this.$$super||$},_.$$arity=0),e.defn(f,"$to_s",d=function(){var t=this,n=d.$$p;n&&(d.$$p=null);var r=t.$$singleton_of;return r&&(r.$$is_class||r.$$is_module)?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+e.id(r).$to_s(16)+">>":i(t,e.find_super_dispatcher(t,"to_s",d,!1),[],null)},d.$$arity=0),$&&"to_s"}(n.base,0,r)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,$scopes=[Opal],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$visibility_scopes){function $BasicObject(){}var self=$BasicObject=$klass($base,null,"BasicObject",$BasicObject),def=self.$$proto,$scope=self.$$scope,$scopes=$visibility_scopes.slice().concat($scope),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function(e){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(e){return this===e},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(e){return this["$=="](e)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){var e=this;return e.$$id||(e.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(e,t){var n,r=this,$=TMP_BasicObject___send___5.$$p,o=$||nil,i=arguments.length,l=i-1;l<0&&(l=0),n=new Array(l);for(var a=1;a<i;a++)n[a-1]=arguments[a];$&&(TMP_BasicObject___send___5.$$p=null);var s=r["$"+e];return s?(o!==nil&&(s.$$p=o),s.apply(r,n)):(o!==nil&&(r.$method_missing.$$p=o),r.$method_missing.apply(r,[e].concat(n)))},TMP_BasicObject___send___5.$$arity=-2),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(e){return this["$=="](e)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,$c,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.Opal.$compile(string,compiling_options),block=$send(Opal.const_get($scopes,"Kernel",!0,!0),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9)));var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(e){var t,n=this,r=TMP_BasicObject_instance_exec_10.$$p,$=r||nil,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<o;l++)t[l-0]=arguments[l];r&&(TMP_BasicObject_instance_exec_10.$$p=null),$!==!1&&$!==nil&&null!=$||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"no block given");var a,s=$.$$s;if($.$$s=null,n.$$is_class||n.$$is_module){n.$$eval=!0;try{a=$.apply(n,t)}finally{n.$$eval=!1}}else a=$.apply(n,t);return $.$$s=s,a},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(e){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(e){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(e){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(e,t){var n,r,$=this,o=TMP_BasicObject_method_missing_14.$$p,i=arguments.length,l=i-1;l<0&&(l=0),r=new Array(l);for(var a=1;a<i;a++)r[a-1]=arguments[a];return o&&(TMP_BasicObject_method_missing_14.$$p=null),Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"NoMethodError",!0,!0).$new(function(){return(n=$.$inspect&&!$.$inspect.$$stub)===nil||null==n||n.$$is_boolean&&1!=n?"undefined method `"+e+"' for "+$.$$class:"undefined method `"+e+"' for "+$.$inspect()+":"+$.$$class}(),e))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($scope.base,null,$scopes)},Opal.modules["corelib/kernel"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var r=(e.top,e),$=[e],o=e.nil,i=(e.breaker,e.slice,e.module),l=e.gvars,a=e.send,s=e.hash2,c=e.klass;return e.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(r,$){var c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye=c=i(r,"Kernel"),ve=(ye.$$proto,ye.$$scope),we=$.slice().concat(ve);e.defn(ye,"$method_missing",u=function(t,n){var r,$=this,o=u.$$p,i=arguments.length,l=i-1;l<0&&(l=0),r=new Array(l);for(var a=1;a<i;a++)r[a-1]=arguments[a];return o&&(u.$$p=null),$.$raise(e.const_get(we,"NoMethodError",!0,!0).$new("undefined method `"+t+"' for "+$.$inspect(),t,r))},u.$$arity=-2),e.defn(ye,"$=~",_=function(e){return!1},_.$$arity=1),e.defn(ye,"$!~",d=function(e){return this["$=~"](e)["$!"]()},d.$$arity=1),e.defn(ye,"$===",f=function(e){var t,n=this;return(t=n.$object_id()["$=="](e.$object_id()))!==!1&&t!==o&&null!=t?t:n["$=="](e)},f.$$arity=1),e.defn(ye,"$<=>",p=function(e){var t=this;t.$$comparable=!0;var n=t["$=="](e);return n&&n!==o?0:o},p.$$arity=1),e.defn(ye,"$method",h=function(t){var n=this,r=n["$"+t];return r&&!r.$$stub||n.$raise(e.const_get(we,"NameError",!0,!0).$new("undefined method `"+t+"' for class `"+n.$class()+"'",t)),e.const_get(we,"Method",!0,!0).$new(n,r.$$owner||n.$class(),r,t)},h.$$arity=1),e.defn(ye,"$methods",g=function(t){var n=this;null==t&&(t=!0);var r=[];for(var $ in n)if("$"==$[0]&&"function"==typeof n[$]){if((0==t||t===o)&&!e.hasOwnProperty.call(n,$))continue;void 0===n[$].$$stub&&r.push($.substr(1))}return r},g.$$arity=-1),e.alias(ye,"public_methods","methods"),e.defn(ye,"$Array",b=function(t){var n;return t===o?[]:t.$$is_array?t:(n=e.Opal["$coerce_to?"](t,e.const_get(we,"Array",!0,!0),"to_ary"))!==o?n:(n=e.Opal["$coerce_to?"](t,e.const_get(we,"Array",!0,!0),"to_a"),n!==o?n:[t])},b.$$arity=1),e.defn(ye,"$at_exit",m=function(){var e,t=m.$$p,n=t||o;return null==l.__at_exit__&&(l.__at_exit__=o),t&&(m.$$p=null),(e=l.__at_exit__)!==!1&&e!==o&&null!=e||(l.__at_exit__=[]),l.__at_exit__["$<<"](n)},m.$$arity=0),e.defn(ye,"$caller",y=function(){return[]},y.$$arity=0),e.defn(ye,"$class",v=function(){return this.$$class},v.$$arity=0),e.defn(ye,"$copy_instance_variables",w=function(e){var t=this;for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t[n]=e[n])},w.$$arity=1),e.defn(ye,"$copy_singleton_methods",x=function(t){var n,r=this;if(t.hasOwnProperty("$$meta")){var $=e.get_singleton_class(t).$$proto,o=e.get_singleton_class(r).$$proto;for(n in $)"$"===n.charAt(0)&&$.hasOwnProperty(n)&&(o[n]=$[n])}for(n in t)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&t.hasOwnProperty(n)&&(r[n]=t[n])},x.$$arity=1),e.defn(ye,"$clone",k=function(){var e=this,t=o;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},k.$$arity=0),e.defn(ye,"$initialize_clone",O=function(e){return this.$initialize_copy(e)},O.$$arity=1),e.defn(ye,"$define_singleton_method",E=function(e,t){var n=this,r=E.$$p,$=r||o;return r&&(E.$$p=null),a(n.$singleton_class(),"define_method",[e,t],$.$to_proc())},E.$$arity=-2),e.defn(ye,"$dup",A=function(){var e=this,t=o;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$initialize_dup(e),t},A.$$arity=0),e.defn(ye,"$initialize_dup",S=function(e){return this.$initialize_copy(e)},S.$$arity=1),e.defn(ye,"$enum_for",R=function(t,n){var r,$=this,i=R.$$p,l=i||o;null==t&&(t="each");var s=arguments.length,c=s-1;c<0&&(c=0),r=new Array(c);for(var u=1;u<s;u++)r[u-1]=arguments[u];return i&&(R.$$p=null),a(e.const_get(we,"Enumerator",!0,!0),"for",[$,t].concat(e.to_a(r)),l.$to_proc())},R.$$arity=-1),e.alias(ye,"to_enum","enum_for"),e.defn(ye,"$equal?",M=function(e){return this===e},M.$$arity=1),e.defn(ye,"$exit",T=function(n){var r,$,i=o;for(null==l.__at_exit__&&(l.__at_exit__=o),null==n&&(n=!0),(r=l.__at_exit__)!==!1&&r!==o&&null!=r||(l.__at_exit__=[]);($=t(l.__at_exit__.$size(),0))!==o&&null!=$&&(!$.$$is_boolean||1==$);)i=l.__at_exit__.$pop(),i.$call();return(r=n===!0)===o||null==r||r.$$is_boolean&&1!=r||(n=0),e.exit(n),o},T.$$arity=-1),e.defn(ye,"$extend",I=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];for(var l=r.$singleton_class(),a=n.length-1;a>=0;a--){var s=n[a];s.$$is_module||r.$raise(e.const_get(we,"TypeError",!0,!0),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features(l),s.$extended(r)}return r},I.$$arity=-1),e.defn(ye,"$format",C=function(t,n){function r(){j&q&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"flag after width"),j&U&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"flag after precision")}function $(){j&q&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"width given twice"),j&U&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"width after precision")}function i(t){return t>=f.length&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"too few arguments"),f[t]}function a(){switch(B){case-1:p.$raise(e.const_get(we,"ArgumentError",!0,!0),"unnumbered("+D+") mixed with numbered");case-2:p.$raise(e.const_get(we,"ArgumentError",!0,!0),"unnumbered("+D+") mixed with named")}return B=D++,i(B-1)}function s(t){return B>0&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"numbered("+t+") after unnumbered("+B+")"),B===-2&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"numbered("+t+") after named"),t<1&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"invalid index - "+t+"$"),B=-1,i(t-1)}function c(){return void 0===N?a():N}function u(n){for(var r,$="";;v++){if(v===P&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed format string - %*[0-9]"),t.charCodeAt(v)<48||t.charCodeAt(v)>57)return v--,r=parseInt($,10)||0,r>2147483647&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),n+" too big"),r;$+=t.charAt(v)}}function _(e){var n,r=u(e);return"$"===t.charAt(v+1)?(v++,n=s(r)):n=a(),n.$to_int()}var d,f,p=this,h=o;null==l.DEBUG&&(l.DEBUG=o);var g=arguments.length,b=g-1;b<0&&(b=0),f=new Array(b);for(var m=1;m<g;m++)f[m-1]=arguments[m];(d=f.$length()["$=="](1)?f["$[]"](0)["$respond_to?"]("to_ary"):f.$length()["$=="](1))===o||null==d||d.$$is_boolean&&1!=d||(h=e.Opal["$coerce_to?"](f["$[]"](0),e.const_get(we,"Array",!0,!0),"to_ary"),((d=h["$nil?"]())===o||null==d||d.$$is_boolean&&1!=d)&&(f=h.$to_a()));var y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L="",z=0,P=t.length,D=1,B=0,q=32,U=128;for(v=t.indexOf("%");v!==-1;v=t.indexOf("%",v)){switch(x=void 0,j=0,O=-1,E=-1,N=void 0,y=v,v++,t.charAt(v)){case"%":z=v;case"":case"\n":case"\0":v++;continue}e:for(;v<P;v++)switch(t.charAt(v)){case" ":r(),j|=16;continue e;case"#":r(),j|=1;continue e;case"+":r(),j|=4;continue e;case"-":r(),j|=2;continue e;case"0":r(),j|=8;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(A=u("width"),"$"===t.charAt(v+1)){if(v+2===P){x="%",v++;break e}void 0!==N&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"value given twice - %"+A+"$"),N=s(A),v++}else $(),j|=q,O=A;continue e;case"<":case"{":for(R="<"===t.charAt(v)?">":"}",S="",v++;;v++){if(v===P&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed name - unmatched parenthesis"),t.charAt(v)===R){if(B>0&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"named "+S+" after unnumbered("+B+")"),B===-1&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"named "+S+" after numbered"),B=-2,void 0!==f[0]&&f[0].$$is_hash||p.$raise(e.const_get(we,"ArgumentError",!0,!0),"one hash required"),N=f[0].$fetch(S),">"===R)continue e;if(x=N.toString(),E!==-1&&(x=x.slice(0,E)),2&j)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break e}S+=t.charAt(v)}case"*":v++,$(),j|=q,O=_("width"),O<0&&(j|=2,O=-O);continue e;case".":if(j&U&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"precision given twice"),j|=64|U,E=0,v++,"*"===t.charAt(v)){v++,E=_("precision"),E<0&&(j&=-65);continue e}E=u("precision");continue e;case"d":case"i":case"u":if((w=p.$Integer(c()))>=0){for(x=w.toString();x.length<E;)x="0"+x;if(2&j)for((4&j||16&j)&&(x=(4&j?"+":" ")+x);x.length<O;)x+=" ";else if(8&j&&E===-1){for(;x.length<O-(4&j||16&j?1:0);)x="0"+x;(4&j||16&j)&&(x=(4&j?"+":" ")+x)}else for((4&j||16&j)&&(x=(4&j?"+":" ")+x);x.length<O;)x=" "+x}else{for(x=(-w).toString();x.length<E;)x="0"+x;if(2&j)for(x="-"+x;x.length<O;)x+=" ";else if(8&j&&E===-1){for(;x.length<O-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<O;)x=" "+x}break e;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(v)){case"b":case"B":M=2,T="0b",I=/^1+/,C="1";break;case"o":M=8,T="0",I=/^3?7+/,C="7";break;case"x":case"X":M=16,T="0x",I=/^f+/,C="f"}if((w=p.$Integer(c()))>=0){for(x=w.toString(M);x.length<E;)x="0"+x;if(2&j)for((4&j||16&j)&&(x=(4&j?"+":" ")+x),1&j&&0!==w&&(x=T+x);x.length<O;)x+=" ";else if(8&j&&E===-1){for(;x.length<O-(4&j||16&j?1:0)-(1&j&&0!==w?T.length:0);)x="0"+x;1&j&&0!==w&&(x=T+x),(4&j||16&j)&&(x=(4&j?"+":" ")+x)}else for(1&j&&0!==w&&(x=T+x),(4&j||16&j)&&(x=(4&j?"+":" ")+x);x.length<O;)x=" "+x}else if(4&j||16&j){for(x=(-w).toString(M);x.length<E;)x="0"+x;if(2&j)for(1&j&&(x=T+x),x="-"+x;x.length<O;)x+=" ";else if(8&j&&E===-1){for(;x.length<O-1-(1&j?2:0);)x="0"+x;1&j&&(x=T+x),x="-"+x}else for(1&j&&(x=T+x),x="-"+x;x.length<O;)x=" "+x}else{for(x=(w>>>0).toString(M).replace(I,C);x.length<E-2;)x=C+x;if(2&j)for(x=".."+x,1&j&&(x=T+x);x.length<O;)x+=" ";else if(8&j&&E===-1){for(;x.length<O-2-(1&j?T.length:0);)x=C+x;x=".."+x,1&j&&(x=T+x)}else for(x=".."+x,1&j&&(x=T+x);x.length<O;)x=" "+x}t.charAt(v)===t.charAt(v).toUpperCase()&&(x=x.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if((w=p.$Float(c()))>=0||isNaN(w)){if(1/0===w)x="Inf";else switch(t.charAt(v)){case"f":x=w.toFixed(E===-1?6:E);break;case"e":case"E":x=w.toExponential(E===-1?6:E);break;case"g":case"G":x=w.toExponential(),k=parseInt(x.split("e")[1],10),k<-4||k>=(E===-1?6:E)||(x=w.toPrecision(E===-1?1&j?6:void 0:E))}if(2&j)for((4&j||16&j)&&(x=(4&j?"+":" ")+x);x.length<O;)x+=" ";else if(8&j&&1/0!==w&&!isNaN(w)){for(;x.length<O-(4&j||16&j?1:0);)x="0"+x;(4&j||16&j)&&(x=(4&j?"+":" ")+x)}else for((4&j||16&j)&&(x=(4&j?"+":" ")+x);x.length<O;)x=" "+x}else{if(w===-1/0)x="Inf";else switch(t.charAt(v)){case"f":x=(-w).toFixed(E===-1?6:E);break;case"e":case"E":x=(-w).toExponential(E===-1?6:E);break;case"g":case"G":x=(-w).toExponential(),k=parseInt(x.split("e")[1],10),k<-4||k>=(E===-1?6:E)||(x=(-w).toPrecision(E===-1?1&j?6:void 0:E))}if(2&j)for(x="-"+x;x.length<O;)x+=" ";else if(8&j&&w!==-1/0){for(;x.length<O-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<O;)x=" "+x}t.charAt(v)!==t.charAt(v).toUpperCase()||1/0===w||w===-1/0||isNaN(w)||(x=x.toUpperCase()),x=x.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":p.$raise(e.const_get(we,"NotImplementedError",!0,!0),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(w=c(),w["$respond_to?"]("to_ary")&&(w=w.$to_ary()[0]),x=w["$respond_to?"]("to_str")?w.$to_str():String.fromCharCode(e.Opal.$coerce_to(w,e.Integer,"to_int")),1!==x.length&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"%c requires a character"),2&j)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break e;case"p":if(x=c().$inspect(),E!==-1&&(x=x.slice(0,E)),2&j)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break e;case"s":if(x=c().$to_s(),E!==-1&&(x=x.slice(0,E)),2&j)for(;x.length<O;)x+=" ";else for(;x.length<O;)x=" "+x;break e;default:p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed format string - %"+t.charAt(v))}void 0===x&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed format string - %"),L+=t.slice(z,y)+x,z=v+1}return l.DEBUG&&B>=0&&D<f.length&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"too many arguments for format string"),L+t.slice(z)},C.$$arity=-2),e.defn(ye,"$hash",N=function(){return this.$__id__()},N.$$arity=0),e.defn(ye,"$initialize_copy",j=function(e){return o},j.$$arity=1),e.defn(ye,"$inspect",L=function(){return this.$to_s()},L.$$arity=0),e.defn(ye,"$instance_of?",z=function(t){var n=this;return t.$$is_class||t.$$is_module||n.$raise(e.const_get(we,"TypeError",!0,!0),"class or module required"),n.$$class===t},z.$$arity=1),e.defn(ye,"$instance_variable_defined?",P=function(t){var n=this;return t=e.Opal["$instance_variable_name!"](t),e.hasOwnProperty.call(n,t.substr(1))},P.$$arity=1),e.defn(ye,"$instance_variable_get",D=function(t){var n=this;t=e.Opal["$instance_variable_name!"](t);var r=n[e.ivar(t.substr(1))];return null==r?o:r},D.$$arity=1),e.defn(ye,"$instance_variable_set",B=function(t,n){var r=this;return t=e.Opal["$instance_variable_name!"](t),r[e.ivar(t.substr(1))]=n},B.$$arity=2),e.defn(ye,"$remove_instance_variable",q=function(t){var n=this;t=e.Opal["$instance_variable_name!"](t);var r,$=e.ivar(t.substr(1));return n.hasOwnProperty($)?(r=n[$],delete n[$],r):n.$raise(e.const_get(we,"NameError",!0,!0),"instance variable "+t+" not defined")},q.$$arity=1),e.defn(ye,"$instance_variables",U=function(){var e,t=this,n=[]
;for(var r in t)t.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(e="$"===r.substr(-1)?r.slice(0,r.length-1):r,n.push("@"+e));return n},U.$$arity=0),e.defn(ye,"$Integer",F=function(t,n){var r,$,i,l=this;return t.$$is_string?"0"===t?0:(void 0===n?n=0:(1===(n=e.Opal.$coerce_to(n,e.Integer,"to_int"))||n<0||n>36)&&l.$raise(e.const_get(we,"ArgumentError",!0,!0),"invalid radix "+n),$=t.toLowerCase(),$=$.replace(/(\d)_(?=\d)/g,"$1"),$=$.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,$,o){switch(o){case"0b":if(0===n||2===n)return n=2,$;case"0":case"0o":if(0===n||8===n)return n=8,$;case"0d":if(0===n||10===n)return n=10,$;case"0x":if(0===n||16===n)return n=16,$}l.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Integer(): "'+t+'"')}),n=0===n?10:n,i="0-"+(n<=10?n-1:"9a-"+String.fromCharCode(n-11+97)),new RegExp("^\\s*[+-]?["+i+"]+\\s*$").test($)||l.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Integer(): "'+t+'"'),r=parseInt($,n),isNaN(r)&&l.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Integer(): "'+t+'"'),r):(void 0!==n&&l.$raise(e.const_get(we,"ArgumentError",!0,!0),"base specified for non string value"),t===o&&l.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert nil into Integer"),t.$$is_number?((1/0===t||t===-1/0||isNaN(t))&&l.$raise(e.const_get(we,"FloatDomainError",!0,!0),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int())!==o?r:e.Opal["$coerce_to!"](t,e.Integer,"to_i"))},F.$$arity=-2),e.defn(ye,"$Float",G=function(t){var n,r=this;return t===o&&r.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert nil into Float"),t.$$is_string?(n=t.toString(),n=n.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(n)?r.$Integer(n):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(n)||r.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Float(): "'+t+'"'),parseFloat(n))):e.Opal["$coerce_to!"](t,e.const_get(we,"Float",!0,!0),"to_f")},G.$$arity=1),e.defn(ye,"$Hash",H=function(t){var n,r;return(n=(r=t["$nil?"]())!==!1&&r!==o&&null!=r?r:t["$=="]([]))===o||null==n||n.$$is_boolean&&1!=n?(n=e.const_get(we,"Hash",!0,!0)["$==="](t))===o||null==n||n.$$is_boolean&&1!=n?e.Opal["$coerce_to!"](t,e.const_get(we,"Hash",!0,!0),"to_hash"):t:s([],{})},H.$$arity=1),e.defn(ye,"$is_a?",Y=function(t){var n=this;return t.$$is_class||t.$$is_module||n.$raise(e.const_get(we,"TypeError",!0,!0),"class or module required"),e.is_a(n,t)},Y.$$arity=1),e.alias(ye,"kind_of?","is_a?"),e.defn(ye,"$lambda",K=function(){var e=K.$$p,t=e||o;return e&&(K.$$p=null),t.$$is_lambda=!0,t},K.$$arity=0),e.defn(ye,"$load",W=function(t){return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),e.load(t)},W.$$arity=1),e.defn(ye,"$loop",X=function(){var t,n,r=this,$=X.$$p,i=$||o,l=o;if($&&(X.$$p=null),i===o)return a(r,"enum_for",["loop"],(t=function(){t.$$s;return e.const_get([e.const_get(we,"Float",!0,!0).$$scope],"INFINITY",!0,!0)},t.$$s=r,t.$$arity=0,t));for(;(n=!0)!==o&&null!=n&&(!n.$$is_boolean||1==n);)try{e.yieldX(i,[])}catch(t){if(!e.rescue(t,[e.const_get(we,"StopIteration",!0,!0)]))throw t;l=t;try{return l.$result()}finally{e.pop_exception()}}return r},X.$$arity=0),e.defn(ye,"$nil?",V=function(){return!1},V.$$arity=0),e.alias(ye,"object_id","__id__"),e.defn(ye,"$printf",J=function(n){var r,$,i=this,l=arguments.length,s=l-0;s<0&&(s=0),$=new Array(s);for(var c=0;c<l;c++)$[c-0]=arguments[c];return(r=t($.$length(),0))===o||null==r||r.$$is_boolean&&1!=r||i.$print(a(i,"format",e.to_a($))),o},J.$$arity=-1),e.defn(ye,"$proc",Z=function(){var t=this,n=Z.$$p,r=n||o;return n&&(Z.$$p=null),r!==!1&&r!==o&&null!=r||t.$raise(e.const_get(we,"ArgumentError",!0,!0),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},Z.$$arity=0),e.defn(ye,"$puts",Q=function(t){var n;null==l.stdout&&(l.stdout=o);var r=arguments.length,$=r-0;$<0&&($=0),n=new Array($);for(var i=0;i<r;i++)n[i-0]=arguments[i];return a(l.stdout,"puts",e.to_a(n))},Q.$$arity=-1),e.defn(ye,"$p",ee=function(e){var t,r,$,i=this,s=arguments.length,c=s-0;c<0&&(c=0),$=new Array(c);for(var u=0;u<s;u++)$[u-0]=arguments[u];return a($,"each",[],(t=function(e){t.$$s;return null==l.stdout&&(l.stdout=o),null==e&&(e=o),l.stdout.$puts(e.$inspect())},t.$$s=i,t.$$arity=1,t)),(r=n($.$length(),1))===o||null==r||r.$$is_boolean&&1!=r?$:$["$[]"](0)},ee.$$arity=-1),e.defn(ye,"$print",te=function(t){var n;null==l.stdout&&(l.stdout=o);var r=arguments.length,$=r-0;$<0&&($=0),n=new Array($);for(var i=0;i<r;i++)n[i-0]=arguments[i];return a(l.stdout,"print",e.to_a(n))},te.$$arity=-1),e.defn(ye,"$warn",ne=function(t){var n,r,$;null==l.VERBOSE&&(l.VERBOSE=o),null==l.stderr&&(l.stderr=o);var i=arguments.length,s=i-0;s<0&&(s=0),$=new Array(s);for(var c=0;c<i;c++)$[c-0]=arguments[c];return(n=(r=l.VERBOSE["$nil?"]())!==!1&&r!==o&&null!=r?r:$["$empty?"]())===o||null==n||n.$$is_boolean&&1!=n?a(l.stderr,"puts",e.to_a($)):o},ne.$$arity=-1),e.defn(ye,"$raise",re=function(t,n,r){if(null==l["!"]&&(l["!"]=o),null==n&&(n=o),null==r&&(r=o),null==t&&l["!"]!==o)throw l["!"];throw null==t?t=e.const_get(we,"RuntimeError",!0,!0).$new():t.$$is_string?t=e.const_get(we,"RuntimeError",!0,!0).$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(n):t["$kind_of?"](e.const_get(we,"Exception",!0,!0))||(t=e.const_get(we,"TypeError",!0,!0).$new("exception class/object expected")),l["!"]!==o&&e.exceptions.push(l["!"]),l["!"]=t,t},re.$$arity=-1),e.alias(ye,"fail","raise"),e.defn(ye,"$rand",$e=function(t){return void 0===t?e.const_get([e.const_get(we,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),e.const_get([e.const_get(we,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand(t))},$e.$$arity=-1),e.defn(ye,"$respond_to?",oe=function(e,t){var n,r=this;if(null==t&&(t=!1),(n=r["$respond_to_missing?"](e,t))!==o&&null!=n&&(!n.$$is_boolean||1==n))return!0;var $=r["$"+e];return"function"==typeof $&&!$.$$stub},oe.$$arity=-2),e.defn(ye,"$respond_to_missing?",ie=function(e,t){return null==t&&(t=!1),!1},ie.$$arity=-2),e.defn(ye,"$require",le=function(t){return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),e.require(t)},le.$$arity=1),e.defn(ye,"$require_relative",ae=function(t){return e.Opal["$try_convert!"](t,e.String,"to_str"),t=e.const_get(we,"File",!0,!0).$expand_path(e.const_get(we,"File",!0,!0).$join(e.current_file,"..",t)),e.require(t)},ae.$$arity=1),e.defn(ye,"$require_tree",se=function(t){t=e.const_get(we,"File",!0,!0).$expand_path(t),t["$=="](".")&&(t="");for(var n in e.modules)n["$start_with?"](t)&&e.require(n);return o},se.$$arity=1),e.alias(ye,"send","__send__"),e.alias(ye,"public_send","__send__"),e.defn(ye,"$singleton_class",ce=function(){var t=this;return e.get_singleton_class(t)},ce.$$arity=0),e.defn(ye,"$sleep",ue=function(t){var n=this;null==t&&(t=o),t===o&&n.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert NilClass into time interval"),t.$$is_number||n.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert "+t.$class()+" into time interval"),t<0&&n.$raise(e.const_get(we,"ArgumentError",!0,!0),"time interval must be positive");for(var r=new Date;new Date-r<=1e3*t;);return t},ue.$$arity=-1),e.alias(ye,"sprintf","format"),e.defn(ye,"$srand",_e=function(t){return null==t&&(t=e.const_get(we,"Random",!0,!0).$new_seed()),e.const_get(we,"Random",!0,!0).$srand(t)},_e.$$arity=-1),e.defn(ye,"$String",de=function(t){var n;return(n=e.Opal["$coerce_to?"](t,e.String,"to_str"))!==!1&&n!==o&&null!=n?n:e.Opal["$coerce_to!"](t,e.String,"to_s")},de.$$arity=1),e.defn(ye,"$tap",fe=function(){var t=this,n=fe.$$p,r=n||o;return n&&(fe.$$p=null),e.yield1(r,t),t},fe.$$arity=0),e.defn(ye,"$to_proc",pe=function(){return this},pe.$$arity=0),e.defn(ye,"$to_s",he=function(){var e=this;return"#<"+e.$class()+":0x"+e.$__id__().$to_s(16)+">"},he.$$arity=0),e.defn(ye,"$catch",ge=function(t){var n=this,r=ge.$$p,$=r||o,i=o;r&&(ge.$$p=null);try{return e.yieldX($,[])}catch(r){if(!e.rescue(r,[e.const_get(we,"UncaughtThrowError",!0,!0)]))throw r;i=r;try{return i.$sym()["$=="](t)?i.$arg():n.$raise()}finally{e.pop_exception()}}},ge.$$arity=1),e.defn(ye,"$throw",be=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];return r.$raise(e.const_get(we,"UncaughtThrowError",!0,!0).$new(n))},be.$$arity=-1),e.defn(ye,"$open",me=function(t){var n,r=me.$$p,$=r||o,i=arguments.length,l=i-0;l<0&&(l=0),n=new Array(l);for(var s=0;s<i;s++)n[s-0]=arguments[s];return r&&(me.$$p=null),a(e.const_get(we,"File",!0,!0),"open",e.to_a(n),$.$to_proc())},me.$$arity=-1)}(r.base,$),function(t,n,r){function $(){}var o=$=c(t,null,"Object",$),i=(o.$$proto,o.$$scope),l=r.slice().concat(i);return o.$include(e.const_get(l,"Kernel",!0,!0))}(r.base,0,$)},Opal.modules["corelib/error"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send,l=e.module;return e.add_stubs(["$new","$clone","$to_s","$empty?","$class","$attr_reader","$[]","$>","$length","$inspect"]),function(t,n,r){function l(){}var a,s,c,u,_,d,f,p,h=l=o(t,n,"Exception",l),g=h.$$proto,b=h.$$scope,m=r.slice().concat(b);g.message=$;var y=e.const_get(m,"Kernel",!0,!0).$raise;e.defs(h,"$new",a=function(t){var n,r=this,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];var a=n.length>0?n[0]:$,s=new r.$$alloc(a);return s.name=r.$$name,s.message=a,e.send(s,s.$initialize,n),Error.captureStackTrace&&Error.captureStackTrace(s,y),s},a.$$arity=-1),e.defs(h,"$exception",s=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<$;l++)n[l-0]=arguments[l];return i(r,"new",e.to_a(n))},s.$$arity=-1),e.defn(h,"$initialize",c=function(e){var t,n=this,r=arguments.length,o=r-0;o<0&&(o=0),t=new Array(o);for(var i=0;i<r;i++)t[i-0]=arguments[i];return n.message=t.length>0?t[0]:$},c.$$arity=-1),e.defn(h,"$backtrace",u=function(){var e=this,t=e.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},u.$$arity=0),e.defn(h,"$exception",_=function(e){var t=this;if(null==e&&(e=$),e===$||t===e)return t;var n=t.$clone();return n.message=e,n},_.$$arity=-1),e.defn(h,"$message",d=function(){return this.$to_s()},d.$$arity=0),e.defn(h,"$inspect",f=function(){var e,t=this,n=$;return n=t.$to_s(),(e=n["$empty?"]())===$||null==e||e.$$is_boolean&&1!=e?"#<"+t.$class().$to_s()+": "+t.$to_s()+">":t.$class().$to_s()},f.$$arity=0),e.defn(h,"$to_s",p=function(){var e,t,n=this;return t=n.message,(e=t!==!1&&t!==$&&null!=t?n.message.$to_s():t)!==!1&&e!==$&&null!=e?e:n.$class().$to_s()},p.$$arity=0)}(n.base,Error,r),function(e,t,n){function r(){}var $=r=o(e,t,"ScriptError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"Exception",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"SyntaxError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"ScriptError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"LoadError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"ScriptError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"NotImplementedError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"ScriptError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"SystemExit",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"Exception",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"NoMemoryError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"Exception",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"SignalException",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"Exception",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"Interrupt",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"Exception",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"SecurityError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"Exception",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"StandardError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"Exception",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"ZeroDivisionError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"NameError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"NoMethodError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"NameError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"RuntimeError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"LocalJumpError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"TypeError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"ArgumentError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"IndexError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"StopIteration",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"IndexError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"KeyError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"IndexError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"RangeError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"FloatDomainError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"RangeError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"IOError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(e,t,n){function r(){}var $=r=o(e,t,"SystemCallError",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}(n.base,e.const_get(r,"StandardError",!0,!0),r),function(t,n){var r,$=r=l(t,"Errno"),a=($.$$proto,$.$$scope),s=n.slice().concat(a);!function(t,n,r){function $(){}var l,a=$=o(t,n,"EINVAL",$),s=(a.$$proto,a.$$scope);r.slice().concat(s);e.defs(a,"$new",l=function(){var t=this,n=l.$$p;return n&&(l.$$p=null),i(t,e.find_super_dispatcher(t,"new",l,!1,$),["Invalid argument"],null)},l.$$arity=0)}(a.base,e.const_get(s,"SystemCallError",!0,!0),s)}(n.base,r),function(n,r,l){function a(){}var s,c=a=o(n,r,"UncaughtThrowError",a),u=c.$$proto,_=c.$$scope;l.slice().concat(_);u.sym=$,c.$attr_reader("sym","arg"),e.defn(c,"$initialize",s=function(n){var r,o=this,l=s.$$p;return l&&(s.$$p=null),o.sym=n["$[]"](0),(r=t(n.$length(),1))===$||null==r||r.$$is_boolean&&1!=r||(o.arg=n["$[]"](1)),i(o,e.find_super_dispatcher(o,"initialize",s,!1),["uncaught throw "+o.sym.$inspect()],null)},s.$$arity=1)}(n.base,e.const_get(r,"ArgumentError",!0,!0),r),function(t,n,r){function l(){}var a,s=l=o(t,null,"NameError",l),c=(s.$$proto,s.$$scope);r.slice().concat(c);s.$attr_reader("name"),e.defn(s,"$initialize",a=function(t,n){var r=this,o=a.$$p;return null==n&&(n=$),o&&(a.$$p=null),i(r,e.find_super_dispatcher(r,"initialize",a,!1),[t],null),r.name=n},a.$$arity=-2)}(n.base,0,r),function(t,n,r){function l(){}var a,s=l=o(t,null,"NoMethodError",l),c=(s.$$proto,s.$$scope);r.slice().concat(c);s.$attr_reader("args"),e.defn(s,"$initialize",a=function(t,n,r){var o=this,l=a.$$p;return null==n&&(n=$),null==r&&(r=[]),l&&(a.$$p=null),i(o,e.find_super_dispatcher(o,"initialize",a,!1),[t,n],null),o.args=r},a.$$arity=-2)}(n.base,0,r),function(e,t,n){function r(){}var $=r=o(e,null,"StopIteration",r),i=($.$$proto,$.$$scope);n.slice().concat(i);$.$attr_reader("result")}(n.base,0,r),function(e,t){var n,r=n=l(e,"JS"),$=(r.$$proto,r.$$scope),i=t.slice().concat($);!function(e,t,n){function r(){}var $=r=o(e,null,"Error",r),i=($.$$proto,$.$$scope);n.slice().concat(i)}($.base,0,i)}(n.base,r)},Opal.modules["corelib/constants"]=function(e){var t=(e.top,e),n=[e];e.nil,e.breaker,e.slice;return e.cdecl(t,"RUBY_PLATFORM","opal"),e.cdecl(t,"RUBY_ENGINE","opal"),e.cdecl(t,"RUBY_VERSION","2.3.0"),e.cdecl(t,"RUBY_ENGINE_VERSION","0.11.0.dev"),e.cdecl(t,"RUBY_RELEASE_DATE","2016-10-31"),e.cdecl(t,"RUBY_PATCHLEVEL",0),e.cdecl(t,"RUBY_REVISION",0),e.cdecl(t,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),e.cdecl(t,"RUBY_DESCRIPTION","opal "+e.const_get(n,"RUBY_ENGINE_VERSION",!0,!0)+" ("+e.const_get(n,"RUBY_RELEASE_DATE",!0,!0)+" revision "+e.const_get(n,"RUBY_REVISION",!0,!0)+")")},Opal.modules["opal/base"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(n,r,i){function l(){}var a,s,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E=l=o(n,null,"NilClass",l),A=E.$$proto,S=E.$$scope,R=i.slice().concat(S);A.$$meta=E,e.defn(E,"$!",a=function(){return!0},a.$$arity=0),e.defn(E,"$&",s=function(e){return!1},s.$$arity=1),e.defn(E,"$|",c=function(e){return e!==!1&&e!==$},c.$$arity=1),e.defn(E,"$^",u=function(e){return e!==!1&&e!==$},u.$$arity=1),e.defn(E,"$==",_=function(e){return e===$},_.$$arity=1),e.defn(E,"$dup",d=function(){var t=this;return t.$raise(e.const_get(R,"TypeError",!0,!0),"can't dup "+t.$class())},d.$$arity=0),e.defn(E,"$clone",f=function(){var t=this;return t.$raise(e.const_get(R,"TypeError",!0,!0),"can't clone "+t.$class())},f.$$arity=0),e.defn(E,"$inspect",p=function(){return"nil"},p.$$arity=0),e.defn(E,"$nil?",h=function(){return!0},h.$$arity=0),e.defn(E,"$singleton_class",g=function(){return e.const_get(R,"NilClass",!0,!0)},g.$$arity=0),e.defn(E,"$to_a",b=function(){return[]},b.$$arity=0),e.defn(E,"$to_h",m=function(){return e.hash()},m.$$arity=0),e.defn(E,"$to_i",y=function(){return 0},y.$$arity=0),e.alias(E,"to_f","to_i"),e.defn(E,"$to_s",v=function(){return""},v.$$arity=0),e.defn(E,"$to_c",w=function(){return e.const_get(R,"Complex",!0,!0).$new(0,0)},w.$$arity=0),e.defn(E,"$rationalize",x=function(n){var r,o,i=this,l=arguments.length,a=l-0;a<0&&(a=0),o=new Array(a);for(var s=0;s<l;s++)o[s-0]=arguments[s];return(r=t(o.$length(),1))===$||null==r||r.$$is_boolean&&1!=r||i.$raise(e.const_get(R,"ArgumentError",!0,!0)),i.$Rational(0,1)},x.$$arity=-1),e.defn(E,"$to_r",k=function(){return this.$Rational(0,1)},k.$$arity=0),e.defn(E,"$instance_variables",O=function(){return[]},O.$$arity=0)}(n.base,0,r),e.cdecl(n,"NIL",$)},Opal.modules["corelib/boolean"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class"]),function(t,n,o){function i(){}var l,a,s,c,u,_,d,f,p,h,g=i=$(t,n,"Boolean",i),b=g.$$proto,m=g.$$scope,y=o.slice().concat(m);b.$$is_boolean=!0,b.$$meta=g,e.defn(g,"$__id__",l=function(){return this.valueOf()?2:0},l.$$arity=0),e.alias(g,"object_id","__id__"),e.defn(g,"$!",a=function(){return 1!=this},a.$$arity=0),e.defn(g,"$&",s=function(e){return 1==this&&e!==!1&&e!==r},s.$$arity=1),e.defn(g,"$|",c=function(e){return 1==this||e!==!1&&e!==r},c.$$arity=1),e.defn(g,"$^",u=function(e){return 1==this?e===!1||e===r:e!==!1&&e!==r},u.$$arity=1),e.defn(g,"$==",_=function(e){return 1==this===e.valueOf()},_.$$arity=1),e.alias(g,"equal?","=="),e.alias(g,"eql?","=="),e.defn(g,"$singleton_class",d=function(){return e.const_get(y,"Boolean",!0,!0)},d.$$arity=0),e.defn(g,"$to_s",f=function(){return 1==this?"true":"false"},f.$$arity=0),e.defn(g,"$dup",p=function(){var t=this;return t.$raise(e.const_get(y,"TypeError",!0,!0),"can't dup "+t.$class())},p.$$arity=0),e.defn(g,"$clone",h=function(){var t=this;return t.$raise(e.const_get(y,"TypeError",!0,!0),"can't clone "+t.$class())},h.$$arity=0)}(t.base,Boolean,n),e.cdecl(t,"TrueClass",e.const_get(n,"Boolean",!0,!0)),e.cdecl(t,"FalseClass",e.const_get(n,"Boolean",!0,!0)),e.cdecl(t,"TRUE",!0),e.cdecl(t,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=(e.top,e),$=[e],o=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(r,$){var l,a,s,c,u,_,d,f,p=l=i(r,"Comparable"),h=(p.$$proto,p.$$scope),g=$.slice().concat(h);e.defs(p,"$normalize",a=function(r){var $;return($=e.Integer["$==="](r))===o||null==$||$.$$is_boolean&&1!=$?($=t(r,0))===o||null==$||$.$$is_boolean&&1!=$?($=n(r,0))===o||null==$||$.$$is_boolean&&1!=$?0:-1:1:r},a.$$arity=1),e.defn(p,"$==",s=function(t){var n,r=this,$=o;try{return!((n=r["$equal?"](t))===o||null==n||n.$$is_boolean&&1!=n)||r["$<=>"]!=e.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!((n=$=r["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&0==e.const_get(g,"Comparable",!0,!0).$normalize($))}catch(t){if(!e.rescue(t,[e.const_get(g,"StandardError",!0,!0)]))throw t;try{return!1}finally{e.pop_exception()}}},s.$$arity=1),e.defn(p,"$>",c=function(t){var n,r=this,$=o;return((n=$=r["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize($)>0},c.$$arity=1),e.defn(p,"$>=",u=function(t){var n,r=this,$=o;return((n=$=r["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize($)>=0},u.$$arity=1),e.defn(p,"$<",_=function(t){var n,r=this,$=o;return((n=$=r["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize($)<0},_.$$arity=1),e.defn(p,"$<=",d=function(t){var n,r=this,$=o;return((n=$=r["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+r.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize($)<=0},d.$$arity=1),e.defn(p,"$between?",f=function(e,r){var $=this;return!n($,e)&&!t($,r)},f.$$arity=2)}(r.base,$)},Opal.modules["corelib/regexp"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass),o=e.send,i=e.gvars;return e.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(e,t,n){function r(){}var o=r=$(e,t,"RegexpError",r),i=(o.$$proto,o.$$scope);n.slice().concat(i)}(t.base,e.const_get(n,"StandardError",!0,!0),n),function(t,n,l){function a(){}var s,c,u,_,d,f,p,h,g,b,m=a=$(t,n,"Regexp",a),y=m.$$proto,v=m.$$scope,w=l.slice().concat(v);e.cdecl(v,"IGNORECASE",1),e.cdecl(v,"MULTILINE",4),y.$$is_regexp=!0,function(t,n){var $,l,a,s,c,u=(t.$$proto,t.$$scope,n.slice().concat(t));e.defn(t,"$allocate",$=function(){var t=this,n=$.$$p,i=r,l=r,a=r,s=r;for(n&&($.$$p=null),a=0,s=arguments.length,l=new Array(s);a<s;a++)l[a]=arguments[a];return i=o(t,e.find_super_dispatcher(t,"allocate",$,!1),l,n),i.uninitialized=!0,i},$.$$arity=0),e.defn(t,"$escape",l=function(t){return e.escape_regexp(t)},l.$$arity=1),e.defn(t,"$last_match",a=function(e){var t;return null==i["~"]&&(i["~"]=r),null==e&&(e=r),(t=e["$nil?"]())===r||null==t||t.$$is_boolean&&1!=t?i["~"]["$[]"](e):i["~"]},a.$$arity=-1),e.alias(t,"quote","escape"),e.defn(t,"$union",s=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];var l,a,s,c,_;if(0==n.length)return/(?!)/;l=n[0].$$is_array,n.length>1&&l&&r.$raise(e.const_get(u,"TypeError",!0,!0),"no implicit conversion of Array into String"),l&&(n=n[0]),c=void 0,a=[];for(var d=0;d<n.length;d++)s=n[d],s.$$is_string?a.push(r.$escape(s)):s.$$is_regexp?(_=s.$options(),void 0!=c&&c!=_&&r.$raise(e.const_get(u,"TypeError",!0,!0),"All expressions must use the same options"),c=_,a.push("("+s.source+")")):a.push(r.$escape(s.$to_str()));return r.$new(a.$join("|"),c)},s.$$arity=-1),e.defn(t,"$new",c=function(t,n){var r=this;if(t.$$is_regexp)return new RegExp(t);if(t=e.Opal["$coerce_to!"](t,e.String,"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&r.$raise(e.const_get(u,"RegexpError",!0,!0),"too short escape sequence: /"+t+"/"),void 0===n||n["$!"]())return new RegExp(t);if(n.$$is_number){var $="";e.const_get(u,"IGNORECASE",!0,!0)&n&&($+="i"),e.const_get(u,"MULTILINE",!0,!0)&n&&($+="m"),n=$}else n="i";return new RegExp(t,n)},c.$$arity=-2)}(e.get_singleton_class(m),w),e.defn(m,"$==",s=function(e){var t=this;return e.constructor==RegExp&&t.toString()===e.toString()},s.$$arity=1),e.defn(m,"$===",c=function(t){return this.$match(e.Opal["$coerce_to?"](t,e.String,"to_str"))!==r},c.$$arity=1),e.defn(m,"$=~",u=function(e){var t,n=this;return null==i["~"]&&(i["~"]=r),t=n.$match(e),t!==!1&&t!==r&&null!=t?i["~"].$begin(0):t},u.$$arity=1),e.alias(m,"eql?","=="),e.defn(m,"$inspect",_=function(){var e=this,t=/^\/(.*)\/([^\/]*)$/,n=e.toString(),r=t.exec(n);if(r){for(var $=r[1],o=r[2],i=$.split(""),l=i.length,a=!1,s="",c=0;c<l;c++){var u=i[c];a||"/"!=u||(s=s.concat("\\")),s=s.concat(u),a="\\"==u&&!a}return"/"+s+"/"+o}return n},_.$$arity=0),e.defn(m,"$match",d=function(t,n){var $=this,o=d.$$p,l=o||r;if(null==i["~"]&&(i["~"]=r),o&&(d.$$p=null),$.uninitialized&&$.$raise(e.const_get(w,"TypeError",!0,!0),"uninitialized Regexp"),n=void 0===n?0:e.Opal.$coerce_to(n,e.Integer,"to_int"),t===r)return i["~"]=r;if(t=e.Opal.$coerce_to(t,e.String,"to_str"),n<0&&(n+=t.length)<0)return i["~"]=r;var a=$.source,s="g";$.multiline&&(a=a.replace(".","[\\s\\S]"),s+="m");for(var c,u=new RegExp(a,s+($.ignoreCase?"i":""));;){if(null===(c=u.exec(t)))return i["~"]=r;if(c.index>=n)return i["~"]=e.MatchData.$new(u,c),l===r?i["~"]:l.$call(i["~"]);u.lastIndex=c.index+1}},d.$$arity=-2),e.defn(m,"$~",f=function(){var e=this;return null==i._&&(i._=r),e["$=~"](i._)},f.$$arity=0),e.defn(m,"$source",p=function(){return this.source},p.$$arity=0),e.defn(m,"$options",h=function(){var t=this;t.uninitialized&&t.$raise(e.const_get(w,"TypeError",!0,!0),"uninitialized Regexp");var n=0;return t.multiline&&(n|=e.const_get(w,"MULTILINE",!0,!0)),t.ignoreCase&&(n|=e.const_get(w,"IGNORECASE",!0,!0)),n},h.$$arity=0),e.defn(m,"$casefold?",g=function(){return this.ignoreCase},g.$$arity=0),e.alias(m,"to_s","source"),e.defs(m,"$_load",b=function(t){return o(this,"new",e.to_a(t))},b.$$arity=1)}(t.base,RegExp,n),function(t,n,l){function a(){}var s,c,u,_,d,f,p,h,g,b,m,y,v=a=$(t,null,"MatchData",a),w=v.$$proto,x=v.$$scope,k=l.slice().concat(x);return w.matches=r,v.$attr_reader("post_match","pre_match","regexp","string"),e.defn(v,"$initialize",s=function(e,t){var n=this;i["~"]=n,n.regexp=e,n.begin=t.index,n.string=t.input,n.pre_match=t.input.slice(0,t.index),n.post_match=t.input.slice(t.index+t[0].length),n.matches=[];for(var $=0,o=t.length;$<o;$++){var l=t[$];null==l?n.matches.push(r):n.matches.push(l)}},s.$$arity=2),e.defn(v,"$[]",c=function(t){var n,r=this,$=arguments.length,i=$-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<$;l++)n[l-0]=arguments[l];return o(r.matches,"[]",e.to_a(n))},c.$$arity=-1),e.defn(v,"$offset",u=function(t){var n=this;return 0!==t&&n.$raise(e.const_get(k,"ArgumentError",!0,!0),"MatchData#offset only supports 0th element"),[n.begin,n.begin+n.matches[t].length]},u.$$arity=1),e.defn(v,"$==",_=function(t){var n,$,o,i,l=this;return!((n=e.MatchData["$==="](t))===r||null==n||n.$$is_boolean&&1!=n)&&(i=l.string==t.string,o=i!==!1&&i!==r&&null!=i?l.regexp.toString()==t.regexp.toString():i,$=o!==!1&&o!==r&&null!=o?l.pre_match==t.pre_match:o,n=$!==!1&&$!==r&&null!=$?l.post_match==t.post_match:$,n!==!1&&n!==r&&null!=n?l.begin==t.begin:n)},_.$$arity=1),e.alias(v,"eql?","=="),e.defn(v,"$begin",d=function(t){var n=this;return 0!==t&&n.$raise(e.const_get(k,"ArgumentError",!0,!0),"MatchData#begin only supports 0th element"),n.begin},d.$$arity=1),e.defn(v,"$end",f=function(t){var n=this;return 0!==t&&n.$raise(e.const_get(k,"ArgumentError",!0,!0),"MatchData#end only supports 0th element"),n.begin+n.matches[t].length},f.$$arity=1),e.defn(v,"$captures",p=function(){return this.matches.slice(1)},p.$$arity=0),e.defn(v,"$inspect",h=function(){for(var e=this,t="#<MatchData "+e.matches[0].$inspect(),n=1,r=e.matches.length;n<r;n++)t+=" "+n+":"+e.matches[n].$inspect();return t+">"},h.$$arity=0),e.defn(v,"$length",g=function(){return this.matches.length},g.$$arity=0),e.alias(v,"size","length"),e.defn(v,"$to_a",b=function(){return this.matches},b.$$arity=0),e.defn(v,"$to_s",m=function(){return this.matches[0]},m.$$arity=0),e.defn(v,"$values_at",y=function(t){var n,$=this,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];var a,s,c,u=[];for(a=0;a<n.length;a++)n[a].$$is_range&&(s=n[a].$to_a(),s.unshift(a,1),Array.prototype.splice.apply(n,s)),c=e.Opal["$coerce_to!"](n[a],e.Integer,"to_int"),c<0&&(c+=$.matches.length)<0?u.push(r):u.push($.matches[c]);return u},y.$$arity=-1),r&&"values_at"}(t.base,0,n)},Opal.modules["corelib/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,$=e,o=[e],i=e.nil,l=(e.breaker,e.slice,e.klass),a=e.send,s=e.gvars;return e.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),r.$require("corelib/comparable"),r.$require("corelib/regexp"),function(r,$,o){function c(){}function u(t){function n(e,t){if(0===e.length)return t;var n,r,$="",o=e.length;for(n=0;n<o;n++)r=e.charAt(n),t.indexOf(r)!==-1&&($+=r);return $}var r,$,o,i,l,a,s="",c="";for(r=0,$=t.length;r<$;r++)o=e.Opal.$coerce_to(t[r],e.String,"to_str"),i="^"===o.charAt(0)&&o.length>1,o=function(t){var n,r,$,o,i,l,a="",s=t.length;for(n=0;n<s;n++)if("-"===(r=t.charAt(n))&&n>0&&n<s-1&&!$){for(o=t.charCodeAt(n-1),i=t.charCodeAt(n+1),o>i&&Ee.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+o+"-"+i+'" in string transliteration'),l=o+1;l<i+1;l++)a+=String.fromCharCode(l);$=!0,n++}else $="\\"===r,a+=r;return a}(i?o.slice(1):o),i?c=n(c,o):s=n(s,o);if(s.length>0&&c.length>0){for(a="",r=0,$=s.length;r<$;r++)l=s.charAt(r),c.indexOf(l)===-1&&(a+=l);s=a,c=""}return s.length>0?"["+e.const_get(Re,"Regexp",!0,!0).$escape(s)+"]":c.length>0?"[^"+e.const_get(Re,"Regexp",!0,!0).$escape(c)+"]":null}var _,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye,ve,we,xe,ke,Oe,Ee=c=l(r,$,"String",c),Ae=Ee.$$proto,Se=Ee.$$scope,Re=o.slice().concat(Se);Ae.length=i,Ee.$include(e.const_get(Re,"Comparable",!0,!0)),Ae.$$is_string=!0,e.defn(Ee,"$__id__",_=function(){return this.toString()},_.$$arity=0),e.alias(Ee,"object_id","__id__"),e.defs(Ee,"$try_convert",d=function(t){return e.Opal["$coerce_to?"](t,e.String,"to_str")},d.$$arity=1),e.defs(Ee,"$new",f=function(t){return null==t&&(t=""),
t=e.Opal.$coerce_to(t,e.String,"to_str"),new String(t)},f.$$arity=-1),e.defn(Ee,"$initialize",p=function(t){var n=this;return void 0===t?n:n.$raise(e.const_get(Re,"NotImplementedError",!0,!0),"Mutable strings are not supported in Opal.")},p.$$arity=-1),e.defn(Ee,"$%",h=function(t){var n,r=this;return(n=e.const_get(Re,"Array",!0,!0)["$==="](t))===i||null==n||n.$$is_boolean&&1!=n?r.$format(r,t):a(r,"format",[r].concat(e.to_a(t)))},h.$$arity=1),e.defn(Ee,"$*",g=function(t){var n=this;if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&n.$raise(e.const_get(Re,"ArgumentError",!0,!0),"negative argument"),0===t)return"";var r="",$=n.toString();for($.length*t>=1<<28&&n.$raise(e.const_get(Re,"RangeError",!0,!0),"multiply count must not overflow maximum string size");1==(1&t)&&(r+=$),0!==(t>>>=1);)$+=$;return r},g.$$arity=1),e.defn(Ee,"$+",b=function(t){var n=this;return t=e.Opal.$coerce_to(t,e.String,"to_str"),n+t.$to_s()},b.$$arity=1),e.defn(Ee,"$<=>",m=function(e){var t,n=this;if((t=e["$respond_to?"]("to_str"))===i||null==t||t.$$is_boolean&&1!=t){var r=e["$<=>"](n);return r===i?i:r>0?-1:r<0?1:0}return e=e.$to_str().$to_s(),n>e?1:n<e?-1:0},m.$$arity=1),e.defn(Ee,"$==",y=function(t){var n=this;return t.$$is_string?n.toString()===t.toString():!!e.Opal["$respond_to?"](t,"to_str")&&t["$=="](n)},y.$$arity=1),e.alias(Ee,"eql?","=="),e.alias(Ee,"===","=="),e.defn(Ee,"$=~",v=function(t){var n=this;return t.$$is_string&&n.$raise(e.const_get(Re,"TypeError",!0,!0),"type mismatch: String given"),t["$=~"](n)},v.$$arity=1),e.defn(Ee,"$[]",w=function(t,n){var r,$=this,o=$.length;if(t.$$is_range)return r=t.exclude,n=e.Opal.$coerce_to(t.end,e.Integer,"to_int"),t=e.Opal.$coerce_to(t.begin,e.Integer,"to_int"),Math.abs(t)>o?i:(t<0&&(t+=o),n<0&&(n+=o),r||(n+=1),n-=t,n<0&&(n=0),$.substr(t,n));if(t.$$is_string)return null!=n&&$.$raise(e.const_get(Re,"TypeError",!0,!0)),$.indexOf(t)!==-1?t:i;if(t.$$is_regexp){var l=$.match(t);return null===l?(s["~"]=i,i):(s["~"]=e.MatchData.$new(t,l),null==n?l[0]:(n=e.Opal.$coerce_to(n,e.Integer,"to_int"),n<0&&-n<l.length?l[n+=l.length]:n>=0&&n<l.length?l[n]:i))}return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=o),null==n?t>=o||t<0?i:$.substr(t,1):(n=e.Opal.$coerce_to(n,e.Integer,"to_int"),n<0?i:t>o||t<0?i:$.substr(t,n))},w.$$arity=-2),e.alias(Ee,"byteslice","[]"),e.defn(Ee,"$capitalize",x=function(){var e=this;return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},x.$$arity=0),e.defn(Ee,"$casecmp",k=function(t){var n=this;t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(n)&&r.test(t)&&(n=n.toLowerCase(),t=t.toLowerCase()),n["$<=>"](t)},k.$$arity=1),e.defn(Ee,"$center",O=function(r,$){var o,l=this;if(null==$&&($=" "),r=e.Opal.$coerce_to(r,e.Integer,"to_int"),$=e.Opal.$coerce_to($,e.String,"to_str").$to_s(),(o=$["$empty?"]())===i||null==o||o.$$is_boolean&&1!=o||l.$raise(e.const_get(Re,"ArgumentError",!0,!0),"zero width padding"),(o=r<=l.length)!==i&&null!=o&&(!o.$$is_boolean||1==o))return l;var a=l.$ljust(t(n(r,l.length),2).$ceil(),$);return l.$rjust(t(n(r,l.length),2).$floor(),$)+a.slice(l.length)},O.$$arity=-2),e.defn(Ee,"$chars",E=function(){var e=this,t=E.$$p,n=t||i;return t&&(E.$$p=null),n===!1||n===i||null==n?e.$each_char().$to_a():a(e,"each_char",[],n.$to_proc())},E.$$arity=0),e.defn(Ee,"$chomp",A=function(t){var n,r=this;if(null==s["/"]&&(s["/"]=i),null==t&&(t=s["/"]),(n=t===i||0===r.length)!==i&&null!=n&&(!n.$$is_boolean||1==n))return r;if("\n"===(t=e.Opal["$coerce_to!"](t,e.String,"to_str").$to_s()))return r.replace(/\r?\n?$/,"");if(""===t)return r.replace(/(\r?\n)+$/,"");if(r.length>t.length){if(r.substr(r.length-t.length,t.length)===t)return r.substr(0,r.length-t.length)}return r},A.$$arity=-1),e.defn(Ee,"$chop",S=function(){var e=this,t=e.length;return t<=1?"":"\n"===e.charAt(t-1)&&"\r"===e.charAt(t-2)?e.substr(0,t-2):e.substr(0,t-1)},S.$$arity=0),e.defn(Ee,"$chr",R=function(){return this.charAt(0)},R.$$arity=0),e.defn(Ee,"$clone",M=function(){var e=this,t=i;return t=e.slice(),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},M.$$arity=0),e.defn(Ee,"$dup",T=function(){var e=this,t=i;return t=e.slice(),t.$initialize_dup(e),t},T.$$arity=0),e.defn(Ee,"$count",I=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];0===n.length&&r.$raise(e.const_get(Re,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");var l=u(n);return null===l?0:r.length-r.replace(new RegExp(l,"g"),"").length},I.$$arity=-1),e.defn(Ee,"$delete",C=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];0===n.length&&r.$raise(e.const_get(Re,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");var l=u(n);return null===l?r:r.replace(new RegExp(l,"g"),"")},C.$$arity=-1),e.defn(Ee,"$downcase",N=function(){return this.toLowerCase()},N.$$arity=0),e.defn(Ee,"$each_char",j=function(){var t,n=this,r=j.$$p,$=r||i;if(r&&(j.$$p=null),$===i)return a(n,"enum_for",["each_char"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,l=n.length;o<l;o++)e.yield1($,n.charAt(o));return n},j.$$arity=0),e.defn(Ee,"$each_line",L=function(t){var n=this,r=L.$$p,$=r||i;if(null==s["/"]&&(s["/"]=i),null==t&&(t=s["/"]),r&&(L.$$p=null),$===i)return n.$enum_for("each_line",t);if(t===i)return e.yield1($,n),n;t=e.Opal.$coerce_to(t,e.String,"to_str");var o,l,a,c,u,_,d;if(0===t.length){for(o=n.split(/(\n{2,})/),l=0,a=o.length;l<a;l+=2)(o[l]||o[l+1])&&e.yield1($,(o[l]||"")+(o[l+1]||""));return n}for(u=n.$chomp(t),_=n.length!=u.length,d=u.split(t),l=0,c=d.length;l<c;l++)l<c-1||_?e.yield1($,d[l]+t):e.yield1($,d[l]);return n},L.$$arity=-1),e.defn(Ee,"$empty?",z=function(){return 0===this.length},z.$$arity=0),e.defn(Ee,"$end_with?",P=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];for(var l=0,a=n.length;l<a;l++){var s=e.Opal.$coerce_to(n[l],e.String,"to_str").$to_s();if(r.length>=s.length&&r.substr(r.length-s.length,s.length)==s)return!0}return!1},P.$$arity=-1),e.alias(Ee,"eql?","=="),e.alias(Ee,"equal?","==="),e.defn(Ee,"$gsub",D=function(t,n){var r=this,$=D.$$p,o=$||i;if($&&(D.$$p=null),void 0===n&&o===i)return r.$enum_for("gsub",t);var l,a,c="",u=i,_=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.Opal.$coerce_to(t,e.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(l=t.exec(r))){s["~"]=i,c+=r.slice(_);break}u=e.MatchData.$new(t,l),void 0===n?a=o(l[0]):n.$$is_hash?a=n["$[]"](l[0]).$to_s():(n.$$is_string||(n=e.Opal.$coerce_to(n,e.String,"to_str")),a=n.replace(/([\\]+)([0-9+&`'])/g,function(e,t,n){if(t.length%2==0)return e;switch(n){case"+":for(var $=l.length-1;$>0;$--)if(void 0!==l[$])return t.slice(1)+l[$];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+r.slice(0,l.index);case"'":return t.slice(1)+r.slice(l.index+l[0].length);default:return t.slice(1)+(l[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===l.index?(c+=a+r.slice(_,l.index+1),t.lastIndex+=1):c+=r.slice(_,l.index)+a,_=t.lastIndex}return s["~"]=u,c},D.$$arity=-2),e.defn(Ee,"$hash",B=function(){return this.toString()},B.$$arity=0),e.defn(Ee,"$hex",q=function(){return this.$to_i(16)},q.$$arity=0),e.defn(Ee,"$include?",U=function(t){var n=this;return t.$$is_string||(t=e.Opal.$coerce_to(t,e.String,"to_str")),n.indexOf(t)!==-1},U.$$arity=1),e.defn(Ee,"$index",F=function(t,n){var r,$,o,l=this;if(void 0===n)n=0;else if((n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0&&(n+=l.length)<0)return i;if(t.$$is_regexp)for(o=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===($=o.exec(l))){s["~"]=i,r=-1;break}if($.index>=n){s["~"]=e.MatchData.$new(o,$),r=$.index;break}o.lastIndex=$.index+1}else t=e.Opal.$coerce_to(t,e.String,"to_str"),r=0===t.length&&n>l.length?-1:l.indexOf(t,n);return r===-1?i:r},F.$$arity=-2),e.defn(Ee,"$inspect",G=function(){var e=this,t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},G.$$arity=0),e.defn(Ee,"$intern",H=function(){return this},H.$$arity=0),e.defn(Ee,"$lines",Y=function(e){var t=this,n=Y.$$p,r=n||i,$=i;return null==s["/"]&&(s["/"]=i),null==e&&(e=s["/"]),n&&(Y.$$p=null),$=a(t,"each_line",[e],r.$to_proc()),r!==!1&&r!==i&&null!=r?t:$.$to_a()},Y.$$arity=-1),e.defn(Ee,"$length",K=function(){return this.length},K.$$arity=0),e.defn(Ee,"$ljust",W=function(t,n){var r,$=this;if(null==n&&(n=" "),t=e.Opal.$coerce_to(t,e.Integer,"to_int"),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),(r=n["$empty?"]())===i||null==r||r.$$is_boolean&&1!=r||$.$raise(e.const_get(Re,"ArgumentError",!0,!0),"zero width padding"),(r=t<=$.length)!==i&&null!=r&&(!r.$$is_boolean||1==r))return $;var o=-1,l="";for(t-=$.length;++o<t;)l+=n;return $+l.slice(0,t)},W.$$arity=-2),e.defn(Ee,"$lstrip",X=function(){return this.replace(/^\s*/,"")},X.$$arity=0),e.defn(Ee,"$ascii_only?",V=function(){var e=this;return e.match(/[ -~\n]*/)[0]===e},V.$$arity=0),e.defn(Ee,"$match",J=function(t,n){var r,$,o=this,l=J.$$p,s=l||i;return l&&(J.$$p=null),(r=($=e.String["$==="](t))!==!1&&$!==i&&null!=$?$:t["$respond_to?"]("to_str"))===i||null==r||r.$$is_boolean&&1!=r||(t=e.const_get(Re,"Regexp",!0,!0).$new(t.$to_str())),((r=e.const_get(Re,"Regexp",!0,!0)["$==="](t))===i||null==r||r.$$is_boolean&&1!=r)&&o.$raise(e.const_get(Re,"TypeError",!0,!0),"wrong argument type "+t.$class()+" (expected Regexp)"),a(t,"match",[o,n],s.$to_proc())},J.$$arity=-2),e.defn(Ee,"$next",Z=function(){var e=this,t=e.length;if(0===t)return"";for(var n,r=e,$=e.search(/[a-zA-Z0-9]/),o=!1;t--;){if((n=e.charCodeAt(t))>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:o=!0,n=48;break;case 90:o=!0,n=65;break;case 122:o=!0,n=97;break;default:o=!1,n+=1}else $===-1?255===n?(o=!0,n=0):(o=!1,n+=1):o=!0;if(r=r.slice(0,t)+String.fromCharCode(n)+r.slice(t+1),o&&(0===t||t===$)){switch(n){case 65:case 97:break;default:n+=1}r=0===t?String.fromCharCode(n)+r:r.slice(0,t)+String.fromCharCode(n)+r.slice(t),o=!1}if(!o)break}return r},Z.$$arity=0),e.defn(Ee,"$oct",Q=function(){var e,t=this,n=t,r=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,t,n,$){switch($.charAt(0)){case"+":case"-":return e;case"0":if("x"===$.charAt(1)&&"0x"===n)return e}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return t+$}),e=parseInt(n.replace(/_(?!_)/g,""),r),isNaN(e)?0:e)},Q.$$arity=0),e.defn(Ee,"$ord",ee=function(){return this.charCodeAt(0)},ee.$$arity=0),e.defn(Ee,"$partition",te=function(t){var n,r,$=this;return t.$$is_regexp?(r=t.exec($),null===r?n=-1:(e.MatchData.$new(t,r),t=r[0],n=r.index)):(t=e.Opal.$coerce_to(t,e.String,"to_str"),n=$.indexOf(t)),n===-1?[$,"",""]:[$.slice(0,n),$.slice(n,n+t.length),$.slice(n+t.length)]},te.$$arity=1),e.defn(Ee,"$reverse",ne=function(){return this.split("").reverse().join("")},ne.$$arity=0),e.defn(Ee,"$rindex",re=function(t,n){var r,$,o,l,a=this;if(void 0===n)n=a.length;else if((n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0&&(n+=a.length)<0)return i;if(t.$$is_regexp){for($=null,o=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(l=o.exec(a))||l.index>n)break;$=l,o.lastIndex=$.index+1}null===$?(s["~"]=i,r=-1):(e.MatchData.$new(o,$),r=$.index)}else t=e.Opal.$coerce_to(t,e.String,"to_str"),r=a.lastIndexOf(t,n);return r===-1?i:r},re.$$arity=-2),e.defn(Ee,"$rjust",$e=function(t,n){var r,$=this;if(null==n&&(n=" "),t=e.Opal.$coerce_to(t,e.Integer,"to_int"),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),(r=n["$empty?"]())===i||null==r||r.$$is_boolean&&1!=r||$.$raise(e.const_get(Re,"ArgumentError",!0,!0),"zero width padding"),(r=t<=$.length)!==i&&null!=r&&(!r.$$is_boolean||1==r))return $;var o=Math.floor(t-$.length),l=Math.floor(o/n.length),a=Array(l+1).join(n),s=o-a.length;return a+n.slice(0,s)+$},$e.$$arity=-2),e.defn(Ee,"$rpartition",oe=function(t){var n,r,$,o,i=this;if(t.$$is_regexp){for(r=null,$=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(o=$.exec(i)))break;r=o,$.lastIndex=r.index+1}null===r?n=-1:(e.MatchData.$new($,r),t=r[0],n=r.index)}else t=e.Opal.$coerce_to(t,e.String,"to_str"),n=i.lastIndexOf(t);return n===-1?["","",i]:[i.slice(0,n),i.slice(n,n+t.length),i.slice(n+t.length)]},oe.$$arity=1),e.defn(Ee,"$rstrip",ie=function(){return this.replace(/[\s\u0000]*$/,"")},ie.$$arity=0),e.defn(Ee,"$scan",le=function(t){var n=this,r=le.$$p,$=r||i;r&&(le.$$p=null);var o,l=[],a=i;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.Opal.$coerce_to(t,e.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(o=t.exec(n));)a=e.MatchData.$new(t,o),$===i?1==o.length?l.push(o[0]):l.push(a.$captures()):1==o.length?$(o[0]):$.call(n,a.$captures()),t.lastIndex===o.index&&(t.lastIndex+=1);return s["~"]=a,$!==i?n:l},le.$$arity=1),e.alias(Ee,"size","length"),e.alias(Ee,"slice","[]"),e.defn(Ee,"$split",ae=function(t,n){var r,$=this;if(null==s[";"]&&(s[";"]=i),0===$.length)return[];if(void 0===n)n=0;else if(1===(n=e.Opal["$coerce_to!"](n,e.Integer,"to_int")))return[$];void 0!==t&&t!==i||(t=(r=s[";"])!==!1&&r!==i&&null!=r?r:" ");var o,l,a=[],c=$.toString(),u=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s()," "===t?(t=/\s+/gm,c=c.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),a=c.split(t),1===a.length&&a[0]===c)return a;for(;(l=a.indexOf(void 0))!==-1;)a.splice(l,1);if(0===n){for(;""===a[a.length-1];)a.length-=1;return a}if(o=t.exec(c),n<0){if(null!==o&&""===o[0]&&t.source.indexOf("(?=")===-1)for(l=0;l<o.length;l++)a.push("");return a}if(null!==o&&""===o[0])return a.splice(n-1,a.length-1,a.slice(n-1).join("")),a;if(n>=a.length)return a;for(l=0;null!==o&&(l++,u=t.lastIndex,l+1!==n);)o=t.exec(c);return a.splice(n-1,a.length-1,c.slice(u)),a},ae.$$arity=-1),e.defn(Ee,"$squeeze",se=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];if(0===t.length)return n.replace(/(.)\1+/g,"$1");var i=u(t);return null===i?n:n.replace(new RegExp("("+i+")\\1+","g"),"$1")},se.$$arity=-1),e.defn(Ee,"$start_with?",ce=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];for(var l=0,a=n.length;l<a;l++){var s=e.Opal.$coerce_to(n[l],e.String,"to_str").$to_s();if(0===r.indexOf(s))return!0}return!1},ce.$$arity=-1),e.defn(Ee,"$strip",ue=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ue.$$arity=0),e.defn(Ee,"$sub",_e=function(t,n){var r=this,$=_e.$$p,o=$||i;$&&(_e.$$p=null),t.$$is_regexp||(t=e.Opal.$coerce_to(t,e.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var l=t.exec(r);return null===l?(s["~"]=i,r.toString()):(e.MatchData.$new(t,l),void 0===n?(o===i&&r.$raise(e.const_get(Re,"ArgumentError",!0,!0),"wrong number of arguments (1 for 2)"),r.slice(0,l.index)+o(l[0])+r.slice(l.index+l[0].length)):n.$$is_hash?r.slice(0,l.index)+n["$[]"](l[0]).$to_s()+r.slice(l.index+l[0].length):(n=e.Opal.$coerce_to(n,e.String,"to_str"),n=n.replace(/([\\]+)([0-9+&`'])/g,function(e,t,n){if(t.length%2==0)return e;switch(n){case"+":for(var $=l.length-1;$>0;$--)if(void 0!==l[$])return t.slice(1)+l[$];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+r.slice(0,l.index);case"'":return t.slice(1)+r.slice(l.index+l[0].length);default:return t.slice(1)+(l[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,l.index)+n+r.slice(l.index+l[0].length)))},_e.$$arity=-2),e.alias(Ee,"succ","next"),e.defn(Ee,"$sum",de=function(t){var n=this;null==t&&(t=16),t=e.Opal.$coerce_to(t,e.Integer,"to_int");for(var r=0,$=n.length,o=0;o<$;o++)r+=n.charCodeAt(o);return t<=0?r:r&Math.pow(2,t)-1},de.$$arity=-1),e.defn(Ee,"$swapcase",fe=function(){var e=this,t=e.replace(/([a-z]+)|([A-Z]+)/g,function(e,t,n){return t?e.toUpperCase():e.toLowerCase()});return e.constructor===String?t:e.$class().$new(t)},fe.$$arity=0),e.defn(Ee,"$to_f",pe=function(){var e=this;if("_"===e.charAt(0))return 0;var t=parseFloat(e.replace(/_/g,""));return isNaN(t)||1/0==t||t==-1/0?0:t},pe.$$arity=0),e.defn(Ee,"$to_i",he=function(t){var n=this;null==t&&(t=10);var r,$=n.toLowerCase(),o=e.Opal.$coerce_to(t,e.Integer,"to_int");return(1===o||o<0||o>36)&&n.$raise(e.const_get(Re,"ArgumentError",!0,!0),"invalid radix "+o),/^\s*_/.test($)?0:($=$.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,t,n,r){switch(r.charAt(0)){case"+":case"-":return e;case"0":if("x"===r.charAt(1)&&"0x"===n&&(0===o||16===o))return e}switch(n){case"0b":if(0===o||2===o)return o=2,t+r;break;case"0":case"0o":if(0===o||8===o)return o=8,t+r;break;case"0d":if(0===o||10===o)return o=10,t+r;break;case"0x":if(0===o||16===o)return o=16,t+r}return e}),r=parseInt($.replace(/_(?!_)/g,""),o),isNaN(r)?0:r)},he.$$arity=-1),e.defn(Ee,"$to_proc",ge=function(){var t,n=this,r=i;return r=n,a(n,"proc",[],(t=function(n){var $,o,l,s=t.$$s||this,c=i;($=t.$$p||i)&&(t.$$p=null);var u=arguments.length,_=u-0;_<0&&(_=0),o=new Array(_);for(var d=0;d<u;d++)o[d-0]=arguments[d];return(l=o["$empty?"]())===i||null==l||l.$$is_boolean&&1!=l||s.$raise(e.const_get(Re,"ArgumentError",!0,!0),"no receiver given"),c=o.$shift(),a(c,"__send__",[r].concat(e.to_a(o)),$.$to_proc())},t.$$s=n,t.$$arity=-1,t))},ge.$$arity=0),e.defn(Ee,"$to_s",be=function(){return this.toString()},be.$$arity=0),e.alias(Ee,"to_str","to_s"),e.alias(Ee,"to_sym","intern"),e.defn(Ee,"$tr",me=function(t,n){var r=this;if(t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s(),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),0==t.length||t===n)return r;var $,o,i,l,a,s,c,u={},_=t.split(""),d=_.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),g=f[p-1],d-=1);var b=[],m=null;for(o=!1,$=0;$<d;$++)if(l=_[$],null==m)m=l,b.push(l);else if("-"===l)"-"===m?(b.push("-"),b.push("-")):$==d-1?b.push("-"):o=!0;else if(o){for(a=m.charCodeAt(0),s=l.charCodeAt(0),a>s&&r.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)b.push(String.fromCharCode(i));b.push(l),o=null,m=null}else b.push(l);if(_=b,d=_.length,h)for($=0;$<d;$++)u[_[$]]=!0;else{if(p>0){var y=[],v=null;for(o=!1,$=0;$<p;$++)if(l=f[$],null==v)v=l,y.push(l);else if("-"===l)"-"===v?(y.push("-"),y.push("-")):$==p-1?y.push("-"):o=!0;else if(o){for(a=v.charCodeAt(0),s=l.charCodeAt(0),a>s&&r.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)y.push(String.fromCharCode(i));y.push(l),o=null,v=null}else y.push(l);f=y,p=f.length}var w=d-p;if(w>0){var x=p>0?f[p-1]:"";for($=0;$<w;$++)f.push(x)}for($=0;$<d;$++)u[_[$]]=f[$]}var k="";for($=0,c=r.length;$<c;$++){l=r.charAt($);var O=u[l];k+=h?null==O?g:l:null!=O?O:l}return k},me.$$arity=2),e.defn(Ee,"$tr_s",ye=function(t,n){var r=this;if(t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s(),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),0==t.length)return r;var $,o,i,l,a,s,c,u={},_=t.split(""),d=_.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),g=f[p-1],d-=1);var b=[],m=null;for(o=!1,$=0;$<d;$++)if(l=_[$],null==m)m=l,b.push(l);else if("-"===l)"-"===m?(b.push("-"),b.push("-")):$==d-1?b.push("-"):o=!0;else if(o){for(a=m.charCodeAt(0),s=l.charCodeAt(0),a>s&&r.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)b.push(String.fromCharCode(i));b.push(l),o=null,m=null}else b.push(l);if(_=b,d=_.length,h)for($=0;$<d;$++)u[_[$]]=!0;else{if(p>0){var y=[];for(o=!1,$=0;$<p;$++)if(l=f[$],null==m)m=l,y.push(l);else if("-"===l)$==p-1?y.push("-"):o=!0;else if(o){for(a=m.charCodeAt(0),s=l.charCodeAt(0),a>s&&r.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)y.push(String.fromCharCode(i));y.push(l),o=null,m=null}else y.push(l);f=y,p=f.length}var v=d-p;if(v>0){var w=p>0?f[p-1]:"";for($=0;$<v;$++)f.push(w)}for($=0;$<d;$++)u[_[$]]=f[$]}var x="",k=null;for($=0,c=r.length;$<c;$++){l=r.charAt($);var O=u[l];h?null==O?null==k&&(x+=g,k=!0):(x+=l,k=null):null!=O?null!=k&&k===O||(x+=O,k=O):(x+=l,k=null)}return x},ye.$$arity=2),e.defn(Ee,"$upcase",ve=function(){return this.toUpperCase()},ve.$$arity=0),e.defn(Ee,"$upto",we=function(t,n){var r=this,$=we.$$p,o=$||i;if(null==n&&(n=!1),$&&(we.$$p=null),o===i)return r.$enum_for("upto",t,n);t=e.Opal.$coerce_to(t,e.String,"to_str");var l,a,s=r.toString();if(1===s.length&&1===t.length)for(l=s.charCodeAt(0),a=t.charCodeAt(0);l<=a&&(!n||l!==a);)o(String.fromCharCode(l)),l+=1;else if(parseInt(s,10).toString()===s&&parseInt(t,10).toString()===t)for(l=parseInt(s,10),a=parseInt(t,10);l<=a&&(!n||l!==a);)o(l.toString()),l+=1;else for(;s.length<=t.length&&s<=t&&(!n||s!==t);)o(s),s=s.$succ();return r},we.$$arity=-2),e.defn(Ee,"$instance_variables",xe=function(){return[]},xe.$$arity=0),e.defs(Ee,"$_load",ke=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];return a(r,"new",e.to_a(n))},ke.$$arity=-1),e.defn(Ee,"$unpack",Oe=function(t){function n(e){var t,n,r=e.length,$=[];for(t=0;t<r;t++)n=e.charCodeAt(t),$.push(n);return $}var r=this,$=i;return function(){return $=t,"U*"["$==="]($)||"C*"["$==="]($)?n(r):r.$raise(e.const_get(Re,"NotImplementedError",!0,!0))}()},Oe.$$arity=1)}($.base,String,o),e.cdecl($,"Symbol",e.String)},Opal.modules["corelib/enumerable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var l=(e.top,e),a=[e],s=e.nil,c=(e.breaker,e.slice,e.module),u=e.send;return e.add_stubs(["$each","$destructure","$raise","$new","$yield","$slice_when","$!","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$zip"]),function(l,a){var _,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe=_=c(l,"Enumerable"),ie=(oe.$$proto,oe.$$scope),le=a.slice().concat(ie);e.defn(oe,"$all?",d=function(){try{var t,n,r=this,$=d.$$p,o=$||s;return $&&(d.$$p=null),o!==s?u(r,"each",[],(t=function(n){var r,$,i=(t.$$s,arguments.length),l=i-0;l<0&&(l=0),r=new Array(l);for(var a=0;a<i;a++)r[a-0]=arguments[a];if(!(($=e.yieldX(o,e.to_a(r)))===s||null==$||$.$$is_boolean&&1!=$))return s;e.ret(!1)},t.$$s=r,t.$$arity=-1,t)):u(r,"each",[],(n=function(t){var r,$,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<o;l++)r[l-0]=arguments[l];if(!(($=e.Opal.$destructure(r))===s||null==$||$.$$is_boolean&&1!=$))return s;e.ret(!1)},n.$$s=r,n.$$arity=-1,n)),!0}catch(t){if(t===e.returner)return t.$v;throw t}},d.$$arity=0),e.defn(oe,"$any?",f=function(){try{var t,n,r=this,$=f.$$p,o=$||s;return $&&(f.$$p=null),o!==s?u(r,"each",[],(t=function(n){var r,$,i=(t.$$s,arguments.length),l=i-0;l<0&&(l=0),r=new Array(l);for(var a=0;a<i;a++)r[a-0]=arguments[a];if(($=e.yieldX(o,e.to_a(r)))===s||null==$||$.$$is_boolean&&1!=$)return s;e.ret(!0)},t.$$s=r,t.$$arity=-1,t)):u(r,"each",[],(n=function(t){var r,$,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<o;l++)r[l-0]=arguments[l];if(($=e.Opal.$destructure(r))===s||null==$||$.$$is_boolean&&1!=$)return s;e.ret(!0)},n.$$s=r,n.$$arity=-1,n)),!1}catch(t){if(t===e.returner)return t.$v;throw t}},f.$$arity=0),e.defn(oe,"$chunk",p=function(){var t,n=this,r=p.$$p,$=r||s;return r&&(p.$$p=null),$!==s||e.const_get(le,"Kernel",!0,!0).$raise(e.const_get(le,"ArgumentError",!0,!0),"no block given"),u(e.const_get([e.Object.$$scope],"Enumerator",!0,!0),"new",[],(t=function(n){function r(){l.length>0&&n.$yield(i,l)}var o=t.$$s||this;null==n&&(n=s);var i=s,l=[];o.$each.$$p=function(t){var n=e.yield1($,t);n===s?(r(),l=[],i=s):(i===s||i===n?l.push(t):(r(),l=[t]),i=n)},o.$each(),r()},t.$$s=n,t.$$arity=1,t))},p.$$arity=0),e.defn(oe,"$chunk_while",h=function(){var t,n=this,r=h.$$p,$=r||s;return r&&(h.$$p=null),$!==s||n.$raise(e.const_get(le,"ArgumentError",!0,!0),"no block given"),u(n,"slice_when",[],(t=function(n,r){t.$$s;return null==n&&(n=s),null==r&&(r=s),e.yieldX($,[n,r])["$!"]()},t.$$s=n,t.$$arity=2,t))},h.$$arity=0),e.defn(oe,"$collect",g=function(){var t,n=this,r=g.$$p,$=r||s;if(r&&(g.$$p=null),$===s)return u(n,"enum_for",["collect"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o=[];return n.$each.$$p=function(){var t=e.yieldX($,arguments);o.push(t)},n.$each(),o},g.$$arity=0),e.defn(oe,"$collect_concat",b=function(){var t,n,r=this,$=b.$$p,o=$||s;return $&&(b.$$p=null),o===s?u(r,"enum_for",["collect_concat"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=r,t.$$arity=0,t)):u(r,"map",[],(n=function(t){n.$$s;return null==t&&(t=s),e.yield1(o,t)},n.$$s=r,n.$$arity=1,n)).$flatten(1)},b.$$arity=0),e.defn(oe,"$count",m=function(t){var n,r,$,o,i=this,l=m.$$p,a=l||s,c=s;return l&&(m.$$p=null),c=0,(n=null!=t)===s||null==n||n.$$is_boolean&&1!=n?(n=a["$nil?"]())===s||null==n||n.$$is_boolean&&1!=n||(a=u(i,"proc",[],($=function(){$.$$s;return!0},$.$$s=i,$.$$arity=0,$))):a=u(i,"proc",[],(r=function(n){var $,o=(r.$$s,arguments.length),i=o-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<o;l++)$[l-0]=arguments[l];return e.Opal.$destructure($)["$=="](t)},r.$$s=i,r.$$arity=-1,r)),u(i,"each",[],(o=function(t){var n,r,$=(o.$$s,arguments.length),i=$-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<$;l++)n[l-0]=arguments[l];return(r=e.yieldX(a,n))===s||null==r||r.$$is_boolean&&1!=r?s:c++},o.$$s=i,o.$$arity=-1,o)),c},m.$$arity=-1),e.defn(oe,"$cycle",y=function(r){var $,o,i=this,l=y.$$p,a=l||s;if(null==r&&(r=s),l&&(y.$$p=null),a===s)return u(i,"enum_for",["cycle",r],($=function(){var o,i=$.$$s||this;return r["$=="](s)?(o=i["$respond_to?"]("size"))===s||null==o||o.$$is_boolean&&1!=o?s:e.const_get([e.const_get(le,"Float",!0,!0).$$scope],"INFINITY",!0,!0):(r=e.Opal["$coerce_to!"](r,e.Integer,"to_int"),(o=t(r,0))===s||null==o||o.$$is_boolean&&1!=o?0:n(i.$enumerator_size(),r))},$.$$s=i,$.$$arity=0,$));if((o=r["$nil?"]())===s||null==o||o.$$is_boolean&&1!=o){if(r=e.Opal["$coerce_to!"](r,e.Integer,"to_int"),(o=r<=0)!==s&&null!=o&&(!o.$$is_boolean||1==o))return s}else;var c,_,d=[];if(i.$each.$$p=function(){var t=e.Opal.$destructure(arguments);e.yield1(a,t);d.push(t)},i.$each(),0===d.length)return s;if(r===s)for(;;)for(c=0,_=d.length;c<_;c++)e.yield1(a,d[c]);else for(;r>1;){for(c=0,_=d.length;c<_;c++)e.yield1(a,d[c]);r--}},y.$$arity=-1),e.defn(oe,"$detect",v=function(t){try{var n,r=this,$=v.$$p,o=$||s;return $&&(v.$$p=null),o===s?r.$enum_for("detect",t):(u(r,"each",[],(n=function(t){var r,$,i=(n.$$s,s),l=arguments.length,a=l-0;a<0&&(a=0),r=new Array(a);for(var c=0;c<l;c++)r[c-0]=arguments[c];if(i=e.Opal.$destructure(r),($=e.yield1(o,i))===s||null==$||$.$$is_boolean&&1!=$)return s;e.ret(i)},n.$$s=r,n.$$arity=-1,n)),void 0!==t?"function"==typeof t?t():t:s)}catch(t){if(t===e.returner)return t.$v;throw t}},v.$$arity=-1),e.defn(oe,"$drop",w=function(t){var n,r=this;t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===s||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(le,"ArgumentError",!0,!0),"attempt to drop negative size");var $=[],o=0;return r.$each.$$p=function(){t<=o&&$.push(e.Opal.$destructure(arguments)),o++},r.$each(),$},w.$$arity=1),e.defn(oe,"$drop_while",x=function(){var t,n=this,r=x.$$p,$=r||s;if(r&&(x.$$p=null),$===s)return n.$enum_for("drop_while");var o=[],i=!0;return n.$each.$$p=function(){var n=e.Opal.$destructure(arguments);if(i){var r=e.yield1($,n);((t=r)===s||null==t||t.$$is_boolean&&0==t)&&(i=!1,o.push(n))}else o.push(n)},n.$each(),o},x.$$arity=0),e.defn(oe,"$each_cons",k=function(t){var n,i,l=this,a=k.$$p,c=a||s;if(a&&(k.$$p=null),(n=1!=arguments.length)===s||null==n||n.$$is_boolean&&1!=n||l.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 1)"),t=e.Opal.$try_convert(t,e.Integer,"to_int"),(n=t<=0)===s||null==n||n.$$is_boolean&&1!=n||l.$raise(e.const_get(le,"ArgumentError",!0,!0),"invalid size"),c===s)return u(l,"enum_for",["each_cons",t],(i=function(){var e,n,l=i.$$s||this,a=s;return a=l.$enumerator_size(),(e=a["$nil?"]())===s||null==e||e.$$is_boolean&&1!=e?(e=(n=a["$=="](0))!==!1&&n!==s&&null!=n?n:r(a,t))===s||null==e||e.$$is_boolean&&1!=e?$(o(a,t),1):0:s},i.$$s=l,i.$$arity=0,i));var _=[],d=s;return l.$each.$$p=function(){var n=e.Opal.$destructure(arguments);_.push(n),_.length>t&&_.shift(),_.length==t&&e.yield1(c,_.slice(0,t))},l.$each(),d},k.$$arity=1),e.defn(oe,"$each_entry",O=function(t){var n,r,$=this,o=O.$$p,i=o||s,l=arguments.length,a=l-0;a<0&&(a=0),r=new Array(a);for(var c=0;c<l;c++)r[c-0]=arguments[c];return o&&(O.$$p=null),i===s?u($,"to_enum",["each_entry"].concat(e.to_a(r)),(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=$,n.$$arity=0,n)):($.$each.$$p=function(){var t=e.Opal.$destructure(arguments);e.yield1(i,t)},$.$each.apply($,r),$)},O.$$arity=-1),e.defn(oe,"$each_slice",E=function(t){var n,r,$=this,o=E.$$p,l=o||s;if(o&&(E.$$p=null),t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<=0)===s||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(le,"ArgumentError",!0,!0),"invalid slice size"),l===s)return u($,"enum_for",["each_slice",t],(r=function(){var e,n=r.$$s||this;return(e=n["$respond_to?"]("size"))===s||null==e||e.$$is_boolean&&1!=e?s:i(n.$size(),t).$ceil()},r.$$s=$,r.$$arity=0,r));var a=[];return $.$each.$$p=function(){var n=e.Opal.$destructure(arguments);a.push(n),a.length===t&&(e.yield1(l,a),a=[])},$.$each(),a.length>0&&e.yield1(l,a),s},E.$$arity=1),e.defn(oe,"$each_with_index",A=function(t){var n,r,$=this,o=A.$$p,i=o||s,l=arguments.length,a=l-0;a<0&&(a=0),r=new Array(a);for(var c=0;c<l;c++)r[c-0]=arguments[c];if(o&&(A.$$p=null),i===s)return u($,"enum_for",["each_with_index"].concat(e.to_a(r)),(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=$,n.$$arity=0,n));var _=0;return $.$each.$$p=function(){var t=e.Opal.$destructure(arguments);i(t,_),_++},$.$each.apply($,r),$},A.$$arity=-1),e.defn(oe,"$each_with_object",S=function(t){var n,r=this,$=S.$$p,o=$||s;if($&&(S.$$p=null),o===s)return u(r,"enum_for",["each_with_object",t],(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=r,n.$$arity=0,n));return r.$each.$$p=function(){var n=e.Opal.$destructure(arguments);o(n,t)},r.$each(),t},S.$$arity=1),e.defn(oe,"$entries",R=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];var l=[];return r.$each.$$p=function(){l.push(e.Opal.$destructure(arguments))},r.$each.apply(r,n),l},R.$$arity=-1),e.alias(oe,"find","detect"),e.defn(oe,"$find_all",M=function(){var t,n,r=this,$=M.$$p,o=$||s;if($&&(M.$$p=null),o===s)return u(r,"enum_for",["find_all"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=r,t.$$arity=0,t));var i=[];return r.$each.$$p=function(){var t=e.Opal.$destructure(arguments),r=e.yield1(o,t);(n=r)===s||null==n||n.$$is_boolean&&1!=n||i.push(t)},r.$each(),i},M.$$arity=0),
e.defn(oe,"$find_index",T=function(t){try{var n,r,$,o=this,i=T.$$p,l=i||s,a=s;return i&&(T.$$p=null),(n=void 0===t&&l===s)===s||null==n||n.$$is_boolean&&1!=n?(a=0,(n=null!=t)===s||null==n||n.$$is_boolean&&1!=n?u(o,"each",[],($=function(t){var n,r,o=($.$$s,arguments.length),i=o-0;i<0&&(i=0),n=new Array(i);for(var c=0;c<o;c++)n[c-0]=arguments[c];return(r=e.yieldX(l,e.to_a(n)))===s||null==r||r.$$is_boolean&&1!=r||e.ret(a),a+=1},$.$$s=o,$.$$arity=-1,$)):u(o,"each",[],(r=function(n){var $,o=(r.$$s,arguments.length),i=o-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<o;l++)$[l-0]=arguments[l];return e.Opal.$destructure($)["$=="](t)&&e.ret(a),a+=1},r.$$s=o,r.$$arity=-1,r)),s):o.$enum_for("find_index")}catch(t){if(t===e.returner)return t.$v;throw t}},T.$$arity=-1),e.defn(oe,"$first",I=function(t){try{var n,r,$,o=this,i=s,l=s;return(n=void 0===t)===s||null==n||n.$$is_boolean&&1!=n?(i=[],t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(le,"ArgumentError",!0,!0),"attempt to take negative size"),(n=0==t)===s||null==n||n.$$is_boolean&&1!=n?(l=0,u(o,"each",[],($=function(n){var r,o,a=($.$$s,arguments.length),c=a-0;c<0&&(c=0),r=new Array(c);for(var u=0;u<a;u++)r[u-0]=arguments[u];if(i.push(e.Opal.$destructure(r)),(o=t<=++l)===s||null==o||o.$$is_boolean&&1!=o)return s;e.ret(i)},$.$$s=o,$.$$arity=-1,$)),i):[]):u(o,"each",[],(r=function(t){r.$$s;null==t&&(t=s),e.ret(t)},r.$$s=o,r.$$arity=1,r))}catch(t){if(t===e.returner)return t.$v;throw t}},I.$$arity=-1),e.alias(oe,"flat_map","collect_concat"),e.defn(oe,"$grep",C=function(t){var n,r=this,$=C.$$p,o=$||s;$&&(C.$$p=null);var i=[];return r.$each.$$p=o!==s?function(){var r=e.Opal.$destructure(arguments),$=t["$==="](r);(n=$)===s||null==n||n.$$is_boolean&&1!=n||($=e.yield1(o,r),i.push($))}:function(){var r=e.Opal.$destructure(arguments),$=t["$==="](r);(n=$)===s||null==n||n.$$is_boolean&&1!=n||i.push(r)},r.$each(),i},C.$$arity=1),e.defn(oe,"$grep_v",N=function(t){var n,r=this,$=N.$$p,o=$||s;$&&(N.$$p=null);var i=[];return r.$each.$$p=o!==s?function(){var r=e.Opal.$destructure(arguments),$=t["$==="](r);((n=$)===s||null==n||n.$$is_boolean&&0==n)&&($=e.yield1(o,r),i.push($))}:function(){var r=e.Opal.$destructure(arguments),$=t["$==="](r);((n=$)===s||null==n||n.$$is_boolean&&0==n)&&i.push(r)},r.$each(),i},N.$$arity=1),e.defn(oe,"$group_by",j=function(){var t,n,r,$,o=this,i=j.$$p,l=i||s,a=s;if(i&&(j.$$p=null),l===s)return u(o,"enum_for",["group_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=o,t.$$arity=0,t));a=e.const_get(le,"Hash",!0,!0).$new();return o.$each.$$p=function(){var t=e.Opal.$destructure(arguments),o=e.yield1(l,t);(n=o,r=a,($=r["$[]"](n))!==!1&&$!==s&&null!=$?$:r["$[]="](n,[]))["$<<"](t)},o.$each(),a},j.$$arity=0),e.defn(oe,"$include?",L=function(t){try{var n,r=this;return u(r,"each",[],(n=function(r){var $,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<o;l++)$[l-0]=arguments[l];if(!e.Opal.$destructure($)["$=="](t))return s;e.ret(!0)},n.$$s=r,n.$$arity=-1,n)),!1}catch(t){if(t===e.returner)return t.$v;throw t}},L.$$arity=1),e.defn(oe,"$inject",z=function(t,n){var r=this,$=z.$$p,o=$||s;$&&(z.$$p=null);var i=t;return o!==s&&void 0===n?r.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(void 0===i)return void(i=t);t=e.yieldX(o,[i,t]),i=t}:(void 0===n&&(e.const_get(le,"Symbol",!0,!0)["$==="](t)||r.$raise(e.const_get(le,"TypeError",!0,!0),t.$inspect()+" is not a Symbol"),n=t,i=void 0),r.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(void 0===i)return void(i=t);i=i.$__send__(n,t)}),r.$each(),void 0==i?s:i},z.$$arity=-1),e.defn(oe,"$lazy",P=function(){var t,n=this;return u(e.const_get([e.const_get(le,"Enumerator",!0,!0).$$scope],"Lazy",!0,!0),"new",[n,n.$enumerator_size()],(t=function(n,r){var $,o=(t.$$s,arguments.length),i=o-1;i<0&&(i=0),$=new Array(i);for(var l=1;l<o;l++)$[l-1]=arguments[l];return null==n&&(n=s),u(n,"yield",e.to_a($))},t.$$s=n,t.$$arity=-2,t))},P.$$arity=0),e.defn(oe,"$enumerator_size",D=function(){var e,t=this;return(e=t["$respond_to?"]("size"))===s||null==e||e.$$is_boolean&&1!=e?s:t.$size()},D.$$arity=0),e.alias(oe,"map","collect"),e.defn(oe,"$max",B=function(t){var n=this,r=B.$$p,$=r||s;if(r&&(B.$$p=null),void 0===t||t===s){var o,i;return n.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(void 0===o)return void(o=t);i=$!==s?e.yieldX($,[t,o]):t["$<=>"](o),i===s&&n.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"),i>0&&(o=t)},n.$each(),void 0===o?s:o}return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),u(n,"sort",[],$.$to_proc()).$reverse().$first(t)},B.$$arity=-1),e.defn(oe,"$max_by",q=function(){var t,n=this,r=q.$$p,$=r||s;if(r&&(q.$$p=null),$===!1||$===s||null==$)return u(n,"enum_for",["max_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o,i;return n.$each.$$p=function(){var t=e.Opal.$destructure(arguments),n=e.yield1($,t);if(void 0===o)return o=t,void(i=n);n["$<=>"](i)>0&&(o=t,i=n)},n.$each(),void 0===o?s:o},q.$$arity=0),e.alias(oe,"member?","include?"),e.defn(oe,"$min",U=function(){var t=this,n=U.$$p,r=n||s;n&&(U.$$p=null);var $;return t.$each.$$p=r!==s?function(){var n=e.Opal.$destructure(arguments);if(void 0===$)return void($=n);var o=r(n,$);o===s&&t.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"),o<0&&($=n)}:function(){var t=e.Opal.$destructure(arguments);if(void 0===$)return void($=t);e.Opal.$compare(t,$)<0&&($=t)},t.$each(),void 0===$?s:$},U.$$arity=0),e.defn(oe,"$min_by",F=function(){var t,n=this,r=F.$$p,$=r||s;if(r&&(F.$$p=null),$===!1||$===s||null==$)return u(n,"enum_for",["min_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o,i;return n.$each.$$p=function(){var t=e.Opal.$destructure(arguments),n=e.yield1($,t);if(void 0===o)return o=t,void(i=n);n["$<=>"](i)<0&&(o=t,i=n)},n.$each(),void 0===o?s:o},F.$$arity=0),e.defn(oe,"$minmax",G=function(){var t,n,r=this,$=G.$$p,o=$||s;$&&(G.$$p=null),(t=o)!==!1&&t!==s&&null!=t||(o=u(r,"proc",[],(n=function(e,t){n.$$s;return null==e&&(e=s),null==t&&(t=s),e["$<=>"](t)},n.$$s=r,n.$$arity=2,n)));var i=s,l=s,a=!0;return r.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(a)i=l=t,a=!1;else{var n=o.$call(i,t);n===s?r.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"):n>0&&(i=t);var $=o.$call(l,t);$===s?r.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"):$<0&&(l=t)}},r.$each(),[i,l]},G.$$arity=0),e.defn(oe,"$minmax_by",H=function(){var t=this,n=H.$$p;return n&&(H.$$p=null),t.$raise(e.const_get(le,"NotImplementedError",!0,!0))},H.$$arity=0),e.defn(oe,"$none?",Y=function(){try{var t,n,r=this,$=Y.$$p,o=$||s;return $&&(Y.$$p=null),o!==s?u(r,"each",[],(t=function(n){var r,$,i=(t.$$s,arguments.length),l=i-0;l<0&&(l=0),r=new Array(l);for(var a=0;a<i;a++)r[a-0]=arguments[a];if(($=e.yieldX(o,e.to_a(r)))===s||null==$||$.$$is_boolean&&1!=$)return s;e.ret(!1)},t.$$s=r,t.$$arity=-1,t)):u(r,"each",[],(n=function(t){var r,$,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<o;l++)r[l-0]=arguments[l];if(($=e.Opal.$destructure(r))===s||null==$||$.$$is_boolean&&1!=$)return s;e.ret(!1)},n.$$s=r,n.$$arity=-1,n)),!0}catch(t){if(t===e.returner)return t.$v;throw t}},Y.$$arity=0),e.defn(oe,"$one?",K=function(){try{var n,r,o=this,i=K.$$p,l=i||s,a=s;return i&&(K.$$p=null),a=0,l!==s?u(o,"each",[],(n=function(r){var o,i,c=(n.$$s,arguments.length),u=c-0;u<0&&(u=0),o=new Array(u);for(var _=0;_<c;_++)o[_-0]=arguments[_];return(i=e.yieldX(l,e.to_a(o)))===s||null==i||i.$$is_boolean&&1!=i?s:(a=$(a,1),(i=t(a,1))===s||null==i||i.$$is_boolean&&1!=i?s:void e.ret(!1))},n.$$s=o,n.$$arity=-1,n)):u(o,"each",[],(r=function(n){var o,i,l=(r.$$s,arguments.length),c=l-0;c<0&&(c=0),o=new Array(c);for(var u=0;u<l;u++)o[u-0]=arguments[u];return(i=e.Opal.$destructure(o))===s||null==i||i.$$is_boolean&&1!=i?s:(a=$(a,1),(i=t(a,1))===s||null==i||i.$$is_boolean&&1!=i?s:void e.ret(!1))},r.$$s=o,r.$$arity=-1,r)),a["$=="](1)}catch(t){if(t===e.returner)return t.$v;throw t}},K.$$arity=0),e.defn(oe,"$partition",W=function(){var t,n,r=this,$=W.$$p,o=$||s;if($&&(W.$$p=null),o===s)return u(r,"enum_for",["partition"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=r,t.$$arity=0,t));var i=[],l=[];return r.$each.$$p=function(){var t=e.Opal.$destructure(arguments),r=e.yield1(o,t);(n=r)===s||null==n||n.$$is_boolean&&1!=n?l.push(t):i.push(t)},r.$each(),[i,l]},W.$$arity=0),e.alias(oe,"reduce","inject"),e.defn(oe,"$reject",X=function(){var t,n,r=this,$=X.$$p,o=$||s;if($&&(X.$$p=null),o===s)return u(r,"enum_for",["reject"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=r,t.$$arity=0,t));var i=[];return r.$each.$$p=function(){var t=e.Opal.$destructure(arguments),r=e.yield1(o,t);((n=r)===s||null==n||n.$$is_boolean&&0==n)&&i.push(t)},r.$each(),i},X.$$arity=0),e.defn(oe,"$reverse_each",V=function(){var t,n=this,r=V.$$p,$=r||s;if(r&&(V.$$p=null),$===s)return u(n,"enum_for",["reverse_each"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o=[];n.$each.$$p=function(){o.push(arguments)},n.$each();for(var i=o.length-1;i>=0;i--)e.yieldX($,o[i]);return o},V.$$arity=0),e.alias(oe,"select","find_all"),e.defn(oe,"$slice_before",J=function(t){var n,r,$=this,o=J.$$p,i=o||s;return o&&(J.$$p=null),(n=void 0===t&&i===s)===s||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(le,"ArgumentError",!0,!0),"both pattern and block are given"),(n=void 0!==t&&i!==s||arguments.length>1)===s||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" expected 1)"),u(e.const_get(le,"Enumerator",!0,!0),"new",[],(r=function(n){var $,o=r.$$s||this;null==n&&(n=s);var l=[];o.$each.$$p=i!==s?void 0===t?function(){var t=e.Opal.$destructure(arguments),r=e.yield1(i,t);($=r)!==s&&null!=$&&(!$.$$is_boolean||1==$)&&l.length>0&&(n["$<<"](l),l=[]),l.push(t)}:function(){var r=e.Opal.$destructure(arguments),o=i(r,t.$dup());($=o)!==s&&null!=$&&(!$.$$is_boolean||1==$)&&l.length>0&&(n["$<<"](l),l=[]),l.push(r)}:function(){var r=e.Opal.$destructure(arguments),o=t["$==="](r);($=o)!==s&&null!=$&&(!$.$$is_boolean||1==$)&&l.length>0&&(n["$<<"](l),l=[]),l.push(r)},o.$each(),l.length>0&&n["$<<"](l)},r.$$s=$,r.$$arity=1,r))},J.$$arity=-1),e.defn(oe,"$slice_after",Z=function(t){var n,r,$,o=this,i=Z.$$p,l=i||s;return i&&(Z.$$p=null),(n=void 0===t&&l===s)===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(le,"ArgumentError",!0,!0),"both pattern and block are given"),(n=void 0!==t&&l!==s||arguments.length>1)===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" expected 1)"),(n=void 0!==t)===s||null==n||n.$$is_boolean&&1!=n||(l=u(o,"proc",[],(r=function(e){r.$$s;return null==e&&(e=s),t["$==="](e)},r.$$s=o,r.$$arity=1,r))),u(e.const_get(le,"Enumerator",!0,!0),"new",[],($=function(t){var n,r=$.$$s||this;null==t&&(t=s);var o;r.$each.$$p=function(){var r=e.Opal.$destructure(arguments),$=e.yield1(l,r);null==o&&(o=[]),(n=$)===s||null==n||n.$$is_boolean&&1!=n?o.push(r):(o.push(r),t.$yield(o),o=null)},r.$each(),null!=o&&t.$yield(o)},$.$$s=o,$.$$arity=1,$))},Z.$$arity=-1),e.defn(oe,"$slice_when",Q=function(){var t,n=this,r=Q.$$p,$=r||s;return r&&(Q.$$p=null),$!==s||n.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1)"),u(e.const_get(le,"Enumerator",!0,!0),"new",[],(t=function(n){var r,o=t.$$s||this;null==n&&(n=s);var i=s,l=s;o.$each_cons.$$p=function(){var t=e.Opal.$destructure(arguments),o=t[0],a=t[1],c=e.yieldX($,[o,a]);l=a,i===s&&(i=[]),(r=c)===s||null==r||r.$$is_boolean&&1!=r?i.push(o):(i.push(o),n.$yield(i),i=[])},o.$each_cons(2),i!==s&&(i.push(l),n.$yield(i))},t.$$s=n,t.$$arity=1,t))},Q.$$arity=0),e.defn(oe,"$sort",ee=function(){var e,t=this,n=ee.$$p,r=n||s,$=s;return n&&(ee.$$p=null),$=t.$to_a(),r!==s||(r=u(t,"lambda",[],(e=function(t,n){e.$$s;return null==t&&(t=s),null==n&&(n=s),t["$<=>"](n)},e.$$s=t,e.$$arity=2,e))),u($,"sort",[],r.$to_proc())},ee.$$arity=0),e.defn(oe,"$sort_by",te=function(){var t,n,r,$,o=this,i=te.$$p,l=i||s,a=s;return i&&(te.$$p=null),l===s?u(o,"enum_for",["sort_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=o,t.$$arity=0,t)):(a=u(o,"map",[],(n=function(){var t=(n.$$s,s);return t=e.Opal.$destructure(arguments),[e.yield1(l,t),t]},n.$$s=o,n.$$arity=0,n)),u(a,"sort!",[],(r=function(e,t){r.$$s;return null==e&&(e=s),null==t&&(t=s),e[0]["$<=>"](t[0])},r.$$s=o,r.$$arity=2,r)),u(a,"map!",[],($=function(e){$.$$s;return null==e&&(e=s),e[1]},$.$$s=o,$.$$arity=1,$)))},te.$$arity=0),e.defn(oe,"$take",ne=function(e){return this.$first(e)},ne.$$arity=1),e.defn(oe,"$take_while",re=function(){try{var t,n=this,r=re.$$p,$=r||s,o=s;return r&&(re.$$p=null),$===!1||$===s||null==$?n.$enum_for("take_while"):(o=[],u(n,"each",[],(t=function(n){var r,i,l=(t.$$s,s),a=arguments.length,c=a-0;c<0&&(c=0),r=new Array(c);for(var u=0;u<a;u++)r[u-0]=arguments[u];return l=e.Opal.$destructure(r),((i=e.yield1($,l))===s||null==i||i.$$is_boolean&&1!=i)&&e.ret(o),o.push(l)},t.$$s=n,t.$$arity=-1,t)))}catch(t){if(t===e.returner)return t.$v;throw t}},re.$$arity=0),e.alias(oe,"to_a","entries"),e.defn(oe,"$zip",$e=function(t){var n,r=this,$=$e.$$p,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];return $&&($e.$$p=null),u(r.$to_a(),"zip",e.to_a(n))},$e.$$arity=-1)}(l.base,a)},Opal.modules["corelib/enumerator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=e.top,$=e,o=[e],i=e.nil,l=e.breaker,a=e.slice,s=e.klass,c=e.send;return e.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),r.$require("corelib/enumerable"),function(r,$,o){function u(){}var _,d,f,p,h,g,b=u=s(r,null,"Enumerator",u),m=b.$$proto,y=b.$$scope,v=o.slice().concat(y);return m.size=m.args=m.object=m.method=i,b.$include(e.const_get(v,"Enumerable",!0,!0)),m.$$is_enumerator=!0,e.defs(b,"$for",_=function(e,t,n){var r,$=this,o=_.$$p,l=o||i;null==t&&(t="each");var a=arguments.length,s=a-2;s<0&&(s=0),r=new Array(s);for(var c=2;c<a;c++)r[c-2]=arguments[c];o&&(_.$$p=null);var u=$.$allocate();return u.object=e,u.size=l,u.method=t,u.args=r,u},_.$$arity=-2),e.defn(b,"$initialize",d=function(t){var n,r=this,$=d.$$p,o=$||i;return $&&(d.$$p=null),o!==!1&&o!==i&&null!=o?(r.object=c(e.const_get(v,"Generator",!0,!0),"new",[],o.$to_proc()),r.method="each",r.args=[],r.size=arguments[0]||i,(n=r.size)===i||null==n||n.$$is_boolean&&1!=n?i:r.size=e.Opal.$coerce_to(r.size,e.Integer,"to_int")):(r.object=arguments[0],r.method=arguments[1]||"each",r.args=a.call(arguments,2),r.size=i)},d.$$arity=-1),e.defn(b,"$each",f=function(n){var r,$,o,l=this,a=f.$$p,s=a||i,u=arguments.length,_=u-0;_<0&&(_=0),o=new Array(_);for(var d=0;d<u;d++)o[d-0]=arguments[d];return a&&(f.$$p=null),$=s["$nil?"](),(r=$!==!1&&$!==i&&null!=$?o["$empty?"]():$)===i||null==r||r.$$is_boolean&&1!=r?(o=t(l.args,o),(r=s["$nil?"]())===i||null==r||r.$$is_boolean&&1!=r?c(l.object,"__send__",[l.method].concat(e.to_a(o)),s.$to_proc()):c(l.$class(),"new",[l.object,l.method].concat(e.to_a(o)))):l},f.$$arity=-1),e.defn(b,"$size",p=function(){var t,n=this;return(t=e.const_get(v,"Proc",!0,!0)["$==="](n.size))===i||null==t||t.$$is_boolean&&1!=t?n.size:c(n.size,"call",e.to_a(n.args))},p.$$arity=0),e.defn(b,"$with_index",h=function(t){var n,r=this,$=h.$$p,o=$||i;if(null==t&&(t=0),$&&(h.$$p=null),t=t!==!1&&t!==i&&null!=t?e.Opal.$coerce_to(t,e.Integer,"to_int"):0,o===!1||o===i||null==o)return c(r,"enum_for",["with_index",t],(n=function(){return(n.$$s||this).$size()},n.$$s=r,n.$$arity=0,n));var l=t;return r.$each.$$p=function(){var t=e.Opal.$destructure(arguments),n=o(t,l);return l++,n},r.$each()},h.$$arity=-1),e.alias(b,"with_object","each_with_object"),e.defn(b,"$inspect",g=function(){var n,r=this,$=i;return $="#<"+r.$class()+": "+r.object.$inspect()+":"+r.method,((n=r.args["$empty?"]())===i||null==n||n.$$is_boolean&&1!=n)&&($=t($,"("+r.args.$inspect()["$[]"](e.const_get(v,"Range",!0,!0).$new(1,-2))+")")),t($,">")},g.$$arity=0),function(t,n,r){function $(){}var o,a,u=$=s(t,null,"Generator",$),_=u.$$proto,d=u.$$scope,f=r.slice().concat(d);_.block=i,u.$include(e.const_get(f,"Enumerable",!0,!0)),e.defn(u,"$initialize",o=function(){var t=this,n=o.$$p,r=n||i;return n&&(o.$$p=null),r!==!1&&r!==i&&null!=r||t.$raise(e.const_get(f,"LocalJumpError",!0,!0),"no block given"),t.block=r},o.$$arity=0),e.defn(u,"$each",a=function(t){var n,r=this,$=a.$$p,o=$||i,s=i,u=arguments.length,_=u-0;_<0&&(_=0),n=new Array(_);for(var d=0;d<u;d++)n[d-0]=arguments[d];$&&(a.$$p=null),s=c(e.const_get(f,"Yielder",!0,!0),"new",[],o.$to_proc());try{n.unshift(s),e.yieldX(r.block,n)}catch(e){if(e===l)return l.$v;throw e}return r},a.$$arity=-1)}(y.base,0,v),function(t,n,r){function $(){}var o,a,u,_=$=s(t,null,"Yielder",$),d=_.$$proto,f=_.$$scope;r.slice().concat(f);d.block=i,e.defn(_,"$initialize",o=function(){var e=this,t=o.$$p,n=t||i;return t&&(o.$$p=null),e.block=n},o.$$arity=0),e.defn(_,"$yield",a=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];var a=e.yieldX(r.block,n);if(a===l)throw l;return a},a.$$arity=-1),e.defn(_,"$<<",u=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];return c(r,"yield",e.to_a(n)),r},u.$$arity=-1)}(y.base,0,v),function(r,$,o){function l(){}var a,u,_,d,f,p,h,g,b,m,y,v,w,x=l=s(r,$,"Lazy",l),k=x.$$proto,O=x.$$scope,E=o.slice().concat(O);return k.enumerator=i,function(e,t,n){function r(){}var $=r=s(e,t,"StopLazyError",r),o=($.$$proto,$.$$scope);n.slice().concat(o)}(O.base,e.const_get(E,"Exception",!0,!0),E),e.defn(x,"$initialize",a=function(t,n){var r,$=this,o=a.$$p,l=o||i;return null==n&&(n=i),o&&(a.$$p=null),l!==i||$.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy new without a block"),$.enumerator=t,c($,e.find_super_dispatcher($,"initialize",a,!1),[n],(r=function(n,$){var o,a,s=r.$$s||this,u=arguments.length,_=u-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<u;d++)o[d-1]=arguments[d];null==n&&(n=i);try{return c(t,"each",e.to_a(o),(a=function(t){var r,$=(a.$$s,arguments.length),o=$-0;o<0&&(o=0),r=new Array(o);for(var i=0;i<$;i++)r[i-0]=arguments[i];r.unshift(n),e.yieldX(l,r)},a.$$s=s,a.$$arity=-1,a))}catch(t){if(!e.rescue(t,[e.const_get(E,"Exception",!0,!0)]))throw t;try{return i}finally{e.pop_exception()}}},r.$$s=$,r.$$arity=-2,r))},a.$$arity=-2),e.alias(x,"force","to_a"),e.defn(x,"$lazy",u=function(){return this},u.$$arity=0),e.defn(x,"$collect",_=function(){var t,n=this,r=_.$$p,$=r||i;return r&&(_.$$p=null),$!==!1&&$!==i&&null!=$||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy map without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,n.$enumerator_size()],(t=function(n,r){var o,l=(t.$$s,arguments.length),a=l-1;a<0&&(a=0),o=new Array(a);for(var s=1;s<l;s++)o[s-1]=arguments[s];null==n&&(n=i);var c=e.yieldX($,o);n.$yield(c)},t.$$s=n,t.$$arity=-2,t))},_.$$arity=0),e.defn(x,"$collect_concat",d=function(){var t,n=this,r=d.$$p,$=r||i;return r&&(d.$$p=null),$!==!1&&$!==i&&null!=$||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy map without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,r){var o,l,a,s=t.$$s||this,u=arguments.length,_=u-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<u;d++)o[d-1]=arguments[d];null==n&&(n=i);var f=e.yieldX($,o);if(f["$respond_to?"]("force")&&f["$respond_to?"]("each"))c(f,"each",[],(l=function(e){l.$$s;return null==e&&(e=i),n.$yield(e)},l.$$s=s,l.$$arity=1,l));else{e.Opal.$try_convert(f,e.const_get(E,"Array",!0,!0),"to_ary")===i?n.$yield(f):c(f,"each",[],(a=function(e){a.$$s;return null==e&&(e=i),n.$yield(e)},a.$$s=s,a.$$arity=1,a))}},t.$$s=n,t.$$arity=-2,t))},d.$$arity=0),e.defn(x,"$drop",f=function(r){var $,o,l=this,a=i,s=i,u=i;return r=e.Opal.$coerce_to(r,e.Integer,"to_int"),($=n(r,0))===i||null==$||$.$$is_boolean&&1!=$||l.$raise(e.const_get(E,"ArgumentError",!0,!0),"attempt to drop negative size"),a=l.$enumerator_size(),s=function(){return($=e.Integer["$==="](a))===i||null==$||$.$$is_boolean&&1!=$?a:($=n(r,a))===i||null==$||$.$$is_boolean&&1!=$?a:r}(),u=0,c(e.const_get(E,"Lazy",!0,!0),"new",[l,s],(o=function($,l){var a,s,_=(o.$$s,arguments.length),d=_-1;d<0&&(d=0),a=new Array(d);for(var f=1;f<_;f++)a[f-1]=arguments[f];return null==$&&($=i),(s=n(u,r))===i||null==s||s.$$is_boolean&&1!=s?c($,"yield",e.to_a(a)):u=t(u,1)},o.$$s=l,o.$$arity=-2,o))},f.$$arity=1),e.defn(x,"$drop_while",p=function(){var t,n=this,r=p.$$p,$=r||i,o=i;return r&&(p.$$p=null),$!==!1&&$!==i&&null!=$||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy drop_while without a block"),o=!0,c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,r){var l,a,s=(t.$$s,arguments.length),u=s-1;u<0&&(u=0),l=new Array(u);for(var _=1;_<s;_++)l[_-1]=arguments[_];if(null==n&&(n=i),o===!1||o===i||null==o)return c(n,"yield",e.to_a(l));((a=e.yieldX($,l))===i||null==a||a.$$is_boolean&&0==a)&&(o=!1,c(n,"yield",e.to_a(l)))},t.$$s=n,t.$$arity=-2,t))},p.$$arity=0),e.defn(x,"$enum_for",h=function(t,n){var r,$=this,o=h.$$p,l=o||i;null==t&&(t="each");var a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var u=1;u<a;u++)r[u-1]=arguments[u];return o&&(h.$$p=null),c($.$class(),"for",[$,t].concat(e.to_a(r)),l.$to_proc())},h.$$arity=-1),e.defn(x,"$find_all",g=function(){var t,n=this,r=g.$$p,$=r||i;return r&&(g.$$p=null),$!==!1&&$!==i&&null!=$||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy select without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,r){var o,l,a=(t.$$s,arguments.length),s=a-1;s<0&&(s=0),o=new Array(s);for(var u=1;u<a;u++)o[u-1]=arguments[u];null==n&&(n=i),(l=e.yieldX($,o))===i||null==l||l.$$is_boolean&&1!=l||c(n,"yield",e.to_a(o))},t.$$s=n,t.$$arity=-2,t))},g.$$arity=0),e.alias(x,"flat_map","collect_concat"),e.defn(x,"$grep",b=function(t){var n,r,$=this,o=b.$$p,l=o||i;return o&&(b.$$p=null),l!==!1&&l!==i&&null!=l?c(e.const_get(E,"Lazy",!0,!0),"new",[$,i],(n=function(r,$){var o,a,s=(n.$$s,arguments.length),c=s-1;c<0&&(c=0),o=new Array(c);for(var u=1;u<s;u++)o[u-1]=arguments[u];null==r&&(r=i);var _=e.Opal.$destructure(o),d=t["$==="](_);(a=d)===i||null==a||a.$$is_boolean&&1!=a||(d=e.yield1(l,_),r.$yield(e.yield1(l,_)))},n.$$s=$,n.$$arity=-2,n)):c(e.const_get(E,"Lazy",!0,!0),"new",[$,i],(r=function(n,$){var o,l,a=(r.$$s,arguments.length),s=a-1;s<0&&(s=0),o=new Array(s);for(var c=1;c<a;c++)o[c-1]=arguments[c];null==n&&(n=i);var u=e.Opal.$destructure(o);(l=t["$==="](u))===i||null==l||l.$$is_boolean&&1!=l||n.$yield(u)},r.$$s=$,r.$$arity=-2,r))},b.$$arity=1),e.alias(x,"map","collect"),e.alias(x,"select","find_all"),e.defn(x,"$reject",m=function(){var t,n=this,r=m.$$p,$=r||i;return r&&(m.$$p=null),$!==!1&&$!==i&&null!=$||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy reject without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,r){var o,l,a=(t.$$s,arguments.length),s=a-1;s<0&&(s=0),o=new Array(s);for(var u=1;u<a;u++)o[u-1]=arguments[u];null==n&&(n=i),((l=e.yieldX($,o))===i||null==l||l.$$is_boolean&&0==l)&&c(n,"yield",e.to_a(o))},t.$$s=n,t.$$arity=-2,t))},m.$$arity=0),e.defn(x,"$take",y=function(r){var $,o,l=this,a=i,s=i,u=i;return r=e.Opal.$coerce_to(r,e.Integer,"to_int"),($=n(r,0))===i||null==$||$.$$is_boolean&&1!=$||l.$raise(e.const_get(E,"ArgumentError",!0,!0),"attempt to take negative size"),a=l.$enumerator_size(),s=function(){return($=e.Integer["$==="](a))===i||null==$||$.$$is_boolean&&1!=$?a:($=n(r,a))===i||null==$||$.$$is_boolean&&1!=$?a:r}(),u=0,c(e.const_get(E,"Lazy",!0,!0),"new",[l,s],(o=function($,l){var a,s,_=o.$$s||this,d=arguments.length,f=d-1;f<0&&(f=0),a=new Array(f);for(var p=1;p<d;p++)a[p-1]=arguments[p];return null==$&&($=i),(s=n(u,r))===i||null==s||s.$$is_boolean&&1!=s?_.$raise(e.const_get(E,"StopLazyError",!0,!0)):(c($,"yield",e.to_a(a)),u=t(u,1))},o.$$s=l,o.$$arity=-2,o))},y.$$arity=1),e.defn(x,"$take_while",v=function(){var t,n=this,r=v.$$p,$=r||i;return r&&(v.$$p=null),$!==!1&&$!==i&&null!=$||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy take_while without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,r){var o,l,a=t.$$s||this,s=arguments.length,u=s-1;u<0&&(u=0),o=new Array(u);for(var _=1;_<s;_++)o[_-1]=arguments[_];null==n&&(n=i),(l=e.yieldX($,o))===i||null==l||l.$$is_boolean&&1!=l?a.$raise(e.const_get(E,"StopLazyError",!0,!0)):c(n,"yield",e.to_a(o))},t.$$s=n,t.$$arity=-2,t))},v.$$arity=0),e.alias(x,"to_enum","enum_for"),e.defn(x,"$inspect",w=function(){var e=this;return"#<"+e.$class()+": "+e.enumerator.$inspect()+">"},w.$$arity=0),i&&"inspect"}(y.base,b,v)}($.base,0,o)},Opal.modules["corelib/numeric"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),i.$require("corelib/comparable"),function(i,l,a){function u(){}var _,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K=u=c(i,null,"Numeric",u),W=(K.$$proto,K.$$scope),X=a.slice().concat(W);return K.$include(e.const_get(X,"Comparable",!0,!0)),e.defn(K,"$coerce",_=function(e){var t,n=this;return(t=e["$instance_of?"](n.$class()))===s||null==t||t.$$is_boolean&&1!=t?[n.$Float(e),n.$Float(n)]:[e,n]},_.$$arity=1),e.defn(K,"$__coerced__",d=function(t,n){var r,$,o=this,i=s,l=s,a=s;try{$=n.$coerce(o),r=e.to_ary($),i=null==r[0]?s:r[0],l=null==r[1]?s:r[1]}catch(r){if(!e.rescue(r,[e.const_get(X,"StandardError",!0,!0)]))throw r;try{a=t,"+"["$==="](a)||"-"["$==="](a)||"*"["$==="](a)||"/"["$==="](a)||"%"["$==="](a)||"&"["$==="](a)||"|"["$==="](a)||"^"["$==="](a)||"**"["$==="](a)?o.$raise(e.const_get(X,"TypeError",!0,!0),n.$class()+" can't be coerce into Numeric"):(">"["$==="](a)||">="["$==="](a)||"<"["$==="](a)||"<="["$==="](a)||"<=>"["$==="](a))&&o.$raise(e.const_get(X,"ArgumentError",!0,!0),"comparison of "+o.$class()+" with "+n.$class()+" failed")}finally{e.pop_exception()}}return i.$__send__(t,l)},d.$$arity=2),e.defn(K,"$<=>",f=function(e){var t;return(t=this["$equal?"](e))===s||null==t||t.$$is_boolean&&1!=t?s:0},f.$$arity=1),e.defn(K,"$+@",p=function(){return this},p.$$arity=0),e.defn(K,"$-@",h=function(){return t(0,this)},h.$$arity=0),e.defn(K,"$%",g=function(e){var r=this;return t(r,n(e,r.$div(e)))},g.$$arity=1),e.defn(K,"$abs",b=function(){var e=this;return r(e,0)?e["$-@"]():e},b.$$arity=0),e.defn(K,"$abs2",m=function(){var e=this;return n(e,e)},m.$$arity=0),e.defn(K,"$angle",y=function(){return r(this,0)?e.const_get([e.const_get(X,"Math",!0,!0).$$scope],"PI",!0,!0):0},y.$$arity=0),e.alias(K,"arg","angle"),e.defn(K,"$ceil",v=function(){return this.$to_f().$ceil()},v.$$arity=0),e.defn(K,"$conj",w=function(){return this},w.$$arity=0),e.alias(K,"conjugate","conj"),e.defn(K,"$denominator",x=function(){return this.$to_r().$denominator()},x.$$arity=0),e.defn(K,"$div",k=function(t){var n=this;return t["$=="](0)&&n.$raise(e.const_get(X,"ZeroDivisionError",!0,!0),"divided by o"),$(n,t).$floor()},k.$$arity=1),e.defn(K,"$divmod",O=function(e){var t=this;return[t.$div(e),t["$%"](e)]},O.$$arity=1),e.defn(K,"$fdiv",E=function(e){return $(this.$to_f(),e)},E.$$arity=1),e.defn(K,"$floor",A=function(){return this.$to_f().$floor()},A.$$arity=0),e.defn(K,"$i",S=function(){var e=this;return e.$Complex(0,e)},S.$$arity=0),e.defn(K,"$imag",R=function(){return 0},R.$$arity=0),e.alias(K,"imaginary","imag"),e.defn(K,"$integer?",M=function(){return!1},M.$$arity=0),e.alias(K,"magnitude","abs"),e.alias(K,"modulo","%"),e.defn(K,"$nonzero?",T=function(){var e,t=this;return(e=t["$zero?"]())===s||null==e||e.$$is_boolean&&1!=e?t:s},T.$$arity=0),e.defn(K,"$numerator",I=function(){return this.$to_r().$numerator()},I.$$arity=0),e.alias(K,"phase","arg"),e.defn(K,"$polar",C=function(){var e=this;return[e.$abs(),e.$arg()]},C.$$arity=0),e.defn(K,"$quo",N=function(t){var n=this;return $(e.Opal["$coerce_to!"](n,e.const_get(X,"Rational",!0,!0),"to_r"),t)},N.$$arity=1),e.defn(K,"$real",j=function(){return this},j.$$arity=0),e.defn(K,"$real?",L=function(){return!0},L.$$arity=0),e.defn(K,"$rect",z=function(){return[this,0]},z.$$arity=0),e.alias(K,"rectangular","rect"),e.defn(K,"$round",P=function(e){return this.$to_f().$round(e)},P.$$arity=-1),e.defn(K,"$to_c",D=function(){var e=this;return e.$Complex(e,0)},D.$$arity=0),e.defn(K,"$to_int",B=function(){return this.$to_i()},B.$$arity=0),e.defn(K,"$truncate",q=function(){return this.$to_f().$truncate()},q.$$arity=0),e.defn(K,"$zero?",U=function(){return this["$=="](0)},U.$$arity=0),e.defn(K,"$positive?",F=function(){return o(this,0)},F.$$arity=0),e.defn(K,"$negative?",G=function(){return r(this,0)},G.$$arity=0),e.defn(K,"$dup",H=function(){var t=this;return t.$raise(e.const_get(X,"TypeError",!0,!0),"can't dup "+t.$class())},H.$$arity=0),e.defn(K,"$clone",Y=function(){var t=this;return t.$raise(e.const_get(X,"TypeError",!0,!0),"can't clone "+t.$class())},Y.$$arity=0),s&&"clone"}(l.base,0,a)},Opal.modules["corelib/array"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var o=e.top,i=e,l=[e],a=e.nil,s=(e.breaker,e.slice,e.klass),c=e.hash2,u=e.send,_=e.gvars;return e.add_stubs(["$require","$include","$to_a","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$empty?","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$size","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),o.$require("corelib/enumerable"),o.$require("corelib/numeric"),function(o,i,l){function d(){}function f(t,n){return n.$$name===e.Array?t:n.$allocate().$replace(t.$to_a())}function p(e,t){return e===t||0===t?1:t>0&&e>t?p(e-1,t-1)+p(e-1,t):0}function h(e,t){for(var n=t>=0?1:0;t;)n*=e,e--,t--;return n}var g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye,ve,we,xe,ke,Oe,Ee,Ae,Se,Re,Me,Te,Ie,Ce,Ne,je,Le,ze,Pe,De,Be,qe,Ue,Fe,Ge,He,Ye,Ke,We,Xe,Ve,Je,Ze,Qe=d=s(o,i,"Array",d),et=Qe.$$proto,tt=Qe.$$scope,nt=l.slice().concat(tt);return et.length=a,Qe.$include(e.const_get(nt,"Enumerable",!0,!0)),et.$$is_array=!0,e.defs(Qe,"$[]",g=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return f(t,n)},g.$$arity=-1),e.defn(Qe,"$initialize",b=function(t,n){var r=this,$=b.$$p,o=$||a;if(null==t&&(t=a),null==n&&(n=a),$&&(b.$$p=null),
t>e.const_get([e.Integer.$$scope],"MAX",!0,!0)&&r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"array size too big"),arguments.length>2&&r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(t.$$is_array)return r.$replace(t.$to_a()),r;if(t["$respond_to?"]("to_ary"))return r.$replace(t.$to_ary()),r}t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),r.splice(0,r.length);var i,l;if(o===a)for(i=0;i<t;i++)r.push(n);else for(i=0,l;i<t;i++)l=o(i),r[i]=l;return r},b.$$arity=-1),e.defs(Qe,"$try_convert",m=function(t){return e.Opal["$coerce_to?"](t,e.const_get(nt,"Array",!0,!0),"to_ary")},m.$$arity=1),e.defn(Qe,"$&",y=function(t){var n,r=this;t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a();var $,o,i,l=[],s=c([],{});for($=0,o=t.length;$<o;$++)e.hash_put(s,t[$],!0);for($=0,o=r.length;$<o;$++)i=r[$],void 0!==e.hash_delete(s,i)&&l.push(i);return l},y.$$arity=1),e.defn(Qe,"$|",v=function(t){var n,r=this;t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a();var $,o,i=c([],{});for($=0,o=r.length;$<o;$++)e.hash_put(i,r[$],!0);for($=0,o=t.length;$<o;$++)e.hash_put(i,t[$],!0);return i.$keys()},v.$$arity=1),e.defn(Qe,"$*",w=function(t){var n,r=this;if((n=t["$respond_to?"]("to_str"))!==a&&null!=n&&(!n.$$is_boolean||1==n))return r.$join(t.$to_str());t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===a||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative argument");for(var $=[],o=r.$to_a(),i=0;i<t;i++)$=$.concat(o);return f($,r.$class())},w.$$arity=1),e.defn(Qe,"$+",x=function(t){var n,r=this;return t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),r.concat(t)},x.$$arity=1),e.defn(Qe,"$-",k=function(t){var n,r=this;if(t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),(n=0===r.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))return[];if((n=0===t.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))return r.slice();var $,o,i,l=[],s=c([],{});for($=0,o=t.length;$<o;$++)e.hash_put(s,t[$],!0);for($=0,o=r.length;$<o;$++)i=r[$],void 0===e.hash_get(s,i)&&l.push(i);return l},k.$$arity=1),e.defn(Qe,"$<<",O=function(e){var t=this;return t.push(e),t},O.$$arity=1),e.defn(Qe,"$<=>",E=function(t){var n,r=this;if((n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n){if((n=t["$respond_to?"]("to_ary"))===a||null==n||n.$$is_boolean&&1!=n)return a;t=t.$to_ary().$to_a()}else t=t.$to_a();if(r.$hash()===t.$hash())return 0;for(var $=Math.min(r.length,t.length),o=0;o<$;o++){var i=r[o]["$<=>"](t[o]);if(0!==i)return i}return r.length["$<=>"](t.length)},E.$$arity=1),e.defn(Qe,"$==",A=function(t){function n(t,r){var o,i,l,a;if(t===r)return!0;if(!r.$$is_array)return!!e.Opal["$respond_to?"](r,"to_ary")&&r["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),r.constructor!==Array&&(r=r.$to_a()),t.length!==r.length)return!1;for($[t.$object_id()]=!0,o=0,i=t.length;o<i;o++)if(l=t[o],a=r[o],l.$$is_array){if(a.$$is_array&&a.length!==l.length)return!1;if(!$.hasOwnProperty(l.$object_id())&&!n(l,a))return!1}else if(!l["$=="](a))return!1;return!0}var r=this,$={};return n(r,t)},A.$$arity=1),e.defn(Qe,"$[]",S=function(t,n){var r,$,o,i,l=this,s=l.length;if(t.$$is_range){if(r=t.exclude,$=e.Opal.$coerce_to(t.begin,e.Integer,"to_int"),o=e.Opal.$coerce_to(t.end,e.Integer,"to_int"),$<0&&($+=s)<0)return a;if($>s)return a;if(o<0&&(o+=s)<0)return[];r||(o+=1),i=l.slice($,o)}else{if((t=e.Opal.$coerce_to(t,e.Integer,"to_int"))<0&&(t+=s)<0)return a;if(void 0===n)return t>=s||t<0?a:l[t];if((n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0||t>s||t<0)return a;i=l.slice(t,t+n)}return f(i,l.$class())},S.$$arity=-2),e.defn(Qe,"$[]=",R=function(t,n,r){var $,o,i=this,l=a,s=a,c=i.length;if(($=e.const_get(nt,"Range",!0,!0)["$==="](t))===a||null==$||$.$$is_boolean&&1!=$){($=void 0===r)===a||null==$||$.$$is_boolean&&1!=$?(s=n,n=r,l=($=e.const_get(nt,"Array",!0,!0)["$==="](n))===a||null==$||$.$$is_boolean&&1!=$?($=n["$respond_to?"]("to_ary"))===a||null==$||$.$$is_boolean&&1!=$?[n]:n.$to_ary().$to_a():n.$to_a()):s=1;var u;if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),s=e.Opal.$coerce_to(s,e.Integer,"to_int"),t<0&&(u=t,(t+=c)<0&&i.$raise(e.const_get(nt,"IndexError",!0,!0),"index "+u+" too small for array; minimum "+-i.length)),s<0&&i.$raise(e.const_get(nt,"IndexError",!0,!0),"negative length ("+s+")"),t>c)for(o=c;o<t;o++)i[o]=a;return void 0===r?i[t]=n:i.splice.apply(i,[t,s].concat(l)),n}l=($=e.const_get(nt,"Array",!0,!0)["$==="](n))===a||null==$||$.$$is_boolean&&1!=$?($=n["$respond_to?"]("to_ary"))===a||null==$||$.$$is_boolean&&1!=$?[n]:n.$to_ary().$to_a():n.$to_a();var _=t.exclude,d=e.Opal.$coerce_to(t.begin,e.Integer,"to_int"),f=e.Opal.$coerce_to(t.end,e.Integer,"to_int");if(d<0&&(d+=c)<0&&i.$raise(e.const_get(nt,"RangeError",!0,!0),t.$inspect()+" out of range"),f<0&&(f+=c),_||(f+=1),d>c)for(o=c;o<d;o++)i[o]=a;return f<0?i.splice.apply(i,[d,0].concat(l)):i.splice.apply(i,[d,f-d].concat(l)),n},R.$$arity=-3),e.defn(Qe,"$any?",M=function(){var t,n=this,r=M.$$p,$=a,o=a,i=a;for(r&&(M.$$p=null),o=0,i=arguments.length,$=new Array(i);o<i;o++)$[o]=arguments[o];return!!((t=n["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t)&&u(n,e.find_super_dispatcher(n,"any?",M,!1),$,r)},M.$$arity=0),e.defn(Qe,"$assoc",T=function(e){for(var t,n=this,r=0,$=n.length;r<$;r++)if(t=n[r],t.length&&t[0]["$=="](e))return t;return a},T.$$arity=1),e.defn(Qe,"$at",I=function(t){var n=this;return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=n.length),t<0||t>=n.length?a:n[t]},I.$$arity=1),e.defn(Qe,"$bsearch_index",C=function(){var t=this,n=C.$$p,r=n||a;if(n&&(C.$$p=null),r===a)return t.$enum_for("bsearch_index");for(var $,o,i,l=0,s=t.length,c=!1,u=a;l<s;){if($=l+Math.floor((s-l)/2),o=t[$],(i=e.yield1(r,o))===!0)u=$,c=!0;else if(i===!1||i===a)c=!1;else if(i.$$is_number){if(0===i)return $;c=i<0}else t.$raise(e.const_get(nt,"TypeError",!0,!0),"wrong argument type "+i.$class()+" (must be numeric, true, false or nil)");c?s=$:l=$+1}return u},C.$$arity=0),e.defn(Qe,"$bsearch",N=function(){var e=this,t=N.$$p,n=t||a,r=a;return t&&(N.$$p=null),n===a?e.$enum_for("bsearch"):(r=u(e,"bsearch_index",[],n.$to_proc()),null!=r&&r.$$is_number?e[r]:r)},N.$$arity=0),e.defn(Qe,"$cycle",j=function(r){var $,o,i,l=this,s=j.$$p,c=s||a;if(null==r&&(r=a),s&&(j.$$p=null),c===a)return u(l,"enum_for",["cycle",r],($=function(){var o,i=$.$$s||this;return r["$=="](a)?e.const_get([e.const_get(nt,"Float",!0,!0).$$scope],"INFINITY",!0,!0):(r=e.Opal["$coerce_to!"](r,e.Integer,"to_int"),(o=t(r,0))===a||null==o||o.$$is_boolean&&1!=o?0:n(i.$enumerator_size(),r))},$.$$s=l,$.$$arity=0,$));if((o=(i=l["$empty?"]())!==!1&&i!==a&&null!=i?i:r["$=="](0))!==a&&null!=o&&(!o.$$is_boolean||1==o))return a;var _,d;if(r===a)for(;;)for(_=0,d=l.length;_<d;_++)e.yield1(c,l[_]);else{if((r=e.Opal["$coerce_to!"](r,e.Integer,"to_int"))<=0)return l;for(;r>0;){for(_=0,d=l.length;_<d;_++)e.yield1(c,l[_]);r--}}return l},j.$$arity=-1),e.defn(Qe,"$clear",L=function(){var e=this;return e.splice(0,e.length),e},L.$$arity=0),e.defn(Qe,"$count",z=function(t){var n,r,$=this,o=z.$$p,i=o||a,l=a,s=a,c=a;for(null==t&&(t=a),o&&(z.$$p=null),s=0,c=arguments.length,l=new Array(c);s<c;s++)l[s]=arguments[s];return(n=(r=t)!==!1&&r!==a&&null!=r?r:i)===a||null==n||n.$$is_boolean&&1!=n?$.$size():u($,e.find_super_dispatcher($,"count",z,!1),l,o)},z.$$arity=-1),e.defn(Qe,"$initialize_copy",P=function(e){return this.$replace(e)},P.$$arity=1),e.defn(Qe,"$collect",D=function(){var t,n=this,r=D.$$p,$=r||a;if(r&&(D.$$p=null),$===a)return u(n,"enum_for",["collect"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=[],i=0,l=n.length;i<l;i++){var s=e.yield1($,n[i]);o.push(s)}return o},D.$$arity=0),e.defn(Qe,"$collect!",B=function(){var t,n=this,r=B.$$p,$=r||a;if(r&&(B.$$p=null),$===a)return u(n,"enum_for",["collect!"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,i=n.length;o<i;o++){var l=e.yield1($,n[o]);n[o]=l}return n},B.$$arity=0),e.defn(Qe,"$combination",q=function(t){var n,r=this,$=q.$$p,o=$||a,i=a;if($&&(q.$$p=null),i=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),o===a)return u(r,"enum_for",["combination",i],(n=function(){return p((n.$$s||this).length,i)},n.$$s=r,n.$$arity=0,n));var l,s,c,_,d,f,h;if(0===i)e.yield1(o,[]);else if(1===i)for(l=0,s=r.length;l<s;l++)e.yield1(o,[r[l]]);else if(i===r.length)e.yield1(o,r.slice());else if(i>=0&&i<r.length){for(c=[],l=0;l<=i+1;l++)c.push(0);for(_=[],d=0,f=!1,c[0]=-1;!f;){for(_[d]=r[c[d+1]];d<i-1;)d++,h=c[d+1]=c[d]+1,_[d]=r[h];e.yield1(o,_.slice()),d++;do{f=0===d,c[d]++,d--}while(c[d+1]+i===r.length+d+1)}}return r},q.$$arity=1),e.defn(Qe,"$repeated_combination",U=function(t){function n(t,r,$,o){if($.length==t){var l=$.slice();return void e.yield1(i,l)}for(var a=r;a<o.length;a++)$.push(o[a]),n(t,a,$,o),$.pop()}var r,$=this,o=U.$$p,i=o||a,l=a;return o&&(U.$$p=null),l=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),i===a?u($,"enum_for",["repeated_combination",l],(r=function(){return p((r.$$s||this).length+l-1,l)},r.$$s=$,r.$$arity=0,r)):(l>=0&&n(l,0,[],$),$)},U.$$arity=1),e.defn(Qe,"$compact",F=function(){for(var e,t=this,n=[],r=0,$=t.length;r<$;r++)(e=t[r])!==a&&n.push(e);return n},F.$$arity=0),e.defn(Qe,"$compact!",G=function(){for(var e=this,t=e.length,n=0,r=e.length;n<r;n++)e[n]===a&&(e.splice(n,1),r--,n--);return e.length===t?a:e},G.$$arity=0),e.defn(Qe,"$concat",H=function(t){var n,r=this;t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a();for(var $=0,o=t.length;$<o;$++)r.push(t[$]);return r},H.$$arity=1),e.defn(Qe,"$delete",Y=function(t){var n=this,r=Y.$$p,$=r||a;r&&(Y.$$p=null);for(var o=n.length,i=0,l=o;i<l;i++)n[i]["$=="](t)&&(n.splice(i,1),l--,i--);return n.length===o?$!==a?e.yieldX($,[]):a:t},Y.$$arity=1),e.defn(Qe,"$delete_at",K=function(t){var n=this;if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=n.length),t<0||t>=n.length)return a;var r=n[t];return n.splice(t,1),r},K.$$arity=1),e.defn(Qe,"$delete_if",W=function(){var e,t=this,n=W.$$p,r=n||a;if(n&&(W.$$p=null),r===a)return u(t,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var $,o=0,i=t.length;o<i;o++)($=r(t[o]))!==!1&&$!==a&&(t.splice(o,1),i--,o--);return t},W.$$arity=0),e.defn(Qe,"$dig",X=function(t,n){var r,$,o=this,i=a,l=arguments.length,s=l-1;s<0&&(s=0),$=new Array(s);for(var c=1;c<l;c++)$[c-1]=arguments[c];return(i=o["$[]"](t))===a||0===$.length?i:(((r=i["$respond_to?"]("dig"))===a||null==r||r.$$is_boolean&&1!=r)&&o.$raise(e.const_get(nt,"TypeError",!0,!0),i.$class()+" does not have #dig method"),u(i,"dig",e.to_a($)))},X.$$arity=-2),e.defn(Qe,"$drop",V=function(t){var n=this;return t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0)),n.slice(t)},V.$$arity=1),e.defn(Qe,"$dup",J=function(){var t=this,n=J.$$p,r=a,$=a,o=a;for(n&&(J.$$p=null),$=0,o=arguments.length,r=new Array(o);$<o;$++)r[$]=arguments[$];return t.$$class===e.Array&&t.$allocate.$$pristine&&t.$copy_instance_variables.$$pristine&&t.$initialize_dup.$$pristine?t.slice(0):u(t,e.find_super_dispatcher(t,"dup",J,!1),r,n)},J.$$arity=0),e.defn(Qe,"$each",Z=function(){var t,n=this,r=Z.$$p,$=r||a;if(r&&(Z.$$p=null),$===a)return u(n,"enum_for",["each"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,i=n.length;o<i;o++){e.yield1($,n[o])}return n},Z.$$arity=0),e.defn(Qe,"$each_index",Q=function(){var t,n=this,r=Q.$$p,$=r||a;if(r&&(Q.$$p=null),$===a)return u(n,"enum_for",["each_index"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,i=n.length;o<i;o++){e.yield1($,o)}return n},Q.$$arity=0),e.defn(Qe,"$empty?",ee=function(){return 0===this.length},ee.$$arity=0),e.defn(Qe,"$eql?",te=function(e){function t(e,n){var $,o,i,l;if(!n.$$is_array)return!1;if(n=n.$to_a(),e.length!==n.length)return!1;for(r[e.$object_id()]=!0,$=0,o=e.length;$<o;$++)if(i=e[$],l=n[$],i.$$is_array){if(l.$$is_array&&l.length!==i.length)return!1;if(!r.hasOwnProperty(i.$object_id())&&!t(i,l))return!1}else if(!i["$eql?"](l))return!1;return!0}var n=this,r={};return t(n,e)},te.$$arity=1),e.defn(Qe,"$fetch",ne=function(t,n){var r=this,$=ne.$$p,o=$||a;$&&(ne.$$p=null);var i=t;return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=r.length),t>=0&&t<r.length?r[t]:o!==a?o(i):null!=n?n:void(0===r.length?r.$raise(e.const_get(nt,"IndexError",!0,!0),"index "+i+" outside of array bounds: 0...0"):r.$raise(e.const_get(nt,"IndexError",!0,!0),"index "+i+" outside of array bounds: -"+r.length+"..."+r.length))},ne.$$arity=-2),e.defn(Qe,"$fill",re=function(t){var n,r,$,o=this,i=re.$$p,l=i||a,s=a,c=a,u=a,_=a,d=a,f=arguments.length,p=f-0;p<0&&(p=0),$=new Array(p);for(var h=0;h<f;h++)$[h-0]=arguments[h];i&&(re.$$p=null);var g,b;if(l!==!1&&l!==a&&null!=l?((n=$.length>2)===a||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments ("+$.$length()+" for 0..2)"),r=$,n=e.to_ary(r),s=null==n[0]?a:n[0],c=null==n[1]?a:n[1]):((n=0==$.length)===a||null==n||n.$$is_boolean&&1!=n?(n=$.length>3)===a||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments ("+$.$length()+" for 1..3)"):o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),r=$,n=e.to_ary(r),u=null==n[0]?a:n[0],s=null==n[1]?a:n[1],c=null==n[2]?a:n[2]),(n=e.const_get(nt,"Range",!0,!0)["$==="](s))===a||null==n||n.$$is_boolean&&1!=n)if(s!==!1&&s!==a&&null!=s)if(_=e.Opal.$coerce_to(s,e.Integer,"to_int"),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||(_+=o.length),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||(_=0),c!==!1&&c!==a&&null!=c){if(d=e.Opal.$coerce_to(c,e.Integer,"to_int"),(n=0==d)!==a&&null!=n&&(!n.$$is_boolean||1==n))return o;d+=_}else d=o.length;else _=0,d=o.length;else if(c!==!1&&c!==a&&null!=c&&o.$raise(e.const_get(nt,"TypeError",!0,!0),"length invalid with range"),_=e.Opal.$coerce_to(s.$begin(),e.Integer,"to_int"),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||(_+=o.length),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(nt,"RangeError",!0,!0),s.$inspect()+" out of range"),d=e.Opal.$coerce_to(s.$end(),e.Integer,"to_int"),(n=d<0)===a||null==n||n.$$is_boolean&&1!=n||(d+=o.length),((n=s["$exclude_end?"]())===a||null==n||n.$$is_boolean&&1!=n)&&(d+=1),(n=d<=_)!==a&&null!=n&&(!n.$$is_boolean||1==n))return o;if((n=_>o.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))for(g=o.length;g<d;g++)o[g]=a;if((n=d>o.length)===a||null==n||n.$$is_boolean&&1!=n||(o.length=d),l!==!1&&l!==a&&null!=l)for(o.length;_<d;_++)b=l(_),o[_]=b;else for(o.length;_<d;_++)o[_]=u;return o},re.$$arity=-1),e.defn(Qe,"$first",$e=function(t){var n=this;return null==t?0===n.length?a:n[0]:(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),n.slice(0,t))},$e.$$arity=-1),e.defn(Qe,"$flatten",oe=function(t){function n(t,$){var o,i,l,s,c=[];for(t=t.$to_a(),o=0,i=t.length;o<i;o++)if(l=t[o],e.Opal["$respond_to?"](l,"to_ary"))if((s=l.$to_ary())!==a)switch(s.$$is_array||r.$raise(e.const_get(nt,"TypeError",!0,!0)),s===r&&r.$raise(e.const_get(nt,"ArgumentError",!0,!0)),$){case void 0:c=c.concat(n(s));break;case 0:c.push(s);break;default:c.push.apply(c,n(s,$-1))}else c.push(l);else c.push(l);return c}var r=this;return void 0!==t&&(t=e.Opal.$coerce_to(t,e.Integer,"to_int")),f(n(r,t),r.$class())},oe.$$arity=-1),e.defn(Qe,"$flatten!",ie=function(e){var t=this,n=t.$flatten(e);if(t.length==n.length){for(var r=0,$=t.length;r<$&&t[r]===n[r];r++);if(r==$)return a}return t.$replace(n),t},ie.$$arity=-1),e.defn(Qe,"$hash",le=function(){var t,n,r,$=this,o=void 0==e.hash_ids,i=["A"],l=$.$object_id();try{if(o&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(l))return"self";for(r in e.hash_ids)if(e.hash_ids.hasOwnProperty(r)&&(t=e.hash_ids[r],$["$eql?"](t)))return"self";for(e.hash_ids[l]=$,n=0;n<$.length;n++)t=$[n],i.push(t.$hash());return i.join(",")}finally{o&&delete e.hash_ids}},le.$$arity=0),e.defn(Qe,"$include?",ae=function(e){for(var t=this,n=0,r=t.length;n<r;n++)if(t[n]["$=="](e))return!0;return!1},ae.$$arity=1),e.defn(Qe,"$index",se=function(e){var t=this,n=se.$$p,r=n||a;n&&(se.$$p=null);var $,o,i;if(null!=e){for($=0,o=t.length;$<o;$++)if(t[$]["$=="](e))return $}else{if(r===a)return t.$enum_for("index");for($=0,o=t.length;$<o;$++)if((i=r(t[$]))!==!1&&i!==a)return $}return a},se.$$arity=-1),e.defn(Qe,"$insert",ce=function(t,n){var r,$=this,o=arguments.length,i=o-1;i<0&&(i=0),r=new Array(i);for(var l=1;l<o;l++)r[l-1]=arguments[l];if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),r.length>0){if(t<0&&(t+=$.length+1)<0&&$.$raise(e.const_get(nt,"IndexError",!0,!0),t+" is out of bounds"),t>$.length)for(var s=$.length;s<t;s++)$.push(a);$.splice.apply($,[t,0].concat(r))}return $},ce.$$arity=-2),e.defn(Qe,"$inspect",ue=function(){for(var e=this,t=[],n=e.$__id__(),r=0,$=e.length;r<$;r++){var o=e["$[]"](r);o.$__id__()===n?t.push("[...]"):t.push(o.$inspect())}return"["+t.join(", ")+"]"},ue.$$arity=0),e.defn(Qe,"$join",_e=function(t){var n,r=this;if(null==_[","]&&(_[","]=a),null==t&&(t=a),(n=0===r.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))return"";(n=t===a)===a||null==n||n.$$is_boolean&&1!=n||(t=_[","]);var $,o,i,l,s=[];for($=0,o=r.length;$<o;$++)i=r[$],e.Opal["$respond_to?"](i,"to_str")&&(l=i.$to_str())!==a?s.push(l.$to_s()):e.Opal["$respond_to?"](i,"to_ary")&&(l=i.$to_ary(),l===r&&r.$raise(e.const_get(nt,"ArgumentError",!0,!0)),l!==a)?s.push(l.$join(t)):e.Opal["$respond_to?"](i,"to_s")&&(l=i.$to_s())!==a?s.push(l):r.$raise(e.const_get(nt,"NoMethodError",!0,!0).$new(e.Opal.$inspect(i)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return t===a?s.join(""):s.join(e.Opal["$coerce_to!"](t,e.String,"to_str").$to_s())},_e.$$arity=-1),e.defn(Qe,"$keep_if",de=function(){var e,t=this,n=de.$$p,r=n||a;if(n&&(de.$$p=null),r===a)return u(t,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var $,o=0,i=t.length;o<i;o++)($=r(t[o]))!==!1&&$!==a||(t.splice(o,1),i--,o--);return t},de.$$arity=0),e.defn(Qe,"$last",fe=function(t){var n=this;return null==t?0===n.length?a:n[n.length-1]:(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),t>n.length&&(t=n.length),n.slice(n.length-t,n.length))},fe.$$arity=-1),e.defn(Qe,"$length",pe=function(){return this.length},pe.$$arity=0),e.alias(Qe,"map","collect"),e.alias(Qe,"map!","collect!"),e.defn(Qe,"$permutation",he=function(t){var n,r=this,$=he.$$p,o=$||a,i=a,l=a;if($&&(he.$$p=null),o===a)return u(r,"enum_for",["permutation",t],(n=function(){var e=n.$$s||this;return h(e.length,void 0===t?e.length:t)},n.$$s=r,n.$$arity=0,n));var s,c,_;if((t=void 0===t?r.length:e.Opal.$coerce_to(t,e.Integer,"to_int"))<0||r.length<t);else if(0===t)e.yield1(o,[]);else if(1===t)for(var d=0;d<r.length;d++)e.yield1(o,[r[d]]);else i=e.const_get(nt,"Array",!0,!0).$new(t),l=e.const_get(nt,"Array",!0,!0).$new(r.length,!1),s=function(t,n,$,o,i){r=this;for(var l=0;l<r.length;l++)if(o["$[]"](l)["$!"]())if(n[$]=l,$<t-1)o[l]=!0,s.call(r,t,n,$+1,o,i),o[l]=!1;else{_=[];for(var a=0;a<n.length;a++)_.push(r[n[a]]);e.yield1(i,_)}},o!==a?(c=r.slice(),s.call(c,t,i,0,l,o)):s.call(r,t,i,0,l,o);return r},he.$$arity=-1),e.defn(Qe,"$repeated_permutation",ge=function(t){function n(t,r,$){if(r.length==t){var o=r.slice();return void e.yield1(l,o)}for(var i=0;i<$.length;i++)r.push($[i]),n(t,r,$),r.pop()}var $,o=this,i=ge.$$p,l=i||a,s=a;return i&&(ge.$$p=null),s=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),l===a?u(o,"enum_for",["repeated_permutation",s],($=function(){var e,t=$.$$s||this;return(e=r(s,0))===a||null==e||e.$$is_boolean&&1!=e?0:t.$size()["$**"](s)},$.$$s=o,$.$$arity=0,$)):(n(s,[],o.slice()),o)},ge.$$arity=1),e.defn(Qe,"$pop",be=function(t){var n,r=this;return(n=void 0===t)===a||null==n||n.$$is_boolean&&1!=n?(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===a||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),(n=0===r.length)===a||null==n||n.$$is_boolean&&1!=n?(n=t>r.length)===a||null==n||n.$$is_boolean&&1!=n?r.splice(r.length-t,r.length):r.splice(0,r.length):[]):(n=0===r.length)===a||null==n||n.$$is_boolean&&1!=n?r.pop():a},be.$$arity=-1),e.defn(Qe,"$product",me=function(t){var n,r=this,$=me.$$p,o=$||a,i=arguments.length,l=i-0;l<0&&(l=0),n=new Array(l);for(var s=0;s<i;s++)n[s-0]=arguments[s];$&&(me.$$p=null);var c,u,_,d,f=o!==a?null:[],p=n.length+1,h=new Array(p),g=new Array(p),b=new Array(p),m=1;for(b[0]=r,c=1;c<p;c++)b[c]=e.Opal.$coerce_to(n[c-1],e.const_get(nt,"Array",!0,!0),"to_ary");for(c=0;c<p;c++){if(0===(d=b[c].length))return f||r;m*=d,m>2147483647&&r.$raise(e.const_get(nt,"RangeError",!0,!0),"too big to product"),g[c]=d,h[c]=0}e:for(;;){for(_=[],c=0;c<p;c++)_.push(b[c][h[c]]);for(f?f.push(_):e.yield1(o,_),u=p-1,h[u]++;h[u]===g[u];){if(h[u]=0,--u<0)break e;h[u]++}}return f||r},me.$$arity=-1),e.defn(Qe,"$push",ye=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];for(var i=0,l=t.length;i<l;i++)n.push(t[i]);return n},ye.$$arity=-1),e.defn(Qe,"$rassoc",ve=function(e){for(var t,n=this,r=0,$=n.length;r<$;r++)if(t=n[r],t.length&&void 0!==t[1]&&t[1]["$=="](e))return t;return a},ve.$$arity=1),e.defn(Qe,"$reject",we=function(){var e,t=this,n=we.$$p,r=n||a;if(n&&(we.$$p=null),r===a)return u(t,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var $,o=[],i=0,l=t.length;i<l;i++)($=r(t[i]))!==!1&&$!==a||o.push(t[i]);return o},we.$$arity=0),e.defn(Qe,"$reject!",xe=function(){var e,t=this,n=xe.$$p,r=n||a,$=a;return n&&(xe.$$p=null),r===a?u(t,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e)):($=t.$length(),u(t,"delete_if",[],r.$to_proc()),t.$length()["$=="]($)?a:t)},xe.$$arity=0),e.defn(Qe,"$replace",ke=function(t){var n,r=this;return t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),r.splice(0,r.length),r.push.apply(r,t),r},ke.$$arity=1),e.defn(Qe,"$reverse",Oe=function(){return this.slice(0).reverse()},Oe.$$arity=0),e.defn(Qe,"$reverse!",Ee=function(){return this.reverse()},Ee.$$arity=0),e.defn(Qe,"$reverse_each",Ae=function(){var e,t=this,n=Ae.$$p,r=n||a;return n&&(Ae.$$p=null),r===a?u(t,"enum_for",["reverse_each"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e)):(u(t.$reverse(),"each",[],r.$to_proc()),t)},Ae.$$arity=0),e.defn(Qe,"$rindex",Se=function(e){var t=this,n=Se.$$p,r=n||a;n&&(Se.$$p=null);var $,o;if(null!=e){for($=t.length-1;$>=0&&!($>=t.length);$--)if(t[$]["$=="](e))return $}else if(r!==a){for($=t.length-1;$>=0&&!($>=t.length);$--)if((o=r(t[$]))!==!1&&o!==a)return $}else if(null==e)return t.$enum_for("rindex");return a},Se.$$arity=-1),e.defn(Qe,"$rotate",Re=function(t){var n=this;null==t&&(t=1),t=e.Opal.$coerce_to(t,e.Integer,"to_int");var r,$,o,i;return 1===n.length?n.slice():0===n.length?[]:(r=n.slice(),$=t%r.length,o=r.slice($),i=r.slice(0,$),o.concat(i))},Re.$$arity=-1),e.defn(Qe,"$rotate!",Me=function(t){var n=this,r=a;return null==t&&(t=1),0===n.length||1===n.length?n:(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),r=n.$rotate(t),n.$replace(r))},Me.$$arity=-1),function(t,n,r){function $(){}var o,i,l=$=s(t,null,"SampleRandom",$),c=l.$$proto,u=l.$$scope,_=r.slice().concat(u);c.rng=a,e.defn(l,"$initialize",o=function(e){return this.rng=e},o.$$arity=1),e.defn(l,"$rand",i=function(t){var n,r=this,$=a;return $=e.Opal.$coerce_to(r.rng.$rand(t),e.Integer,"to_int"),(n=$<0)===a||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(_,"RangeError",!0,!0),"random value must be >= 0"),((n=$<t)===a||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(_,"RangeError",!0,!0),"random value must be less than Array size"),$},i.$$arity=1)}(tt.base,0,nt),e.defn(Qe,"$sample",Te=function(t,n){var r,$=this,o=a,i=a;if((r=void 0===t)!==a&&null!=r&&(!r.$$is_boolean||1==r))return $.$at(e.const_get(nt,"Kernel",!0,!0).$rand($.length));if((r=void 0===n)===a||null==r||r.$$is_boolean&&1!=r?(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),n=e.Opal.$coerce_to(n,e.const_get(nt,"Hash",!0,!0),"to_hash")):(r=o=e.Opal["$coerce_to?"](t,e.const_get(nt,"Hash",!0,!0),"to_hash"))===a||null==r||r.$$is_boolean&&1!=r?(n=a,t=e.Opal.$coerce_to(t,e.Integer,"to_int")):(n=o,t=a),(r=t!==!1&&t!==a&&null!=t?t<0:t)===a||null==r||r.$$is_boolean&&1!=r||$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"count must be greater than 0"),n!==!1&&n!==a&&null!=n&&(i=n["$[]"]("random")),i=(r=i!==!1&&i!==a&&null!=i?i["$respond_to?"]("rand"):i)===a||null==r||r.$$is_boolean&&1!=r?e.const_get(nt,"Kernel",!0,!0):e.const_get(nt,"SampleRandom",!0,!0).$new(i),t===!1||t===a||null==t)return $[i.$rand($.length)];var l,s,c,u,_,d,f,p;switch(t>$.length&&(t=$.length),t){case 0:return[];case 1:return[$[i.$rand($.length)]];case 2:return u=i.$rand($.length),_=i.$rand($.length),u===_&&(_=0===u?u+1:u-1),[$[u],$[_]];default:if($.length/t>3){for(l=!1,s=0,c=e.const_get(nt,"Array",!0,!0).$new(t),u=1,c[0]=i.$rand($.length);u<t;){for(d=i.$rand($.length),_=0;_<u;){for(;d===c[_];){if(++s>100){l=!0;break}d=i.$rand($.length)}if(l)break;_++}if(l)break;c[u]=d,u++}if(!l){for(u=0;u<t;)c[u]=$[c[u]],u++;return c}}c=$.slice();for(var h=0;h<t;h++)f=i.$rand($.length),p=c[h],c[h]=c[f],c[f]=p;return t===$.length?c:c["$[]"](0,t)}},Te.$$arity=-1),e.defn(Qe,"$select",Ie=function(){var t,n=this,r=Ie.$$p,$=r||a;if(r&&(Ie.$$p=null),$===a)return u(n,"enum_for",["select"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,l=[],s=0,c=n.length;s<c;s++)o=n[s],(i=e.yield1($,o))!==!1&&i!==a&&l.push(o);return l},Ie.$$arity=0),e.defn(Qe,"$select!",Ce=function(){var e,t=this,n=Ce.$$p,r=n||a;if(n&&(Ce.$$p=null),r===a)return u(t,"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));var $=t.length;return u(t,"keep_if",[],r.$to_proc()),t.length===$?a:t},Ce.$$arity=0),e.defn(Qe,"$shift",Ne=function(t){var n,r=this;return(n=void 0===t)===a||null==n||n.$$is_boolean&&1!=n?(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===a||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),(n=0===r.length)===a||null==n||n.$$is_boolean&&1!=n?r.splice(0,t):[]):(n=0===r.length)===a||null==n||n.$$is_boolean&&1!=n?r.shift():a},Ne.$$arity=-1),e.alias(Qe,"size","length"),e.defn(Qe,"$shuffle",je=function(e){return this.$dup().$to_a()["$shuffle!"](e)},je.$$arity=-1),e.defn(Qe,"$shuffle!",Le=function(t){var n,r,$,o=this,i=o.length;for(void 0!==t&&(t=e.Opal["$coerce_to?"](t,e.const_get(nt,"Hash",!0,!0),"to_hash"))!==a&&(t=t["$[]"]("random"))!==a&&t["$respond_to?"]("rand")&&(n=t);i;)n?(r=n.$rand(i).$to_int(),r<0&&o.$raise(e.const_get(nt,"RangeError",!0,!0),"random number too small "+r),r>=i&&o.$raise(e.const_get(nt,"RangeError",!0,!0),"random number too big "+r)):r=o.$rand(i),$=o[--i],o[i]=o[r],o[r]=$;return o},Le.$$arity=-1),e.alias(Qe,"slice","[]"),e.defn(Qe,"$slice!",ze=function(t,n){var r,$=this,o=a,i=a,l=a,s=a,c=a;if(o=a,(r=void 0===n)===a||null==r||r.$$is_boolean&&1!=r){if(c=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0)return a;o=$["$[]"](c,n),c<0&&(c+=$.length),c+n>$.length&&(n=$.length-c),c<$.length&&c>=0&&$.splice(c,n)}else if((r=e.const_get(nt,"Range",!0,!0)["$==="](t))===a||null==r||r.$$is_boolean&&1!=r){if(c=e.Opal.$coerce_to(t,e.Integer,"to_int"),c<0&&(c+=$.length),c<0||c>=$.length)return a;o=$[c],0===c?$.shift():$.splice(c,1)}else{i=t,o=$["$[]"](i),l=e.Opal.$coerce_to(i.$begin(),e.Integer,"to_int"),s=e.Opal.$coerce_to(i.$end(),e.Integer,"to_int"),l<0&&(l+=$.length),s<0?s+=$.length:s>=$.length&&(s=$.length-1,i.exclude&&(s+=1));var u=s-l;i.exclude?s-=1:u+=1,l<$.length&&l>=0&&s<$.length&&s>=0&&u>0&&$.splice(l,u)}return o},ze.$$arity=-2),e.defn(Qe,"$sort",Pe=function(){var n,r=this,o=Pe.$$p,i=o||a;return o&&(Pe.$$p=null),(n=r.length>1)===a||null==n||n.$$is_boolean&&1!=n?r:(i===a&&(i=function(e,t){return e["$<=>"](t)}),r.slice().sort(function(n,o){var l=i(n,o);return l===a&&r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"comparison of "+n.$inspect()+" with "+o.$inspect()+" failed"),t(l,0)?1:$(l,0)?-1:0}))},Pe.$$arity=0),e.defn(Qe,"$sort!",De=function(){var e=this,t=De.$$p,n=t||a;t&&(De.$$p=null);var r;r=n!==a?u(e.slice(),"sort",[],n.$to_proc()):e.slice().$sort(),e.length=0;for(var $=0,o=r.length;$<o;$++)e.push(r[$]);return e},De.$$arity=0),e.defn(Qe,"$sort_by!",Be=function(){var e,t=this,n=Be.$$p,r=n||a;return n&&(Be.$$p=null),r===a?u(t,"enum_for",["sort_by!"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e)):t.$replace(u(t,"sort_by",[],r.$to_proc()))},Be.$$arity=0),e.defn(Qe,"$take",qe=function(t){var n=this;return t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0)),n.slice(0,t)},qe.$$arity=1),e.defn(Qe,"$take_while",Ue=function(){var e=this,t=Ue.$$p,n=t||a;t&&(Ue.$$p=null);for(var r,$,o=[],i=0,l=e.length;i<l;i++){if(r=e[i],($=n(r))===!1||$===a)return o;o.push(r)}return o},Ue.$$arity=0),e.defn(Qe,"$to_a",Fe=function(){return this},Fe.$$arity=0),e.alias(Qe,"to_ary","to_a"),e.defn(Qe,"$to_h",Ge=function(){var t,n,r,$,o=this,i=o.length,l=c([],{});for(t=0;t<i;t++)n=e.Opal["$coerce_to?"](o[t],e.const_get(nt,"Array",!0,!0),"to_ary"),n.$$is_array||o.$raise(e.const_get(nt,"TypeError",!0,!0),"wrong element type "+n.$class()+" at "+t+" (expected array)"),2!==n.length&&o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong array length at "+t+" (expected 2, was "+n.$length()+")"),r=n[0],$=n[1],e.hash_put(l,r,$);return l},Ge.$$arity=0),e.alias(Qe,"to_s","inspect"),e.defn(Qe,"$transpose",He=function(){var t,n,r=this,$=a,o=a;return(t=r["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?($=[],o=a,u(r,"each",[],(n=function(t){var r,i,l=n.$$s||this;return null==t&&(t=a),t=(r=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==r||r.$$is_boolean&&1!=r?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),(r=o)!==!1&&r!==a&&null!=r||(o=t.length),(r=t.length["$!="](o))===a||null==r||r.$$is_boolean&&1!=r||l.$raise(e.const_get(nt,"IndexError",!0,!0),"element size differs ("+t.length+" should be "+o),u(t.length,"times",[],(i=function(e){var n,r,o,l=(i.$$s,a);return null==e&&(e=a),n=e,r=$,l=(o=r["$[]"](n))!==!1&&o!==a&&null!=o?o:r["$[]="](n,[]),l["$<<"](t.$at(e))},i.$$s=l,i.$$arity=1,i))},n.$$s=r,n.$$arity=1,n)),$):[]},He.$$arity=0),e.defn(Qe,"$uniq",Ye=function(){var t=this,n=Ye.$$p,r=n||a;n&&(Ye.$$p=null);var $,o,i,l,s=c([],{});if(r===a)for($=0,o=t.length;$<o;$++)i=t[$],void 0===e.hash_get(s,i)&&e.hash_put(s,i,i);else for($=0,o=t.length;$<o;$++)i=t[$],l=e.yield1(r,i),void 0===e.hash_get(s,l)&&e.hash_put(s,l,i);return f(s.$values(),t.$class())},Ye.$$arity=0),e.defn(Qe,"$uniq!",Ke=function(){var t=this,n=Ke.$$p,r=n||a;n&&(Ke.$$p=null);var $,o,i,l,s=t.length,u=c([],{});for($=0,o=s;$<o;$++)i=t[$],l=r===a?i:e.yield1(r,i),void 0!==e.hash_get(u,l)?(t.splice($,1),o--,$--):e.hash_put(u,l,i);return t.length===s?a:t},Ke.$$arity=0),e.defn(Qe,"$unshift",We=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];for(var i=t.length-1;i>=0;i--)n.unshift(t[i]);return n},We.$$arity=-1),e.defn(Qe,"$values_at",Xe=function(t){var n,r,$=this,o=a,i=arguments.length,l=i-0;l<0&&(l=0),r=new Array(l);for(var s=0;s<i;s++)r[s-0]=arguments[s];return o=[],u(r,"each",[],(n=function(t){
var r,$,i=n.$$s||this,l=a,s=a,c=a;return null==t&&(t=a),(r=t["$kind_of?"](e.const_get(nt,"Range",!0,!0)))===a||null==r||r.$$is_boolean&&1!=r?(c=e.Opal.$coerce_to(t,e.Integer,"to_int"),o["$<<"](i.$at(c))):(l=e.Opal.$coerce_to(t.$last(),e.Integer,"to_int"),(s=e.Opal.$coerce_to(t.$first(),e.Integer,"to_int"))<0?(s+=i.length,a):(l<0&&(l+=i.length),t["$exclude_end?"]()&&l--,l<s?a:u(s,"upto",[l],($=function(e){var t=$.$$s||this;return null==e&&(e=a),o["$<<"](t.$at(e))},$.$$s=i,$.$$arity=1,$))))},n.$$s=$,n.$$arity=1,n)),o},Xe.$$arity=-1),e.defn(Qe,"$zip",Ve=function(t){var n,r,$=this,o=Ve.$$p,i=o||a,l=arguments.length,s=l-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<l;c++)r[c-0]=arguments[c];o&&(Ve.$$p=null);var u,_,d,f,p,h=[],g=$.length;for(f=0,p=r.length;f<p;f++)_=r[f],_.$$is_array||(_.$$is_enumerator?1/0===_.$size()?r[f]=_.$take(g):r[f]=_.$to_a():r[f]=((n=e.Opal["$coerce_to?"](_,e.const_get(nt,"Array",!0,!0),"to_ary"))!==!1&&n!==a&&null!=n?n:e.Opal["$coerce_to!"](_,e.const_get(nt,"Enumerator",!0,!0),"each")).$to_a());for(d=0;d<g;d++){for(u=[$[d]],f=0,p=r.length;f<p;f++)_=r[f][d],null==_&&(_=a),u[f+1]=_;h[d]=u}if(i!==a){for(d=0;d<g;d++)i(h[d]);return a}return h},Ve.$$arity=-1),e.defs(Qe,"$inherited",Je=function(e){e.$$proto.$to_a=function(){return this.slice(0,this.length)}},Je.$$arity=1),e.defn(Qe,"$instance_variables",Ze=function(){var t,n=this,r=Ze.$$p,$=a,o=a,i=a;for(r&&(Ze.$$p=null),o=0,i=arguments.length,$=new Array(i);o<i;o++)$[o]=arguments[o];return u(u(n,e.find_super_dispatcher(n,"instance_variables",Ze,!1),$,r),"reject",[],(t=function(e){var n;t.$$s;return null==e&&(e=a),(n=/^@\d+$/.test(e))!==!1&&n!==a&&null!=n?n:e["$=="]("@length")},t.$$s=n,t.$$arity=1,t))},Ze.$$arity=0),e.Opal.$pristine(Qe,"allocate","copy_instance_variables","initialize_dup")}(i.base,Array,l)},Opal.modules["corelib/hash"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=e.top,o=e,i=[e],l=e.nil,a=(e.breaker,e.slice,e.klass),s=e.send;return e.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),$.$require("corelib/enumerable"),function($,o,i){function c(){}var u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe,ie,le,ae,se,ce=c=a($,null,"Hash",c),ue=ce.$$proto,_e=ce.$$scope,de=i.slice().concat(_e);ce.$include(e.const_get(de,"Enumerable",!0,!0)),ue.$$is_hash=!0,e.defs(ce,"$[]",u=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];var a,s,c=n.length;if(1===c){if((a=e.Opal["$coerce_to?"](n["$[]"](0),e.const_get(de,"Hash",!0,!0),"to_hash"))!==l)return r.$allocate()["$merge!"](a);for(n=e.Opal["$coerce_to?"](n["$[]"](0),e.const_get(de,"Array",!0,!0),"to_ary"),n===l&&r.$raise(e.const_get(de,"ArgumentError",!0,!0),"odd number of arguments for Hash"),c=n.length,a=r.$allocate(),s=0;s<c;s++)if(n[s].$$is_array)switch(n[s].length){case 1:a.$store(n[s][0],l);break;case 2:a.$store(n[s][0],n[s][1]);break;default:r.$raise(e.const_get(de,"ArgumentError",!0,!0),"invalid number of elements ("+n[s].length+" for 1..2)")}return a}for(c%2!=0&&r.$raise(e.const_get(de,"ArgumentError",!0,!0),"odd number of arguments for Hash"),a=r.$allocate(),s=0;s<c;s+=2)a.$store(n[s],n[s+1]);return a},u.$$arity=-1),e.defs(ce,"$allocate",_=function(){var t=this,n=new t.$$alloc;return e.hash_init(n),n.$$none=l,n.$$proc=l,n},_.$$arity=0),e.defs(ce,"$try_convert",d=function(t){return e.Opal["$coerce_to?"](t,e.const_get(de,"Hash",!0,!0),"to_hash")},d.$$arity=1),e.defn(ce,"$initialize",f=function(t){var n=this,r=f.$$p,$=r||l;return r&&(f.$$p=null),void 0!==t&&$!==l&&n.$raise(e.const_get(de,"ArgumentError",!0,!0),"wrong number of arguments (1 for 0)"),n.$$none=void 0===t?l:t,n.$$proc=$,n},f.$$arity=-1),e.defn(ce,"$==",p=function(t){var n=this;if(n===t)return!0;if(!t.$$is_hash)return!1;if(n.$$keys.length!==t.$$keys.length)return!1;for(var r,$,o,i=0,l=n.$$keys,a=l.length;i<a;i++)if(r=l[i],r.$$is_string?($=n.$$smap[r],o=t.$$smap[r]):($=r.value,o=e.hash_get(t,r.key)),void 0===o||!$["$eql?"](o))return!1;return!0},p.$$arity=1),e.defn(ce,"$>=",h=function(t){var n,r=this,$=l;return t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"),!(r.$$keys.length<t.$$keys.length)&&($=!0,s(t,"each",[],(n=function(e,t){var r=n.$$s||this,o=l;if(null==e&&(e=l),null==t&&(t=l),null==(o=r.$fetch(e,null))||o!==t)return void($=!1)},n.$$s=r,n.$$arity=2,n)),$)},h.$$arity=1),e.defn(ce,"$>",g=function(n){var r=this;return n=e.Opal["$coerce_to!"](n,e.const_get(de,"Hash",!0,!0),"to_hash"),!(r.$$keys.length<=n.$$keys.length)&&t(r,n)},g.$$arity=1),e.defn(ce,"$<",b=function(t){var r=this;return t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"),n(t,r)},b.$$arity=1),e.defn(ce,"$<=",m=function(n){var r=this;return n=e.Opal["$coerce_to!"](n,e.const_get(de,"Hash",!0,!0),"to_hash"),t(n,r)},m.$$arity=1),e.defn(ce,"$[]",y=function(t){var n=this,r=e.hash_get(n,t);return void 0!==r?r:n.$default(t)},y.$$arity=1),e.defn(ce,"$[]=",v=function(t,n){var r=this;return e.hash_put(r,t,n),n},v.$$arity=2),e.defn(ce,"$assoc",w=function(e){for(var t,n=this,r=0,$=n.$$keys,o=$.length;r<o;r++)if(t=$[r],t.$$is_string){if(t["$=="](e))return[t,n.$$smap[t]]}else if(t.key["$=="](e))return[t.key,t.value];return l},w.$$arity=1),e.defn(ce,"$clear",x=function(){var t=this;return e.hash_init(t),t},x.$$arity=0),e.defn(ce,"$clone",k=function(){var t=this,n=new t.$$class.$$alloc;return e.hash_init(n),e.hash_clone(t,n),n},k.$$arity=0),e.defn(ce,"$default",O=function(e){var t=this;return void 0!==e&&t.$$proc!==l&&void 0!==t.$$proc?t.$$proc.$call(t,e):void 0===t.$$none?l:t.$$none},O.$$arity=-1),e.defn(ce,"$default=",E=function(e){var t=this;return t.$$proc=l,t.$$none=e,e},E.$$arity=1),e.defn(ce,"$default_proc",A=function(){var e=this;return void 0!==e.$$proc?e.$$proc:l},A.$$arity=0),e.defn(ce,"$default_proc=",S=function(t){var n=this,r=t;return r!==l&&(r=e.Opal["$coerce_to!"](r,e.const_get(de,"Proc",!0,!0),"to_proc"),r["$lambda?"]()&&2!==r.$arity().$abs()&&n.$raise(e.const_get(de,"TypeError",!0,!0),"default_proc takes two arguments")),n.$$none=l,n.$$proc=r,t},S.$$arity=1),e.defn(ce,"$delete",R=function(t){var n=this,r=R.$$p,$=r||l;r&&(R.$$p=null);var o=e.hash_delete(n,t);return void 0!==o?o:$!==l?$.$call(t):l},R.$$arity=1),e.defn(ce,"$delete_if",M=function(){var t,n=this,r=M.$$p,$=r||l;if(r&&(M.$$p=null),$===!1||$===l||null==$)return s(n,"enum_for",["delete_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=0,u=n.$$keys,_=u.length;c<_;c++)o=u[c],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=$(o,i))!==!1&&a!==l&&void 0!==e.hash_delete(n,o)&&(_--,c--);return n},M.$$arity=0),e.alias(ce,"dup","clone"),e.defn(ce,"$dig",T=function(t,n){var r,$,o=this,i=l,a=arguments.length,c=a-1;c<0&&(c=0),$=new Array(c);for(var u=1;u<a;u++)$[u-1]=arguments[u];return(i=o["$[]"](t))===l||0===$.length?i:(((r=i["$respond_to?"]("dig"))===l||null==r||r.$$is_boolean&&1!=r)&&o.$raise(e.const_get(de,"TypeError",!0,!0),i.$class()+" does not have #dig method"),s(i,"dig",e.to_a($)))},T.$$arity=-2),e.defn(ce,"$each",I=function(){var t,n=this,r=I.$$p,$=r||l;if(r&&(I.$$p=null),$===!1||$===l||null==$)return s(n,"enum_for",["each"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a=0,c=n.$$keys,u=c.length;a<u;a++)o=c[a],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),e.yield1($,[o,i]);return n},I.$$arity=0),e.defn(ce,"$each_key",C=function(){var e,t=this,n=C.$$p,r=n||l;if(n&&(C.$$p=null),r===!1||r===l||null==r)return s(t,"enum_for",["each_key"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var $,o=0,i=t.$$keys,a=i.length;o<a;o++)$=i[o],r($.$$is_string?$:$.key);return t},C.$$arity=0),e.alias(ce,"each_pair","each"),e.defn(ce,"$each_value",N=function(){var e,t=this,n=N.$$p,r=n||l;if(n&&(N.$$p=null),r===!1||r===l||null==r)return s(t,"enum_for",["each_value"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var $,o=0,i=t.$$keys,a=i.length;o<a;o++)$=i[o],r($.$$is_string?t.$$smap[$]:$.value);return t},N.$$arity=0),e.defn(ce,"$empty?",j=function(){return 0===this.$$keys.length},j.$$arity=0),e.alias(ce,"eql?","=="),e.defn(ce,"$fetch",L=function(t,n){var r=this,$=L.$$p,o=$||l;$&&(L.$$p=null);var i=e.hash_get(r,t);return void 0!==i?i:o!==l?o(t):void 0!==n?n:r.$raise(e.const_get(de,"KeyError",!0,!0),"key not found: "+t.$inspect())},L.$$arity=-2),e.defn(ce,"$fetch_values",z=function(e){var t,n,r=this,$=z.$$p,o=$||l,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var c=0;c<i;c++)n[c-0]=arguments[c];return $&&(z.$$p=null),s(n,"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=l),s(n,"fetch",[e],o.$to_proc())},t.$$s=r,t.$$arity=1,t))},z.$$arity=-1),e.defn(ce,"$flatten",P=function(t){var n=this;null==t&&(t=1),t=e.Opal["$coerce_to!"](t,e.Integer,"to_int");for(var r,$,o=[],i=0,l=n.$$keys,a=l.length;i<a;i++)if(r=l[i],r.$$is_string?$=n.$$smap[r]:($=r.value,r=r.key),o.push(r),$.$$is_array){if(1===t){o.push($);continue}o=o.concat($.$flatten(t-2))}else o.push($);return o},P.$$arity=-1),e.defn(ce,"$has_key?",D=function(t){var n=this;return void 0!==e.hash_get(n,t)},D.$$arity=1),e.defn(ce,"$has_value?",B=function(e){for(var t,n=this,r=0,$=n.$$keys,o=$.length;r<o;r++)if(t=$[r],(t.$$is_string?n.$$smap[t]:t.value)["$=="](e))return!0;return!1},B.$$arity=1),e.defn(ce,"$hash",q=function(){var t,n,r=this,$=void 0===e.hash_ids,o=r.$object_id(),i=["Hash"];try{if($&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(o))return"self";for(t in e.hash_ids)if(e.hash_ids.hasOwnProperty(t)&&(n=e.hash_ids[t],r["$eql?"](n)))return"self";e.hash_ids[o]=r;for(var l=0,a=r.$$keys,s=a.length;l<s;l++)t=a[l],t.$$is_string?i.push([t,r.$$smap[t].$hash()]):i.push([t.key_hash,t.value.$hash()]);return i.sort().join()}finally{$&&delete e.hash_ids}},q.$$arity=0),e.alias(ce,"include?","has_key?"),e.defn(ce,"$index",U=function(e){for(var t,n,r=this,$=0,o=r.$$keys,i=o.length;$<i;$++)if(t=o[$],t.$$is_string?n=r.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return t;return l},U.$$arity=1),e.defn(ce,"$indexes",F=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];for(var l,a,s=[],c=0,u=n.length;c<u;c++)l=n[c],a=e.hash_get(r,l),void 0!==a?s.push(a):s.push(r.$default());return s},F.$$arity=-1),e.alias(ce,"indices","indexes");var fe;return e.defn(ce,"$inspect",G=function(){var e=this,t=void 0===fe,n=e.$object_id(),r=[];try{if(t&&(fe={}),fe.hasOwnProperty(n))return"{...}";fe[n]=!0;for(var $,o,i=0,l=e.$$keys,a=l.length;i<a;i++)$=l[i],$.$$is_string?o=e.$$smap[$]:(o=$.value,$=$.key),r.push($.$inspect()+"=>"+o.$inspect());return"{"+r.join(", ")+"}"}finally{t&&(fe=void 0)}},G.$$arity=0),e.defn(ce,"$invert",H=function(){for(var t,n,r=this,$=e.hash(),o=0,i=r.$$keys,l=i.length;o<l;o++)t=i[o],t.$$is_string?n=r.$$smap[t]:(n=t.value,t=t.key),e.hash_put($,n,t);return $},H.$$arity=0),e.defn(ce,"$keep_if",Y=function(){var t,n=this,r=Y.$$p,$=r||l;if(r&&(Y.$$p=null),$===!1||$===l||null==$)return s(n,"enum_for",["keep_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=0,u=n.$$keys,_=u.length;c<_;c++)o=u[c],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=$(o,i))!==!1&&a!==l||void 0!==e.hash_delete(n,o)&&(_--,c--);return n},Y.$$arity=0),e.alias(ce,"key","index"),e.alias(ce,"key?","has_key?"),e.defn(ce,"$keys",K=function(){for(var e,t=this,n=[],r=0,$=t.$$keys,o=$.length;r<o;r++)e=$[r],e.$$is_string?n.push(e):n.push(e.key);return n},K.$$arity=0),e.defn(ce,"$length",W=function(){return this.$$keys.length},W.$$arity=0),e.alias(ce,"member?","has_key?"),e.defn(ce,"$merge",X=function(e){var t=this,n=X.$$p,r=n||l;return n&&(X.$$p=null),s(t.$dup(),"merge!",[e],r.$to_proc())},X.$$arity=1),e.defn(ce,"$merge!",V=function(t){var n=this,r=V.$$p,$=r||l;r&&(V.$$p=null),t.$$is_hash||(t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"));var o,i,a,s,c=t.$$keys,u=c.length;if($===l){for(o=0;o<u;o++)i=c[o],i.$$is_string?s=t.$$smap[i]:(s=i.value,i=i.key),e.hash_put(n,i,s);return n}for(o=0;o<u;o++)i=c[o],i.$$is_string?s=t.$$smap[i]:(s=i.value,i=i.key),a=e.hash_get(n,i),void 0!==a?e.hash_put(n,i,$(i,a,s)):e.hash_put(n,i,s);return n},V.$$arity=1),e.defn(ce,"$rassoc",J=function(e){for(var t,n,r=this,$=0,o=r.$$keys,i=o.length;$<i;$++)if(t=o[$],t.$$is_string?n=r.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return[t,n];return l},J.$$arity=1),e.defn(ce,"$rehash",Z=function(){var t=this;return e.hash_rehash(t),t},Z.$$arity=0),e.defn(ce,"$reject",Q=function(){var t,n=this,r=Q.$$p,$=r||l;if(r&&(Q.$$p=null),$===!1||$===l||null==$)return s(n,"enum_for",["reject"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=e.hash(),u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=$(o,i))!==!1&&a!==l||e.hash_put(c,o,i);return c},Q.$$arity=0),e.defn(ce,"$reject!",ee=function(){var t,n=this,r=ee.$$p,$=r||l;if(r&&(ee.$$p=null),$===!1||$===l||null==$)return s(n,"enum_for",["reject!"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=!1,u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=$(o,i))!==!1&&a!==l&&void 0!==e.hash_delete(n,o)&&(c=!0,d--,u--);return c?n:l},ee.$$arity=0),e.defn(ce,"$replace",te=function(t){var n,$=this,o=l;t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"),e.hash_init($);for(var i,a,c=0,u=t.$$keys,_=u.length;c<_;c++)i=u[c],i.$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),e.hash_put($,i,a);return(n=t.$default_proc())===l||null==n||n.$$is_boolean&&1!=n?(o=[t.$default()],s($,"default=",e.to_a(o)),o[r(o.length,1)]):(o=[t.$default_proc()],s($,"default_proc=",e.to_a(o)),o[r(o.length,1)]),$},te.$$arity=1),e.defn(ce,"$select",ne=function(){var t,n=this,r=ne.$$p,$=r||l;if(r&&(ne.$$p=null),$===!1||$===l||null==$)return s(n,"enum_for",["select"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=e.hash(),u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=$(o,i))!==!1&&a!==l&&e.hash_put(c,o,i);return c},ne.$$arity=0),e.defn(ce,"$select!",re=function(){var t,n=this,r=re.$$p,$=r||l;if(r&&(re.$$p=null),$===!1||$===l||null==$)return s(n,"enum_for",["select!"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=l,u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=$(o,i))!==!1&&a!==l||(void 0!==e.hash_delete(n,o)&&(d--,u--),c=n);return c},re.$$arity=0),e.defn(ce,"$shift",$e=function(){var t,n=this,r=n.$$keys;return r.length>0?(t=r[0],t=t.$$is_string?t:t.key,[t,e.hash_delete(n,t)]):n.$default(l)},$e.$$arity=0),e.alias(ce,"size","length"),ce.$alias_method("store","[]="),e.defn(ce,"$to_a",oe=function(){for(var e,t,n=this,r=[],$=0,o=n.$$keys,i=o.length;$<i;$++)e=o[$],e.$$is_string?t=n.$$smap[e]:(t=e.value,e=e.key),r.push([e,t]);return r},oe.$$arity=0),e.defn(ce,"$to_h",ie=function(){var t=this;if(t.$$class===e.Hash)return t;var n=new e.Hash.$$alloc;return e.hash_init(n),e.hash_clone(t,n),n},ie.$$arity=0),e.defn(ce,"$to_hash",le=function(){return this},le.$$arity=0),e.defn(ce,"$to_proc",ae=function(){var t,n=this;return s(n,"proc",[],(t=function(n){var r=t.$$s||this;return null==n&&r.$raise(e.const_get(de,"ArgumentError",!0,!0),"no key given"),r["$[]"](n)},t.$$s=n,t.$$arity=-1,t))},ae.$$arity=0),e.alias(ce,"to_s","inspect"),e.alias(ce,"update","merge!"),e.alias(ce,"value?","has_value?"),e.alias(ce,"values_at","indexes"),e.defn(ce,"$values",se=function(){for(var e,t=this,n=[],r=0,$=t.$$keys,o=$.length;r<o;r++)e=$[r],e.$$is_string?n.push(t.$$smap[e]):n.push(e.value);return n},se.$$arity=0),l&&"values"}(o.base,0,i)},Opal.modules["corelib/number"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var s=e.top,c=e,u=[e],_=e.nil,d=(e.breaker,e.slice,e.klass),f=e.send,p=e.hash2;return e.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),s.$require("corelib/numeric"),function(s,c,u){function h(){}var g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye,ve,we,xe,ke,Oe,Ee,Ae,Se=h=d(s,c,"Number",h),Re=(Se.$$proto,Se.$$scope),Me=u.slice().concat(Re);e.Opal.$bridge(Se,Number),Number.prototype.$$is_number=!0,Se.$$is_number_class=!0,e.defn(Se,"$coerce",g=function(t){var n=this;if(t===_)n.$raise(e.const_get(Me,"TypeError",!0,!0),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[n.$Float(t),n];if(t["$respond_to?"]("to_f"))return[e.Opal["$coerce_to!"](t,e.const_get(Me,"Float",!0,!0),"to_f"),n];if(t.$$is_number)return[t,n];n.$raise(e.const_get(Me,"TypeError",!0,!0),"can't convert "+t.$class()+" into Float")}},g.$$arity=1),e.defn(Se,"$__id__",b=function(){return 2*this+1},b.$$arity=0),e.alias(Se,"object_id","__id__"),e.defn(Se,"$+",m=function(e){var t=this;return e.$$is_number?t+e:t.$__coerced__("+",e)},m.$$arity=1),e.defn(Se,"$-",y=function(e){var t=this;return e.$$is_number?t-e:t.$__coerced__("-",e)},y.$$arity=1),e.defn(Se,"$*",v=function(e){var t=this;return e.$$is_number?t*e:t.$__coerced__("*",e)},v.$$arity=1),e.defn(Se,"$/",w=function(e){var t=this;return e.$$is_number?t/e:t.$__coerced__("/",e)},w.$$arity=1),e.alias(Se,"fdiv","/"),e.defn(Se,"$%",x=function(t){var n=this;return t.$$is_number?t==-1/0?t:0!=t?t<0||n<0?(n%t+t)%t:n%t:void n.$raise(e.const_get(Me,"ZeroDivisionError",!0,!0),"divided by 0"):n.$__coerced__("%",t)},x.$$arity=1),e.defn(Se,"$&",k=function(e){var t=this;return e.$$is_number?t&e:t.$__coerced__("&",e)},k.$$arity=1),e.defn(Se,"$|",O=function(e){var t=this;return e.$$is_number?t|e:t.$__coerced__("|",e)},O.$$arity=1),e.defn(Se,"$^",E=function(e){var t=this;return e.$$is_number?t^e:t.$__coerced__("^",e)},E.$$arity=1),e.defn(Se,"$<",A=function(e){var t=this;return e.$$is_number?t<e:t.$__coerced__("<",e)},A.$$arity=1),e.defn(Se,"$<=",S=function(e){var t=this;return e.$$is_number?t<=e:t.$__coerced__("<=",e)},S.$$arity=1),e.defn(Se,"$>",R=function(e){var t=this;return e.$$is_number?t>e:t.$__coerced__(">",e)},R.$$arity=1),e.defn(Se,"$>=",M=function(e){var t=this;return e.$$is_number?t>=e:t.$__coerced__(">=",e)},M.$$arity=1);var Te=function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?_:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)};e.defn(Se,"$<=>",T=function(t){var n=this;try{return Te(n,t)}catch(t){if(!e.rescue(t,[e.const_get(Me,"ArgumentError",!0,!0)]))throw t;try{return _}finally{e.pop_exception()}}},T.$$arity=1),e.defn(Se,"$<<",I=function(t){var n=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t>0?n<<t:n>>-t},I.$$arity=1),e.defn(Se,"$>>",C=function(t){var n=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t>0?n>>t:n<<-t},C.$$arity=1),e.defn(Se,"$[]",N=function(t){var n=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t<0?0:t>=32?n<0?1:0:n>>t&1},N.$$arity=1),e.defn(Se,"$+@",j=function(){return+this},j.$$arity=0),e.defn(Se,"$-@",L=function(){return-this},L.$$arity=0),e.defn(Se,"$~",z=function(){return~this},z.$$arity=0),e.defn(Se,"$**",P=function(r){var $,o,i,l=this;return($=e.Integer["$==="](r))===_||null==$||$.$$is_boolean&&1!=$?($=(o=n(l,0))?(i=e.const_get(Me,"Float",!0,!0)["$==="](r))!==!1&&i!==_&&null!=i?i:e.const_get(Me,"Rational",!0,!0)["$==="](r):n(l,0))===_||null==$||$.$$is_boolean&&1!=$?($=null!=r.$$is_number)===_||null==$||$.$$is_boolean&&1!=$?l.$__coerced__("**",r):Math.pow(l,r):e.const_get(Me,"Complex",!0,!0).$new(l,0)["$**"](r.$to_f()):($=(o=e.Integer["$==="](l)["$!"]())!==!1&&o!==_&&null!=o?o:t(r,0))===_||null==$||$.$$is_boolean&&1!=$?e.const_get(Me,"Rational",!0,!0).$new(l,1)["$**"](r):Math.pow(l,r)},P.$$arity=1),e.defn(Se,"$===",D=function(e){var t=this;return e.$$is_number?t.valueOf()===e.valueOf():t["$=="](e)},D.$$arity=1),e.defn(Se,"$==",B=function(e){var t=this;return e.$$is_number?t==Number(e):!!e["$respond_to?"]("==")&&e["$=="](t)},B.$$arity=1),e.defn(Se,"$abs",q=function(){var e=this;return Math.abs(e)},q.$$arity=0),e.defn(Se,"$abs2",U=function(){var e=this;return Math.abs(e*e)},U.$$arity=0),e.defn(Se,"$angle",F=function(){var e,t=this;return(e=t["$nan?"]())===_||null==e||e.$$is_boolean&&1!=e?0==t?1/t>0?0:Math.PI:t<0?Math.PI:0:t},F.$$arity=0),e.alias(Se,"arg","angle"),e.alias(Se,"phase","angle"),e.defn(Se,"$bit_length",G=function(){var t,n=this;if(((t=e.Integer["$==="](n))===_||null==t||t.$$is_boolean&&1!=t)&&n.$raise(e.const_get(Me,"NoMethodError",!0,!0).$new("undefined method `bit_length` for "+n+":Float","bit_length")),0===n||n===-1)return 0;for(var r=0,$=n<0?~n:n;0!=$;)r+=1,$>>>=1;return r},G.$$arity=0),e.defn(Se,"$ceil",H=function(){var e=this;return Math.ceil(e)},H.$$arity=0),e.defn(Se,"$chr",Y=function(e){var t=this;return String.fromCharCode(t)},Y.$$arity=-1),e.defn(Se,"$denominator",K=function(){var t,n,r=this,$=K.$$p,o=_,i=_,l=_;for($&&(K.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return(t=(n=r["$nan?"]())!==!1&&n!==_&&null!=n?n:r["$infinite?"]())===_||null==t||t.$$is_boolean&&1!=t?f(r,e.find_super_dispatcher(r,"denominator",K,!1),o,$):1},K.$$arity=0),e.defn(Se,"$downto",W=function(n){var o,i=this,l=W.$$p,a=l||_;if(l&&(W.$$p=null),a===_)return f(i,"enum_for",["downto",n],(o=function(){var i,l=o.$$s||this;return((i=e.const_get(Me,"Numeric",!0,!0)["$==="](n))===_||null==i||i.$$is_boolean&&1!=i)&&l.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+l.$class()+" with "+n.$class()+" failed"),(i=t(n,l))===_||null==i||i.$$is_boolean&&1!=i?r($(l,n),1):0},o.$$s=i,o.$$arity=0,o));n.$$is_number||i.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+i.$class()+" with "+n.$class()+" failed");for(var s=i;s>=n;s--)a(s);return i},W.$$arity=1),e.alias(Se,"eql?","=="),e.defn(Se,"$equal?",X=function(e){var t,n=this;return(t=n["$=="](e))!==!1&&t!==_&&null!=t?t:isNaN(n)&&isNaN(e)},X.$$arity=1),e.defn(Se,"$even?",V=function(){return this%2==0},V.$$arity=0),e.defn(Se,"$floor",J=function(){var e=this;return Math.floor(e)},J.$$arity=0),e.defn(Se,"$gcd",Z=function(t){var n,r=this;((n=e.Integer["$==="](t))===_||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(Me,"TypeError",!0,!0),"not an integer");for(var $=Math.abs(r),o=Math.abs(t);$>0;){var i=$;$=o%$,o=i}return o},Z.$$arity=1),e.defn(Se,"$gcdlcm",Q=function(e){var t=this;return[t.$gcd(),t.$lcm()]},Q.$$arity=1),e.defn(Se,"$integer?",ee=function(){return this%1==0},ee.$$arity=0),e.defn(Se,"$is_a?",te=function(t){var n,r=this,$=te.$$p,o=_,i=_,l=_;for($&&(te.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return!((n=t["$=="](e.const_get(Me,"Fixnum",!0,!0))?e.Integer["$==="](r):t["$=="](e.const_get(Me,"Fixnum",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.Integer)?e.Integer["$==="](r):t["$=="](e.Integer))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.const_get(Me,"Float",!0,!0))?e.const_get(Me,"Float",!0,!0)["$==="](r):t["$=="](e.const_get(Me,"Float",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||f(r,e.find_super_dispatcher(r,"is_a?",te,!1),o,$)))},te.$$arity=1),e.alias(Se,"kind_of?","is_a?"),e.defn(Se,"$instance_of?",ne=function(t){var n,r=this,$=ne.$$p,o=_,i=_,l=_;for($&&(ne.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return!((n=t["$=="](e.const_get(Me,"Fixnum",!0,!0))?e.Integer["$==="](r):t["$=="](e.const_get(Me,"Fixnum",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.Integer)?e.Integer["$==="](r):t["$=="](e.Integer))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.const_get(Me,"Float",!0,!0))?e.const_get(Me,"Float",!0,!0)["$==="](r):t["$=="](e.const_get(Me,"Float",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||f(r,e.find_super_dispatcher(r,"instance_of?",ne,!1),o,$)))},ne.$$arity=1),e.defn(Se,"$lcm",re=function(t){var n,r=this;return((n=e.Integer["$==="](t))===_||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(Me,"TypeError",!0,!0),"not an integer"),0==r||0==t?0:Math.abs(r*t/r.$gcd(t))},re.$$arity=1),e.alias(Se,"magnitude","abs"),e.alias(Se,"modulo","%"),e.defn(Se,"$next",$e=function(){return this+1},$e.$$arity=0),e.defn(Se,"$nonzero?",oe=function(){var e=this;return 0==e?_:e},oe.$$arity=0),e.defn(Se,"$numerator",ie=function(){var t,n,r=this,$=ie.$$p,o=_,i=_,l=_;for($&&(ie.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return(t=(n=r["$nan?"]())!==!1&&n!==_&&null!=n?n:r["$infinite?"]())===_||null==t||t.$$is_boolean&&1!=t?f(r,e.find_super_dispatcher(r,"numerator",ie,!1),o,$):r},ie.$$arity=0),e.defn(Se,"$odd?",le=function(){return this%2!=0},le.$$arity=0),e.defn(Se,"$ord",ae=function(){return this},ae.$$arity=0),e.defn(Se,"$pred",se=function(){return this-1},se.$$arity=0),e.defn(Se,"$quo",ce=function(t){var n,r=this,$=ce.$$p,i=_,l=_,a=_;for($&&(ce.$$p=null),l=0,a=arguments.length,i=new Array(a);l<a;l++)i[l]=arguments[l];return(n=e.Integer["$==="](r))===_||null==n||n.$$is_boolean&&1!=n?o(r,t):f(r,e.find_super_dispatcher(r,"quo",ce,!1),i,$)},ce.$$arity=1),e.defn(Se,"$rationalize",ue=function(t){var n,r,o=this,l=_,a=_;return arguments.length>1&&o.$raise(e.const_get(Me,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),(n=e.Integer["$==="](o))===_||null==n||n.$$is_boolean&&1!=n?(n=o["$infinite?"]())===_||null==n||n.$$is_boolean&&1!=n?(n=o["$nan?"]())===_||null==n||n.$$is_boolean&&1!=n?(n=null==t)===_||null==n||n.$$is_boolean&&1!=n?o.$to_r().$rationalize(t):(r=e.const_get(Me,"Math",!0,!0).$frexp(o),n=e.to_ary(r),l=null==n[0]?_:n[0],a=null==n[1]?_:n[1],l=e.const_get(Me,"Math",!0,!0).$ldexp(l,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i(),a=$(a,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)),e.const_get(Me,"Rational",!0,!0).$new(i(2,l),1["$<<"]($(1,a))).$rationalize(e.const_get(Me,"Rational",!0,!0).$new(1,1["$<<"]($(1,a))))):o.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"NaN"):o.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"Infinity"):e.const_get(Me,"Rational",!0,!0).$new(o,1)},ue.$$arity=-1),e.defn(Se,"$round",_e=function(i){var s,c,u=this,d=_;if((s=e.Integer["$==="](u))===_||null==s||s.$$is_boolean&&1!=s){if(c=u["$nan?"](),(s=c!==!1&&c!==_&&null!=c?null==i:c)===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"NaN"),i=e.Opal["$coerce_to!"](i||0,e.Integer,"to_int"),(s=l(i,0))===_||null==s||s.$$is_boolean&&1!=s){if(i["$=="](0))return Math.round(u);if((s=(c=u["$nan?"]())!==!1&&c!==_&&null!=c?c:u["$infinite?"]())!==_&&null!=s&&(!s.$$is_boolean||1==s))return u}else(s=u["$nan?"]())===_||null==s||s.$$is_boolean&&1!=s?(s=u["$infinite?"]())===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"Infinity"):u.$raise(e.const_get(Me,"RangeError",!0,!0),"NaN");return c=e.const_get(Me,"Math",!0,!0).$frexp(u),s=e.to_ary(c),null==s[0]?_:s[0],d=null==s[1]?_:s[1],(s=a(i,$(r(e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"DIG",!0,!0),2),function(){return(c=t(d,0))===_||null==c||c.$$is_boolean&&1!=c?$(o(d,3),1):o(d,4)}())))===_||null==s||s.$$is_boolean&&1!=s?(s=n(i,function(){return(c=t(d,0))===_||null==c||c.$$is_boolean&&1!=c?o(d,4):r(o(d,3),1)}()["$-@"]()))===_||null==s||s.$$is_boolean&&1!=s?Math.round(u*Math.pow(10,i))/Math.pow(10,i):0:u}if((s=null==i)!==_&&null!=s&&(!s.$$is_boolean||1==s))return u;if(c=e.const_get(Me,"Float",!0,!0)["$==="](i),(s=c!==!1&&c!==_&&null!=c?i["$infinite?"]():c)===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"RangeError",!0,!0),"Infinity"),i=e.Opal["$coerce_to!"](i,e.Integer,"to_int"),(s=n(i,e.const_get([e.Integer.$$scope],"MIN",!0,!0)))===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"RangeError",!0,!0),"out of bounds"),(s=i>=0)!==_&&null!=s&&(!s.$$is_boolean||1==s))return u;if(.415241*(i=i["$-@"]())-.125>u.$size())return 0;var f=Math.pow(10,i),p=Math.floor((Math.abs(p)+f/2)/f)*f;return u<0?-p:p},_e.$$arity=-1),e.defn(Se,"$step",de=function(t,n,r){function $(){0===g&&b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"step cannot be 0"),(l=h)!==!1&&l!==_&&null!=l||(h=u),(l=g)!==!1&&l!==_&&null!=l||(g=(a=d)!==!1&&a!==_&&null!=a?a:1),h.$$is_number||b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"limit must be a number"),g.$$is_number||b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"step must be a number")}function o(){if(g>0&&b>h||g<0&&b<h)return 0;if(1/0===g||g===-1/0)return 1;var t=Math.abs,n=Math.floor,r=(t(b)+t(h)+t(h-b))/t(g)*e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"EPSILON",!0,!0);return 1/0===r||r===-1/0?0:(r>.5&&(r=.5),n((h-b)/g+r)+1)}function i(){if($(),0===g)return 1/0;if(g%1!=0)return o();if(g>0&&b>h||g<0&&b<h)return 0;var e=Math.ceil,t=Math.abs;return e((t(b-h)+1)/t(g))}var l,a,s,c,u,d,h,g,b=this,m=de.$$p,y=m||_;if(c=e.slice.call(arguments,0,arguments.length),null==(r=e.extract_kwargs(c))||!r.$$is_hash){if(null!=r)throw e.ArgumentError.$new("expected kwargs");r=p([],{})}if(null==(u=r.$$smap.to)&&(u=_),null==(d=r.$$smap.by)&&(d=_),0<c.length&&(h=c.splice(0,1)[0]),null==h&&(h=_),0<c.length&&(g=c.splice(0,1)[0]),null==g&&(g=_),m&&(de.$$p=null),h!==_&&u!==_&&b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"to is given twice"),g!==_&&d!==_&&b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"step is given twice"),y===_)return f(b,"enum_for",["step",h,g,p(["to","by"],{to:u,by:d})],(s=function(){s.$$s;return i()},s.$$s=b,s.$$arity=0,s));if($(),0===g)for(;;)y(b);if(b%1!=0||h%1!=0||g%1!=0){var v=o();if(v>0)if(1/0===g||g===-1/0)y(b);else{var w,x=0;if(g>0)for(;x<v;)w=x*g+b,h<w&&(w=h),y(w),x+=1;else for(;x<v;)w=x*g+b,h>w&&(w=h),y(w),x+=1}}else{var k=b;if(g>0)for(;k<=h;)y(k),k+=g;else for(;k>=h;)y(k),k+=g}return b},de.$$arity=-1),e.alias(Se,"succ","next"),e.defn(Se,"$times",fe=function(){var e,t=this,n=fe.$$p,r=n||_;if(n&&(fe.$$p=null),r===!1||r===_||null==r)return f(t,"enum_for",["times"],(e=function(){return e.$$s||this},e.$$s=t,e.$$arity=0,e));for(var $=0;$<t;$++)r($);return t},fe.$$arity=0),e.defn(Se,"$to_f",pe=function(){return this},pe.$$arity=0),e.defn(Se,"$to_i",he=function(){var e=this;return parseInt(e,10)},he.$$arity=0),e.alias(Se,"to_int","to_i"),e.defn(Se,"$to_r",ge=function(){var t,n,r=this,o=_,l=_;return(t=e.Integer["$==="](r))===_||null==t||t.$$is_boolean&&1!=t?(n=e.const_get(Me,"Math",!0,!0).$frexp(r),t=e.to_ary(n),o=null==t[0]?_:t[0],l=null==t[1]?_:t[1],o=e.const_get(Me,"Math",!0,!0).$ldexp(o,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i(),l=$(l,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)),i(o,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"RADIX",!0,!0)["$**"](l)).$to_r()):e.const_get(Me,"Rational",!0,!0).$new(r,1)},ge.$$arity=0),e.defn(Se,"$to_s",be=function(r){var $,o,i=this;return null==r&&(r=10),
($=(o=n(r,2))!==!1&&o!==_&&null!=o?o:t(r,36))===_||null==$||$.$$is_boolean&&1!=$||i.$raise(e.const_get(Me,"ArgumentError",!0,!0),"base must be between 2 and 36"),i.toString(r)},be.$$arity=-1),e.alias(Se,"truncate","to_i"),e.alias(Se,"inspect","to_s"),e.defn(Se,"$divmod",me=function(t){var n,r,$=this,o=me.$$p,i=_,l=_,a=_;for(o&&(me.$$p=null),l=0,a=arguments.length,i=new Array(a);l<a;l++)i[l]=arguments[l];return(n=(r=$["$nan?"]())!==!1&&r!==_&&null!=r?r:t["$nan?"]())===_||null==n||n.$$is_boolean&&1!=n?(n=$["$infinite?"]())===_||null==n||n.$$is_boolean&&1!=n?f($,e.find_super_dispatcher($,"divmod",me,!1),i,o):$.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"Infinity"):$.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"NaN")},me.$$arity=1),e.defn(Se,"$upto",ye=function(t){var o,i=this,l=ye.$$p,a=l||_;if(l&&(ye.$$p=null),a===_)return f(i,"enum_for",["upto",t],(o=function(){var i,l=o.$$s||this;return((i=e.const_get(Me,"Numeric",!0,!0)["$==="](t))===_||null==i||i.$$is_boolean&&1!=i)&&l.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+l.$class()+" with "+t.$class()+" failed"),(i=n(t,l))===_||null==i||i.$$is_boolean&&1!=i?r($(t,l),1):0},o.$$s=i,o.$$arity=0,o));t.$$is_number||i.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+i.$class()+" with "+t.$class()+" failed");for(var s=i;s<=t;s++)a(s);return i},ye.$$arity=1),e.defn(Se,"$zero?",ve=function(){return 0==this},ve.$$arity=0),e.defn(Se,"$size",we=function(){return 4},we.$$arity=0),e.defn(Se,"$nan?",xe=function(){var e=this;return isNaN(e)},xe.$$arity=0),e.defn(Se,"$finite?",ke=function(){var e=this;return 1/0!=e&&e!=-1/0&&!isNaN(e)},ke.$$arity=0),e.defn(Se,"$infinite?",Oe=function(){var e=this;return 1/0==e?1:e==-1/0?-1:_},Oe.$$arity=0),e.defn(Se,"$positive?",Ee=function(){var e=this;return 0!=e&&(1/0==e||1/e>0)},Ee.$$arity=0),e.defn(Se,"$negative?",Ae=function(){var e=this;return e==-1/0||1/e<0},Ae.$$arity=0)}(c.base,e.const_get(u,"Numeric",!0,!0),u),e.cdecl(c,"Fixnum",e.const_get(u,"Number",!0,!0)),function(t,n,r){function $(){}var o,i=$=d(t,n,"Integer",$),l=(i.$$proto,i.$$scope);r.slice().concat(l);i.$$is_number_class=!0,e.defs(i,"$===",o=function(e){return!!e.$$is_number&&e%1==0},o.$$arity=1),e.cdecl(l,"MAX",Math.pow(2,30)-1),e.cdecl(l,"MIN",-Math.pow(2,30))}(c.base,e.const_get(u,"Numeric",!0,!0),u),function(t,n,r){function $(){}var o,i=$=d(t,n,"Float",$),l=(i.$$proto,i.$$scope);r.slice().concat(l);return i.$$is_number_class=!0,e.defs(i,"$===",o=function(e){return!!e.$$is_number},o.$$arity=1),e.cdecl(l,"INFINITY",1/0),e.cdecl(l,"MAX",Number.MAX_VALUE),e.cdecl(l,"MIN",Number.MIN_VALUE),e.cdecl(l,"NAN",0/0),e.cdecl(l,"DIG",15),e.cdecl(l,"MANT_DIG",53),e.cdecl(l,"RADIX",2),e.cdecl(l,"EPSILON",Number.EPSILON||2.220446049250313e-16)}(c.base,e.const_get(u,"Numeric",!0,!0),u)},Opal.modules["corelib/range"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var s=e.top,c=e,u=[e],_=e.nil,d=(e.breaker,e.slice,e.klass),f=e.send;return e.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),s.$require("corelib/enumerable"),function(s,c,u){function p(){}var h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N=p=d(s,null,"Range",p),j=N.$$proto,L=N.$$scope,z=u.slice().concat(L);return j.begin=j.end=j.exclude=_,N.$include(e.const_get(z,"Enumerable",!0,!0)),j.$$is_range=!0,N.$attr_reader("begin","end"),e.defn(N,"$initialize",h=function(t,n,r){var $,o=this;return null==r&&(r=!1),($=o.begin)===_||null==$||$.$$is_boolean&&1!=$||o.$raise(e.const_get(z,"NameError",!0,!0),"'initialize' called twice"),(($=t["$<=>"](n))===_||null==$||$.$$is_boolean&&1!=$)&&o.$raise(e.const_get(z,"ArgumentError",!0,!0),"bad value for range"),o.begin=t,o.end=n,o.exclude=r},h.$$arity=-3),e.defn(N,"$==",g=function(e){var t=this;return!!e.$$is_range&&(t.exclude===e.exclude&&t.begin==e.begin&&t.end==e.end)},g.$$arity=1),e.defn(N,"$===",b=function(e){return this["$include?"](e)},b.$$arity=1),e.defn(N,"$cover?",m=function(e){var r,$=this,o=_,i=_;return o=$.begin["$<=>"](e),!((r=o!==!1&&o!==_&&null!=o?t(o,0):o)===_||null==r||r.$$is_boolean&&1!=r)&&(i=e["$<=>"]($.end),(r=$.exclude)===_||null==r||r.$$is_boolean&&1!=r?(r=i!==!1&&i!==_&&null!=i)?t(i,0):i:(r=i!==!1&&i!==_&&null!=i)?n(i,0):i)},m.$$arity=1),e.defn(N,"$each",y=function(){var t,r,$=this,o=y.$$p,i=o||_,l=_,a=_;if(o&&(y.$$p=null),i===_)return $.$enum_for("each");var s,c;if($.begin.$$is_number&&$.end.$$is_number){for($.begin%1==0&&$.end%1==0||$.$raise(e.const_get(z,"TypeError",!0,!0),"can't iterate from Float"),s=$.begin,c=$.end+function(){return(t=$.exclude)===_||null==t||t.$$is_boolean&&1!=t?1:0}();s<c;s++)i(s);return $}if($.begin.$$is_string&&$.end.$$is_string)return f($.begin,"upto",[$.end,$.exclude],i.$to_proc()),$;for(l=$.begin,a=$.end,((t=l["$respond_to?"]("succ"))===_||null==t||t.$$is_boolean&&1!=t)&&$.$raise(e.const_get(z,"TypeError",!0,!0),"can't iterate from "+l.$class());(r=n(l["$<=>"](a),0))!==_&&null!=r&&(!r.$$is_boolean||1==r);)e.yield1(i,l),l=l.$succ();return r=$.exclude["$!"](),(t=r!==!1&&r!==_&&null!=r?l["$=="](a):r)===_||null==t||t.$$is_boolean&&1!=t||e.yield1(i,l),$},y.$$arity=0),e.defn(N,"$eql?",v=function(t){var n,r,$=this;return!((n=e.const_get(z,"Range",!0,!0)["$==="](t))===_||null==n||n.$$is_boolean&&1!=n)&&(r=$.exclude["$==="](t["$exclude_end?"]()),n=r!==!1&&r!==_&&null!=r?$.begin["$eql?"](t.$begin()):r,n!==!1&&n!==_&&null!=n?$.end["$eql?"](t.$end()):n)},v.$$arity=1),e.defn(N,"$exclude_end?",w=function(){return this.exclude},w.$$arity=0),e.defn(N,"$first",x=function(t){var n,r=this,$=x.$$p,o=_,i=_,l=_;for($&&(x.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return(n=null==t)===_||null==n||n.$$is_boolean&&1!=n?f(r,e.find_super_dispatcher(r,"first",x,!1),o,$):r.begin},x.$$arity=-1),e.alias(N,"include?","cover?"),e.defn(N,"$last",k=function(e){var t,n=this;return(t=null==e)===_||null==t||t.$$is_boolean&&1!=t?n.$to_a().$last(e):n.end},k.$$arity=-1),e.defn(N,"$max",O=function(){var t,n,$=this,o=O.$$p,i=o||_,l=_,a=_,s=_;for(o&&(O.$$p=null),a=0,s=arguments.length,l=new Array(s);a<s;a++)l[a]=arguments[a];return i!==_?f($,e.find_super_dispatcher($,"max",O,!1),l,o):(t=r($.begin,$.end))===_||null==t||t.$$is_boolean&&1!=t?(n=$.exclude,(t=n!==!1&&n!==_&&null!=n?$.begin["$=="]($.end):n)===_||null==t||t.$$is_boolean&&1!=t?$.exclude?$.end-1:$.end:_):_},O.$$arity=0),e.alias(N,"member?","cover?"),e.defn(N,"$min",E=function(){var t,n,$=this,o=E.$$p,i=o||_,l=_,a=_,s=_;for(o&&(E.$$p=null),a=0,s=arguments.length,l=new Array(s);a<s;a++)l[a]=arguments[a];return i!==_?f($,e.find_super_dispatcher($,"min",E,!1),l,o):(t=r($.begin,$.end))===_||null==t||t.$$is_boolean&&1!=t?(n=$.exclude,(t=n!==!1&&n!==_&&null!=n?$.begin["$=="]($.end):n)===_||null==t||t.$$is_boolean&&1!=t?$.begin:_):_},E.$$arity=0),e.defn(N,"$size",A=function(){var t,r,o=this,i=_,l=_,a=_;return i=o.begin,l=o.end,(t=o.exclude)===_||null==t||t.$$is_boolean&&1!=t||(l=$(l,1)),r=e.const_get(z,"Numeric",!0,!0)["$==="](i),(t=r!==!1&&r!==_&&null!=r?e.const_get(z,"Numeric",!0,!0)["$==="](l):r)===_||null==t||t.$$is_boolean&&1!=t?_:(t=n(l,i))===_||null==t||t.$$is_boolean&&1!=t?(a=e.const_get([e.const_get(z,"Float",!0,!0).$$scope],"INFINITY",!0,!0),(t=(r=a["$=="](i.$abs()))!==!1&&r!==_&&null!=r?r:l.$abs()["$=="](a))===_||null==t||t.$$is_boolean&&1!=t?(Math.abs(l-i)+1).$to_i():a):0},A.$$arity=0),e.defn(N,"$step",S=function(t){function n(){t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int")),t<0?p.$raise(e.const_get(z,"ArgumentError",!0,!0),"step can't be negative"):0===t&&p.$raise(e.const_get(z,"ArgumentError",!0,!0),"step can't be 0")}function $(){if(!p.begin["$respond_to?"]("succ"))return _;if(p.begin.$$is_string&&p.end.$$is_string)return _;if(t%1==0)return o(p.$size(),t).$ceil();var n,r=p.begin,$=p.end,i=Math.abs,l=Math.floor,a=(i(r)+i($)+i($-r))/i(t)*e.const_get([e.const_get(z,"Float",!0,!0).$$scope],"EPSILON",!0,!0);return a>.5&&(a=.5),p.exclude?(n=l(($-r)/t-a))*t+r<$&&n++:n=l(($-r)/t+a)+1,n}var s,c,u,d,p=this,h=S.$$p,g=h||_,b=_;return null==t&&(t=1),h&&(S.$$p=null),g===_?f(p,"enum_for",["step",t],(s=function(){s.$$s;return n(),$()},s.$$s=p,s.$$arity=0,s)):(n(),(c=p.begin.$$is_number&&p.end.$$is_number)===_||null==c||c.$$is_boolean&&1!=c?(p.begin.$$is_string&&p.end.$$is_string&&t%1!=0&&p.$raise(e.const_get(z,"TypeError",!0,!0),"no implicit conversion to float from string"),f(p,"each_with_index",[],(d=function(n,r){d.$$s;return null==n&&(n=_),null==r&&(r=_),r["$%"](t)["$=="](0)?e.yield1(g,n):_},d.$$s=p,d.$$arity=2,d))):(b=0,function(){var n=e.new_brk();try{f(p,"loop",[],(u=function(){var $,o=u.$$s||this,s=_;return null==o.begin&&(o.begin=_),null==o.exclude&&(o.exclude=_),null==o.end&&(o.end=_),s=i(o.begin,l(b,t)),($=o.exclude)===_||null==$||$.$$is_boolean&&1!=$?($=r(s,o.end))===_||null==$||$.$$is_boolean&&1!=$||e.brk(_,n):($=a(s,o.end))===_||null==$||$.$$is_boolean&&1!=$||e.brk(_,n),e.yield1(g,s),b=i(b,1)},u.$$s=p,u.$$brk=n,u.$$arity=0,u))}catch(e){if(e===n)return e.$v;throw e}}()),p)},S.$$arity=-1),e.defn(N,"$bsearch",R=function(){var t,n=this,r=R.$$p,$=r||_;return r&&(R.$$p=null),$===_?n.$enum_for("bsearch"):(((t=n.begin.$$is_number&&n.end.$$is_number)===_||null==t||t.$$is_boolean&&1!=t)&&n.$raise(e.const_get(z,"TypeError",!0,!0),"can't do binary search for "+n.begin.$class()),f(n.$to_a(),"bsearch",[],$.$to_proc()))},R.$$arity=0),e.defn(N,"$to_s",M=function(){var e,t=this;return""+t.begin+function(){return(e=t.exclude)===_||null==e||e.$$is_boolean&&1!=e?"..":"..."}()+t.end},M.$$arity=0),e.defn(N,"$inspect",T=function(){var e,t=this;return""+t.begin.$inspect()+function(){return(e=t.exclude)===_||null==e||e.$$is_boolean&&1!=e?"..":"..."}()+t.end.$inspect()},T.$$arity=0),e.defn(N,"$marshal_load",I=function(e){var t=this;return t.begin=e["$[]"]("begin"),t.end=e["$[]"]("end"),t.exclude=e["$[]"]("excl")},I.$$arity=1),e.defn(N,"$hash",C=function(){var e=this;return[e.begin,e.end,e.exclude].$hash()},C.$$arity=0),_&&"hash"}(c.base,0,u)},Opal.modules["corelib/proc"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice),o=e.klass;return e.add_stubs(["$raise","$coerce_to!"]),function(t,n,i){function l(){}var a,s,c,u,_,d,f,p,h,g,b=l=o(t,n,"Proc",l),m=b.$$proto,y=b.$$scope,v=i.slice().concat(y);return m.$$is_proc=!0,m.$$is_lambda=!1,e.defs(b,"$new",a=function(){var t=this,n=a.$$p,$=n||r;return n&&(a.$$p=null),$!==!1&&$!==r&&null!=$||t.$raise(e.const_get(v,"ArgumentError",!0,!0),"tried to create a Proc object without a block"),$},a.$$arity=0),e.defn(b,"$call",s=function(t){var n,$=this,o=s.$$p,i=o||r,l=arguments.length,a=l-0;a<0&&(a=0),n=new Array(a);for(var c=0;c<l;c++)n[c-0]=arguments[c];o&&(s.$$p=null),i!==r&&($.$$p=i);var u,_=$.$$brk;if(_)try{u=$.$$is_lambda?$.apply(null,n):e.yieldX($,n)}catch(e){if(e===_)return _.$v;throw e}else u=$.$$is_lambda?$.apply(null,n):e.yieldX($,n);return u},s.$$arity=-1),e.alias(b,"[]","call"),e.alias(b,"===","call"),e.alias(b,"yield","call"),e.defn(b,"$to_proc",c=function(){return this},c.$$arity=0),e.defn(b,"$lambda?",u=function(){return!!this.$$is_lambda},u.$$arity=0),e.defn(b,"$arity",_=function(){var e=this;return e.$$is_curried?-1:e.$$arity},_.$$arity=0),e.defn(b,"$source_location",d=function(){return this.$$is_curried,r},d.$$arity=0),e.defn(b,"$binding",f=function(){var t=this;return t.$$is_curried&&t.$raise(e.const_get(v,"ArgumentError",!0,!0),"Can't create Binding"),r},f.$$arity=0),e.defn(b,"$parameters",p=function(){var e=this;if(e.$$is_curried)return[["rest"]];if(e.$$parameters){if(e.$$is_lambda)return e.$$parameters;var t,n,r=[];for(t=0,n=e.$$parameters.length;t<n;t++){var $=e.$$parameters[t];"req"===$[0]&&($=["opt",$[1]]),r.push($)}return r}return[]},p.$$arity=0),e.defn(b,"$curry",h=function(t){function n(){var o,i=$.call(arguments),l=i.length;return l>t&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(e.const_get(v,"ArgumentError",!0,!0),"wrong number of arguments ("+l+" for "+t+")"),l>=t?r.$call.apply(r,i):(o=function(){return n.apply(null,i.concat($.call(arguments)))},o.$$is_lambda=r.$$is_lambda,o.$$is_curried=!0,o)}var r=this;return void 0===t?t=r.length:(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),r.$$is_lambda&&t!==r.length&&r.$raise(e.const_get(v,"ArgumentError",!0,!0),"wrong number of arguments ("+t+" for "+r.length+")")),n.$$is_lambda=r.$$is_lambda,n.$$is_curried=!0,n},h.$$arity=-1),e.defn(b,"$dup",g=function(){var e=this,t=e.$$original_proc||e,n=function(){return t.apply(this,arguments)};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},g.$$arity=0),e.alias(b,"clone","dup")}(t.base,Function,n)},Opal.modules["corelib/method"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(t,n,o){function i(){}var l,a,s,c,u,_,d,f,p,h=i=$(t,null,"Method",i),g=h.$$proto,b=h.$$scope,m=o.slice().concat(b);g.method=g.receiver=g.owner=g.name=r,h.$attr_reader("owner","receiver","name"),e.defn(h,"$initialize",l=function(e,t,n,r){var $=this;return $.receiver=e,$.owner=t,$.name=r,$.method=n},l.$$arity=4),e.defn(h,"$arity",a=function(){return this.method.$arity()},a.$$arity=0),e.defn(h,"$parameters",s=function(){return this.method.$$parameters},s.$$arity=0),e.defn(h,"$source_location",c=function(){var e;return(e=this.method.$$source_location)!==!1&&e!==r&&null!=e?e:["(eval)",0]},c.$$arity=0),e.defn(h,"$comments",u=function(){var e;return(e=this.method.$$comments)!==!1&&e!==r&&null!=e?e:[]},u.$$arity=0),e.defn(h,"$call",_=function(e){var t,n=this,$=_.$$p,o=$||r,i=arguments.length,l=i-0;l<0&&(l=0),t=new Array(l);for(var a=0;a<i;a++)t[a-0]=arguments[a];return $&&(_.$$p=null),n.method.$$p=o,n.method.apply(n.receiver,t)},_.$$arity=-1),e.alias(h,"[]","call"),e.defn(h,"$unbind",d=function(){var t=this;return e.const_get(m,"UnboundMethod",!0,!0).$new(t.receiver.$class(),t.owner,t.method,t.name)},d.$$arity=0),e.defn(h,"$to_proc",f=function(){var e=this,t=e.$call.bind(e);return t.$$unbound=e.method,t.$$is_lambda=!0,t},f.$$arity=0),e.defn(h,"$inspect",p=function(){var e=this;return"#<"+e.$class()+": "+e.receiver.$class()+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"},p.$$arity=0)}(t.base,0,n),function(t,n,o){function i(){}var l,a,s,c,u,_,d,f=i=$(t,null,"UnboundMethod",i),p=f.$$proto,h=f.$$scope,g=o.slice().concat(h);return p.method=p.owner=p.name=p.source=r,f.$attr_reader("source","owner","name"),e.defn(f,"$initialize",l=function(e,t,n,r){var $=this;return $.source=e,$.owner=t,$.method=n,$.name=r},l.$$arity=4),e.defn(f,"$arity",a=function(){return this.method.$arity()},a.$$arity=0),e.defn(f,"$parameters",s=function(){return this.method.$$parameters},s.$$arity=0),e.defn(f,"$source_location",c=function(){var e;return(e=this.method.$$source_location)!==!1&&e!==r&&null!=e?e:["(eval)",0]},c.$$arity=0),e.defn(f,"$comments",u=function(){var e;return(e=this.method.$$comments)!==!1&&e!==r&&null!=e?e:[]},u.$$arity=0),e.defn(f,"$bind",_=function(t){var n=this;if(n.owner.$$is_module||e.is_a(t,n.owner))return e.const_get(g,"Method",!0,!0).$new(t,n.owner,n.method,n.name);n.$raise(e.const_get(g,"TypeError",!0,!0),"can't bind singleton method to a different class (expected "+t+".kind_of?("+n.owner+" to be true)")},_.$$arity=1),e.defn(f,"$inspect",d=function(){var e=this;return"#<"+e.$class()+": "+e.source+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"},d.$$arity=0),r&&"inspect"}(t.base,0,n)},Opal.modules["corelib/variables"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.gvars),o=e.hash2;return e.add_stubs(["$new"]),$["&"]=$["~"]=$["`"]=$["'"]=r,$.LOADED_FEATURES=$['"']=e.loaded_features,$.LOAD_PATH=$[":"]=[],$["/"]="\n",$[","]=r,e.cdecl(t,"ARGV",[]),e.cdecl(t,"ARGF",e.const_get(n,"Object",!0,!0).$new()),e.cdecl(t,"ENV",o([],{})),$.VERBOSE=!1,$.DEBUG=!1,$.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$new"]),function(t,n){var o,i=o=$(t,"Opal"),l=(i.$$proto,i.$$scope),a=n.slice().concat(l);e.cdecl(l,"REGEXP_START",function(){return e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")?"^":r}()),e.cdecl(l,"REGEXP_END",function(){return e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")?"$":r}()),e.cdecl(l,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"INLINE_IDENTIFIER_REGEXP",e.const_get(a,"Regexp",!0,!0).$new("[^"+e.const_get(a,"FORBIDDEN_STARTING_IDENTIFIER_CHARS",!0,!0)+"]*[^"+e.const_get(a,"FORBIDDEN_ENDING_IDENTIFIER_CHARS",!0,!0)+"]")),e.cdecl(l,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"CONST_NAME_REGEXP",e.const_get(a,"Regexp",!0,!0).$new(e.const_get(a,"REGEXP_START",!0,!0)+"(::)?[A-Z][^"+e.const_get(a,"FORBIDDEN_CONST_NAME_CHARS",!0,!0)+"]*"+e.const_get(a,"REGEXP_END",!0,!0)))}(t.base,n)},Opal.modules["opal/mini"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=e.top,o=e,i=[e],l=e.nil,a=(e.breaker,e.slice,e.klass),s=e.send,c=e.gvars;return e.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),$.$require("corelib/string"),function(t,n,r){function $(){}var o,i=$=a(t,null,"String",$),s=(i.$$proto,i.$$scope),c=r.slice().concat(s);e.defs(i,"$inherited",o=function(t){var n=l;n=e.const_get(c,"Class",!0,!0).$new(e.const_get([e.String.$$scope],"Wrapper",!0,!0)),t.$$proto=n.$$proto,t.$$proto.$$class=t,t.$$alloc=n.$$alloc,t.$$parent=e.const_get([e.String.$$scope],"Wrapper",!0,!0),t.$allocate=n.$allocate,t.$new=n.$new},o.$$arity=1)}(o.base,0,i),function($,o,i){function u(){}var _,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M=u=a($,null,"Wrapper",u),T=M.$$proto,I=M.$$scope;i.slice().concat(I);return T.literal=l,T.$$is_string=!0,e.defs(M,"$allocate",_=function(t){var n=this,r=_.$$p,$=l;return null==t&&(t=""),r&&(_.$$p=null),$=s(n,e.find_super_dispatcher(n,"allocate",_,!1,u),[],null),$.literal=t,$},_.$$arity=-1),e.defs(M,"$new",d=function(t){var n,r=this,$=d.$$p,o=$||l,i=l,a=arguments.length,c=a-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<a;u++)n[u-0]=arguments[u];return $&&(d.$$p=null),i=r.$allocate(),s(i,"initialize",e.to_a(n),o.$to_proc()),i},d.$$arity=-1),e.defs(M,"$[]",f=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return n.$allocate(t)},f.$$arity=-1),e.defn(M,"$initialize",p=function(e){var t=this;return null==e&&(e=""),t.literal=e},p.$$arity=-1),e.defn(M,"$method_missing",h=function(t){var n,r,$=this,o=h.$$p,i=o||l,a=l,c=arguments.length,u=c-0;u<0&&(u=0),r=new Array(u);for(var _=0;_<c;_++)r[_-0]=arguments[_];return o&&(h.$$p=null),a=s($.literal,"__send__",e.to_a(r),i.$to_proc()),(n=null!=a.$$is_string)===l||null==n||n.$$is_boolean&&1!=n?a:(n=a==$.literal)===l||null==n||n.$$is_boolean&&1!=n?$.$class().$allocate(a):$},h.$$arity=-1),e.defn(M,"$initialize_copy",g=function(e){return this.literal=e.literal.$clone()},g.$$arity=1),e.defn(M,"$respond_to?",b=function(t,n){var r,$=this,o=b.$$p,i=l,a=l,c=l;for(o&&(b.$$p=null),a=0,c=arguments.length,i=new Array(c);a<c;a++)i[a]=arguments[a];return(r=s($,e.find_super_dispatcher($,"respond_to?",b,!1),i,o))!==!1&&r!==l&&null!=r?r:$.literal["$respond_to?"](t)},b.$$arity=-2),e.defn(M,"$==",m=function(e){return this.literal["$=="](e)},m.$$arity=1),e.alias(M,"eql?","=="),e.alias(M,"===","=="),e.defn(M,"$to_s",y=function(){return this.literal},y.$$arity=0),e.alias(M,"to_str","to_s"),e.defn(M,"$inspect",v=function(){return this.literal.$inspect()},v.$$arity=0),e.defn(M,"$+",w=function(e){return t(this.literal,e)},w.$$arity=1),e.defn(M,"$*",x=function(e){var t=this,r=n(t.literal,e);return r.$$is_string?t.$class().$allocate(r):r},x.$$arity=1),e.defn(M,"$split",k=function(e,t){var n,r=this;return s(r.literal.$split(e,t),"map",[],(n=function(e){var t=n.$$s||this;return null==e&&(e=l),t.$class().$allocate(e)},n.$$s=r,n.$$arity=1,n))},k.$$arity=-1),e.defn(M,"$replace",O=function(e){return this.literal=e},O.$$arity=1),e.defn(M,"$each_line",E=function(t){var n,r=this,$=E.$$p,o=$||l;return null==c["/"]&&(c["/"]=l),null==t&&(t=c["/"]),$&&(E.$$p=null),o===l?r.$enum_for("each_line",t):s(r.literal,"each_line",[t],(n=function(t){var r=n.$$s||this;return null==t&&(t=l),e.yield1(o,r.$class().$allocate(t))},n.$$s=r,n.$$arity=1,n))},E.$$arity=-1),e.defn(M,"$lines",A=function(e){var t=this,n=A.$$p,r=n||l,$=l;return null==c["/"]&&(c["/"]=l),null==e&&(e=c["/"]),n&&(A.$$p=null),$=s(t,"each_line",[e],r.$to_proc()),r!==!1&&r!==l&&null!=r?t:$.$to_a()},A.$$arity=-1),e.defn(M,"$%",S=function(e){return this.literal["$%"](e)},S.$$arity=1),e.defn(M,"$instance_variables",R=function(){var t=this,n=R.$$p,$=l,o=l,i=l;for(n&&(R.$$p=null),o=0,i=arguments.length,$=new Array(i);o<i;o++)$[o]=arguments[o];return r(s(t,e.find_super_dispatcher(t,"instance_variables",R,!1),$,n),["@literal"])},R.$$arity=0),l&&"instance_variables"}(e.String,0,i)},Opal.modules["corelib/string/encoding"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var n,r,$,o,i,l=e.top,a=e,s=[e],c=e.nil,u=(e.breaker,e.slice,e.klass),_=e.send,d=e.hash2;return e.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$constants","$const_get","$===","$==","$name","$include?","$names","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),l.$require("corelib/string"),function(n,r,$){function o(){}var i,l,a,s,f,p,h,g,b,m,y=o=u(n,null,"Encoding",o),v=y.$$proto,w=y.$$scope,x=$.slice().concat(w);v.ascii=v.dummy=v.name=c,e.defs(y,"$register",i=function(n,r){var $,o,l=this,a=i.$$p,s=a||c,u=c,f=c;return null==r&&(r=d([],{})),a&&(i.$$p=null),u=t([n],($=r["$[]"]("aliases"))!==!1&&$!==c&&null!=$?$:[]),f=_(e.const_get(x,"Class",!0,!0),"new",[l],s.$to_proc()).$new(n,u,($=r["$[]"]("ascii"))!==!1&&$!==c&&null!=$&&$,($=r["$[]"]("dummy"))!==!1&&$!==c&&null!=$&&$),_(u,"each",[],(o=function(e){var t=o.$$s||this;return null==e&&(e=c),t.$const_set(e.$sub("-","_"),f)},o.$$s=l,o.$$arity=1,o))},i.$$arity=-2),e.defs(y,"$find",l=function(t){try{var n,r=this,$=c;return $=t.$upcase(),_(r.$constants(),"each",[],(n=function(t){var r,o,i=n.$$s||this,l=c;return null==t&&(t=c),l=i.$const_get(t),(r=e.const_get(x,"Encoding",!0,!0)["$==="](l))===c||null==r||r.$$is_boolean&&1!=r?c:(r=(o=l.$name()["$=="]($))!==!1&&o!==c&&null!=o?o:l.$names()["$include?"]($))===c||null==r||r.$$is_boolean&&1!=r?c:void e.ret(l)},n.$$s=r,n.$$arity=1,n)),r.$raise(e.const_get(x,"ArgumentError",!0,!0),"unknown encoding name - "+t)}catch(t){if(t===e.returner)return t.$v;throw t}},l.$$arity=1),function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);e.$attr_accessor("default_external")}(e.get_singleton_class(y),x),y.$attr_reader("name","names"),e.defn(y,"$initialize",a=function(e,t,n,r){var $=this;return $.name=e,$.names=t,$.ascii=n,$.dummy=r},a.$$arity=4),e.defn(y,"$ascii_compatible?",s=function(){return this.ascii},s.$$arity=0),e.defn(y,"$dummy?",f=function(){return this.dummy},f.$$arity=0),e.defn(y,"$to_s",p=function(){return this.name},p.$$arity=0),e.defn(y,"$inspect",h=function(){var e,t=this;return"#<Encoding:"+t.name+function(){return(e=t.dummy)===c||null==e||e.$$is_boolean&&1!=e?c:" (dummy)"}()+">"},h.$$arity=0),e.defn(y,"$each_byte",g=function(t){return this.$raise(e.const_get(x,"NotImplementedError",!0,!0))},g.$$arity=-1),e.defn(y,"$getbyte",b=function(t){return this.$raise(e.const_get(x,"NotImplementedError",!0,!0))},b.$$arity=-1),e.defn(y,"$bytesize",m=function(t){return this.$raise(e.const_get(x,"NotImplementedError",!0,!0))},m.$$arity=-1),function(e,t,n){function r(){}var $=r=u(e,t,"EncodingError",r),o=($.$$proto,$.$$scope);n.slice().concat(o)}(w.base,e.const_get(x,"StandardError",!0,!0),x),function(e,t,n){function r(){}var $=r=u(e,t,"CompatibilityError",r),o=($.$$proto,$.$$scope);n.slice().concat(o)}(w.base,e.const_get(x,"EncodingError",!0,!0),x)}(a.base,0,s),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-8",d(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(n=function(){var t,r,$=n.$$s||this;return e.def($,"$each_byte",t=function(n){var r=t.$$p,$=r||c;r&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);if(l<=127)e.yield1($,l);else for(var a=encodeURIComponent(n.charAt(o)).substr(1).split("%"),s=0,u=a.length;s<u;s++)e.yield1($,parseInt(a[s],16))}},t.$$arity=1),e.def($,"$bytesize",r=function(e){return e.$bytes().$length()},r.$$arity=1),c&&"bytesize"},n.$$s=l,n.$$arity=0,n)),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-16LE"],(r=function(){var t,n,$=r.$$s||this;return e.def($,"$each_byte",t=function(n){var r=t.$$p,$=r||c;r&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);e.yield1($,255&l),e.yield1($,l>>8)}},t.$$arity=1),e.def($,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},r.$$s=l,r.$$arity=0,r)),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-16BE"],($=function(){var t,n,r=$.$$s||this;return e.def(r,"$each_byte",t=function(n){var r=t.$$p,$=r||c;r&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);e.yield1($,l>>8),e.yield1($,255&l)}},t.$$arity=1),e.def(r,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},$.$$s=l,$.$$arity=0,$)),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-32LE"],(o=function(){var t,n,r=o.$$s||this;return e.def(r,"$each_byte",t=function(n){var r=t.$$p,$=r||c;r&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);e.yield1($,255&l),e.yield1($,l>>8)}},t.$$arity=1),e.def(r,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},o.$$s=l,o.$$arity=0,o)),_(e.const_get(s,"Encoding",!0,!0),"register",["ASCII-8BIT",d(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(i=function(){var t,n,r=i.$$s||this;return e.def(r,"$each_byte",t=function(n){var r=t.$$p,$=r||c;r&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++)e.yield1($,255&n.charCodeAt(o))},t.$$arity=1),e.def(r,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},i.$$s=l,i.$$arity=0,i)),function(t,n,r){function $(){}var o,i,l,a,s,d,f,p,h=$=u(t,null,"String",$),g=h.$$proto,b=h.$$scope,m=r.slice().concat(b);return g.encoding=c,String.prototype.encoding=e.const_get([e.const_get(m,"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0),e.defn(h,"$bytes",o=function(){return this.$each_byte().$to_a()},o.$$arity=0),e.defn(h,"$bytesize",i=function(){var e=this;return e.encoding.$bytesize(e)},i.$$arity=0),e.defn(h,"$each_byte",l=function(){var e=this,t=l.$$p,n=t||c;return t&&(l.$$p=null),n===c?e.$enum_for("each_byte"):(_(e.encoding,"each_byte",[e],n.$to_proc()),e)},l.$$arity=0),e.defn(h,"$encode",a=function(e){return this.$dup().$force_encoding(e)},a.$$arity=1),e.defn(h,"$encoding",s=function(){return this.encoding},s.$$arity=0),e.defn(h,"$force_encoding",d=function(t){var n,r=this;if(t===r.encoding)return r;if(t=e.Opal["$coerce_to!"](t,e.String,"to_s"),t=e.const_get(m,"Encoding",!0,!0).$find(t),t["$=="](r.encoding))return r;(n=t["$nil?"]())===c||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(m,"ArgumentError",!0,!0),"unknown encoding name - "+t);var $=new String(r);return $.encoding=t,$},d.$$arity=1),e.defn(h,"$getbyte",f=function(e){var t=this;return t.encoding.$getbyte(t,e)},f.$$arity=1),e.defn(h,"$valid_encoding?",p=function(){return!0},p.$$arity=0),c&&"valid_encoding?"}(a.base,0,s)},Opal.modules["corelib/math"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var r=(e.top,e),$=[e],o=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(r,$){var l,a,s,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P=l=i(r,"Math"),D=(P.$$proto,P.$$scope),B=$.slice().concat(D);e.cdecl(D,"E",Math.E),e.cdecl(D,"PI",Math.PI),e.cdecl(D,"DomainError",e.const_get(B,"Class",!0,!0).$new(e.const_get(B,"StandardError",!0,!0))),e.defs(P,"$checked",a=function(t,n){var r,$=this,o=arguments.length,i=o-1;i<0&&(i=0),r=new Array(i);for(var l=1;l<o;l++)r[l-1]=arguments[l];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return 0/0;var a=Math[t].apply(null,r);return isNaN(a)&&$.$raise(e.const_get(B,"DomainError",!0,!0),'Numerical argument is out of domain - "'+t+'"'),a},a.$$arity=-2),e.defs(P,"$float!",s=function(t){var n=this;try{return n.$Float(t)}catch(r){if(!e.rescue(r,[e.const_get(B,"ArgumentError",!0,!0)]))throw r;try{return n.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0)))}finally{e.pop_exception()}}},s.$$arity=1),e.defs(P,"$integer!",c=function(t){var n=this;try{return n.$Integer(t)}catch(r){if(!e.rescue(r,[e.const_get(B,"ArgumentError",!0,!0)]))throw r;try{return n.$raise(e.Opal.$type_error(t,e.Integer))}finally{e.pop_exception()}}},c.$$arity=1),P.$module_function(),e.defn(P,"$acos",u=function(t){return e.const_get(B,"Math",!0,!0).$checked("acos",e.const_get(B,"Math",!0,!0)["$float!"](t))},u.$$arity=1),((_=void 0!==Math.acosh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))}),e.defn(P,"$acosh",d=function(t){return e.const_get(B,"Math",!0,!0).$checked("acosh",e.const_get(B,"Math",!0,!0)["$float!"](t))},d.$$arity=1),e.defn(P,"$asin",f=function(t){return e.const_get(B,"Math",!0,!0).$checked("asin",e.const_get(B,"Math",!0,!0)["$float!"](t))},f.$$arity=1),((_=void 0!==Math.asinh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))}),e.defn(P,"$asinh",p=function(t){return e.const_get(B,"Math",!0,!0).$checked("asinh",e.const_get(B,"Math",!0,!0)["$float!"](t))},p.$$arity=1),e.defn(P,"$atan",h=function(t){return e.const_get(B,"Math",!0,!0).$checked("atan",e.const_get(B,"Math",!0,!0)["$float!"](t))},h.$$arity=1),e.defn(P,"$atan2",g=function(t,n){return e.const_get(B,"Math",!0,!0).$checked("atan2",e.const_get(B,"Math",!0,!0)["$float!"](t),e.const_get(B,"Math",!0,!0)["$float!"](n))
},g.$$arity=2),((_=void 0!==Math.atanh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.atanh=function(e){return.5*Math.log((1+e)/(1-e))}),e.defn(P,"$atanh",b=function(t){return e.const_get(B,"Math",!0,!0).$checked("atanh",e.const_get(B,"Math",!0,!0)["$float!"](t))},b.$$arity=1),((_=void 0!==Math.cbrt)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.cbrt=function(e){if(0==e)return 0;if(e<0)return-Math.cbrt(-e);for(var t=e,n=0;t<.125;)t*=8,n--;for(;t>1;)t*=.125,n++;for(t=(-.46946116*t+1.072302)*t+.3812513;n<0;)t*=.5,n++;for(;n>0;)t*=2,n--;return t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t)}),e.defn(P,"$cbrt",m=function(t){return e.const_get(B,"Math",!0,!0).$checked("cbrt",e.const_get(B,"Math",!0,!0)["$float!"](t))},m.$$arity=1),e.defn(P,"$cos",y=function(t){return e.const_get(B,"Math",!0,!0).$checked("cos",e.const_get(B,"Math",!0,!0)["$float!"](t))},y.$$arity=1),((_=void 0!==Math.cosh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2}),e.defn(P,"$cosh",v=function(t){return e.const_get(B,"Math",!0,!0).$checked("cosh",e.const_get(B,"Math",!0,!0)["$float!"](t))},v.$$arity=1),((_=void 0!==Math.erf)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.erf=function(e){var t=1;e<0&&(t=-1),e=Math.abs(e);var n=1/(1+.3275911*e);return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}),e.defn(P,"$erf",w=function(t){return e.const_get(B,"Math",!0,!0).$checked("erf",e.const_get(B,"Math",!0,!0)["$float!"](t))},w.$$arity=1),((_=void 0!==Math.erfc)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.erfc=function(e){var t=Math.abs(e),n=1/(.5*t+1),r=.17087277*n-.82215223,$=n*r+1.48851587,o=n*$-1.13520398,i=n*o+.27886807,l=n*i-.18628806,a=n*l+.09678418,s=n*a+.37409196,c=n*s+1.00002368,u=n*c,_=-t*t-1.26551223+u,d=n*Math.exp(_);return e<0?2-d:d}),e.defn(P,"$erfc",x=function(t){return e.const_get(B,"Math",!0,!0).$checked("erfc",e.const_get(B,"Math",!0,!0)["$float!"](t))},x.$$arity=1),e.defn(P,"$exp",k=function(t){return e.const_get(B,"Math",!0,!0).$checked("exp",e.const_get(B,"Math",!0,!0)["$float!"](t))},k.$$arity=1),e.defn(P,"$frexp",O=function(t){if(t=e.const_get(B,"Math",!0,!0)["$float!"](t),isNaN(t))return[0/0,0];var n=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,n),n]},O.$$arity=1),e.defn(P,"$gamma",E=function(n){var r=this;n=e.const_get(B,"Math",!0,!0)["$float!"](n);var $,o,i,l,a,s,c,u,_,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(n))return 0/0;if(0===n&&1/n<0)return-1/0;if(n!==-1&&n!==-1/0||r.$raise(e.const_get(B,"DomainError",!0,!0),'Numerical argument is out of domain - "gamma"'),e.Integer["$==="](n)){if(n<=0)return isFinite(n)?1/0:0/0;if(n>171)return 1/0;for(l=n-2,a=n-1;l>1;)a*=l,l--;return 0==a&&(a=1),a}if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*e.const_get(B,"Math",!0,!0).$gamma(t(1,n)));if(n>=171.35)return 1/0;if(n>85)return s=n*n,c=s*n,u=c*n,_=u*n,Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*s)-139/(51840*c)-571/(2488320*u)+163879/(209018880*_)+5246819/(75246796800*_*n));for(n-=1,i=d[0],$=1;$<d.length;++$)i+=d[$]/(n+$);return o=n+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(o,n+.5)*Math.exp(-o)*i},E.$$arity=1),((_=void 0!==Math.hypot)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.hypot=function(e,t){return Math.sqrt(e*e+t*t)}),e.defn(P,"$hypot",A=function(t,n){return e.const_get(B,"Math",!0,!0).$checked("hypot",e.const_get(B,"Math",!0,!0)["$float!"](t),e.const_get(B,"Math",!0,!0)["$float!"](n))},A.$$arity=2),e.defn(P,"$ldexp",S=function(t,n){var r=this;return t=e.const_get(B,"Math",!0,!0)["$float!"](t),n=e.const_get(B,"Math",!0,!0)["$integer!"](n),isNaN(n)&&r.$raise(e.const_get(B,"RangeError",!0,!0),"float NaN out of range of integer"),t*Math.pow(2,n)},S.$$arity=2),e.defn(P,"$lgamma",R=function(t){return t==-1?[1/0,1]:[Math.log(Math.abs(e.const_get(B,"Math",!0,!0).$gamma(t))),e.const_get(B,"Math",!0,!0).$gamma(t)<0?-1:1]},R.$$arity=1),e.defn(P,"$log",M=function(t,r){var $,i=this;return($=e.String["$==="](t))===o||null==$||$.$$is_boolean&&1!=$||i.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0))),($=null==r)===o||null==$||$.$$is_boolean&&1!=$?(($=e.String["$==="](r))===o||null==$||$.$$is_boolean&&1!=$||i.$raise(e.Opal.$type_error(r,e.const_get(B,"Float",!0,!0))),n(e.const_get(B,"Math",!0,!0).$checked("log",e.const_get(B,"Math",!0,!0)["$float!"](t)),e.const_get(B,"Math",!0,!0).$checked("log",e.const_get(B,"Math",!0,!0)["$float!"](r)))):e.const_get(B,"Math",!0,!0).$checked("log",e.const_get(B,"Math",!0,!0)["$float!"](t))},M.$$arity=-2),((_=void 0!==Math.log10)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.log10=function(e){return Math.log(e)/Math.LN10}),e.defn(P,"$log10",T=function(t){var n,r=this;return(n=e.String["$==="](t))===o||null==n||n.$$is_boolean&&1!=n||r.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0))),e.const_get(B,"Math",!0,!0).$checked("log10",e.const_get(B,"Math",!0,!0)["$float!"](t))},T.$$arity=1),((_=void 0!==Math.log2)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.log2=function(e){return Math.log(e)/Math.LN2}),e.defn(P,"$log2",I=function(t){var n,r=this;return(n=e.String["$==="](t))===o||null==n||n.$$is_boolean&&1!=n||r.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0))),e.const_get(B,"Math",!0,!0).$checked("log2",e.const_get(B,"Math",!0,!0)["$float!"](t))},I.$$arity=1),e.defn(P,"$sin",C=function(t){return e.const_get(B,"Math",!0,!0).$checked("sin",e.const_get(B,"Math",!0,!0)["$float!"](t))},C.$$arity=1),((_=void 0!==Math.sinh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2}),e.defn(P,"$sinh",N=function(t){return e.const_get(B,"Math",!0,!0).$checked("sinh",e.const_get(B,"Math",!0,!0)["$float!"](t))},N.$$arity=1),e.defn(P,"$sqrt",j=function(t){return e.const_get(B,"Math",!0,!0).$checked("sqrt",e.const_get(B,"Math",!0,!0)["$float!"](t))},j.$$arity=1),e.defn(P,"$tan",L=function(t){var n;return t=e.const_get(B,"Math",!0,!0)["$float!"](t),(n=t["$infinite?"]())===o||null==n||n.$$is_boolean&&1!=n?e.const_get(B,"Math",!0,!0).$checked("tan",e.const_get(B,"Math",!0,!0)["$float!"](t)):e.const_get([e.const_get(B,"Float",!0,!0).$$scope],"NAN",!0,!0)},L.$$arity=1),((_=void 0!==Math.tanh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.tanh=function(e){return 1/0==e?1:e==-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}),e.defn(P,"$tanh",z=function(t){return e.const_get(B,"Math",!0,!0).$checked("tanh",e.const_get(B,"Math",!0,!0)["$float!"](t))},z.$$arity=1)}(r.base,$)},Opal.modules["corelib/complex"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.klass),u=e.module;return e.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),i.$require("corelib/numeric"),function(i,l,a){function u(){}var _,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q=u=c(i,l,"Complex",u),U=q.$$proto,F=q.$$scope,G=a.slice().concat(F);U.real=U.imag=s,e.defs(q,"$rect",_=function(t,n){var r,$,o,i,l=this;return null==n&&(n=0),i=e.const_get(G,"Numeric",!0,!0)["$==="](t),o=i!==!1&&i!==s&&null!=i?t["$real?"]():i,$=o!==!1&&o!==s&&null!=o?e.const_get(G,"Numeric",!0,!0)["$==="](n):o,((r=$!==!1&&$!==s&&null!=$?n["$real?"]():$)===s||null==r||r.$$is_boolean&&1!=r)&&l.$raise(e.const_get(G,"TypeError",!0,!0),"not a real"),l.$new(t,n)},_.$$arity=-2),function(t,n){t.$$proto,t.$$scope,n.slice().concat(t);e.alias(t,"rectangular","rect")}(e.get_singleton_class(q),G),e.defs(q,"$polar",d=function(n,r){var $,o,i,l,a=this;return null==r&&(r=0),l=e.const_get(G,"Numeric",!0,!0)["$==="](n),i=l!==!1&&l!==s&&null!=l?n["$real?"]():l,o=i!==!1&&i!==s&&null!=i?e.const_get(G,"Numeric",!0,!0)["$==="](r):i,(($=o!==!1&&o!==s&&null!=o?r["$real?"]():o)===s||null==$||$.$$is_boolean&&1!=$)&&a.$raise(e.const_get(G,"TypeError",!0,!0),"not a real"),a.$new(t(n,e.const_get(G,"Math",!0,!0).$cos(r)),t(n,e.const_get(G,"Math",!0,!0).$sin(r)))},d.$$arity=-2),q.$attr_reader("real","imag"),e.defn(q,"$initialize",f=function(e,t){var n=this;return null==t&&(t=0),n.real=e,n.imag=t},f.$$arity=-2),e.defn(q,"$coerce",p=function(t){var n,r,$=this;return(n=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?(r=e.const_get(G,"Numeric",!0,!0)["$==="](t),(n=r!==!1&&r!==s&&null!=r?t["$real?"]():r)===s||null==n||n.$$is_boolean&&1!=n?$.$raise(e.const_get(G,"TypeError",!0,!0),t.$class()+" can't be coerced into Complex"):[e.const_get(G,"Complex",!0,!0).$new(t,0),$]):[t,$]},p.$$arity=1),e.defn(q,"$==",h=function(t){var n,r,$=this;return(n=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?(r=e.const_get(G,"Numeric",!0,!0)["$==="](t),(n=r!==!1&&r!==s&&null!=r?t["$real?"]():r)===s||null==n||n.$$is_boolean&&1!=n?t["$=="]($):(n=$.real["$=="](t))?$.imag["$=="](0):$.real["$=="](t)):(n=$.real["$=="](t.$real()))?$.imag["$=="](t.$imag()):$.real["$=="](t.$real())},h.$$arity=1),e.defn(q,"$-@",g=function(){var e=this;return e.$Complex(e.real["$-@"](),e.imag["$-@"]())},g.$$arity=0),e.defn(q,"$+",b=function(t){var r,$,o=this;return(r=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?($=e.const_get(G,"Numeric",!0,!0)["$==="](t),(r=$!==!1&&$!==s&&null!=$?t["$real?"]():$)===s||null==r||r.$$is_boolean&&1!=r?o.$__coerced__("+",t):o.$Complex(n(o.real,t),o.imag)):o.$Complex(n(o.real,t.$real()),n(o.imag,t.$imag()))},b.$$arity=1),e.defn(q,"$-",m=function(t){var n,$,o=this;return(n=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?($=e.const_get(G,"Numeric",!0,!0)["$==="](t),(n=$!==!1&&$!==s&&null!=$?t["$real?"]():$)===s||null==n||n.$$is_boolean&&1!=n?o.$__coerced__("-",t):o.$Complex(r(o.real,t),o.imag)):o.$Complex(r(o.real,t.$real()),r(o.imag,t.$imag()))},m.$$arity=1),e.defn(q,"$*",y=function($){var o,i,l=this;return(o=e.const_get(G,"Complex",!0,!0)["$==="]($))===s||null==o||o.$$is_boolean&&1!=o?(i=e.const_get(G,"Numeric",!0,!0)["$==="]($),(o=i!==!1&&i!==s&&null!=i?$["$real?"]():i)===s||null==o||o.$$is_boolean&&1!=o?l.$__coerced__("*",$):l.$Complex(t(l.real,$),t(l.imag,$))):l.$Complex(r(t(l.real,$.$real()),t(l.imag,$.$imag())),n(t(l.real,$.$imag()),t(l.imag,$.$real())))},y.$$arity=1),e.defn(q,"$/",v=function(n){var r,o,i,l,a,c=this;return(r=e.const_get(G,"Complex",!0,!0)["$==="](n))===s||null==r||r.$$is_boolean&&1!=r?(o=e.const_get(G,"Numeric",!0,!0)["$==="](n),(r=o!==!1&&o!==s&&null!=o?n["$real?"]():o)===s||null==r||r.$$is_boolean&&1!=r?c.$__coerced__("/",n):c.$Complex(c.real.$quo(n),c.imag.$quo(n))):(a=e.const_get(G,"Number",!0,!0)["$==="](c.real),(r=(o=(i=(l=a!==!1&&a!==s&&null!=a?c.real["$nan?"]():a)!==!1&&l!==s&&null!=l?l:(a=e.const_get(G,"Number",!0,!0)["$==="](c.imag),a!==!1&&a!==s&&null!=a?c.imag["$nan?"]():a))!==!1&&i!==s&&null!=i?i:(l=e.const_get(G,"Number",!0,!0)["$==="](n.$real()),l!==!1&&l!==s&&null!=l?n.$real()["$nan?"]():l))!==!1&&o!==s&&null!=o?o:(i=e.const_get(G,"Number",!0,!0)["$==="](n.$imag()),i!==!1&&i!==s&&null!=i?n.$imag()["$nan?"]():i))===s||null==r||r.$$is_boolean&&1!=r?$(t(c,n.$conj()),n.$abs2()):e.const_get(G,"Complex",!0,!0).$new(e.const_get([e.const_get(G,"Float",!0,!0).$$scope],"NAN",!0,!0),e.const_get([e.const_get(G,"Float",!0,!0).$$scope],"NAN",!0,!0)))},v.$$arity=1),e.defn(q,"$**",w=function(i){var l,a,c,u,_,d=this,f=s,p=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,x=s,k=s;if(i["$=="](0))return e.const_get(G,"Complex",!0,!0).$new(1,0);if((l=e.const_get(G,"Complex",!0,!0)["$==="](i))===s||null==l||l.$$is_boolean&&1!=l){if((l=e.Integer["$==="](i))===s||null==l||l.$$is_boolean&&1!=l)return(l=(a=e.const_get(G,"Float",!0,!0)["$==="](i))!==!1&&a!==s&&null!=a?a:e.const_get(G,"Rational",!0,!0)["$==="](i))===s||null==l||l.$$is_boolean&&1!=l?d.$__coerced__("**",i):(a=d.$polar(),l=e.to_ary(a),f=null==l[0]?s:l[0],p=null==l[1]?s:l[1],e.const_get(G,"Complex",!0,!0).$polar(f["$**"](i),t(p,i)));if((l=o(i,0))===s||null==l||l.$$is_boolean&&1!=l)return $(e.const_get(G,"Rational",!0,!0).$new(1,1),d)["$**"](i["$-@"]());for(y=d,v=y,w=r(i,1);(a=w["$!="](0))!==s&&null!=a&&(!a.$$is_boolean||1==a);){for(;_=w.$divmod(2),u=e.to_ary(_),x=null==u[0]?s:u[0],k=null==u[1]?s:u[1],(c=k["$=="](0))!==s&&null!=c&&(!c.$$is_boolean||1==c);)y=d.$Complex(r(t(y.$real(),y.$real()),t(y.$imag(),y.$imag())),t(t(2,y.$real()),y.$imag())),w=x;v=t(v,y),w=r(w,1)}return v}return a=d.$polar(),l=e.to_ary(a),f=null==l[0]?s:l[0],p=null==l[1]?s:l[1],h=i.$real(),g=i.$imag(),b=e.const_get(G,"Math",!0,!0).$exp(r(t(h,e.const_get(G,"Math",!0,!0).$log(f)),t(g,p))),m=n(t(p,h),t(g,e.const_get(G,"Math",!0,!0).$log(f))),e.const_get(G,"Complex",!0,!0).$polar(b,m)},w.$$arity=1),e.defn(q,"$abs",x=function(){var t=this;return e.const_get(G,"Math",!0,!0).$hypot(t.real,t.imag)},x.$$arity=0),e.defn(q,"$abs2",k=function(){var e=this;return n(t(e.real,e.real),t(e.imag,e.imag))},k.$$arity=0),e.defn(q,"$angle",O=function(){var t=this;return e.const_get(G,"Math",!0,!0).$atan2(t.imag,t.real)},O.$$arity=0),e.alias(q,"arg","angle"),e.defn(q,"$conj",E=function(){var e=this;return e.$Complex(e.real,e.imag["$-@"]())},E.$$arity=0),e.alias(q,"conjugate","conj"),e.defn(q,"$denominator",A=function(){var e=this;return e.real.$denominator().$lcm(e.imag.$denominator())},A.$$arity=0),e.alias(q,"divide","/"),e.defn(q,"$eql?",S=function(t){var n,r,$=this;return r=e.const_get(G,"Complex",!0,!0)["$==="](t),n=r!==!1&&r!==s&&null!=r?$.real.$class()["$=="]($.imag.$class()):r,n!==!1&&n!==s&&null!=n?$["$=="](t):n},S.$$arity=1),e.defn(q,"$fdiv",R=function(t){var n,r=this;return((n=e.const_get(G,"Numeric",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(G,"TypeError",!0,!0),t.$class()+" can't be coerced into Complex"),$(r,t)},R.$$arity=1),e.defn(q,"$hash",M=function(){var e=this;return"Complex:"+e.real+":"+e.imag},M.$$arity=0),e.alias(q,"imaginary","imag"),e.defn(q,"$inspect",T=function(){return"("+this.$to_s()+")"},T.$$arity=0),e.alias(q,"magnitude","abs"),e.udef(q,"$negative?"),e.defn(q,"$numerator",I=function(){var e=this,n=s;return n=e.$denominator(),e.$Complex(t(e.real.$numerator(),$(n,e.real.$denominator())),t(e.imag.$numerator(),$(n,e.imag.$denominator())))},I.$$arity=0),e.alias(q,"phase","arg"),e.defn(q,"$polar",C=function(){var e=this;return[e.$abs(),e.$arg()]},C.$$arity=0),e.udef(q,"$positive?"),e.alias(q,"quo","/"),e.defn(q,"$rationalize",N=function(t){var n,r=this;return arguments.length>1&&r.$raise(e.const_get(G,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),(n=r.imag["$!="](0))===s||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(G,"RangeError",!0,!0),"can't' convert "+r+" into Rational"),r.$real().$rationalize(t)},N.$$arity=-1),e.defn(q,"$real?",j=function(){return!1},j.$$arity=0),e.defn(q,"$rect",L=function(){var e=this;return[e.real,e.imag]},L.$$arity=0),e.alias(q,"rectangular","rect"),e.defn(q,"$to_f",z=function(){var t=this;return t.imag["$=="](0)||t.$raise(e.const_get(G,"RangeError",!0,!0),"can't convert "+t+" into Float"),t.real.$to_f()},z.$$arity=0),e.defn(q,"$to_i",P=function(){var t=this;return t.imag["$=="](0)||t.$raise(e.const_get(G,"RangeError",!0,!0),"can't convert "+t+" into Integer"),t.real.$to_i()},P.$$arity=0),e.defn(q,"$to_r",D=function(){var t=this;return t.imag["$=="](0)||t.$raise(e.const_get(G,"RangeError",!0,!0),"can't convert "+t+" into Rational"),t.real.$to_r()},D.$$arity=0),e.defn(q,"$to_s",B=function(){var t,r,$,o,i=this,l=s;return l=i.real.$inspect(),o=e.const_get(G,"Number",!0,!0)["$==="](i.imag),l=(t=(r=($=o!==!1&&o!==s&&null!=o?i.imag["$nan?"]():o)!==!1&&$!==s&&null!=$?$:i.imag["$positive?"]())!==!1&&r!==s&&null!=r?r:i.imag["$zero?"]())===s||null==t||t.$$is_boolean&&1!=t?n(l,"-"):n(l,"+"),l=n(l,i.imag.$abs().$inspect()),r=e.const_get(G,"Number",!0,!0)["$==="](i.imag),(t=r!==!1&&r!==s&&null!=r?($=i.imag["$nan?"]())!==!1&&$!==s&&null!=$?$:i.imag["$infinite?"]():r)===s||null==t||t.$$is_boolean&&1!=t||(l=n(l,"*")),n(l,"i")},B.$$arity=0),e.cdecl(F,"I",q.$new(0,1))}(l.base,e.const_get(a,"Numeric",!0,!0),a),function(t,n){var r,$,o=r=u(t,"Kernel"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.defn(o,"$Complex",$=function(t,n){return null==n&&(n=s),n!==!1&&n!==s&&null!=n?e.const_get(l,"Complex",!0,!0).$new(t,n):e.const_get(l,"Complex",!0,!0).$new(t,0)},$.$$arity=-2)}(l.base,a)},Opal.modules["corelib/rational"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=e.top,s=e,c=[e],u=e.nil,_=(e.breaker,e.slice,e.klass),d=e.module;return e.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),a.$require("corelib/numeric"),function(a,s,c){function d(){}var f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B=d=_(a,s,"Rational",d),q=B.$$proto,U=B.$$scope,F=c.slice().concat(U);q.num=q.den=u,e.defs(B,"$reduce",f=function(r,$){var o,i=this,l=u;if(r=r.$to_i(),$=$.$to_i(),$["$=="](0))i.$raise(e.const_get(F,"ZeroDivisionError",!0,!0),"divided by 0");else if((o=t($,0))===u||null==o||o.$$is_boolean&&1!=o){if($["$=="](1))return i.$new(r,$)}else r=r["$-@"](),$=$["$-@"]();return l=r.$gcd($),i.$new(n(r,l),n($,l))},f.$$arity=2),e.defs(B,"$convert",p=function(t,r){var $,o,i,l=this;return($=(o=t["$nil?"]())!==!1&&o!==u&&null!=o?o:r["$nil?"]())===u||null==$||$.$$is_boolean&&1!=$||l.$raise(e.const_get(F,"TypeError",!0,!0),"cannot convert nil into Rational"),o=e.Integer["$==="](t),($=o!==!1&&o!==u&&null!=o?e.Integer["$==="](r):o)===u||null==$||$.$$is_boolean&&1!=$?(($=(o=(i=e.const_get(F,"Float",!0,!0)["$==="](t))!==!1&&i!==u&&null!=i?i:e.String["$==="](t))!==!1&&o!==u&&null!=o?o:e.const_get(F,"Complex",!0,!0)["$==="](t))===u||null==$||$.$$is_boolean&&1!=$||(t=t.$to_r()),($=(o=(i=e.const_get(F,"Float",!0,!0)["$==="](r))!==!1&&i!==u&&null!=i?i:e.String["$==="](r))!==!1&&o!==u&&null!=o?o:e.const_get(F,"Complex",!0,!0)["$==="](r))===u||null==$||$.$$is_boolean&&1!=$||(r=r.$to_r()),o=r["$equal?"](1),($=o!==!1&&o!==u&&null!=o?e.Integer["$==="](t)["$!"]():o)===u||null==$||$.$$is_boolean&&1!=$?(o=e.const_get(F,"Numeric",!0,!0)["$==="](t),($=o!==!1&&o!==u&&null!=o?e.const_get(F,"Numeric",!0,!0)["$==="](r):o)===u||null==$||$.$$is_boolean&&1!=$?l.$reduce(t,r):n(t,r)):e.Opal["$coerce_to!"](t,e.const_get(F,"Rational",!0,!0),"to_r")):l.$reduce(t,r)},p.$$arity=2),B.$attr_reader("numerator","denominator"),e.defn(B,"$initialize",h=function(e,t){var n=this;return n.num=e,n.den=t},h.$$arity=2),e.defn(B,"$numerator",g=function(){return this.num},g.$$arity=0),e.defn(B,"$denominator",b=function(){return this.den},b.$$arity=0),e.defn(B,"$coerce",m=function(t){var n=this,r=u;return function(){return r=t,e.const_get(F,"Rational",!0,!0)["$==="](r)?[t,n]:e.Integer["$==="](r)?[t.$to_r(),n]:e.const_get(F,"Float",!0,!0)["$==="](r)?[t,n.$to_f()]:u}()},m.$$arity=1),e.defn(B,"$==",y=function(t){var n,r=this,$=u;return function(){return $=t,e.const_get(F,"Rational",!0,!0)["$==="]($)?(n=r.num["$=="](t.$numerator()))?r.den["$=="](t.$denominator()):r.num["$=="](t.$numerator()):e.Integer["$==="]($)?(n=r.num["$=="](t))?r.den["$=="](1):r.num["$=="](t):e.const_get(F,"Float",!0,!0)["$==="]($)?r.$to_f()["$=="](t):t["$=="](r)}()},y.$$arity=1),e.defn(B,"$<=>",v=function(t){var n=this,o=u;return function(){return o=t,e.const_get(F,"Rational",!0,!0)["$==="](o)?r($(n.num,t.$denominator()),$(n.den,t.$numerator()))["$<=>"](0):e.Integer["$==="](o)?r(n.num,$(n.den,t))["$<=>"](0):e.const_get(F,"Float",!0,!0)["$==="](o)?n.$to_f()["$<=>"](t):n.$__coerced__("<=>",t)}()},v.$$arity=1),e.defn(B,"$+",w=function(t){var n=this,r=u,i=u,l=u;return function(){return r=t,e.const_get(F,"Rational",!0,!0)["$==="](r)?(i=o($(n.num,t.$denominator()),$(n.den,t.$numerator())),l=$(n.den,t.$denominator()),n.$Rational(i,l)):e.Integer["$==="](r)?n.$Rational(o(n.num,$(t,n.den)),n.den):e.const_get(F,"Float",!0,!0)["$==="](r)?o(n.$to_f(),t):n.$__coerced__("+",t)}()},w.$$arity=1),e.defn(B,"$-",x=function(t){var n=this,o=u,i=u,l=u;return function(){return o=t,e.const_get(F,"Rational",!0,!0)["$==="](o)?(i=r($(n.num,t.$denominator()),$(n.den,t.$numerator())),l=$(n.den,t.$denominator()),n.$Rational(i,l)):e.Integer["$==="](o)?n.$Rational(r(n.num,$(t,n.den)),n.den):e.const_get(F,"Float",!0,!0)["$==="](o)?r(n.$to_f(),t):n.$__coerced__("-",t)}()},x.$$arity=1),e.defn(B,"$*",k=function(t){var n=this,r=u,o=u,i=u;return function(){return r=t,e.const_get(F,"Rational",!0,!0)["$==="](r)?(o=$(n.num,t.$numerator()),i=$(n.den,t.$denominator()),n.$Rational(o,i)):e.Integer["$==="](r)?n.$Rational($(n.num,t),n.den):e.const_get(F,"Float",!0,!0)["$==="](r)?$(n.$to_f(),t):n.$__coerced__("*",t)}()},k.$$arity=1),e.defn(B,"$/",O=function(t){var r=this,o=u,i=u,l=u;return function(){return o=t,e.const_get(F,"Rational",!0,!0)["$==="](o)?(i=$(r.num,t.$denominator()),l=$(r.den,t.$numerator()),r.$Rational(i,l)):e.Integer["$==="](o)?t["$=="](0)?n(r.$to_f(),0):r.$Rational(r.num,$(r.den,t)):e.const_get(F,"Float",!0,!0)["$==="](o)?n(r.$to_f(),t):r.$__coerced__("/",t)}()},O.$$arity=1),e.defn(B,"$**",E=function(n){var r,$,o=this,l=u;return function(){return l=n,e.Integer["$==="](l)?(r=($=o["$=="](0))?t(n,0):o["$=="](0))===u||null==r||r.$$is_boolean&&1!=r?(r=i(n,0))===u||null==r||r.$$is_boolean&&1!=r?(r=t(n,0))===u||null==r||r.$$is_boolean&&1!=r?o.$Rational(1,1):o.$Rational(o.den["$**"](n["$-@"]()),o.num["$**"](n["$-@"]())):o.$Rational(o.num["$**"](n),o.den["$**"](n)):e.const_get([e.const_get(F,"Float",!0,!0).$$scope],"INFINITY",!0,!0):e.const_get(F,"Float",!0,!0)["$==="](l)?o.$to_f()["$**"](n):e.const_get(F,"Rational",!0,!0)["$==="](l)?n["$=="](0)?o.$Rational(1,1):n.$denominator()["$=="](1)?(r=t(n,0))===u||null==r||r.$$is_boolean&&1!=r?o.$Rational(o.num["$**"](n.$numerator()),o.den["$**"](n.$numerator())):o.$Rational(o.den["$**"](n.$numerator().$abs()),o.num["$**"](n.$numerator().$abs())):(r=($=o["$=="](0))?t(n,0):o["$=="](0))===u||null==r||r.$$is_boolean&&1!=r?o.$to_f()["$**"](n):o.$raise(e.const_get(F,"ZeroDivisionError",!0,!0),"divided by 0"):o.$__coerced__("**",n)}()},E.$$arity=1),e.defn(B,"$abs",A=function(){var e=this;return e.$Rational(e.num.$abs(),e.den.$abs())},A.$$arity=0),e.defn(B,"$ceil",S=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?n(t.num["$-@"](),t.den)["$-@"]().$ceil():t.$with_precision("ceil",e)},S.$$arity=-1),e.alias(B,"divide","/"),e.defn(B,"$floor",R=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?n(t.num["$-@"](),t.den)["$-@"]().$floor():t.$with_precision("floor",e)},R.$$arity=-1),e.defn(B,"$hash",M=function(){var e=this;return"Rational:"+e.num+":"+e.den},M.$$arity=0),e.defn(B,"$inspect",T=function(){return"("+this.$to_s()+")"},T.$$arity=0),e.alias(B,"quo","/"),e.defn(B,"$rationalize",I=function(t){var $=this;if(arguments.length>1&&$.$raise(e.const_get(F,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return $;for(var i,a,s,c,u,_=t.$abs(),d=r($,_),f=o($,_),p=0,h=1,g=1,b=0;;){if(s=d.$ceil(),l(s,f))break;c=s-1,i=c*h+p,a=c*b+g,u=n(1,r(f,c)),f=n(1,r(d,c)),d=u,p=h,g=b,h=i,b=a}return $.$Rational(s*h+p,s*b+g)},I.$$arity=-1),e.defn(B,"$round",C=function(e){var r,i=this,l=u,a=u,s=u;return null==e&&(e=0),e["$=="](0)?i.num["$=="](0)?0:i.den["$=="](1)?i.num:(l=o($(i.num.$abs(),2),i.den),a=$(i.den,2),s=n(l,a).$truncate(),(r=t(i.num,0))===u||null==r||r.$$is_boolean&&1!=r?s:s["$-@"]()):i.$with_precision("round",e)},C.$$arity=-1),e.defn(B,"$to_f",N=function(){var e=this;return n(e.num,e.den)},N.$$arity=0),e.defn(B,"$to_i",j=function(){return this.$truncate()},j.$$arity=0),e.defn(B,"$to_r",L=function(){return this},L.$$arity=0),e.defn(B,"$to_s",z=function(){var e=this;return e.num+"/"+e.den},z.$$arity=0),e.defn(B,"$truncate",P=function(e){var n,r=this;return null==e&&(e=0),e["$=="](0)?(n=t(r.num,0))===u||null==n||n.$$is_boolean&&1!=n?r.$floor():r.$ceil():r.$with_precision("truncate",e)},P.$$arity=-1),e.defn(B,"$with_precision",D=function(r,o){var i,l=this,a=u,s=u;return((i=e.Integer["$==="](o))===u||null==i||i.$$is_boolean&&1!=i)&&l.$raise(e.const_get(F,"TypeError",!0,!0),"not an Integer"),a=10["$**"](o),s=$(l,a),(i=t(o,1))===u||null==i||i.$$is_boolean&&1!=i?l.$Rational(s.$send(r),a):n(s.$send(r),a).$to_i()},D.$$arity=2)}(s.base,e.const_get(c,"Numeric",!0,!0),c),function(t,n){var r,$,o=r=d(t,"Kernel"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.defn(o,"$Rational",$=function(t,n){return null==n&&(n=1),e.const_get(l,"Rational",!0,!0).$convert(t,n)},$.$$arity=-2)}(s.base,c)},Opal.modules["corelib/time"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var l=e.top,a=e,s=[e],c=e.nil,u=(e.breaker,e.slice),_=e.klass,d=e.range;return e.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),l.$require("corelib/comparable"),function(l,a,s){function f(){}function p(t,n,r,$,o,i){if(t=t.$$is_string?parseInt(t,10):e.Opal["$coerce_to!"](t,e.Integer,"to_int"),n===c)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch(n=n.$to_str(),n.toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=e.Opal["$coerce_to!"](n,e.Integer,"to_int");return(n<1||n>12)&&$e.$raise(e.const_get(ie,"ArgumentError",!0,!0),"month out of range: "+n),n-=1,r=r===c?1:r.$$is_string?parseInt(r,10):e.Opal["$coerce_to!"](r,e.Integer,"to_int"),(r<1||r>31)&&$e.$raise(e.const_get(ie,"ArgumentError",!0,!0),"day out of range: "+r),$=$===c?0:$.$$is_string?parseInt($,10):e.Opal["$coerce_to!"]($,e.Integer,"to_int"),($<0||$>24)&&$e.$raise(e.const_get(ie,"ArgumentError",!0,!0),"hour out of range: "+$),o=o===c?0:o.$$is_string?parseInt(o,10):e.Opal["$coerce_to!"](o,e.Integer,"to_int"),(o<0||o>59)&&$e.$raise(e.const_get(ie,"ArgumentError",!0,!0),"min out of range: "+o),i===c?i=0:i.$$is_number||(i=i.$$is_string?parseInt(i,10):e.Opal["$coerce_to!"](i,e.Integer,"to_int")),(i<0||i>60)&&$e.$raise(e.const_get(ie,"ArgumentError",!0,!0),"sec out of range: "+i),[t,n,r,$,o,i]}var h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e=f=_(l,a,"Time",f),oe=($e.$$proto,$e.$$scope),ie=s.slice().concat(oe);$e.$include(e.const_get(ie,"Comparable",!0,!0));var le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ce=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.defs($e,"$at",h=function(t,n){var r,$=this;return e.const_get(ie,"Time",!0,!0)["$==="](t)?(void 0!==n&&$.$raise(e.const_get(ie,"TypeError",!0,!0),"can't convert Time into an exact number"),r=new Date(t.getTime()),r.is_utc=t.is_utc,r):(t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int")),void 0===n?new Date(1e3*t):(n.$$is_number||(n=e.Opal["$coerce_to!"](n,e.Integer,"to_int")),new Date(1e3*t+n/1e3)))},h.$$arity=-2),e.defs($e,"$new",g=function(t,n,r,$,o,i,l){var a=this;null==n&&(n=c),null==r&&(r=c),null==$&&($=c),null==o&&(o=c),null==i&&(i=c),null==l&&(l=c);var s,u;return void 0===t?new Date:(l!==c&&a.$raise(e.const_get(ie,"ArgumentError",!0,!0),"Opal does not support explicitly specifying UTC offset for Time"),s=p(t,n,r,$,o,i),t=s[0],n=s[1],r=s[2],$=s[3],o=s[4],i=s[5],u=new Date(t,n,r,$,o,0,1e3*i),t<100&&u.setFullYear(t),u)},g.$$arity=-1),e.defs($e,"$local",b=function(e,t,n,r,$,o,i,l,a,s){null==t&&(t=c),null==n&&(n=c),null==r&&(r=c),null==$&&($=c),null==o&&(o=c),null==i&&(i=c),null==l&&(l=c),null==a&&(a=c),null==s&&(s=c);var _,d;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],n=_[3],r=_[2],$=_[1],o=_[0]),_=p(e,t,n,r,$,o),e=_[0],t=_[1],n=_[2],r=_[3],$=_[4],o=_[5],d=new Date(e,t,n,r,$,0,1e3*o),e<100&&d.setFullYear(e),d},b.$$arity=-2),e.defs($e,"$gm",m=function(e,t,n,r,$,o,i,l,a,s){null==t&&(t=c),null==n&&(n=c),null==r&&(r=c),null==$&&($=c),null==o&&(o=c),null==i&&(i=c),null==l&&(l=c),null==a&&(a=c),null==s&&(s=c);var _,d;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],n=_[3],r=_[2],$=_[1],o=_[0]),_=p(e,t,n,r,$,o),e=_[0],t=_[1],n=_[2],r=_[3],$=_[4],o=_[5],d=new Date(Date.UTC(e,t,n,r,$,0,1e3*o)),e<100&&d.setUTCFullYear(e),d.is_utc=!0,d},m.$$arity=-2),function(t,n){t.$$proto,t.$$scope,n.slice().concat(t);e.alias(t,"mktime","local"),e.alias(t,"utc","gm")}(e.get_singleton_class($e),ie),e.defs($e,"$now",y=function(){return this.$new()},y.$$arity=0),e.defn($e,"$+",v=function(t){var n,r=this;(n=e.const_get(ie,"Time",!0,!0)["$==="](t))===c||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(ie,"TypeError",!0,!0),"time + time?"),t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"));var $=new Date(r.getTime()+1e3*t);return $.is_utc=r.is_utc,$},v.$$arity=1),e.defn($e,"$-",w=function(t){var n,r=this;if((n=e.const_get(ie,"Time",!0,!0)["$==="](t))!==c&&null!=n&&(!n.$$is_boolean||1==n))return(r.getTime()-t.getTime())/1e3;t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"));var $=new Date(r.getTime()-1e3*t);return $.is_utc=r.is_utc,$},w.$$arity=1),e.defn($e,"$<=>",x=function(r){var $,o=this,i=c;return($=e.const_get(ie,"Time",!0,!0)["$==="](r))===c||null==$||$.$$is_boolean&&1!=$?(i=r["$<=>"](o),($=i["$nil?"]())===c||null==$||$.$$is_boolean&&1!=$?($=t(i,0))===c||null==$||$.$$is_boolean&&1!=$?($=n(i,0))===c||null==$||$.$$is_boolean&&1!=$?0:1:-1:c):o.$to_f()["$<=>"](r.$to_f())},x.$$arity=1),e.defn($e,"$==",k=function(t){var n,r=this;return n=e.const_get(ie,"Time",!0,!0)["$==="](t),n!==!1&&n!==c&&null!=n?r.$to_f()===t.$to_f():n},k.$$arity=1),e.defn($e,"$asctime",O=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),e.alias($e,"ctime","asctime"),
e.defn($e,"$day",E=function(){var e=this;return e.is_utc?e.getUTCDate():e.getDate()},E.$$arity=0),e.defn($e,"$yday",A=function(){var t=this,n=c,i=c,l=c;return n=e.const_get(ie,"Time",!0,!0).$new(t.$year()).$to_i(),i=e.const_get(ie,"Time",!0,!0).$new(t.$year(),t.$month(),t.$day()).$to_i(),l=86400,r($(o(i,n),l).$round(),1)},A.$$arity=0),e.defn($e,"$isdst",S=function(){var e=this,t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())},S.$$arity=0),e.alias($e,"dst?","isdst"),e.defn($e,"$dup",R=function(){var e=this,t=c;return t=new Date(e.getTime()),t.$copy_instance_variables(e),t.$initialize_dup(e),t},R.$$arity=0),e.defn($e,"$eql?",M=function(t){var n,r=this;return n=t["$is_a?"](e.const_get(ie,"Time",!0,!0)),n!==!1&&n!==c&&null!=n?r["$<=>"](t)["$zero?"]():n},M.$$arity=1),e.defn($e,"$friday?",T=function(){return 5==this.$wday()},T.$$arity=0),e.defn($e,"$hash",I=function(){return"Time:"+this.getTime()},I.$$arity=0),e.defn($e,"$hour",C=function(){var e=this;return e.is_utc?e.getUTCHours():e.getHours()},C.$$arity=0),e.defn($e,"$inspect",N=function(){var e,t=this;return(e=t["$utc?"]())===c||null==e||e.$$is_boolean&&1!=e?t.$strftime("%Y-%m-%d %H:%M:%S %z"):t.$strftime("%Y-%m-%d %H:%M:%S UTC")},N.$$arity=0),e.alias($e,"mday","day"),e.defn($e,"$min",j=function(){var e=this;return e.is_utc?e.getUTCMinutes():e.getMinutes()},j.$$arity=0),e.defn($e,"$mon",L=function(){var e=this;return(e.is_utc?e.getUTCMonth():e.getMonth())+1},L.$$arity=0),e.defn($e,"$monday?",z=function(){return 1==this.$wday()},z.$$arity=0),e.alias($e,"month","mon"),e.defn($e,"$saturday?",P=function(){return 6==this.$wday()},P.$$arity=0),e.defn($e,"$sec",D=function(){var e=this;return e.is_utc?e.getUTCSeconds():e.getSeconds()},D.$$arity=0),e.defn($e,"$succ",B=function(){var e=this,t=new Date(e.getTime()+1e3);return t.is_utc=e.is_utc,t},B.$$arity=0),e.defn($e,"$usec",q=function(){return 1e3*this.getMilliseconds()},q.$$arity=0),e.defn($e,"$zone",U=function(){var e,t=this,n=t.toString();return e=n.indexOf("(")==-1?n.match(/[A-Z]{3,4}/)[0]:n.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==e&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:e},U.$$arity=0),e.defn($e,"$getgm",F=function(){var e=this,t=new Date(e.getTime());return t.is_utc=!0,t},F.$$arity=0),e.alias($e,"getutc","getgm"),e.defn($e,"$gmtime",G=function(){var e=this;return e.is_utc=!0,e},G.$$arity=0),e.alias($e,"utc","gmtime"),e.defn($e,"$gmt?",H=function(){return this.is_utc===!0},H.$$arity=0),e.defn($e,"$gmt_offset",Y=function(){return 60*-this.getTimezoneOffset()},Y.$$arity=0),e.defn($e,"$strftime",K=function(e){var t=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,n,r,$,o){var i="",l=n.indexOf("0")!==-1,a=n.indexOf("-")===-1,s=n.indexOf("_")!==-1,c=n.indexOf("^")!==-1,u=n.indexOf("#")!==-1,_=(n.match(":")||[]).length;switch(r=parseInt(r,10),l&&s&&(n.indexOf("0")<n.indexOf("_")?l=!1:s=!1),o){case"Y":i+=t.$year();break;case"C":l=!s,i+=Math.round(t.$year()/100);break;case"y":l=!s,i+=t.$year()%100;break;case"m":l=!s,i+=t.$mon();break;case"B":i+=ce[t.$mon()-1];break;case"b":case"h":s=!l,i+=se[t.$mon()-1];break;case"d":l=!s,i+=t.$day();break;case"e":s=!l,i+=t.$day();break;case"j":i+=t.$yday();break;case"H":l=!s,i+=t.$hour();break;case"k":s=!l,i+=t.$hour();break;case"I":l=!s,i+=t.$hour()%12||12;break;case"l":s=!l,i+=t.$hour()%12||12;break;case"P":i+=t.$hour()>=12?"pm":"am";break;case"p":i+=t.$hour()>=12?"PM":"AM";break;case"M":l=!s,i+=t.$min();break;case"S":l=!s,i+=t.$sec();break;case"L":l=!s,r=isNaN(r)?3:r,i+=t.getMilliseconds();break;case"N":r=isNaN(r)?9:r,i+=t.getMilliseconds().toString().$rjust(3,"0"),i=i.$ljust(r,"0");break;case"z":var f=t.getTimezoneOffset(),p=Math.floor(Math.abs(f)/60),h=Math.abs(f)%60;i+=f<0?"+":"-",i+=p<10?"0":"",i+=p,_>0&&(i+=":"),i+=h<10?"0":"",i+=h,_>1&&(i+=":00");break;case"Z":i+=t.$zone();break;case"A":i+=le[t.$wday()];break;case"a":i+=ae[t.$wday()];break;case"u":i+=t.$wday()+1;break;case"w":i+=t.$wday();break;case"V":i+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":i+=t.$cweek_cyear()["$[]"](1);break;case"g":i+=t.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case"s":i+=t.$to_i();break;case"n":i+="\n";break;case"t":i+="\t";break;case"%":i+="%";break;case"c":i+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":i+=t.$strftime("%m/%d/%y");break;case"F":i+=t.$strftime("%Y-%m-%d");break;case"v":i+=t.$strftime("%e-%^b-%4Y");break;case"r":i+=t.$strftime("%I:%M:%S %p");break;case"R":i+=t.$strftime("%H:%M");break;case"T":case"X":i+=t.$strftime("%H:%M:%S");break;default:return e}return c&&(i=i.toUpperCase()),u&&(i=i.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),a&&(l||s)&&(i=i.$rjust(isNaN(r)?2:r,s?" ":"0")),i})},K.$$arity=1),e.defn($e,"$sunday?",W=function(){return 0==this.$wday()},W.$$arity=0),e.defn($e,"$thursday?",X=function(){return 4==this.$wday()},X.$$arity=0),e.defn($e,"$to_a",V=function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]},V.$$arity=0),e.defn($e,"$to_f",J=function(){return this.getTime()/1e3},J.$$arity=0),e.defn($e,"$to_i",Z=function(){var e=this;return parseInt(e.getTime()/1e3,10)},Z.$$arity=0),e.alias($e,"to_s","inspect"),e.defn($e,"$tuesday?",Q=function(){return 2==this.$wday()},Q.$$arity=0),e.alias($e,"tv_sec","to_i"),e.alias($e,"tv_usec","usec"),e.alias($e,"utc?","gmt?"),e.alias($e,"gmtoff","gmt_offset"),e.alias($e,"utc_offset","gmt_offset"),e.defn($e,"$wday",ee=function(){var e=this;return e.is_utc?e.getUTCDay():e.getDay()},ee.$$arity=0),e.defn($e,"$wednesday?",te=function(){return 3==this.$wday()},te.$$arity=0),e.defn($e,"$year",ne=function(){var e=this;return e.is_utc?e.getUTCFullYear():e.getFullYear()},ne.$$arity=0),e.defn($e,"$cweek_cyear",re=function(){var t,n,l=this,a=c,s=c,u=c,_=c,d=c,f=c,p=c;return a=e.const_get(ie,"Time",!0,!0).$new(l.$year(),1,1),s=a.$wday(),0,u=l.$year(),n=i(s,4),(t=n!==!1&&n!==c&&null!=n?s["$!="](0):n)===c||null==t||t.$$is_boolean&&1!=t?(_=o(o(s,7),1),_["$=="](-8)&&(_=-1)):_=o(s,1),d=$(r(l.$yday(),_),7).$ceil(),(t=i(d,0))===c||null==t||t.$$is_boolean&&1!=t?(d["$=="](53)&&(f=e.const_get(ie,"Time",!0,!0).$new(l.$year(),12,31),p=f.$wday(),n=i(p,3),(t=n!==!1&&n!==c&&null!=n?p["$!="](0):n)===c||null==t||t.$$is_boolean&&1!=t||(d=1,u=r(u,1))),[d,u]):e.const_get(ie,"Time",!0,!0).$new(o(l.$year(),1),12,31).$cweek_cyear()},re.$$arity=0),c&&"cweek_cyear"}(a.base,Date,s)},Opal.modules["corelib/struct"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.klass),u=e.send,_=e.hash2;return e.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig","$values_at"]),i.$require("corelib/enumerable"),function(i,l,a){function d(){}var f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N=d=c(i,null,"Struct",d),j=(N.$$proto,N.$$scope),L=a.slice().concat(j);return N.$include(e.const_get(L,"Enumerable",!0,!0)),e.defs(N,"$new",f=function(t,n){var r,$,o,i=this,l=f.$$p,a=l||s,c=s,_=arguments.length,d=_-1;d<0&&(d=0),o=new Array(d);for(var p=1;p<_;p++)o[p-1]=arguments[p];if(l&&(f.$$p=null),t!==!1&&t!==s&&null!=t)try{t=e.Opal["$const_name!"](t)}catch(n){if(!e.rescue(n,[e.const_get(L,"TypeError",!0,!0),e.const_get(L,"NameError",!0,!0)]))throw n;try{o.$unshift(t),t=s}finally{e.pop_exception()}}return u(o,"map",[],(r=function(t){r.$$s;return null==t&&(t=s),e.Opal["$coerce_to!"](t,e.String,"to_str")},r.$$s=i,r.$$arity=1,r)),c=u(e.const_get(L,"Class",!0,!0),"new",[i],($=function(){var t,n=$.$$s||this;return u(o,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=s),n.$define_struct_attribute(e)},t.$$s=n,t.$$arity=1,t)),function(t,n){var r;t.$$proto,t.$$scope,n.slice().concat(t);return e.defn(t,"$new",r=function(t){var n,r=this,$=s,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];return $=r.$allocate(),$.$$data={},u($,"initialize",e.to_a(n)),$},r.$$arity=-1),e.alias(t,"[]","new")}(e.get_singleton_class(n),L)},$.$$s=i,$.$$arity=0,$)),a!==!1&&a!==s&&null!=a&&u(c,"module_eval",[],a.$to_proc()),t!==!1&&t!==s&&null!=t&&e.const_get(L,"Struct",!0,!0).$const_set(t,c),c},f.$$arity=-2),e.defs(N,"$define_struct_attribute",p=function(t){var n,r,$=this;return $["$=="](e.const_get(L,"Struct",!0,!0))&&$.$raise(e.const_get(L,"ArgumentError",!0,!0),"you cannot define attributes to the Struct class"),$.$members()["$<<"](t),u($,"define_method",[t],(n=function(){return(n.$$s||this).$$data[t]},n.$$s=$,n.$$arity=0,n)),u($,"define_method",[t+"="],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e},r.$$s=$,r.$$arity=1,r))},p.$$arity=1),e.defs(N,"$members",h=function(){var t,n=this;return null==n.members&&(n.members=s),n["$=="](e.const_get(L,"Struct",!0,!0))&&n.$raise(e.const_get(L,"ArgumentError",!0,!0),"the Struct class has no members"),(t=n.members)!==!1&&t!==s&&null!=t?t:n.members=[]},h.$$arity=0),e.defs(N,"$inherited",g=function(e){var t,n=this,r=s;return null==n.members&&(n.members=s),r=n.members,u(e,"instance_eval",[],(t=function(){return(t.$$s||this).members=r},t.$$s=n,t.$$arity=0,t))},g.$$arity=1),e.defn(N,"$initialize",b=function(r){var $,o,i,l=this,a=arguments.length,c=a-0;c<0&&(c=0),i=new Array(c);for(var _=0;_<a;_++)i[_-0]=arguments[_];return($=t(i.$length(),l.$class().$members().$length()))===s||null==$||$.$$is_boolean&&1!=$||l.$raise(e.const_get(L,"ArgumentError",!0,!0),"struct size differs"),u(l.$class().$members(),"each_with_index",[],(o=function(t,r){var $=o.$$s||this,l=s;return null==t&&(t=s),null==r&&(r=s),l=[t,i["$[]"](r)],u($,"[]=",e.to_a(l)),l[n(l.length,1)]},o.$$s=l,o.$$arity=2,o))},b.$$arity=-1),e.defn(N,"$members",m=function(){return this.$class().$members()},m.$$arity=0),e.defn(N,"$hash",y=function(){var t=this;return e.const_get(L,"Hash",!0,!0).$new(t.$$data).$hash()},y.$$arity=0),e.defn(N,"$[]",v=function(t){var n,o=this;return(n=e.Integer["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?(n=e.String["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?o.$raise(e.const_get(L,"TypeError",!0,!0),"no implicit conversion of "+t.$class()+" into Integer"):o.$$data.hasOwnProperty(t)||o.$raise(e.const_get(L,"NameError",!0,!0).$new("no member '"+t+"' in struct",t)):((n=r(t,o.$class().$members().$size()["$-@"]()))===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too small for struct(size:"+o.$class().$members().$size()+")"),(n=$(t,o.$class().$members().$size()))===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too large for struct(size:"+o.$class().$members().$size()+")"),t=o.$class().$members()["$[]"](t)),t=e.Opal["$coerce_to!"](t,e.String,"to_str"),o.$$data[t]},v.$$arity=1),e.defn(N,"$[]=",w=function(t,n){var o,i=this;return(o=e.Integer["$==="](t))===s||null==o||o.$$is_boolean&&1!=o?(o=e.String["$==="](t))===s||null==o||o.$$is_boolean&&1!=o?i.$raise(e.const_get(L,"TypeError",!0,!0),"no implicit conversion of "+t.$class()+" into Integer"):((o=i.$class().$members()["$include?"](t.$to_sym()))===s||null==o||o.$$is_boolean&&1!=o)&&i.$raise(e.const_get(L,"NameError",!0,!0).$new("no member '"+t+"' in struct",t)):((o=r(t,i.$class().$members().$size()["$-@"]()))===s||null==o||o.$$is_boolean&&1!=o||i.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too small for struct(size:"+i.$class().$members().$size()+")"),(o=$(t,i.$class().$members().$size()))===s||null==o||o.$$is_boolean&&1!=o||i.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too large for struct(size:"+i.$class().$members().$size()+")"),t=i.$class().$members()["$[]"](t)),t=e.Opal["$coerce_to!"](t,e.String,"to_str"),i.$$data[t]=n},w.$$arity=2),e.defn(N,"$==",x=function(t){function n(t,r){var $,l,a;o[t.$__id__()]=!0,i[r.$__id__()]=!0;for($ in t.$$data)if(l=t.$$data[$],a=r.$$data[$],e.const_get(L,"Struct",!0,!0)["$==="](l)){if(!(o.hasOwnProperty(l.$__id__())&&i.hasOwnProperty(a.$__id__())||n(l,a)))return!1}else if(!l["$=="](a))return!1;return!0}var r,$=this;if((r=t["$instance_of?"]($.$class()))===s||null==r||r.$$is_boolean&&1!=r)return!1;var o={},i={};return n($,t)},x.$$arity=1),e.defn(N,"$eql?",k=function(t){function n(t,r){var $,l,a;o[t.$__id__()]=!0,i[r.$__id__()]=!0;for($ in t.$$data)if(l=t.$$data[$],a=r.$$data[$],e.const_get(L,"Struct",!0,!0)["$==="](l)){if(!(o.hasOwnProperty(l.$__id__())&&i.hasOwnProperty(a.$__id__())||n(l,a)))return!1}else if(!l["$eql?"](a))return!1;return!0}var r,$=this;if((r=t["$instance_of?"]($.$class()))===s||null==r||r.$$is_boolean&&1!=r)return!1;var o={},i={};return n($,t)},k.$$arity=1),e.defn(N,"$each",O=function(){var t,n,r=this,$=O.$$p,o=$||s;return $&&(O.$$p=null),o===s?u(r,"enum_for",["each"],(t=function(){return(t.$$s||this).$size()},t.$$s=r,t.$$arity=0,t)):(u(r.$class().$members(),"each",[],(n=function(t){var r=n.$$s||this;return null==t&&(t=s),e.yield1(o,r["$[]"](t))},n.$$s=r,n.$$arity=1,n)),r)},O.$$arity=0),e.defn(N,"$each_pair",E=function(){var t,n,r=this,$=E.$$p,o=$||s;return $&&(E.$$p=null),o===s?u(r,"enum_for",["each_pair"],(t=function(){return(t.$$s||this).$size()},t.$$s=r,t.$$arity=0,t)):(u(r.$class().$members(),"each",[],(n=function(t){var r=n.$$s||this;return null==t&&(t=s),e.yield1(o,[t,r["$[]"](t)])},n.$$s=r,n.$$arity=1,n)),r)},E.$$arity=0),e.defn(N,"$length",A=function(){return this.$class().$members().$length()},A.$$arity=0),e.alias(N,"size","length"),e.defn(N,"$to_a",S=function(){var e,t=this;return u(t.$class().$members(),"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=s),n["$[]"](t)},e.$$s=t,e.$$arity=1,e))},S.$$arity=0),e.alias(N,"values","to_a"),e.defn(N,"$inspect",R=function(){var t,n,r,$=this,i=s;return i="#<struct ",n=e.const_get(L,"Struct",!0,!0)["$==="]($),(t=n!==!1&&n!==s&&null!=n?$.$class().$name():n)===s||null==t||t.$$is_boolean&&1!=t||(i=o(i,$.$class()+" ")),i=o(i,u($.$each_pair(),"map",[],(r=function(e,t){r.$$s;return null==e&&(e=s),null==t&&(t=s),e+"="+t.$inspect()},r.$$s=$,r.$$arity=2,r)).$join(", ")),i=o(i,">")},R.$$arity=0),e.alias(N,"to_s","inspect"),e.defn(N,"$to_h",M=function(){var t,r=this;return u(r.$class().$members(),"inject",[_([],{})],(t=function(r,$){var o=t.$$s||this,i=s;return null==r&&(r=s),null==$&&($=s),i=[$,o["$[]"]($)],u(r,"[]=",e.to_a(i)),i[n(i.length,1)],r},t.$$s=r,t.$$arity=2,t))},M.$$arity=0),e.defn(N,"$values_at",T=function(t){var n,r,$=this,o=arguments.length,i=o-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<o;l++)r[l-0]=arguments[l];r=u(r,"map",[],(n=function(e){n.$$s;return null==e&&(e=s),e.$$is_range?e.$to_a():e},n.$$s=$,n.$$arity=1,n)).$flatten();for(var a=[],c=0,_=r.length;c<_;c++)r[c].$$is_number||$.$raise(e.const_get(L,"TypeError",!0,!0),"no implicit conversion of "+r[c].$class()+" into Integer"),a.push($["$[]"](r[c]));return a},T.$$arity=-1),e.defn(N,"$dig",I=function(t,n){var r,$,o=this,i=s,l=arguments.length,a=l-1;a<0&&(a=0),$=new Array(a);for(var c=1;c<l;c++)$[c-1]=arguments[c];return(i=(r=t.$$is_string&&o.$$data.hasOwnProperty(t))===s||null==r||r.$$is_boolean&&1!=r?s:o.$$data[t]||s)===s||0===$.length?i:(((r=i["$respond_to?"]("dig"))===s||null==r||r.$$is_boolean&&1!=r)&&o.$raise(e.const_get(L,"TypeError",!0,!0),i.$class()+" does not have #dig method"),u(i,"dig",e.to_a($)))},I.$$arity=-2),e.defs(N,"$_load",C=function(t){var n=this,r=s;return r=u(t,"values_at",e.to_a(n.$members())),u(n,"new",e.to_a(r))},C.$$arity=1)}(l.base,0,a)},Opal.modules["corelib/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass),i=e.module,l=e.send,a=e.gvars,s=$;e.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(t,n,r){function s(){}var c,u,_,d,f=s=o(t,null,"IO",s),p=f.$$proto,h=f.$$scope,g=r.slice().concat(h);p.tty=p.closed=$,e.cdecl(h,"SEEK_SET",0),e.cdecl(h,"SEEK_CUR",1),e.cdecl(h,"SEEK_END",2),e.defn(f,"$tty?",c=function(){return this.tty},c.$$arity=0),e.defn(f,"$closed?",u=function(){return this.closed},u.$$arity=0),f.$attr_accessor("write_proc"),e.defn(f,"$write",_=function(e){return this.write_proc(e),e.$size()},_.$$arity=1),f.$attr_accessor("sync","tty"),e.defn(f,"$flush",d=function(){return $},d.$$arity=0),function(t,n){var r,o,s,c,u=r=i(t,"Writable"),_=(u.$$proto,u.$$scope);n.slice().concat(_);e.defn(u,"$<<",o=function(e){var t=this;return t.$write(e),t},o.$$arity=1),e.defn(u,"$print",s=function(e){var t,n,r=this;null==a[","]&&(a[","]=$);var o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<o;s++)n[s-0]=arguments[s];return r.$write(l(n,"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=$),n.$String(e)},t.$$s=r,t.$$arity=1,t)).$join(a[","])),$},s.$$arity=-1),e.defn(u,"$puts",c=function(e){var t,n,r,o=this,i=$;null==a["/"]&&(a["/"]=$);var s=arguments.length,c=s-0;c<0&&(c=0),r=new Array(c);for(var u=0;u<s;u++)r[u-0]=arguments[u];return i=a["/"],(t=r["$empty?"]())===$||null==t||t.$$is_boolean&&1!=t?o.$write(l(r,"map",[],(n=function(e){var t=n.$$s||this;return null==e&&(e=$),t.$String(e).$chomp()},n.$$s=o,n.$$arity=1,n)).$concat([$]).$join(i)):o.$write(a["/"]),$},c.$$arity=-1)}(h.base,g),function(t,n){var r,o,l,s,c,u=r=i(t,"Readable"),_=(u.$$proto,u.$$scope),d=n.slice().concat(_);e.defn(u,"$readbyte",o=function(){return this.$getbyte()},o.$$arity=0),e.defn(u,"$readchar",l=function(){return this.$getc()},l.$$arity=0),e.defn(u,"$readline",s=function(t){var n=this;return null==a["/"]&&(a["/"]=$),null==t&&(t=a["/"]),n.$raise(e.const_get(d,"NotImplementedError",!0,!0))},s.$$arity=-1),e.defn(u,"$readpartial",c=function(t,n){var r=this;return null==n&&(n=$),r.$raise(e.const_get(d,"NotImplementedError",!0,!0))},c.$$arity=-2)}(h.base,g)}(n.base,0,r),e.cdecl(n,"STDERR",a.stderr=e.const_get(r,"IO",!0,!0).$new()),e.cdecl(n,"STDIN",a.stdin=e.const_get(r,"IO",!0,!0).$new()),e.cdecl(n,"STDOUT",a.stdout=e.const_get(r,"IO",!0,!0).$new());var c=e.global.console;return s=["object"==typeof process?function(e){process.stdout.write(e)}:function(e){c.log(e)}],l(e.const_get(r,"STDOUT",!0,!0),"write_proc=",e.to_a(s)),s[t(s.length,1)],s=["object"==typeof process?function(e){process.stderr.write(e)}:function(e){c.warn(e)}],l(e.const_get(r,"STDERR",!0,!0),"write_proc=",e.to_a(s)),s[t(s.length,1)],e.const_get(r,"STDOUT",!0,!0).$extend(e.const_get([e.const_get(r,"IO",!0,!0).$$scope],"Writable",!0,!0)),e.const_get(r,"STDERR",!0,!0).$extend(e.const_get([e.const_get(r,"IO",!0,!0).$$scope],"Writable",!0,!0))},Opal.modules["corelib/main"]=function(e){var t,n,r=e.top,$=[e];e.nil,e.breaker,e.slice;return e.add_stubs(["$include"]),e.defs(r,"$to_s",t=function(){return"main"},t.$$arity=0),e.defs(r,"$include",n=function(t){return e.const_get($,"Object",!0,!0).$include(t)},n.$$arity=1)},Opal.modules["corelib/dir"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$[]"]),function(t,n,o){function i(){}var l=i=$(t,null,"Dir",i),a=(l.$$proto,l.$$scope),s=o.slice().concat(a);return function(t,n){var $,o,i,l=(t.$$proto,t.$$scope,n.slice().concat(t));return e.defn(t,"$chdir",$=function(t){var n=$.$$p,o=n||r,i=r;return n&&($.$$p=null),function(){try{return i=e.current_dir,e.current_dir=t,e.yieldX(o,[])}finally{e.current_dir=i}}()},$.$$arity=1),e.defn(t,"$pwd",o=function(){return e.current_dir||"."},o.$$arity=0),e.alias(t,"getwd","pwd"),e.defn(t,"$home",i=function(){var t;return(t=e.const_get(l,"ENV",!0,!0)["$[]"]("HOME"))!==!1&&t!==r&&null!=t?t:"."},i.$$arity=0),r&&"home"}(e.get_singleton_class(l),s)}(t.base,0,n)},Opal.modules["corelib/file"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),$=[e],o=e.nil,i=(e.breaker,e.slice,e.klass),l=e.send,a=e.range;return e.add_stubs(["$join","$compact","$split","$==","$first","$home","$[]=","$-","$pwd","$each","$pop","$<<","$respond_to?","$coerce_to!","$+","$basename","$empty?","$rindex","$[]","$nil?","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?","$start_with?","$sub"]),function(r,$,s){function c(){}var u=c=i(r,$,"File",c),_=(u.$$proto,u.$$scope),d=s.slice().concat(_);return e.cdecl(_,"Separator",e.cdecl(_,"SEPARATOR","/")),e.cdecl(_,"ALT_SEPARATOR",o),e.cdecl(_,"PATH_SEPARATOR",":"),e.cdecl(_,"FNM_SYSCASE",0),function(r,$){function i(t){return(u=t["$respond_to?"]("to_path"))===o||null==u||u.$$is_boolean&&1!=u||(t=t.$to_path()),t=e.Opal["$coerce_to!"](t,e.String,"to_str")}function s(){return e.const_get(m,"ALT_SEPARATOR",!0,!0)===o?e.escape_regexp(e.const_get(m,"SEPARATOR",!0,!0)):e.escape_regexp(n(e.const_get(m,"SEPARATOR",!0,!0),e.const_get(m,"ALT_SEPARATOR",!0,!0)))}var c,u,_,d,f,p,h,g,b,m=(r.$$proto,r.$$scope,$.slice().concat(r));return e.defn(r,"$expand_path",c=function(n,r){var $,i=this,a=o,s=o,c=o;return null==r&&(r=o),n=[r,n].$compact().$join(e.const_get(m,"SEPARATOR",!0,!0)),a=n.$split(e.const_get(m,"SEPARATOR",!0,!0)),s=[],a.$first()["$=="]("~")&&(c=[0,e.const_get(m,"Dir",!0,!0).$home()],l(a,"[]=",e.to_a(c)),c[t(c.length,1)]),a.$first()["$=="](".")&&(c=[0,e.const_get(m,"Dir",!0,!0).$pwd()],l(a,"[]=",e.to_a(c)),c[t(c.length,1)]),l(a,"each",[],($=function(e){$.$$s;return null==e&&(e=o),e["$=="]("..")?s.$pop():s["$<<"](e)},$.$$s=i,$.$$arity=1,$)),s.$join(e.const_get(m,"SEPARATOR",!0,!0))},c.$$arity=-2),e.alias(r,"realpath","expand_path"),e.defn(r,"$dirname",_=function(e){var t=o;t=s(),e=i(e);var n=e.match(new RegExp("^["+t+"]"));return e=e.replace(new RegExp("["+t+"]+$"),""),e=e.replace(new RegExp("[^"+t+"]+$"),""),e=e.replace(new RegExp("["+t+"]+$"),""),""===e?n?"/":".":e},_.$$arity=1),e.defn(r,"$basename",d=function(t,n){var r=o;return null==n&&(n=o),r=s(),t=i(t),0==t.length?t:(n=n!==o?e.Opal["$coerce_to!"](n,e.String,"to_str"):null,t=t.replace(new RegExp("(.)["+r+"]*$"),"$1"),t=t.replace(new RegExp("^(?:.*["+r+"])?([^"+r+"]+)$"),"$1"),".*"===n?t=t.replace(/\.[^\.]+$/,""):null!==n&&(n=e.escape_regexp(n),t=t.replace(new RegExp(n+"$"),"")),t)},d.$$arity=-2),e.defn(r,"$extname",f=function(r){var $,l,s=this,c=o,u=o;return r=i(r),c=s.$basename(r),($=c["$empty?"]())===o||null==$||$.$$is_boolean&&1!=$?(u=c["$[]"](a(1,-1,!1)).$rindex("."),($=(l=u["$nil?"]())!==!1&&l!==o&&null!=l?l:n(u,1)["$=="](t(c.$length(),1)))===o||null==$||$.$$is_boolean&&1!=$?c["$[]"](e.Range.$new(n(u,1),-1,!1)):""):""},f.$$arity=1),e.defn(r,"$exist?",p=function(t){return null!=e.modules[t]},p.$$arity=1),e.alias(r,"exists?","exist?"),e.defn(r,"$directory?",h=function(t){var n,r=this,$=o;$=[];for(var i in e.modules)$.push(i);return t=t.$gsub(new RegExp("(^."+e.const_get(m,"SEPARATOR",!0,!0)+"+|"+e.const_get(m,"SEPARATOR",!0,!0)+"+$)")),l($,"find",[],(n=function(e){n.$$s;return null==e&&(e=o),e["$=~"](new RegExp("^"+t))},n.$$s=r,n.$$arity=1,n))},h.$$arity=1),e.defn(r,"$join",g=function(t){var r,$,i,a,s=this,c=o,u=arguments.length,_=u-0;_<0&&(_=0),a=new Array(_);for(var d=0;d<u;d++)a[d-0]=arguments[d];return a.$length()["$=="](0)?"":(c="",a=l(a.$flatten().$each_with_index(),"map",[],(r=function(t,$){var i;r.$$s;return null==t&&(t=o),null==$&&($=o),((i=$["$=="](0)?t["$empty?"]():$["$=="](0))===o||null==i||i.$$is_boolean&&1!=i)&&((i=a.$length()["$=="](n($,1))?t["$empty?"]():a.$length()["$=="](n($,1)))===o||null==i||i.$$is_boolean&&1!=i)?t:e.const_get(m,"SEPARATOR",!0,!0)},r.$$s=s,r.$$arity=2,r)),a=l(a,"reject",[],($=function(e){$.$$s;return null==e&&(e=o),e["$empty?"]()},$.$$s=s,$.$$arity=1,$)),l(a,"each_with_index",[],(i=function(t,r){var $,l,s=(i.$$s,o);return null==t&&(t=o),null==r&&(r=o),s=a["$[]"](n(r,1)),($=s["$nil?"]())===o||null==$||$.$$is_boolean&&1!=$?(l=t["$end_with?"](e.const_get(m,"SEPARATOR",!0,!0)),($=l!==!1&&l!==o&&null!=l?s["$start_with?"](e.const_get(m,"SEPARATOR",!0,!0)):l)===o||null==$||$.$$is_boolean&&1!=$||(t=t.$sub(new RegExp(e.const_get(m,"SEPARATOR",!0,!0)+"+$"),"")),c=($=(l=t["$end_with?"](e.const_get(m,"SEPARATOR",!0,!0)))!==!1&&l!==o&&null!=l?l:s["$start_with?"](e.const_get(m,"SEPARATOR",!0,!0)))===o||null==$||$.$$is_boolean&&1!=$?""+c+t+e.const_get(m,"SEPARATOR",!0,!0):""+c+t):c=""+c+t},i.$$s=s,i.$$arity=2,i)),c)},g.$$arity=-1),e.defn(r,"$split",b=function(t){return t.$split(e.const_get(m,"SEPARATOR",!0,!0))},b.$$arity=1),o&&"split"}(e.get_singleton_class(u),d)}(r.base,e.const_get($,"IO",!0,!0),$)},Opal.modules["corelib/process"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$to_f","$now","$new"]),function(t,n,o){function i(){}var l,a,s,c=i=$(t,null,"Process",i),u=(c.$$proto,c.$$scope),_=o.slice().concat(u);e.cdecl(u,"CLOCK_REALTIME",0),e.cdecl(u,"CLOCK_MONOTONIC",1),e.defs(c,"$pid",l=function(){return 0},l.$$arity=0),e.defs(c,"$times",a=function(){var t=r;return t=e.const_get(_,"Time",!0,!0).$now().$to_f(),e.const_get([e.const_get(_,"Benchmark",!0,!0).$$scope],"Tms",!0,!0).$new(t,t,t,t,t)},a.$$arity=0),e.defs(c,"$clock_gettime",s=function(t,n){return null==n&&(n=r),e.const_get(_,"Time",!0,!0).$now().$to_f()},s.$$arity=-2)}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=$(t,null,"Signal",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);e.defs(a,"$trap",l=function(e){return r},l.$$arity=-1)}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=$(t,null,"GC",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return e.defs(a,"$start",l=function(){return r},l.$$arity=0)}(t.base,0,n)},Opal.modules["corelib/random/seedrandom"]=function(e){var t=(e.top,e),n=[e],r=(e.nil,e.breaker,e.slice,e.klass);return function(e,t,n){function $(){}var o=$=r(e,null,"Random",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);!function(e,t){function n(n,s,c){var g=[];s=1==s?{entropy:!0}:s||{};var b=i(o(s.entropy?[n,a(e)]:null==n?l():n,3),g),m=new r(g),y=function(){for(var e=m.g(_),t=f,n=0;e<p;)e=(e+n)*u,t*=u,n=m.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,i(a(m.S),e),(s.pass||c||function(e,n,r,o){return o&&(o.S&&$(o,m),e.state=function(){return $(m,{})}),r?(t[d]=e,n):e})(y,b,"global"in s?s.global:this==t,s.state)}function r(e){var t,n=e.length,r=this,$=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);$<u;)i[$]=$++;for($=0;$<u;$++)i[$]=i[o=g&o+e[$%n]+(t=i[$])],i[o]=t;(r.g=function(e){for(var t,n=0,$=r.i,o=r.j,i=r.S;e--;)t=i[$=g&$+1],n=n*u+i[g&(i[$]=i[o=g&o+t])+(i[o]=t)];return r.i=$,r.j=o,n})(u)}function $(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function o(e,t){var n,r=[],$=typeof e;if(t&&"object"==$)for(n in e)if(e.hasOwnProperty(n))try{r.push(o(e[n],t-1))}catch(e){}return r.length?r:"string"==$?e:e+"\0"}function i(e,t){for(var n,r=e+"",$=0;$<r.length;)t[g&$]=g&(n^=19*t[g&$])+r.charCodeAt($++);return a(t)}function l(){try{if(s)return a(s.randomBytes(u));var t=new Uint8Array(u);return(c.crypto||c.msCrypto).getRandomValues(t),a(t)}catch(t){var n=c.navigator,r=n&&n.plugins;return[+new Date,c,r,c.screen,a(e)]}}function a(e){return String.fromCharCode.apply(0,e)}var s,c=this,u=256,_=6,d="random",f=t.pow(u,_),p=t.pow(2,52),h=2*p,g=u-1;if(t["seed"+d]=n,i(t.random(),e),"object"==typeof module&&module.exports){module.exports=n;try{s=require("crypto")}catch(e){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return n})}([],Math)}(t.base,0,n)},Opal.modules["corelib/random"]=function(e){var t=e.top,n=e,r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),t.$require("corelib/random/seedrandom.js"),function(t,n,r){function l(){}var a,s,c,u,_,d,f,p,h=l=o(t,null,"Random",l),g=(h.$$proto,h.$$scope),b=r.slice().concat(g);h.$attr_reader("seed","state"),e.defn(h,"$initialize",a=function(t){var n=this;return null==t&&(t=e.const_get(b,"Random",!0,!0).$new_seed()),t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),n.state=t,n.$reseed(t)},a.$$arity=-1),e.defn(h,"$reseed",s=function(e){var t=this;return t.seed=e,t.$rng=new Math.seedrandom(e)},s.$$arity=1);var m=new Math.seedrandom("opal",{entropy:!0});return e.defs(h,"$new_seed",c=function(){return Math.abs(m.int32())},c.$$arity=0),e.defs(h,"$rand",u=function(t){return e.const_get(b,"DEFAULT",!0,!0).$rand(t)},u.$$arity=-1),e.defs(h,"$srand",_=function(t){var n=$;return null==t&&(t=e.const_get(b,"Random",!0,!0).$new_seed()),t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),n=e.const_get(b,"DEFAULT",!0,!0).$seed(),e.const_get(b,"DEFAULT",!0,!0).$reseed(t),n},_.$$arity=-1),e.cdecl(g,"DEFAULT",h.$new(h.$new_seed())),e.defn(h,"$==",d=function(t){var n,r=this;return!((n=e.const_get(b,"Random",!0,!0)["$==="](t))===$||null==n||n.$$is_boolean&&1!=n)&&((n=r.$seed()["$=="](t.$seed()))?r.$state()["$=="](t.$state()):r.$seed()["$=="](t.$seed()))},d.$$arity=1),e.defn(h,"$bytes",f=function(t){var n,r=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),i(t.$times(),"map",[],(n=function(){return(n.$$s||this).$rand(255).$chr()},n.$$s=r,n.$$arity=0,n)).$join().$encode(e.const_get([e.const_get(b,"Encoding",!0,!0).$$scope],"ASCII_8BIT",!0,!0))},f.$$arity=1),e.defn(h,"$rand",p=function(t){function n(){return o.state++,o.$rng.quick()}function r(){return Math.floor(n()*t)}var o=this;return null==t?n():t.$$is_range?function(){var e=t.begin,n=t.end;if(e===$||n===$)return $;var r=n-e;return r<0?$:0===r?e:(n%1!=0||e%1!=0||t.exclude||r++,o.$rand(r)+e)}():t.$$is_number?(t<=0&&o.$raise(e.const_get(b,"ArgumentError",!0,!0),"invalid argument - "+t),t%1==0?r():n()*t):(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t<=0&&o.$raise(e.const_get(b,"ArgumentError",!0,!0),"invalid argument - "+t),r())},p.$$arity=-1),$&&"rand"}(n.base,0,r)},Opal.modules["corelib/unsupported"]=function(e){function t(t){switch(e.config.unsupported_features_severity){case"error":e.const_get(l,"Kernel",!0,!0).$raise(e.const_get(l,"NotImplementedError",!0,!0),t);break;case"warning":n(t)}}function n(e){u[e]||(u[e]=!0,o.$warn(e))}var r,$,o=e.top,i=e,l=[e],a=e.nil,s=(e.breaker,e.slice,e.klass),c=e.module;e.add_stubs(["$raise","$warn","$%"]);var u={};return function(t,n,r){function $(){}var o,i,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k=$=s(t,null,"String",$),O=(k.$$proto,k.$$scope),E=r.slice().concat(O),A="String#%s not supported. Mutable String methods are not supported in Opal.";e.defn(k,"$<<",o=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("<<"))},o.$$arity=-1),e.defn(k,"$capitalize!",i=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("capitalize!"))},i.$$arity=-1),e.defn(k,"$chomp!",l=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("chomp!"))},l.$$arity=-1),e.defn(k,"$chop!",a=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("chop!"))},a.$$arity=-1),e.defn(k,"$downcase!",c=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("downcase!"))},c.$$arity=-1),e.defn(k,"$gsub!",u=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("gsub!"))},u.$$arity=-1),e.defn(k,"$lstrip!",_=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("lstrip!"))
},_.$$arity=-1),e.defn(k,"$next!",d=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("next!"))},d.$$arity=-1),e.defn(k,"$reverse!",f=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("reverse!"))},f.$$arity=-1),e.defn(k,"$slice!",p=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("slice!"))},p.$$arity=-1),e.defn(k,"$squeeze!",h=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("squeeze!"))},h.$$arity=-1),e.defn(k,"$strip!",g=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("strip!"))},g.$$arity=-1),e.defn(k,"$sub!",b=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("sub!"))},b.$$arity=-1),e.defn(k,"$succ!",m=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("succ!"))},m.$$arity=-1),e.defn(k,"$swapcase!",y=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("swapcase!"))},y.$$arity=-1),e.defn(k,"$tr!",v=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("tr!"))},v.$$arity=-1),e.defn(k,"$tr_s!",w=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("tr_s!"))},w.$$arity=-1),e.defn(k,"$upcase!",x=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("upcase!"))},x.$$arity=-1)}(i.base,0,l),function(n,r){var $,o,i,l=$=c(n,"Kernel"),a=(l.$$proto,l.$$scope),s=(r.slice().concat(a),"Object freezing is not supported by Opal");e.defn(l,"$freeze",o=function(){var e=this;return t(s),e},o.$$arity=0),e.defn(l,"$frozen?",i=function(){return t(s),!1},i.$$arity=0)}(i.base,l),function(n,r){var $,o,i,l,a=$=c(n,"Kernel"),s=(a.$$proto,a.$$scope),u=(r.slice().concat(s),"Object tainting is not supported by Opal");e.defn(a,"$taint",o=function(){var e=this;return t(u),e},o.$$arity=0),e.defn(a,"$untaint",i=function(){var e=this;return t(u),e},i.$$arity=0),e.defn(a,"$tainted?",l=function(){return t(u),!1},l.$$arity=0)}(i.base,l),function(t,n,r){function $(){}var o,i,l,c,u=$=s(t,null,"Module",$),_=(u.$$proto,u.$$scope);r.slice().concat(_);e.defn(u,"$public",o=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return 0===t.length&&(n.$$module_function=!1),a},o.$$arity=-1),e.alias(u,"private","public"),e.alias(u,"protected","public"),e.alias(u,"nesting","public"),e.defn(u,"$private_class_method",i=function(e){return this},i.$$arity=-1),e.alias(u,"public_class_method","private_class_method"),e.defn(u,"$private_method_defined?",l=function(e){return!1},l.$$arity=1),e.defn(u,"$private_constant",c=function(e){return a},c.$$arity=-1),e.alias(u,"protected_method_defined?","private_method_defined?"),e.alias(u,"public_instance_methods","instance_methods"),e.alias(u,"public_method_defined?","method_defined?")}(i.base,0,l),function(t,n){var r,$,o=r=c(t,"Kernel"),i=(o.$$proto,o.$$scope);n.slice().concat(i);e.defn(o,"$private_methods",$=function(e){return[]},$.$$arity=-1),e.alias(o,"private_instance_methods","private_methods")}(i.base,l),function(t,n){var r,$,o=r=c(t,"Kernel"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.defn(o,"$eval",$=function(t){return this.$raise(e.const_get(l,"NotImplementedError",!0,!0),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+e.const_get(l,"RUBY_ENGINE_VERSION",!0,!0)+"/docs/opal_parser.md for details.")},$.$$arity=-1)}(i.base,l),e.defs(o,"$public",r=function(e){return a},r.$$arity=-1),e.defs(o,"$private",$=function(e){return a},$.$$arity=-1)},Opal.modules.opal=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/string/inheritance"),t.$require("corelib/string/encoding"),t.$require("corelib/math"),t.$require("corelib/complex"),t.$require("corelib/rational"),t.$require("corelib/time"),t.$require("corelib/struct"),t.$require("corelib/io"),t.$require("corelib/main"),t.$require("corelib/dir"),t.$require("corelib/file"),t.$require("corelib/process"),t.$require("corelib/random"),t.$require("corelib/unsupported")},Opal.require("opal")}!function(e,t){"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define("asciidoctor",["module"],function(e){return t(e.config())}):e.Asciidoctor=t}(this,function(e){Opal.modules.set=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var $=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.klass),a=e.send,s=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function($,o,s){function c(){}var u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D=c=l($,null,"Set",c),B=D.$$proto,q=D.$$scope,U=s.slice().concat(q);B.hash=i,D.$include(e.const_get(U,"Enumerable",!0,!0)),e.defs(D,"$[]",u=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return n.$new(t)},u.$$arity=-1),e.defn(D,"$initialize",_=function(t){var n,r,$=this,o=_.$$p,l=o||i;return null==t&&(t=i),o&&(_.$$p=null),$.hash=e.const_get(U,"Hash",!0,!0).$new(),(n=t["$nil?"]())===i||null==n||n.$$is_boolean&&1!=n?(((n=e.const_get(U,"Enumerable",!0,!0)["$==="](t))===i||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(U,"ArgumentError",!0,!0),"value must be enumerable"),l!==!1&&l!==i&&null!=l?a(t,"each",[],(r=function(e){var t=r.$$s||this;return null==e&&(e=i),t.$add(l.$call(e))},r.$$s=$,r.$$arity=1,r)):$.$merge(t)):i},_.$$arity=-1),e.defn(D,"$dup",d=function(){var e=this,t=i;return t=e.$class().$new(),t.$merge(e)},d.$$arity=0),e.defn(D,"$-",f=function(t){var n,r=this;return((n=t["$respond_to?"]("each"))===i||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(U,"ArgumentError",!0,!0),"value must be enumerable"),r.$dup().$subtract(t)},f.$$arity=1),e.alias(D,"difference","-"),e.defn(D,"$inspect",p=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},p.$$arity=0),e.defn(D,"$==",h=function(t){var n,r,$,o=this;return!((n=o["$equal?"](t))===i||null==n||n.$$is_boolean&&1!=n)||((n=t["$instance_of?"](o.$class()))===i||null==n||n.$$is_boolean&&1!=n?(r=t["$is_a?"](e.const_get(U,"Set",!0,!0)),!((n=r!==!1&&r!==i&&null!=r?o.$size()["$=="](t.$size()):r)===i||null==n||n.$$is_boolean&&1!=n)&&a(t,"all?",[],($=function(e){var t=$.$$s||this;return null==t.hash&&(t.hash=i),null==e&&(e=i),t.hash["$include?"](e)},$.$$s=o,$.$$arity=1,$))):o.hash["$=="](t.$instance_variable_get("@hash")))},h.$$arity=1),e.defn(D,"$add",g=function(n){var r=this,$=i;return $=[n,!0],a(r.hash,"[]=",e.to_a($)),$[t($.length,1)],r},g.$$arity=1),e.alias(D,"<<","add"),e.defn(D,"$classify",b=function(){var n,r,$=this,o=b.$$p,l=o||i,s=i;return o&&(b.$$p=null),l===i?$.$enum_for("classify"):(s=a(e.const_get(U,"Hash",!0,!0),"new",[],(n=function(r,$){var o=n.$$s||this,l=i;return null==r&&(r=i),null==$&&($=i),l=[$,o.$class().$new()],a(r,"[]=",e.to_a(l)),l[t(l.length,1)]},n.$$s=$,n.$$arity=2,n)),a($,"each",[],(r=function(t){r.$$s;return null==t&&(t=i),s["$[]"](e.yield1(l,t)).$add(t)},r.$$s=$,r.$$arity=1,r)),s)},b.$$arity=0),e.defn(D,"$collect!",m=function(){var t,n=this,r=m.$$p,$=r||i,o=i;return r&&(m.$$p=null),$===i?n.$enum_for("collect!"):(o=n.$class().$new(),a(n,"each",[],(t=function(n){t.$$s;return null==n&&(n=i),o["$<<"](e.yield1($,n))},t.$$s=n,t.$$arity=1,t)),n.$replace(o))},m.$$arity=0),e.alias(D,"map!","collect!"),e.defn(D,"$delete",y=function(e){var t=this;return t.hash.$delete(e),t},y.$$arity=1),e.defn(D,"$delete?",v=function(e){var t,n=this;return(t=n["$include?"](e))===i||null==t||t.$$is_boolean&&1!=t?i:(n.$delete(e),n)},v.$$arity=1),e.defn(D,"$delete_if",w=function(){try{var t,n,r,$=this,o=w.$$p,l=o||i;return o&&(w.$$p=null),(t=l!==i)!=!1&&t!==i&&null!=t||e.ret($.$enum_for("delete_if")),a(a($,"select",[],(n=function(t){n.$$s;return null==t&&(t=i),e.yield1(l,t)},n.$$s=$,n.$$arity=1,n)),"each",[],(r=function(e){var t=r.$$s||this;return null==t.hash&&(t.hash=i),null==e&&(e=i),t.hash.$delete(e)},r.$$s=$,r.$$arity=1,r)),$}catch(t){if(t===e.returner)return t.$v;throw t}},w.$$arity=0),e.defn(D,"$add?",x=function(e){var t,n=this;return(t=n["$include?"](e))===i||null==t||t.$$is_boolean&&1!=t?n.$add(e):i},x.$$arity=1),e.defn(D,"$each",k=function(){var e=this,t=k.$$p,n=t||i;return t&&(k.$$p=null),n===i?e.$enum_for("each"):(a(e.hash,"each_key",[],n.$to_proc()),e)},k.$$arity=0),e.defn(D,"$empty?",O=function(){return this.hash["$empty?"]()},O.$$arity=0),e.defn(D,"$eql?",E=function(e){var t,n=this;return n.hash["$eql?"](a(e,"instance_eval",[],(t=function(){var e=t.$$s||this;return null==e.hash&&(e.hash=i),e.hash},t.$$s=n,t.$$arity=0,t)))},E.$$arity=1),e.defn(D,"$clear",A=function(){var e=this;return e.hash.$clear(),e},A.$$arity=0),e.defn(D,"$include?",S=function(e){return this.hash["$include?"](e)},S.$$arity=1),e.alias(D,"member?","include?"),e.defn(D,"$merge",R=function(e){var t,n=this;return a(e,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=i),n.$add(e)},t.$$s=n,t.$$arity=1,t)),n},R.$$arity=1),e.defn(D,"$replace",M=function(e){var t=this;return t.$clear(),t.$merge(e),t},M.$$arity=1),e.defn(D,"$size",T=function(){return this.hash.$size()},T.$$arity=0),e.alias(D,"length","size"),e.defn(D,"$subtract",I=function(e){var t,n=this;return a(e,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=i),n.$delete(e)},t.$$s=n,t.$$arity=1,t)),n},I.$$arity=1),e.defn(D,"$|",C=function(t){var n,r=this;return((n=t["$respond_to?"]("each"))===i||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(U,"ArgumentError",!0,!0),"value must be enumerable"),r.$dup().$merge(t)},C.$$arity=1),e.defn(D,"$superset?",N=function(t){var r,$,o=this;return(r=t["$is_a?"](e.const_get(U,"Set",!0,!0)))!==!1&&r!==i&&null!=r||o.$raise(e.const_get(U,"ArgumentError",!0,!0),"value must be a set"),!!((r=n(o.$size(),t.$size()))===i||null==r||r.$$is_boolean&&1!=r)&&a(t,"all?",[],($=function(e){var t=$.$$s||this;return null==e&&(e=i),t["$include?"](e)},$.$$s=o,$.$$arity=1,$))},N.$$arity=1),e.alias(D,">=","superset?"),e.defn(D,"$proper_superset?",j=function(t){var n,$,o=this;return(n=t["$is_a?"](e.const_get(U,"Set",!0,!0)))!==!1&&n!==i&&null!=n||o.$raise(e.const_get(U,"ArgumentError",!0,!0),"value must be a set"),!!((n=r(o.$size(),t.$size()))===i||null==n||n.$$is_boolean&&1!=n)&&a(t,"all?",[],($=function(e){var t=$.$$s||this;return null==e&&(e=i),t["$include?"](e)},$.$$s=o,$.$$arity=1,$))},j.$$arity=1),e.alias(D,">","proper_superset?"),e.defn(D,"$subset?",L=function(t){var r,$,o=this;return(r=t["$is_a?"](e.const_get(U,"Set",!0,!0)))!==!1&&r!==i&&null!=r||o.$raise(e.const_get(U,"ArgumentError",!0,!0),"value must be a set"),!!((r=n(t.$size(),o.$size()))===i||null==r||r.$$is_boolean&&1!=r)&&a(o,"all?",[],($=function(e){$.$$s;return null==e&&(e=i),t["$include?"](e)},$.$$s=o,$.$$arity=1,$))},L.$$arity=1),e.alias(D,"<=","subset?"),e.defn(D,"$proper_subset?",z=function(t){var n,$,o=this;return(n=t["$is_a?"](e.const_get(U,"Set",!0,!0)))!==!1&&n!==i&&null!=n||o.$raise(e.const_get(U,"ArgumentError",!0,!0),"value must be a set"),!!((n=r(t.$size(),o.$size()))===i||null==n||n.$$is_boolean&&1!=n)&&a(o,"all?",[],($=function(e){$.$$s;return null==e&&(e=i),t["$include?"](e)},$.$$s=o,$.$$arity=1,$))},z.$$arity=1),e.alias(D,"<","proper_subset?"),e.alias(D,"+","|"),e.alias(D,"union","|"),e.defn(D,"$to_a",P=function(){return this.hash.$keys()},P.$$arity=0)}($.base,0,o),function(t,n){var r,$,o=r=s(t,"Enumerable"),l=(o.$$proto,o.$$scope),c=n.slice().concat(l);e.defn(o,"$to_set",$=function(t,n){var r,o=this,l=$.$$p,s=l||i;null==t&&(t=e.const_get(c,"Set",!0,!0));var u=arguments.length,_=u-1;_<0&&(_=0),r=new Array(_);for(var d=1;d<u;d++)r[d-1]=arguments[d];return l&&($.$$p=null),a(t,"new",[o].concat(e.to_a(r)),s.$to_proc())},$.$$arity=-1)}($.base,o)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module),o=e.send,i=e.klass,l=e.gvars;return e.add_stubs(["$new","$attr_reader","$delete","$gsub","$==","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split","$==="]),function(t,n){var i,l,a=i=$(t,"Kernel"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);e.defn(a,"$open",l=function(t,n){var $,i=l.$$p,a=i||r,s=r,u=arguments.length,_=u-1;_<0&&(_=0),$=new Array(_);for(var d=1;d<u;d++)$[d-1]=arguments[d];return i&&(l.$$p=null),s=o(e.const_get(c,"File",!0,!0),"new",[t].concat(e.to_a($))),a!==r?e.yield1(a,s):s},l.$$arity=-2)}(t.base,n),function(t,n,$){function o(){}var a,s,c,u,_,d,f,p,h=o=i(t,null,"File",o),g=h.$$proto,b=h.$$scope,m=$.slice().concat(b);g.eof=g.path=r,h.$attr_reader("eof"),h.$attr_reader("lineno"),h.$attr_reader("path"),e.defn(h,"$initialize",a=function(t,n){var $=this,o=r;return null==n&&(n="r"),$.path=t,$.contents=r,$.eof=!1,$.lineno=0,n=n.$delete("b"),o=/:(.*)/,n=n.$gsub(o,""),$.flags=n,e.const_get(m,"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("node")?$.fd=require("fs").openSync(t,n):r},a.$$arity=-2),e.defn(h,"$read",s=function(){var t,n=this,$=r;return(t=n.eof)===r||null==t||t.$$is_boolean&&1!=t?($=e.const_get(m,"File",!0,!0).$read(n.path),n.eof=!0,n.lineno=$.$size(),$):""},s.$$arity=0),e.defn(h,"$each_line",c=function(t){var n,$=this,o=c.$$p,i=o||r,a=r;if(null==l["/"]&&(l["/"]=r),null==t&&(t=l["/"]),o&&(c.$$p=null),(n=$.eof)!==r&&null!=n&&(!n.$$is_boolean||1==n))return function(){return i!==r?$:[].$to_enum()}();if(i!==r){a=e.const_get(m,"File",!0,!0).$read($.path),$.eof=!1,$.lineno=0;for(var s=a.$chomp(),u=a.length!=s.length,_=s.split(t),d=0,f=_.length;d<f;d++)$.lineno+=1,d<f-1||u?e.yield1(i,_[d]+t):e.yield1(i,_[d]);return $.eof=!0,$}return $.$read().$each_line()},c.$$arity=-1),e.defn(h,"$readlines",u=function(){var t=this;return e.const_get(m,"File",!0,!0).$readlines(t.path)},u.$$arity=0),e.defs(h,"$readlines",_=function(t,n){var $=r;return null==l["/"]&&(l["/"]=r),null==n&&(n=l["/"]),$=e.const_get(m,"File",!0,!0).$read(t),$.$split(n)},_.$$arity=-2),e.defs(h,"$file?",d=function(e){return!0},d.$$arity=1),e.defs(h,"$readable?",f=function(e){return!0},f.$$arity=1),e.defs(h,"$read",p=function(t){var n=r;return function(){if(n=e.const_get(m,"JAVASCRIPT_IO_MODULE",!0,!0),"node"["$==="](n))return require("fs").readFileSync(t,"utf8");if("phantomjs"["$==="](n))return require("fs").read(t);if("java_nio"["$==="](n)){var r=Java.type("java.nio.file.Paths"),$=Java.type("java.nio.file.Files"),o=$.readAllLines(r.get(t),Java.type("java.nio.charset.StandardCharsets").UTF_8),i=[];return o.forEach(function(e){i.push(e)}),i.join("\n")}if("xmlhttprequest"["$==="](n)){var i="",l=-1;try{var a=new XMLHttpRequest;a.open("GET",t,!1),a.addEventListener("load",function(){0!=(l=this.status)&&200!=l||(i=this.responseText)}),a.overrideMimeType("text/plain"),a.send()}catch(e){l=0}if(404==l||0==l&&""==i)throw e.const_get(m,"IOError",!0,!0).$new("No such file or directory: "+t);return i}return"spidermonkey"["$==="](n)?read(t):""}()},p.$$arity=1)}(t.base,0,n),function(t,n,r){function $(){}var o,l=$=i(t,null,"IO",$),a=(l.$$proto,l.$$scope),s=r.slice().concat(a);return e.defs(l,"$read",o=function(t){return e.const_get(s,"File",!0,!0).$read(t)},o.$$arity=1)}(t.base,0,n)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$[]=","$-"]),function(n,r,l){function a(){}var s,c=a=o(n,null,"MatchData",a),u=c.$$proto,_=c.$$scope;l.slice().concat(_);return u.matches=$,e.defn(c,"$[]=",s=function(n,r){var o=this,l=$;return l=[n,r],i(o.matches,"[]=",e.to_a(l)),l[t(l.length,1)]},s.$$arity=2),$&&"[]="}(n.base,0,r)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var t=(e.top,e),n=[e],r=(e.nil,e.breaker,e.slice,e.module);return function(t,n){var $,o,i=$=r(t,"Kernel"),l=(i.$$proto,i.$$scope);n.slice().concat(l);e.defn(i,"$freeze",o=function(){return this},o.$$arity=0)}(t.base,n)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module),o=e.klass;return function(e,t){var n,r=n=$(e,"ThreadSafe"),o=(r.$$proto,r.$$scope);t.slice().concat(o)}(t.base,n),function(e,t,n){function $(){}var i=$=o(e,t,"Cache",$),l=(i.$$proto,i.$$scope);n.slice().concat(l);return r}(t.base,e.const_get([e.Object.$$scope],"Hash",!0,!0),n)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(n,r,l){function a(){}var s,c,u,_=a=o(n,null,"String",a),d=(_.$$proto,_.$$scope);l.slice().concat(d);return((s=_["$method_defined?"]("limit_bytesize"))===$||null==s||s.$$is_boolean&&1!=s)&&e.defn(_,"$limit_bytesize",c=function(e){var n,r=this,o=$;return(n=t(e,r.$bytes().$length()))===$||null==n||n.$$is_boolean&&1!=n?r.$to_s():(o=r.$byteslice(0,e),o.$to_s())},c.$$arity=1),((s=_["$method_defined?"]("limit"))===$||null==s||s.$$is_boolean&&1!=s)&&e.alias(_,"limit","limit_bytesize"),e.alias(_,"_original_unpack","unpack"),e.defn(_,"$unpack",u=function(e){var t,n=this;return e["$=="]("C3")?i(n["$[]"](0,3).$bytes().$select(),"with_index",[],(t=function(e,n){t.$$s;return null==e&&(e=$),null==n&&(n=$),n["$even?"]()},t.$$s=n,t.$$arity=2,t)):n.$_original_unpack(e)},u.$$arity=1),$&&"unpack"}(n.base,0,r)},Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e.nil),r=(e.breaker,e.slice,e.send),$=e.gvars,o=n;return null==$.stdout&&($.stdout=n),null==$.stderr&&($.stderr=n),e.add_stubs(["$write_proc=","$-"]),o=[function(e){print(e)}],r($.stdout,"write_proc=",e.to_a(o)),o[t(o.length,1)],o=[function(e){print(e)}],r($.stderr,"write_proc=",e.to_a(o)),o[t(o.length,1)]},Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e.nil),r=(e.breaker,e.slice,e.send),$=e.gvars,o=n;return null==$.stdout&&($.stdout=n),null==$.stderr&&($.stderr=n),e.add_stubs(["$write_proc=","$-"]),o=[function(e){console.log(e)}],r($.stdout,"write_proc=",e.to_a(o)),o[t(o.length,1)],o=[function(e){console.error(e)}],r($.stderr,"write_proc=",e.to_a(o)),o[t(o.length,1)]},Opal.modules["asciidoctor/js/opal_ext/node/io"]=function(e){function t(t){try{return t()}catch(t){if("EACCES"===t.code||"EISDIR"===t.code||"EMFILE"===t.code||"ENOENT"===t.code||"EPERM"===t.code)throw e.IOError.$new(t.message);throw t}}var n=(e.top,e),r=[e],$=(e.nil,e.breaker,e.slice,e.klass);return function(n,r,o){function i(){}var l,a=i=$(n,null,"IO",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return e.defs(a,"$binread",l=function(e){return t(function(){return require("fs").readFileSync(e).toString("binary")})},l.$$arity=1)}(n.base,0,r)},Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$exist?"]),function(t,n,o){function i(){}var l,a=i=$(t,null,"File",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return e.defs(a,"$readable?",l=function(e){var t;return!((t=this["$exist?"](e))===r||null==t||t.$$is_boolean&&1!=t)&&"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},l.$$arity=1)}(t.base,0,n)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var n=t.top,r=t,$=[t],o=t.nil;t.breaker,t.slice;t.add_stubs(["$require","$=="]);var i,l,a,s,c="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,u="object"==typeof navigator&&"string"==typeof navigator.userAgent&&typeof navigator.userAgent.indexOf("Electron")!==-1,_="object"==typeof window,d="object"==typeof Java&&Java.type,f="object"==typeof java,p="object"==typeof window&&"object"==typeof window.phantom,h="function"==typeof importScripts,g="object"==typeof JSRuntime;if(t.load("pathname"),t.load("base64"),"object"==typeof e&&"object"==typeof e.runtime){var b=e.runtime;i=b.platform,l=b.engine,a=b.framework,s=b.ioModule}if(void 0===i&&(c?(i=i||"node",l=l||"v8",u&&(a=a||"electron")):d?(i=plaform||"java",l=l||"nashorn"):f?(i=i||"java",l=l||"rhino"):g?(i=i||"standalone",a=a||"spidermonkey"):_&&(i=i||"browser",p&&(a=a||"phantomjs")),h&&(a=a||"webworker")),void 0===i)throw new Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if(void 0===a&&(a=""),void 0===l&&(l=""),void 0!==s){if("spidermonkey"!=s&&"phantomjs"!=s&&"node"!=s&&"java_nio"!=s&&"xmlhttprequest"!=s)throw new Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===a)s="spidermonkey";else if("phantomjs"===a)s="phantomjs";else if("node"===i)s="node";else if("nashorn"===l)s="java_nio";else{if("browser"!==i&&"undefined"==typeof XmlHTTPRequest)throw new Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");s="xmlhttprequest"}return t.cdecl(r,"JAVASCRIPT_IO_MODULE",s),t.cdecl(r,"JAVASCRIPT_PLATFORM",i),t.cdecl(r,"JAVASCRIPT_ENGINE",l),t.cdecl(r,"JAVASCRIPT_FRAMEWORK",a),n.$require("asciidoctor/js/opal_ext/file"),n.$require("asciidoctor/js/opal_ext/match_data"),n.$require("asciidoctor/js/opal_ext/kernel"),n.$require("asciidoctor/js/opal_ext/thread_safe"),n.$require("asciidoctor/js/opal_ext/string"),t.const_get($,"JAVASCRIPT_ENGINE",!0,!0)["$=="]("nashorn")&&n.$require("asciidoctor/js/opal_ext/nashorn/io"),t.const_get($,"JAVASCRIPT_FRAMEWORK",!0,!0)["$=="]("electron")&&n.$require("asciidoctor/js/opal_ext/electron/io"),t.const_get($,"JAVASCRIPT_PLATFORM",!0,!0)["$=="]("node")?(n.$require("asciidoctor/js/opal_ext/node/io"),n.$require("asciidoctor/js/opal_ext/node/file"),t.load("nodejs")):o},Opal.modules["asciidoctor/js/rx"]=function(e){var t=(e.top,e),n=[e],r=(e.nil,e.breaker,e.slice,e.module);return function(t,n){var $,o=$=r(t,"Asciidoctor"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.cdecl(i,"P_L","A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"),e.cdecl(i,"P_Nl","ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ"),e.cdecl(i,"P_Nd","0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９"),e.cdecl(i,"P_Pc","_‿⁀⁔︳︴﹍-﹏＿"),e.cdecl(i,"CC_ALPHA",""+e.const_get(l,"P_L",!0,!0)+e.const_get(l,"P_Nl",!0,!0)),e.cdecl(i,"CG_ALPHA","["+e.const_get(l,"CC_ALPHA",!0,!0)+"]"),e.cdecl(i,"CC_ALNUM",""+e.const_get(l,"CC_ALPHA",!0,!0)+e.const_get(l,"P_Nd",!0,!0)),e.cdecl(i,"CG_ALNUM","["+e.const_get(l,"CC_ALNUM",!0,!0)+"]"),e.cdecl(i,"CC_WORD",""+e.const_get(l,"CC_ALNUM",!0,!0)+e.const_get(l,"P_Pc",!0,!0)),e.cdecl(i,"CG_WORD","["+e.const_get(l,"CC_WORD",!0,!0)+"]"),e.cdecl(i,"CG_BLANK","[ \\t]"),e.cdecl(i,"CC_EOL","(?=\\n|$)"),e.cdecl(i,"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),e.cdecl(i,"CC_ALL","[\\s\\S]")}(t.base,n)},Opal.modules.strscan=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(n,r,l){function a(){}var s,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N=a=o(n,null,"StringScanner",a),j=N.$$proto,L=N.$$scope;l.slice().concat(L);return j.pos=j.string=j.working=j.matched=j.prev_pos=j.match=$,N.$attr_reader("pos"),N.$attr_reader("matched"),e.defn(N,"$initialize",s=function(e){var t=this;return t.string=e,t.pos=0,t.matched=$,t.working=e,t.match=[]},s.$$arity=1),N.$attr_reader("string"),e.defn(N,"$beginning_of_line?",c=function(){var e=this;return 0===e.pos||"\n"===e.string.charAt(e.pos-1)},c.$$arity=0),e.alias(N,"bol?","beginning_of_line?"),e.defn(N,"$scan",u=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return null==n?t.matched=$:"object"==typeof n?(t.prev_pos=t.pos,t.pos+=n[0].length,t.working=t.working.substring(n[0].length),t.matched=n[0],t.match=n,n[0]):"string"==typeof n?(t.pos+=n.length,t.working=t.working.substring(n.length),n):$},u.$$arity=1),e.defn(N,"$scan_until",_=function(e){var t=this;e=t.$anchor(e);for(var n,r=t.pos,o=t.working;;){if(n=e.exec(o),r+=1,o=o.substr(1),null!=n)return t.matched=t.string.substr(t.pos,r-t.pos-1+n[0].length),t.prev_pos=r-1,t.pos=r,t.working=o.substr(n[0].length),t.matched;if(0===o.length)return t.matched=$}},_.$$arity=1),e.defn(N,"$[]",d=function(e){var t=this,n=t.match;return e<0&&(e+=n.length),e<0||e>=n.length?$:null==n[e]?$:n[e]},d.$$arity=1),e.defn(N,"$check",f=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return t.matched=null==n?$:n[0]},f.$$arity=1),e.defn(N,"$check_until",p=function(e){var t=this,n=t.prev_pos,r=t.pos,o=t.$scan_until(e);return o!==$&&(t.matched=o.substr(-1),t.working=t.string.substr(r)),t.prev_pos=n,t.pos=r,o},p.$$arity=1),e.defn(N,"$peek",h=function(e){return this.working.substring(0,e)},h.$$arity=1),e.defn(N,"$eos?",g=function(){return 0===this.working.length},g.$$arity=0),e.defn(N,"$exist?",b=function(e){var t=this,n=e.exec(t.working);return null==n?$:0==n.index?0:n.index+1},b.$$arity=1),e.defn(N,"$skip",m=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);if(null==n)return t.matched=$;var r=n[0],o=r.length;return t.matched=r,t.prev_pos=t.pos,t.pos+=o,t.working=t.working.substring(o),o},m.$$arity=1),e.defn(N,"$skip_until",y=function(e){var t=this,n=t.$scan_until(e);return n===$?$:(t.matched=n.substr(-1),n.length)},y.$$arity=1),e.defn(N,"$get_byte",v=function(){var e=this,t=$;return e.pos<e.string.length?(e.prev_pos=e.pos,e.pos+=1,t=e.matched=e.working.substring(0,1),e.working=e.working.substring(1)):e.matched=$,t},v.$$arity=0),e.alias(N,"getch","get_byte"),e.defn(N,"$match?",w=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return null==n?$:(t.prev_pos=t.pos,n[0].length)},w.$$arity=1),e.defn(N,"$pos=",x=function(e){var t=this;return e<0&&(e+=t.string.$length()),t.pos=e,t.working=t.string.slice(e)},x.$$arity=1),e.defn(N,"$matched_size",k=function(){var e=this;return e.matched===$?$:e.matched.length},k.$$arity=0),e.defn(N,"$post_match",O=function(){var e=this;return e.matched===$?$:e.string.substr(e.pos)},O.$$arity=0),e.defn(N,"$pre_match",E=function(){var e=this;return e.matched===$?$:e.string.substr(0,e.prev_pos)},E.$$arity=0),e.defn(N,"$reset",A=function(){var e=this;return e.working=e.string,e.matched=$,e.pos=0},A.$$arity=0),e.defn(N,"$rest",S=function(){return this.working},S.$$arity=0),e.defn(N,"$rest?",R=function(){return 0!==this.working.length},R.$$arity=0),e.defn(N,"$rest_size",M=function(){return this.$rest().$size()},M.$$arity=0),e.defn(N,"$terminate",T=function(){var n=this,r=$;return n.match=$,r=[n.string.$length()],i(n,"pos=",e.to_a(r)),r[t(r.length,1)]},T.$$arity=0),e.defn(N,"$unscan",I=function(){var e=this;return e.pos=e.prev_pos,e.prev_pos=$,e.match=$,e},I.$$arity=0),N.$private(),e.defn(N,"$anchor",C=function(e){var t=e.toString().match(/\/([^\/]+)$/);return t=t?t[1]:void 0,new RegExp("^(?:"+e.source+")",t)},C.$$arity=1),$&&"anchor"}(n.base,0,r)},Opal.modules["asciidoctor/js"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("asciidoctor/js/opal_ext"),t.$require("asciidoctor/js/rx"),t.$require("strscan")},Opal.modules["asciidoctor/version"]=function(e){var t=(e.top,e),n=[e],r=(e.nil,e.breaker,e.slice,e.module);return function(t,n){var $,o=$=r(t,"Asciidoctor"),i=(o.$$proto,o.$$scope);n.slice().concat(i);e.cdecl(i,"VERSION","1.5.6.dev")}(t.base,n)},Opal.modules["asciidoctor/timings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var $=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2,c=e.send,u=e.gvars;return e.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),function($,o){var _,d=_=l($,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=o.slice().concat(f);!function($,o,l){function _(){}var d,f,p,h,g,b,m,y,v=_=a($,null,"Timings",_),w=v.$$proto,x=v.$$scope;l.slice().concat(x);w.timers=w.log=i,e.defn(v,"$initialize",d=function(){var e=this;return e.log=s([],{}),e.timers=s([],{})},d.$$arity=0),e.defn(v,"$start",f=function(n){var r=this,$=i;return $=[n,e.const_get([e.Object.$$scope],"Time",!0,!0).$now()],c(r.timers,"[]=",e.to_a($)),$[t($.length,1)]},f.$$arity=1),e.defn(v,"$record",p=function(n){var r=this,$=i;return $=[n,t(e.const_get([e.Object.$$scope],"Time",!0,!0).$now(),r.timers.$delete(n))],c(r.log,"[]=",e.to_a($)),$[t($.length,1)]},p.$$arity=1),e.defn(v,"$read_parse",h=function(){var e,t,$=this,o=i;return(e=n(o=r((t=$.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=$.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:o},h.$$arity=0),e.defn(v,"$convert",g=function(){var e;return(e=this.log["$[]"]("convert"))!==!1&&e!==i&&null!=e?e:0},g.$$arity=0),e.defn(v,"$read_parse_convert",b=function(){var e,t,$=this,o=i;return(e=n(o=r(r((t=$.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=$.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),(t=$.log["$[]"]("convert"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:o},b.$$arity=0),e.defn(v,"$total",m=function(){var e,t,$=this,o=i;return(e=n(o=r(r(r((t=$.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=$.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),(t=$.log["$[]"]("convert"))!==!1&&t!==i&&null!=t?t:0),(t=$.log["$[]"]("write"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:o},m.$$arity=0),e.defn(v,"$print_report",y=function(e,t){var n=this;return null==u.stdout&&(u.stdout=i),null==e&&(e=u.stdout),null==t&&(t=i),t!==!1&&t!==i&&null!=t&&e.$puts("Input file: "+t),e.$puts("  Time to read and parse source: "+"%05.5f"["$%"](n.$read_parse().$to_f())),e.$puts("  Time to convert document: "+"%05.5f"["$%"](n.$convert().$to_f())),e.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](n.$read_parse_convert().$to_f()))},y.$$arity=-1)}(f.base,0,p)}($.base,o)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?"]),function(t,n,o){function i(){}
var l,a=i=$(t,null,"NilClass",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===r||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","nil?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=$(t,null,"String",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===r||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","empty?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=$(t,null,"Array",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===r||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","empty?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=$(t,null,"Hash",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===r||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","empty?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=$(t,null,"Numeric",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return(l=a["$method_defined?"]("nil_or_empty?"))===r||null==l||l.$$is_boolean&&1!=l?e.alias(a,"nil_or_empty?","nil?"):r}(t.base,0,n)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?"]),function(t,n,o){function i(){}var l,a=i=$(t,null,"Regexp",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return(l=a["$method_defined?"]("match?"))===r||null==l||l.$$is_boolean&&1!=l?e.alias(a,"match?","==="):r}(t.base,0,n)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=(e.top,e),$=[e],o=e.nil,i=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(r,$,l){function a(){}var s,c,u=a=i(r,null,"String",a),_=(u.$$proto,u.$$scope);l.slice().concat(_);return(s=u["$method_defined?"]("limit_bytesize"))===o||null==s||s.$$is_boolean&&1!=s?(e.defn(u,"$limit_bytesize",c=function(r){var $,i,l=this,a=o;if(($=t(r,l.$bytesize()))===o||null==$||$.$$is_boolean&&1!=$)return l;for(;(i=(a=l.$byteslice(0,r)).$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0))["$valid_encoding?"]())===o||null==i||i.$$is_boolean&&1!=i;)r=n(r,1);return a},c.$$arity=1),o&&"limit_bytesize"):o}(r.base,0,$)},Opal.modules["asciidoctor/core_ext"]=function(e){var t,n=e.top,r=[e],$=e.nil;e.breaker,e.slice;return e.add_stubs(["$require","$!="]),n.$require("asciidoctor/core_ext/nil_or_empty"),n.$require("asciidoctor/core_ext/regexp/is_match"),(t=e.const_get(r,"RUBY_MIN_VERSION_1_9",!0,!0))===$||null==t||t.$$is_boolean&&1!=t?((t=e.const_get(r,"RUBY_ENGINE",!0,!0)["$!="]("opal"))===$||null==t||t.$$is_boolean,$):n.$require("asciidoctor/core_ext/string/limit_bytesize")},Opal.modules["asciidoctor/helpers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.module),i=e.send,l=e.range,a=e.gvars;return e.add_stubs(["$require","$==","$===","$fail","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$map","$each_line","$encode","$force_encoding","$join","$to_proc","$[]=","$-","$rstrip","$encoding","$nil_or_empty?","$include?","$match?","$=~","$gsub","$each_byte","$sprintf","$length","$extname","$basename","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),function(n,r){var s,c=s=o(n,"Asciidoctor"),u=(c.$$proto,c.$$scope),_=r.slice().concat(u);!function(n,r){var s,c,u,_,d,f,p,h,g,b,m,y=s=o(n,"Helpers"),v=(y.$$proto,y.$$scope),w=r.slice().concat(v);e.defs(y,"$require_library",c=function(t,n,r){var o=this,i=$,l=$;null==n&&(n=!0),null==r&&(r="abort");try{return o.$require(t)}catch(a){if(!e.rescue(a,[e.const_get([e.Object.$$scope],"LoadError",!0,!0)]))throw a;i=a;try{return n!==!1&&n!==$&&null!=n?(n["$=="](!0)&&(n=t),function(){return l=r,"abort"["$==="](l)?o.$fail("asciidoctor: FAILED: required gem '"+n+"' is not installed. Processing aborted."):"warn"["$==="](l)?o.$warn("asciidoctor: WARNING: optional gem '"+n+"' is not installed. Functionality disabled."):$}()):function(){return l=r,"abort"["$==="](l)?o.$fail("asciidoctor: FAILED: "+i.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](l)?o.$warn("asciidoctor: WARNING: "+i.$message().$chomp(".")+". Functionality disabled."):$}()}finally{e.pop_exception()}}},c.$$arity=-2),e.defs(y,"$normalize_lines",u=function(t){var n=this;return t.$class()["$=="](e.const_get([e.Object.$$scope],"String",!0,!0))?n.$normalize_lines_from_string(t):n.$normalize_lines_array(t)},u.$$arity=1),e.defs(y,"$normalize_lines_array",_=function(n){var r,o,a,s=this,c=$,u=$,_=$,d=$,f=$;return(r=n["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?(c=(u=n["$[]"](0)).$unpack("C3"),(r=e.const_get(w,"COERCE_ENCODING",!0,!0))===$||null==r||r.$$is_boolean&&1!=r?(c["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))&&(f=[0,u["$[]"](l(3,-1,!1))],i(n,"[]=",e.to_a(f)),f[t(f.length,1)]),i(n,"map",[],"rstrip".$to_proc())):(_=e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0),(d=c["$[]"](0,2))["$=="](e.const_get(w,"BOM_BYTES_UTF_16LE",!0,!0))?i(n.$join().$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](l(1,-1,!1)).$encode(_).$each_line(),"map",[],"rstrip".$to_proc()):d["$=="](e.const_get(w,"BOM_BYTES_UTF_16BE",!0,!0))?(f=[0,u.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](l(1,-1,!1))],i(n,"[]=",e.to_a(f)),f[t(f.length,1)],i(n,"map",[],(o=function(t){o.$$s;return null==t&&(t=$),""+t.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0)).$encode(_).$rstrip()},o.$$s=s,o.$$arity=1,o))):(c["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))&&(f=[0,u.$force_encoding(_)["$[]"](l(1,-1,!1))],i(n,"[]=",e.to_a(f)),f[t(f.length,1)]),i(n,"map",[],(a=function(e){a.$$s;return null==e&&(e=$),e.$encoding()["$=="](_)?e.$rstrip():e.$force_encoding(_).$rstrip()},a.$$s=s,a.$$arity=1,a))))):n},_.$$arity=1),e.defs(y,"$normalize_lines_from_string",d=function(t){var n,r=$,o=$,a=$;return(n=t["$nil_or_empty?"]())===$||null==n||n.$$is_boolean&&1!=n?(r=t.$unpack("C3"),(n=e.const_get(w,"COERCE_ENCODING",!0,!0))===$||null==n||n.$$is_boolean&&1!=n?r["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))&&(t=t["$[]"](l(3,-1,!1))):(o=e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0),(a=r["$[]"](0,2))["$=="](e.const_get(w,"BOM_BYTES_UTF_16LE",!0,!0))?t=t.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](l(1,-1,!1)).$encode(o):a["$=="](e.const_get(w,"BOM_BYTES_UTF_16BE",!0,!0))?t=t.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](l(1,-1,!1)).$encode(o):r["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))?t=function(){return t.$encoding()["$=="](o)?t["$[]"](l(1,-1,!1)):t.$force_encoding(o)["$[]"](l(1,-1,!1))}():t.$encoding()["$=="](o)||(t=t.$force_encoding(o))),i(t.$each_line(),"map",[],"rstrip".$to_proc())):[]},d.$$arity=1),e.defs(y,"$uriish?",f=function(t){var n;return n=t["$include?"](":"),n!==!1&&n!==$&&null!=n?e.const_get(w,"UriSniffRx",!0,!0)["$match?"](t):n},f.$$arity=1),e.defs(y,"$uri_prefix",p=function(t){var n,r;return r=t["$include?"](":"),(n=r!==!1&&r!==$&&null!=r?e.const_get(w,"UriSniffRx",!0,!0)["$=~"](t):r)===$||null==n||n.$$is_boolean&&1!=n?$:(n=a["~"])===$?$:n["$[]"](0)},p.$$arity=1),e.cdecl(v,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),e.defs(y,"$encode_uri",h=function(t){var n,r=this;return i(t,"gsub",[e.const_get(w,"REGEXP_ENCODE_URI_CHARS",!0,!0)],(n=function(){var e,t,r=n.$$s||this;return i(((e=a["~"])===$?$:e["$[]"](0)).$each_byte(),"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=$),n.$sprintf("%%%02X",e)},t.$$s=r,t.$$arity=1,t)).$join()},n.$$s=r,n.$$arity=0,n))},h.$$arity=1),e.defs(y,"$rootname",g=function(n){return n["$[]"](0,t(n.$length(),e.const_get([e.Object.$$scope],"File",!0,!0).$extname(n).$length()))},g.$$arity=1),e.defs(y,"$basename",b=function(t,n){return null==n&&(n=$),n!==!1&&n!==$&&null!=n?e.const_get([e.Object.$$scope],"File",!0,!0).$basename(t,function(){return n["$=="](!0)?e.const_get([e.Object.$$scope],"File",!0,!0).$extname(t):n}()):e.const_get([e.Object.$$scope],"File",!0,!0).$basename(t)},b.$$arity=-2),e.defs(y,"$mkdir_p",m=function(t){var n,r,o=this,i=$;return(n=e.const_get([e.Object.$$scope],"File",!0,!0)["$directory?"](t))===$||null==n||n.$$is_boolean&&1!=n?(i=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(t),r=e.const_get([e.Object.$$scope],"File",!0,!0)["$directory?"](i=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(t))["$!"](),(n=r!==!1&&r!==$&&null!=r?i["$!="]("."):r)===$||null==n||n.$$is_boolean&&1!=n||o.$mkdir_p(i),e.const_get([e.Object.$$scope],"Dir",!0,!0).$mkdir(t)):$},m.$$arity=1)}(u.base,_)}(n.base,r)},Opal.modules["asciidoctor/substitutors"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var i=(e.top,e),l=[e],a=e.nil,s=(e.breaker,e.slice),c=e.module,u=e.hash2,_=e.send,d=e.gvars,f=e.range;return e.add_stubs(["$freeze","$+","$keys","$attr_reader","$empty?","$===","$[]","$each","$<<","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$nil_or_empty?","$==","$size","$unescape_brackets","$resolve_pass_subs","$[]=","$-","$length","$>","$end_with?","$parse_attributes","$start_with?","$!","$to_sym","$attributes","$document","$basebackend?","$to_i","$convert","$new","$clear","$convert_quoted_text","$do_replacement","$tr","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$unescape_bracketed_text","$inject","$strip","$map","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$config","$process_method","$register","$basename","$split_simple_csv","$normalize_string","$!=","$!~","$chop","$delete","$sub","$encode_uri","$sub_inline_xrefs","$sub_inline_anchors","$find","$references","$id","$index","$text","$rootname","$key","$attr?","$escape","$attr","$read_next_id","$callouts","$<","$parse_quoted_text_attributes","$shorthand_property_syntax","$shift","$concat","$parse_into","$parse","$each_char","$join","$match?","$chr","$dup","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$=~","$to_a","$uniq","$sort","$resolve_block_subs"]),function(i,l){var p,h=p=c(i,"Asciidoctor"),g=(h.$$proto,h.$$scope),b=l.slice().concat(g);!function(i,l){var p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W=p=c(i,"Substitutors"),X=(W.$$proto,W.$$scope),V=l.slice().concat(X);e.cdecl(X,"SpecialCharsRx",/[<&>]/),e.cdecl(X,"SpecialCharsTr",u([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),e.cdecl(X,"BASIC_SUBS",["specialcharacters"].$freeze()),e.cdecl(X,"HEADER_SUBS",["specialcharacters","attributes"].$freeze()),e.cdecl(X,"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"].$freeze()),e.cdecl(X,"PASS_SUBS",[].$freeze()),e.cdecl(X,"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"].$freeze()),e.cdecl(X,"VERBATIM_SUBS",["specialcharacters","callouts"].$freeze()),e.cdecl(X,"SUB_GROUPS",u(["none","normal","verbatim","specialchars"],{none:[].$freeze(),normal:e.const_get(V,"NORMAL_SUBS",!0,!0),verbatim:e.const_get(V,"VERBATIM_SUBS",!0,!0),specialchars:e.const_get(V,"BASIC_SUBS",!0,!0)})),e.cdecl(X,"SUB_HINTS",u(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),e.cdecl(X,"SUB_OPTIONS",u(["block","inline"],{block:t(t(e.const_get(V,"SUB_GROUPS",!0,!0).$keys(),e.const_get(V,"NORMAL_SUBS",!0,!0)),["callouts"]),inline:t(e.const_get(V,"SUB_GROUPS",!0,!0).$keys(),e.const_get(V,"NORMAL_SUBS",!0,!0))})),e.cdecl(X,"SUB_HIGHLIGHT",["coderay","pygments"]),e.cdecl(X,"PASS_START",""),e.cdecl(X,"PASS_END",""),e.cdecl(X,"PASS_MATCH",/\u0096(\d+)\u0097/),e.cdecl(X,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),e.cdecl(X,"PLUS","+"),e.cdecl(X,"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),e.cdecl(X,"PygmentsWrapperPreRx",/<pre[^>]*>(.*?)<\/pre>\s*/m),W.$attr_reader("passthroughs"),e.defn(W,"$apply_subs",h=function(r,$,o){var i,l,s,c,u=this,d=a,f=a,p=a,h=a;if(null==u.passthroughs&&(u.passthroughs=a),null==$&&($=e.const_get(V,"NORMAL_SUBS",!0,!0)),null==o&&(o=!1),!((i=(l=r["$empty?"]())!==!1&&l!==a&&null!=l?l:$["$empty?"]())===a||null==i||i.$$is_boolean&&1!=i))return r;if(o!==!1&&o!==a&&null!=o)if((i=e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="]($))===a||null==i||i.$$is_boolean&&1!=i){if(d=[],_($,"each",[],(s=function(n){var r,$=(s.$$s,a);return null==n&&(n=a),(r=$=e.const_get(V,"SUB_GROUPS",!0,!0)["$[]"](n))===a||null==r||r.$$is_boolean&&1!=r?d["$<<"](n):(r=$["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r?d=t(d,$):a},s.$$s=u,s.$$arity=1,s)),(i=($=d)["$empty?"]())!==a&&null!=i&&(!i.$$is_boolean||1==i))return r}else $=(i=e.const_get(V,"SUB_GROUPS",!0,!0)["$[]"]($))!==!1&&i!==a&&null!=i?i:[$];return f=function(){return(i=p=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](r))===a||null==i||i.$$is_boolean&&1!=i?r:n(r,e.const_get(V,"EOL",!0,!0))}(),(i=h=$["$include?"]("macros"))===a||null==i||i.$$is_boolean&&1!=i||(f=u.$extract_passthroughs(f),(i=u.passthroughs["$empty?"]())===a||null==i||i.$$is_boolean&&1!=i||(h=!1)),_($,"each",[],(c=function(t){var r,o,i,l=c.$$s||this,s=a;return null==t&&(t=a),function(){return s=t,"specialcharacters"["$==="](s)?(r=(o=(i=f["$include?"]("<"))!==!1&&i!==a&&null!=i?i:f["$include?"]("&"))!==!1&&o!==a&&null!=o?o:f["$include?"](">"))===a||null==r||r.$$is_boolean&&1!=r?a:f=l.$sub_specialchars(f):"quotes"["$==="](s)?f=l.$sub_quotes(f):"attributes"["$==="](s)?(r=f["$include?"]("{"))===a||null==r||r.$$is_boolean&&1!=r?a:f=n(l.$sub_attributes(f.$split(e.const_get(V,"EOL",!0,!0),-1)),e.const_get(V,"EOL",!0,!0)):"replacements"["$==="](s)?f=l.$sub_replacements(f):"macros"["$==="](s)?f=l.$sub_macros(f):"highlight"["$==="](s)?f=l.$highlight_source(f,$["$include?"]("callouts")):"callouts"["$==="](s)?(r=$["$include?"]("highlight"))===a||null==r||r.$$is_boolean&&1!=r?f=l.$sub_callouts(f):a:"post_replacements"["$==="](s)?f=l.$sub_post_replacements(f):l.$warn("asciidoctor: WARNING: unknown substitution type "+t)}()},c.$$s=u,c.$$arity=1,c)),h!==!1&&h!==a&&null!=h&&(f=u.$restore_passthroughs(f)),p!==!1&&p!==a&&null!=p?f.$split(e.const_get(V,"EOL",!0,!0),-1):f},h.$$arity=-2),e.defn(W,"$apply_normal_subs",g=function(t){var r;return this.$apply_subs(function(){return(r=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](t))===a||null==r||r.$$is_boolean&&1!=r?t:n(t,e.const_get(V,"EOL",!0,!0))}())},g.$$arity=1),e.defn(W,"$apply_title_subs",b=function(t){return this.$apply_subs(t,e.const_get(V,"TITLE_SUBS",!0,!0))},b.$$arity=1),e.defn(W,"$apply_header_subs",m=function(t){return this.$apply_subs(t,e.const_get(V,"HEADER_SUBS",!0,!0))},m.$$arity=1),e.defn(W,"$extract_passthroughs",y=function(t){var o,i,l,s,c,p,h=this,g=a,b=a,m=a,y=a;return null==h.document&&(h.document=a),g=h.document.$compat_mode(),(o=(i=(l=t["$include?"]("++"))!==!1&&l!==a&&null!=l?l:t["$include?"]("$$"))!==!1&&i!==a&&null!=i?i:t["$include?"]("ss:"))===a||null==o||o.$$is_boolean&&1!=o||(t=_(t,"gsub",[e.const_get(V,"PassInlineMacroRx",!0,!0)],(s=function(){var t,o=s.$$s||this,i=a,l=a,c=a,p=a,h=a,b=a,m=a,y=a,v=a,w=a;if(null==o.passthroughs&&(o.passthroughs=a),null==d["~"]&&(d["~"]=a),i=d["~"],l=a,(t=(c=i["$[]"](4))["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t){if((t=g!==!1&&g!==a&&null!=g?c["$=="]("++"):g)!==a&&null!=t&&(!t.$$is_boolean||1==t))return function(){return(t=i["$[]"](2)["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t?i["$[]"](1)+"["+i["$[]"](2)+"]"+i["$[]"](3)+"++"+o.$extract_passthroughs(i["$[]"](5))+"++":""+i["$[]"](1)+i["$[]"](3)+"++"+o.$extract_passthroughs(i["$[]"](5))+"++"}();if(b=i["$[]"](2),(t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===a||null==t||t.$$is_boolean&&1!=t||b["$=="]("")&&(b=a),m=i["$[]"](3).$length(),y=i["$[]"](5),v=!1,b!==!1&&b!==a&&null!=b){if(!((t=$(m,0))===a||null==t||t.$$is_boolean&&1!=t))return i["$[]"](1)+"["+b+"]"+n("\\",r(m,1))+c+i["$[]"](5)+c;i["$[]"](1)["$=="]("\\")?(l="["+b+"]",b=a):((t=c["$=="]("++")?b["$end_with?"]("x-"):c["$=="]("++"))===a||null==t||t.$$is_boolean&&1!=t||(v=!0,b=b["$[]"](f(0,-2,!0))),b=o.$parse_attributes(b))}else if((t=$(m,0))!==a&&null!=t&&(!t.$$is_boolean||1==t))return""+n("\\",r(m,1))+c+i["$[]"](5)+c;w=function(){return c["$=="]("+++")?[]:e.const_get(V,"BASIC_SUBS",!0,!0)}(),h=o.passthroughs.$size(),b!==!1&&b!==a&&null!=b?v!==!1&&v!==a&&null!=v?(p=[h,u(["text","subs","type","attributes"],{text:y,subs:e.const_get(V,"NORMAL_SUBS",!0,!0),type:"monospaced",attributes:b})],_(o.passthroughs,"[]=",e.to_a(p)),p[r(p.length,1)]):(p=[h,u(["text","subs","type","attributes"],{text:y,subs:w,type:"unquoted",attributes:b})],_(o.passthroughs,"[]=",e.to_a(p)),p[r(p.length,1)]):(p=[h,u(["text","subs"],{text:y,subs:w})],_(o.passthroughs,"[]=",e.to_a(p)),p[r(p.length,1)])}else{if(i["$[]"](6)["$=="]("\\"))return i["$[]"](0)["$[]"](f(1,-1,!1));p=[h=o.passthroughs.$size(),u(["text","subs"],{text:o.$unescape_brackets(i["$[]"](8)),subs:function(){return(t=i["$[]"](7)["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t?o.$resolve_pass_subs(i["$[]"](7)):[]}()})],_(o.passthroughs,"[]=",e.to_a(p)),p[r(p.length,1)]}return""+l+e.const_get(V,"PASS_START",!0,!0)+h+e.const_get(V,"PASS_END",!0,!0)},s.$$s=h,s.$$arity=0,s))),i=e.const_get(V,"PassInlineRx",!0,!0)["$[]"](g),o=e.to_ary(i),b=null==o[0]?a:o[0],m=null==o[1]?a:o[1],y=null==o[2]?a:o[2],(o=(i=t["$include?"](b))!==!1&&i!==a&&null!=i?i:(l=m!==!1&&m!==a&&null!=m)?t["$include?"](m):m)===a||null==o||o.$$is_boolean&&1!=o||(t=_(t,"gsub",[y],(c=function(){var t,n=c.$$s||this,$=a,o=a,i=a,l=a,s=a,p=a,h=a,b=a,m=a,y=a;if(null==n.passthroughs&&(n.passthroughs=a),null==d["~"]&&(d["~"]=a),$=d["~"],o=$["$[]"](1),i=$["$[]"](2),l=function(){return(t=$["$[]"](3)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?a:"\\"}(),s=$["$[]"](4),p=$["$[]"](5),(t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===a||null==t||t.$$is_boolean&&1!=t||i["$=="]("")&&(i=a),g!==!1&&g!==a&&null!=g?h=!0:(t=h=i!==!1&&i!==a&&null!=i?i["$end_with?"]("x-"):i)===a||null==t||t.$$is_boolean&&1!=t||(i=i["$[]"](f(0,-2,!0))),i!==!1&&i!==a&&null!=i){if((t=s["$=="]("`")?h["$!"]():s["$=="]("`"))!==a&&null!=t&&(!t.$$is_boolean||1==t))return o+"["+i+"]"+l+"`"+n.$extract_passthroughs(p)+"`";if(l!==!1&&l!==a&&null!=l)return o+"["+i+"]"+$["$[]"](3)["$[]"](f(1,-1,!1));o["$=="]("\\")?(o="["+i+"]",i=a):i=n.$parse_attributes(i)}else{if(!((t=s["$=="]("`")?h["$!"]():s["$=="]("`"))===a||null==t||t.$$is_boolean&&1!=t))return""+o+l+"`"+n.$extract_passthroughs(p)+"`";if(l!==!1&&l!==a&&null!=l)return""+o+$["$[]"](3)["$[]"](f(1,-1,!1))}return b=n.passthroughs.$size(),g!==!1&&g!==a&&null!=g?(m=[b,u(["text","subs","attributes","type"],{text:p,subs:e.const_get(V,"BASIC_SUBS",!0,!0),attributes:i,type:"monospaced"})],_(n.passthroughs,"[]=",e.to_a(m)),m[r(m.length,1)]):i!==!1&&i!==a&&null!=i?h!==!1&&h!==a&&null!=h?(y=function(){return s["$=="]("`")?e.const_get(V,"BASIC_SUBS",!0,!0):e.const_get(V,"NORMAL_SUBS",!0,!0)}(),m=[b,u(["text","subs","attributes","type"],{text:p,subs:y,attributes:i,type:"monospaced"})],_(n.passthroughs,"[]=",e.to_a(m)),m[r(m.length,1)]):(m=[b,u(["text","subs","attributes","type"],{text:p,subs:e.const_get(V,"BASIC_SUBS",!0,!0),attributes:i,type:"unquoted"})],_(n.passthroughs,"[]=",e.to_a(m)),m[r(m.length,1)]):(m=[b,u(["text","subs"],{text:p,subs:e.const_get(V,"BASIC_SUBS",!0,!0)})],_(n.passthroughs,"[]=",e.to_a(m)),m[r(m.length,1)]),""+o+e.const_get(V,"PASS_START",!0,!0)+b+e.const_get(V,"PASS_END",!0,!0)},c.$$s=h,c.$$arity=0,c))),i=t["$include?"](":"),(o=i!==!1&&i!==a&&null!=i?(l=t["$include?"]("stem:"))!==!1&&l!==a&&null!=l?l:t["$include?"]("math:"):i)===a||null==o||o.$$is_boolean&&1!=o||(t=_(t,"gsub",[e.const_get(V,"StemInlineMacroRx",!0,!0)],(p=function(){var t,n=p.$$s||this,$=a,o=a,i=a,l=a,s=a,c=a,h=a;return null==n.document&&(n.document=a),null==n.passthroughs&&(n.passthroughs=a),null==d["~"]&&(d["~"]=a),$=d["~"],(t=$["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?((o=$["$[]"](1).$to_sym())["$=="]("stem")&&(o=function(){return(t=(i=n.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t?i:"asciimath"}().$to_sym()),l=n.$unescape_brackets($["$[]"](3)),s=(t=$["$[]"](2)["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t?n.$resolve_pass_subs($["$[]"](2)):function(){return(t=n.document["$basebackend?"]("html"))===a||null==t||t.$$is_boolean&&1!=t?[]:e.const_get(V,"BASIC_SUBS",!0,!0)}(),c=[h=n.passthroughs.$size(),u(["text","subs","type"],{text:l,subs:s,type:o})],_(n.passthroughs,"[]=",e.to_a(c)),c[r(c.length,1)],""+e.const_get(V,"PASS_START",!0,!0)+h+e.const_get(V,"PASS_END",!0,!0)):$["$[]"](0)["$[]"](f(1,-1,!1))},p.$$s=h,p.$$arity=0,p))),t},y.$$arity=1),e.defn(W,"$restore_passthroughs",v=function(t,n){var r,$,o,i,l=this;return null==l.passthroughs&&(l.passthroughs=a),null==n&&(n=!0),function(){try{return(r=($=n!==!1&&n!==a&&null!=n)?(o=l.passthroughs["$empty?"]())!==!1&&o!==a&&null!=o?o:t["$include?"](e.const_get(V,"PASS_START",!0,!0))["$!"]():n)===a||null==r||r.$$is_boolean&&1!=r?_(t,"gsub",[e.const_get(V,"PASS_MATCH",!0,!0)],(i=function(){var t,n=i.$$s||this,r=a,$=a,o=a;return null==n.passthroughs&&(n.passthroughs=a),r=n.passthroughs["$[]"](((t=d["~"])===a?a:t["$[]"](1)).$to_i()),$=n.$apply_subs(r["$[]"]("text"),r["$[]"]("subs")),(t=o=r["$[]"]("type"))===a||null==t||t.$$is_boolean&&1!=t||($=e.const_get(V,"Inline",!0,!0).$new(n,"quoted",$,u(["type","attributes"],{type:o,attributes:r["$[]"]("attributes")})).$convert()),(t=$["$include?"](e.const_get(V,"PASS_START",!0,!0)))===a||null==t||t.$$is_boolean&&1!=t?$:n.$restore_passthroughs($,!1)},i.$$s=l,i.$$arity=0,i)):t}finally{!function(){n!==!1&&n!==a&&null!=n&&l.passthroughs.$clear()}()}}()},v.$$arity=-2),(w=e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0))===a||null==w||w.$$is_boolean&&1!=w?e.defn(W,"$sub_specialchars",k=function(t){var n,r=this;return _(t,"gsub",[e.const_get(V,"SpecialCharsRx",!0,!0)],(n=function(){var t;n.$$s;return e.const_get(V,"SpecialCharsTr",!0,!0)["$[]"]((t=d["~"])===a?a:t["$[]"](0))},n.$$s=r,n.$$arity=0,n))},k.$$arity=1):e.defn(W,"$sub_specialchars",x=function(t){return t.$gsub(e.const_get(V,"SpecialCharsRx",!0,!0),e.const_get(V,"SpecialCharsTr",!0,!0))},x.$$arity=1),e.alias(W,"sub_specialcharacters","sub_specialchars"),e.const_get(V,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(e.defn(W,"$sub_quotes",O=function(t){var n,r=this;return null==r.document&&(r.document=a),_(e.const_get(V,"QUOTE_SUBS",!0,!0)["$[]"](r.document.$compat_mode()),"each",[],(n=function(e,r,$){var o,i=n.$$s||this;return null==e&&(e=a),null==r&&(r=a),null==$&&($=a),t=_(t,"gsub",[$],(o=function(){var t=o.$$s||this;return null==d["~"]&&(d["~"]=a),t.$convert_quoted_text(d["~"],e,r)},o.$$s=i,o.$$arity=0,o))},n.$$s=r,n.$$arity=3,n)),t},O.$$arity=1),e.defn(W,"$sub_replacements",E=function(t){var n,r=this;return _(e.const_get(V,"REPLACEMENTS",!0,!0),"each",[],(n=function(e,r,$){var o,i=n.$$s||this;return null==e&&(e=a),null==r&&(r=a),null==$&&($=a),t=_(t,"gsub",[e],(o=function(){var e=o.$$s||this;return null==d["~"]&&(d["~"]=a),e.$do_replacement(d["~"],r,$)},o.$$s=i,o.$$arity=0,o))},n.$$s=r,n.$$arity=3,n)),t},E.$$arity=1)),e.defn(W,"$do_replacement",A=function(e,t,n){var r,$=a,o=a;return(r=($=e["$[]"](0))["$include?"]("\\"))===a||null==r||r.$$is_boolean&&1!=r?function(){return o=n,"none"["$==="](o)?t:"leading"["$==="](o)?""+e["$[]"](1)+t:"bounding"["$==="](o)?""+e["$[]"](1)+t+e["$[]"](2):a}():$.$tr("\\","")},A.$$arity=3),e.defn(W,"$sub_attributes",S=function(r,$){var o,i,l=this,s=a,c=a,f=a,p=a;return null==l.document&&(l.document=a),null==$&&($=u([],{})),(o=r["$nil_or_empty?"]())===a||null==o||o.$$is_boolean&&1!=o?((o=s=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](r))===a||null==o||o.$$is_boolean&&1!=o||(r=[r]),c=l.document.$attributes(),f=a,p=[],function(){var n=e.new_brk();try{_(r,"each",[],(i=function(n){var r,o,l,s=i.$$s||this,u=a,h=a;return null==n&&(n=a),u=!1,h=!1,(r=n["$include?"]("{"))===a||null==r||r.$$is_boolean&&1!=r||(n=function(){var r=e.new_brk();try{return _(n,"gsub",[e.const_get(V,"AttributeReferenceRx",!0,!0)],(o=function(){var n,i,l,s=o.$$s||this,_=a,p=a,g=a,b=a,m=a,y=a,v=a,w=a,x=a,k=a;return null==s.document&&(s.document=a),null==d["~"]&&(d["~"]=a),_=d["~"],(n=(i=_["$[]"](1)["$=="]("\\"))!==!1&&i!==a&&null!=i?i:_["$[]"](4)["$=="]("\\"))===a||null==n||n.$$is_boolean&&1!=n?(n=_["$[]"](3)["$nil_or_empty?"]()["$!"]())===a||null==n||n.$$is_boolean&&1!=n?(n=c["$key?"](k=_["$[]"](2).$downcase()))===a||null==n||n.$$is_boolean&&1!=n?(n=e.const_get(V,"INTRINSIC_ATTRIBUTES",!0,!0)["$key?"](k))===a||null==n||n.$$is_boolean&&1!=n?function(){return m=(n=f)!==!1&&n!==a&&null!=n?n:f=(i=$["$[]"]("attribute_missing"))!==!1&&i!==a&&null!=i?i:c.$fetch("attribute-missing",e.const_get(V,"Compliance",!0,!0).$attribute_missing()),"skip"["$==="](m)?_["$[]"](0):"drop-line"["$==="](m)?(s.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+k),u=!0,e.brk("",r),void 0):"warn"["$==="](m)?(s.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+k),_["$[]"](0)):(h=!0,"")}():e.const_get(V,"INTRINSIC_ATTRIBUTES",!0,!0)["$[]"](k):c["$[]"](k):(p=t((g=_["$[]"](3)).$length(),1),b=_["$[]"](2)["$[]"](e.Range.$new(p,-1,!1)),function(){return m=g,"set"["$==="](m)?(y=b.$split(":"),i=e.const_get(V,"Parser",!0,!0).$store_attribute(y["$[]"](0),(l=y["$[]"](1))!==!1&&l!==a&&null!=l?l:"",s.document),n=e.to_ary(i),v=null==n[0]?a:n[0],w=null==n[1]?a:n[1],w!==!1&&w!==a&&null!=w||c.$fetch("attribute-undefined",e.const_get(V,"Compliance",!0,!0).$attribute_undefined())["$=="]("drop-line")&&(u=!0,e.brk("",r)),h=!0,""):"counter"["$==="](m)||"counter2"["$==="](m)?(y=b.$split(":"),x=s.document.$counter(y["$[]"](0),y["$[]"](1)),g["$=="]("counter2")?(h=!0,""):x):(s.$warn("asciidoctor: WARNING: illegal attribute directive: "+_["$[]"](3)),_["$[]"](0))}()):"{"+_["$[]"](2)+"}"},o.$$s=s,o.$$brk=r,o.$$arity=0,o))}catch(e){if(e===r)return e.$v;throw e}}()),(r=(l=u)!==!1&&l!==a&&null!=l?l:h!==!1&&h!==a&&null!=h?n["$empty?"]():h)===a||null==r||r.$$is_boolean&&1!=r?p["$<<"](n):a},i.$$s=l,i.$$brk=n,i.$$arity=1,i))}catch(e){if(e===n)return e.$v;throw e}}(),s!==!1&&s!==a&&null!=s?n(p,e.const_get(V,"EOL",!0,!0)):p):r},S.$$arity=-2),e.defn(W,"$sub_macros",R=function(t){var n,$,o,i,l,c,p,h,g,b,m,y,v,w=this,x=a,k=a,O=a,E=a,A=a,S=a,R=a,M=a;return null==w.document&&(w.document=a),(n=t["$nil_or_empty?"]())===a||null==n||n.$$is_boolean&&1!=n?(x=u([],{}),k=["square_bracket",t["$include?"]("[")],_(x,"[]=",e.to_a(k)),k[r(k.length,1)],k=["round_bracket",t["$include?"]("(")],_(x,"[]=",e.to_a(k)),k[r(k.length,1)],k=["colon",O=t["$include?"](":")],_(x,"[]=",e.to_a(k)),k[r(k.length,1)],k=["macroish",(n=x["$[]"]("square_bracket"),n!==!1&&n!==a&&null!=n?O:n)],_(x,"[]=",e.to_a(k)),k[r(k.length,1)],k=["macroish_short_form",($=x["$[]"]("square_bracket"),n=$!==!1&&$!==a&&null!=$?O:$,n!==!1&&n!==a&&null!=n?t["$include?"](":["):n)],_(x,"[]=",e.to_a(k)),k[r(k.length,1)],E=w.document.$attributes(),A=E["$key?"]("linkattrs"),S=E["$key?"]("experimental"),R=""+t,S!==!1&&S!==a&&null!=S&&($=x["$[]"]("macroish_short_form"),(n=$!==!1&&$!==a&&null!=$?(o=R["$include?"]("kbd:"))!==!1&&o!==a&&null!=o?o:R["$include?"]("btn:"):$)===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"KbdBtnInlineMacroRx",!0,!0)],(i=function(){var t,n,r=i.$$s||this,$=a,o=a,l=a,s=a;return null==d["~"]&&(d["~"]=a),$=d["~"],(t=(o=$["$[]"](0))["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?(t=o["$start_with?"]("kbd"))===a||null==t||t.$$is_boolean&&1!=t?(t=o["$start_with?"]("btn"))===a||null==t||t.$$is_boolean&&1!=t?a:(s=r.$unescape_bracketed_text($["$[]"](1)),e.const_get(V,"Inline",!0,!0).$new(r,"button",s).$convert()):(l=r.$unescape_bracketed_text($["$[]"](1)),l=l["$=="]("+")?["+"]:_(l.$split(e.const_get(V,"KbdDelimiterRx",!0,!0)),"inject",[[]],(n=function(e,t){var r;n.$$s;return null==e&&(e=a),null==t&&(t=a),(r=t["$end_with?"]("++"))===a||null==r||r.$$is_boolean&&1!=r?e["$<<"](t.$strip()):(e["$<<"](t["$[]"](f(0,-2,!0)).$strip()),e["$<<"]("+")),e},n.$$s=r,n.$$arity=2,n)),e.const_get(V,"Inline",!0,!0).$new(r,"kbd",a,u(["attributes"],{attributes:u(["keys"],{keys:l})})).$convert()):o["$[]"](f(1,-1,!1))},i.$$s=w,i.$$arity=0,i))),$=x["$[]"]("macroish"),(n=$!==!1&&$!==a&&null!=$?R["$include?"]("menu:"):$)===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"MenuInlineMacroRx",!0,!0)],(l=function(){var t,n,r,$=l.$$s||this,o=a,i=a,s=a,c=a,p=a,h=a,g=a;return null==d["~"]&&(d["~"]=a),o=d["~"],(t=(i=o["$[]"](0))["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?(s=o["$[]"](1),c=o["$[]"](2),(t=c["$!"]())===a||null==t||t.$$is_boolean&&1!=t?(t=g=function(){return(n=c["$include?"]("&gt;"))===a||null==n||n.$$is_boolean&&1!=n?(n=c["$include?"](","))===a||null==n||n.$$is_boolean&&1!=n?a:",":"&gt;"}())===a||null==t||t.$$is_boolean&&1!=t?(p=[],h=c.$rstrip()):(p=_(c.$split(g),"map",[],(r=function(e){r.$$s;return null==e&&(e=a),e.$strip()},r.$$s=$,r.$$arity=1,r)),h=p.$pop()):(p=[],h=a),e.const_get(V,"Inline",!0,!0).$new($,"menu",a,u(["attributes"],{attributes:u(["menu","submenus","menuitem"],{menu:s,submenus:p,menuitem:h})})).$convert()):i["$[]"](f(1,-1,!1))},l.$$s=w,l.$$arity=0,l))),$=R["$include?"]('"'),(n=$!==!1&&$!==a&&null!=$?R["$include?"]("&gt;"):$)===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"MenuInlineRx",!0,!0)],(c=function(){var t,n,r,$=c.$$s||this,o=a,i=a,l=a,p=a,h=a,g=a;return null==d["~"]&&(d["~"]=a),o=d["~"],(t=(i=o["$[]"](0))["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?(l=o["$[]"](1),n=_(l.$split("&gt;"),"map",[],(r=function(e){r.$$s;return null==e&&(e=a),e.$strip()},r.$$s=$,r.$$arity=1,r)),t=e.to_ary(n),p=null==t[0]?a:t[0],h=s.call(t,1),g=h.$pop(),e.const_get(V,"Inline",!0,!0).$new($,"menu",a,u(["attributes"],{attributes:u(["menu","submenus","menuitem"],{menu:p,submenus:h,menuitem:g})})).$convert()):i["$[]"](f(1,-1,!1))},c.$$s=w,c.$$arity=0,c)))),$=M=w.document.$extensions(),(n=$!==!1&&$!==a&&null!=$?M["$inline_macros?"]():$)===a||null==n||n.$$is_boolean&&1!=n||_(M.$inline_macros(),"each",[],(p=function(e){var t,n=p.$$s||this;return null==e&&(e=a),R=_(R,"gsub",[e.$instance().$regexp()],(t=function(){var n,r=t.$$s||this,$=a,o=a,i=a;return null==d["~"]&&(d["~"]=a),$=d["~"],(n=$["$[]"](0)["$start_with?"]("\\"))===a||null==n||n.$$is_boolean&&1!=n?(o=$["$[]"](1),i=function(){return e.$config()["$[]"]("format")["$=="]("short")?u([],{}):e.$config()["$[]"]("content_model")["$=="]("attributes")?r.$parse_attributes($["$[]"](2),(n=e.$config()["$[]"]("pos_attrs"))!==!1&&n!==a&&null!=n?n:[],u(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):u(["text"],{
text:r.$unescape_bracketed_text($["$[]"](2))})}(),e.$process_method()["$[]"](r,o,i)):$["$[]"](0)["$[]"](f(1,-1,!1))},t.$$s=n,t.$$arity=0,t))},p.$$s=w,p.$$arity=1,p)),$=x["$[]"]("macroish"),(n=$!==!1&&$!==a&&null!=$?(o=R["$include?"]("image:"))!==!1&&o!==a&&null!=o?o:R["$include?"]("icon:"):$)===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"ImageInlineMacroRx",!0,!0)],(h=function(){var t,n,r,$=h.$$s||this,o=a,i=a,l=a,s=a,c=a,_=a;return null==$.document&&($.document=a),null==d["~"]&&(d["~"]=a),o=d["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?(i=$.$unescape_bracketed_text(o["$[]"](2)),(t=o["$[]"](0)["$start_with?"]("icon:"))===a||null==t||t.$$is_boolean&&1!=t?(l="image",s=["alt","width","height"]):(l="icon",s=["size"]),c=$.$sub_attributes(o["$[]"](1)),l["$=="]("icon")||$.document.$register("images",c),_=$.$parse_attributes(i,s),t="alt",n=_,(r=n["$[]"](t))!==!1&&r!==a&&null!=r||n["$[]="](t,e.const_get(V,"Helpers",!0,!0).$basename(c,!0).$tr("_-"," ")),e.const_get(V,"Inline",!0,!0).$new($,"image",a,u(["type","target","attributes"],{type:l,target:c,attributes:_})).$convert()):o["$[]"](0)["$[]"](f(1,-1,!1))},h.$$s=w,h.$$arity=0,h))),(n=($=x["$[]"]("macroish_short_form"))!==!1&&$!==a&&null!=$?$:x["$[]"]("round_bracket"))===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"IndextermInlineMacroRx",!0,!0)],(g=function(){var t,n,$=g.$$s||this,o=a,i=a,l=a,s=a,c=a,p=a;return null==$.document&&($.document=a),null==d["~"]&&(d["~"]=a),o=d["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===a||null==t||t.$$is_boolean&&1!=t||o["$[]"](1)["$=="]("")&&(k=[1,a],_(o,"[]=",e.to_a(k)),k[r(k.length,1)]),i=0,l=a,((t=s=o["$[]"](1))===a||null==t||t.$$is_boolean&&1!=t)&&(l=o["$[]"](3),n=l["$start_with?"]("("),(t=n!==!1&&n!==a&&null!=n?l["$end_with?"](")"):n)===a||null==t||t.$$is_boolean&&1!=t?i=2:(l=l["$[]"](f(1,-1,!0)),i=3)),(t=(n=s["$=="]("indexterm"))!==!1&&n!==a&&null!=n?n:i["$=="](3))===a||null==t||t.$$is_boolean&&1!=t?(p=(t=s["$!"]())===a||null==t||t.$$is_boolean&&1!=t?$.$normalize_string(o["$[]"](2),!0):$.$normalize_string(l),$.document.$register("indexterms",[p]),e.const_get(V,"Inline",!0,!0).$new($,"indexterm",p,u(["type"],{type:"visible"})).$convert()):(c=(t=s["$!"]())===a||null==t||t.$$is_boolean&&1!=t?$.$split_simple_csv($.$normalize_string(o["$[]"](2),!0)):$.$split_simple_csv($.$normalize_string(l)),$.document.$register("indexterms",[].concat(e.to_a(c))),e.const_get(V,"Inline",!0,!0).$new($,"indexterm",a,u(["attributes"],{attributes:u(["terms"],{terms:c})})).$convert())):o["$[]"](0)["$[]"](f(1,-1,!1))},g.$$s=w,g.$$arity=0,g))),(n=($=O!==!1&&O!==a&&null!=O)?R["$include?"]("://"):O)===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"LinkInlineRx",!0,!0)],(b=function(){var t,n,$,o,i=b.$$s||this,l=a,s=a,c=a,p=a,h=a,g=a,m=a,y=a;return null==i.document&&(i.document=a),null==d["~"]&&(d["~"]=a),l=d["~"],(t=l["$[]"](2)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===a||null==t||t.$$is_boolean&&1!=t||l["$[]"](3)["$=="]("")&&(k=[3,a],_(l,"[]=",e.to_a(k)),k[r(k.length,1)]),(t=(n=l["$[]"](1)["$=="]("link:"))?l["$[]"](3)["$!"]():l["$[]"](1)["$=="]("link:"))===a||null==t||t.$$is_boolean&&1!=t?(s=function(){return(t=l["$[]"](1)["$!="]("link:"))===a||null==t||t.$$is_boolean&&1!=t?"":l["$[]"](1)}(),c=l["$[]"](2),p="",((t=(n=l["$[]"](3))!==!1&&n!==a&&null!=n?n:e.const_get(V,"UriTerminatorRx",!0,!0)["$!~"](c))===a||null==t||t.$$is_boolean&&1!=t)&&(h=(t=d["~"])===a?a:t["$[]"](0),")"["$==="](h)?(c=c.$chop(),p=")"):";"["$==="](h)?(n=s["$start_with?"]("&lt;"),(t=n!==!1&&n!==a&&null!=n?c["$end_with?"]("&gt;"):n)===a||null==t||t.$$is_boolean&&1!=t?(t=(c=c.$chop())["$end_with?"](")"))===a||null==t||t.$$is_boolean&&1!=t?p=";":(c=c.$chop(),p=");"):(s=s["$[]"](f(4,-1,!1)),c=c["$[]"](f(0,-4,!0)))):":"["$==="](h)&&((t=(c=c.$chop())["$end_with?"](")"))===a||null==t||t.$$is_boolean&&1!=t?p=":":(c=c.$chop(),p="):"))),i.document.$register("links",c),g=u(["type","target"],{type:"link",target:c}),m=a,(t=l["$[]"](3)["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t?((t=(n=A!==!1&&A!==a&&null!=A)?($=l["$[]"](3)["$start_with?"]('"'))!==!1&&$!==a&&null!=$?$:(o=l["$[]"](3)["$include?"](","),o!==!1&&o!==a&&null!=o?l["$[]"](3)["$include?"]("="):o):A)===a||null==t||t.$$is_boolean&&1!=t?y=i.$sub_attributes(l["$[]"](3).$gsub("\\]","]")):(m=i.$parse_attributes(i.$sub_attributes(l["$[]"](3).$gsub("\\]","]")),[]),(t=m["$key?"]("id"))===a||null==t||t.$$is_boolean&&1!=t||(k=["id",m.$delete("id")],_(g,"[]=",e.to_a(k)),k[r(k.length,1)]),y=(t=m["$[]"](1))!==!1&&t!==a&&null!=t?t:""),(t=y["$end_with?"]("^"))===a||null==t||t.$$is_boolean&&1!=t||(y=y.$chop(),m!==!1&&m!==a&&null!=m?(t="window",n=m,($=n["$[]"](t))!==!1&&$!==a&&null!=$||n["$[]="](t,"_blank")):m=u(["window"],{window:"_blank"}))):y="",(t=y["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t||(y=function(){return(t=E["$key?"]("hide-uri-scheme"))===a||null==t||t.$$is_boolean&&1!=t?c:c.$sub(e.const_get(V,"UriSniffRx",!0,!0),"")}(),m!==!1&&m!==a&&null!=m?(k=["role",function(){return(t=m["$key?"]("role"))===a||null==t||t.$$is_boolean&&1!=t?"bare":"bare "+m["$[]"]("role")}()],_(m,"[]=",e.to_a(k)),k[r(k.length,1)]):m=u(["role"],{role:"bare"})),m!==!1&&m!==a&&null!=m&&(k=["attributes",m],_(g,"[]=",e.to_a(k)),k[r(k.length,1)]),""+s+e.const_get(V,"Inline",!0,!0).$new(i,"anchor",y,g).$convert()+p):l["$[]"](0)):""+l["$[]"](1)+l["$[]"](2)["$[]"](f(1,-1,!1))+l["$[]"](3)},b.$$s=w,b.$$arity=0,b))),o=x["$[]"]("macroish"),(n=($=o!==!1&&o!==a&&null!=o?R["$include?"]("link:"):o)!==!1&&$!==a&&null!=$?$:R["$include?"]("mailto:"))===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"LinkInlineMacroRx",!0,!0)],(m=function(){var t,n,$,o=m.$$s||this,i=a,l=a,s=a,c=a,p=a,h=a,g=a;return null==o.document&&(o.document=a),null==d["~"]&&(d["~"]=a),i=d["~"],(t=i["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?(l=i["$[]"](1),s=i["$[]"](0)["$start_with?"]("mailto:"),c=function(){return s!==!1&&s!==a&&null!=s?"mailto:"+l:l}(),p=u(["type","target"],{type:"link",target:c}),h=a,g=function(){return(t=(n=A!==!1&&A!==a&&null!=A)?($=i["$[]"](2)["$start_with?"]('"'))!==!1&&$!==a&&null!=$?$:i["$[]"](2)["$include?"](","):A)===a||null==t||t.$$is_boolean&&1!=t?o.$sub_attributes(i["$[]"](2).$gsub("\\]","]")):(h=o.$parse_attributes(o.$sub_attributes(i["$[]"](2).$gsub("\\]","]")),[]),(t=h["$key?"]("id"))===a||null==t||t.$$is_boolean&&1!=t||(k=["id",h.$delete("id")],_(p,"[]=",e.to_a(k)),k[r(k.length,1)]),s!==!1&&s!==a&&null!=s&&((t=h["$key?"](2))===a||null==t||t.$$is_boolean&&1!=t||(k=["target",c+"?subject="+e.const_get(V,"Helpers",!0,!0).$encode_uri(h["$[]"](2))],_(p,"[]=",e.to_a(k)),c=k[r(k.length,1)],(t=h["$key?"](3))===a||null==t||t.$$is_boolean&&1!=t||(k=["target",c+"&amp;body="+e.const_get(V,"Helpers",!0,!0).$encode_uri(h["$[]"](3))],_(p,"[]=",e.to_a(k)),c=k[r(k.length,1)]))),h["$[]"](1))}(),o.document.$register("links",c),(t=g["$end_with?"]("^"))===a||null==t||t.$$is_boolean&&1!=t||(g=g.$chop(),h!==!1&&h!==a&&null!=h?(t="window",n=h,($=n["$[]"](t))!==!1&&$!==a&&null!=$||n["$[]="](t,"_blank")):h=u(["window"],{window:"_blank"})),(t=g["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t||(s!==!1&&s!==a&&null!=s?g=l:(g=function(){return(t=E["$key?"]("hide-uri-scheme"))===a||null==t||t.$$is_boolean&&1!=t?c:c.$sub(e.const_get(V,"UriSniffRx",!0,!0),"")}(),h!==!1&&h!==a&&null!=h?(k=["role",function(){return(t=h["$key?"]("role"))===a||null==t||t.$$is_boolean&&1!=t?"bare":"bare "+h["$[]"]("role")}()],_(h,"[]=",e.to_a(k)),k[r(k.length,1)]):h=u(["role"],{role:"bare"}))),h!==!1&&h!==a&&null!=h&&(k=["attributes",h],_(p,"[]=",e.to_a(k)),k[r(k.length,1)]),e.const_get(V,"Inline",!0,!0).$new(o,"anchor",g,p).$convert()):i["$[]"](0)["$[]"](f(1,-1,!1))},m.$$s=w,m.$$arity=0,m))),(n=R["$include?"]("@"))===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"EmailInlineMacroRx",!0,!0)],(y=function(){var t,n=y.$$s||this,r=a,$=a,o=a,i=a,l=a;return null==n.document&&(n.document=a),null==d["~"]&&(d["~"]=a),r=d["~"],$=r["$[]"](0),(t=o=r["$[]"](1))===a||null==t||t.$$is_boolean&&1!=t?(l="mailto:"+$,n.document.$register("links",l),e.const_get(V,"Inline",!0,!0).$new(n,"anchor",$,u(["type","target"],{type:"link",target:l})).$convert()):(i=o,"\\"["$==="](i)?$["$[]"](f(1,-1,!1)):$)},y.$$s=w,y.$$arity=0,y))),$=x["$[]"]("macroish_short_form"),(n=$!==!1&&$!==a&&null!=$?R["$include?"]("footnote"):$)===a||null==n||n.$$is_boolean&&1!=n||(R=_(R,"gsub",[e.const_get(V,"FootnoteInlineMacroRx",!0,!0)],(v=function(){var t,n,r,$=v.$$s||this,o=a,i=a,l=a,s=a,c=a,p=a,h=a;return null==$.document&&($.document=a),null==d["~"]&&(d["~"]=a),o=d["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?(o["$[]"](1)["$=="]("footnote")?(i=a,l=$.$restore_passthroughs($.$sub_inline_xrefs($.$sub_inline_anchors($.$normalize_string(o["$[]"](2),!0))),!1),s=$.document.$counter("footnote-number"),$.document.$register("footnotes",e.const_get([e.const_get(V,"Document",!0,!0).$$scope],"Footnote",!0,!0).$new(s,i,l)),c=a,p=a):(n=o["$[]"](2).$split(",",2),t=e.to_ary(n),i=null==t[0]?a:t[0],l=null==t[1]?a:t[1],i=i.$strip(),(t=l["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t?(l=$.$restore_passthroughs($.$sub_inline_xrefs($.$sub_inline_anchors($.$normalize_string(l,!0))),!1),s=$.document.$counter("footnote-number"),$.document.$register("footnotes",e.const_get([e.const_get(V,"Document",!0,!0).$$scope],"Footnote",!0,!0).$new(s,i,l)),c="ref",p=a):((t=h=_($.document.$references()["$[]"]("footnotes"),"find",[],(r=function(e){r.$$s;return null==e&&(e=a),e.$id()["$=="](i)},r.$$s=$,r.$$arity=1,r)))===a||null==t||t.$$is_boolean&&1!=t?(s=a,l=i):(s=h.$index(),l=h.$text()),p=i,i=a,c="xref")),e.const_get(V,"Inline",!0,!0).$new($,"footnote",l,u(["attributes","id","target","type"],{attributes:u(["index"],{index:s}),id:i,target:p,type:c})).$convert()):o["$[]"](0)["$[]"](f(1,-1,!1))},v.$$s=w,v.$$arity=0,v))),w.$sub_inline_xrefs(w.$sub_inline_anchors(R,x),x)):t},R.$$arity=1),e.defn(W,"$sub_inline_anchors",M=function(t,n){var $,o,i,l,s,c,p=this;return null==n&&(n=a),o=(i=n["$!"]())!==!1&&i!==a&&null!=i?i:n["$[]"]("square_bracket"),($=o!==!1&&o!==a&&null!=o?t["$include?"]("[[["):o)===a||null==$||$.$$is_boolean&&1!=$||(t=_(t,"gsub",[e.const_get(V,"InlineBiblioAnchorRx",!0,!0)],(l=function(){var t,n=l.$$s||this,r=a,$=a,o=a;return null==d["~"]&&(d["~"]=a),r=d["~"],(t=r["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?($=o=r["$[]"](1),e.const_get(V,"Inline",!0,!0).$new(n,"anchor",o,u(["type","target"],{type:"bibref",target:$})).$convert()):r["$[]"](0)["$[]"](f(1,-1,!1))},l.$$s=p,l.$$arity=0,l))),i=(s=n["$!"]())!==!1&&s!==a&&null!=s?s:n["$[]"]("square_bracket"),($=(o=i!==!1&&i!==a&&null!=i?t["$include?"]("[["):i)!==!1&&o!==a&&null!=o?o:(i=(s=n["$!"]())!==!1&&s!==a&&null!=s?s:n["$[]"]("macroish"),i!==!1&&i!==a&&null!=i?t["$include?"]("anchor:"):i))===a||null==$||$.$$is_boolean&&1!=$||(t=_(t,"gsub",[e.const_get(V,"InlineAnchorRx",!0,!0)],(c=function(){var t,n,$=c.$$s||this,o=a,i=a,l=a,s=a;return null==d["~"]&&(d["~"]=a),o=d["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===a||null==t||t.$$is_boolean&&1!=t||(o["$[]"](1)["$=="]("")&&(i=[1,a],_(o,"[]=",e.to_a(i)),i[r(i.length,1)]),o["$[]"](2)["$=="]("")&&(i=[2,a],_(o,"[]=",e.to_a(i)),i[r(i.length,1)]),o["$[]"](4)["$=="]("")&&(i=[4,a],_(o,"[]=",e.to_a(i)),i[r(i.length,1)])),l=(t=o["$[]"](1))!==!1&&t!==a&&null!=t?t:o["$[]"](3),s=(t=(n=o["$[]"](2))!==!1&&n!==a&&null!=n?n:o["$[]"](4))!==!1&&t!==a&&null!=t?t:"["+l+"]",e.const_get(V,"Inline",!0,!0).$new($,"anchor",s,u(["type","target"],{type:"ref",target:l})).$convert()):o["$[]"](0)["$[]"](f(1,-1,!1))},c.$$s=p,c.$$arity=0,c))),t},M.$$arity=-2),e.defn(W,"$sub_inline_xrefs",T=function(t,n){var $,o,i,l,s=this;return null==n&&(n=a),($=(o=(i=n["$!"]())!==!1&&i!==a&&null!=i?i:n["$[]"]("macroish"))!==!1&&o!==a&&null!=o?o:t["$include?"]("&lt;&lt;"))===a||null==$||$.$$is_boolean&&1!=$||(t=_(t,"gsub",[e.const_get(V,"XrefInlineMacroRx",!0,!0)],(l=function(){var t,n,$,o,i,s=l.$$s||this,c=a,p=a,h=a,g=a,b=a,m=a,y=a,v=a,w=a;return null==s.document&&(s.document=a),null==d["~"]&&(d["~"]=a),c=d["~"],(t=c["$[]"](0)["$start_with?"]("\\"))===a||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===a||null==t||t.$$is_boolean&&1!=t||c["$[]"](1)["$=="]("")&&(p=[1,a],_(c,"[]=",e.to_a(p)),p[r(p.length,1)]),(t=c["$[]"](1))===a||null==t||t.$$is_boolean&&1!=t?(h=c["$[]"](2),((t=c["$[]"](3)["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t)&&(g=c["$[]"](3))):(n=_(c["$[]"](1).$split(",",2),"map",[],($=function(e){$.$$s;return null==e&&(e=a),e.$strip()},$.$$s=s,$.$$arity=1,$)),t=e.to_ary(n),h=null==t[0]?a:t[0],g=null==t[1]?a:t[1],n=h["$start_with?"]('"'),(t=n!==!1&&n!==a&&null!=n?h["$end_with?"]('"'):n)===a||null==t||t.$$is_boolean&&1!=t||(h=h["$[]"](1,r(h.$length(),2))),g=function(){return(t=g["$nil_or_empty?"]())===a||null==t||t.$$is_boolean&&1!=t?(n=g["$start_with?"]('"'),(t=n!==!1&&n!==a&&null!=n?g["$end_with?"]('"'):n)===a||null==t||t.$$is_boolean&&1!=t?g:g["$[]"](1,r(g.$length(),2))):a}()),(t=h["$include?"]("#"))===a||null==t||t.$$is_boolean&&1!=t?(b=a,m=h):(n=h.$split("#"),t=e.to_ary(n),b=null==t[0]?a:t[0],m=null==t[1]?a:t[1]),b!==!1&&b!==a&&null!=b?(b=e.const_get(V,"Helpers",!0,!0).$rootname(b),(t=(n=s.document.$attributes()["$[]"]("docname")["$=="](b))!==!1&&n!==a&&null!=n?n:s.document.$references()["$[]"]("includes")["$include?"](b))===a||null==t||t.$$is_boolean&&1!=t?(y=function(){return m!==!1&&m!==a&&null!=m?b+"#"+m:b}(),b=""+s.document.$attributes()["$[]"]("relfileprefix")+b+s.document.$attributes().$fetch("outfilesuffix",".html"),v=function(){return m!==!1&&m!==a&&null!=m?b+"#"+m:b}()):(y=m,b=a,v="#"+m)):(o=s.document.$references()["$[]"]("ids")["$key?"](m)["$!"](),n=o!==!1&&o!==a&&null!=o?(i=m["$include?"](" "))!==!1&&i!==a&&null!=i?i:m.$downcase()["$!="](m):o,(t=n!==!1&&n!==a&&null!=n?w=function(){return(o=e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0))===a||null==o||o.$$is_boolean&&1!=o?s.document.$references()["$[]"]("ids").$index(m):s.document.$references()["$[]"]("ids").$key(m)}():n)===a||null==t||t.$$is_boolean&&1!=t||(m=w),y=m,v="#"+m),e.const_get(V,"Inline",!0,!0).$new(s,"anchor",g,u(["type","target","attributes"],{type:"xref",target:v,attributes:u(["path","fragment","refid"],{path:b,fragment:m,refid:y})})).$convert()):c["$[]"](0)["$[]"](f(1,-1,!1))},l.$$s=s,l.$$arity=0,l))),t},T.$$arity=-2),e.defn(W,"$sub_callouts",I=function(t){var n,r,$=this,o=a;return o=function(){return(n=$["$attr?"]("line-comment"))===a||null==n||n.$$is_boolean&&1!=n?e.const_get(V,"CalloutSourceRx",!0,!0):new RegExp("(?:"+e.const_get([e.Object.$$scope],"Regexp",!0,!0).$escape($.$attr("line-comment"))+" )?"+e.const_get(V,"CalloutSourceRxt",!0,!0))}(),_(t,"gsub",[o],(r=function(){var t=r.$$s||this,n=a;return null==t.document&&(t.document=a),null==d["~"]&&(d["~"]=a),n=d["~"],n["$[]"](1)["$=="]("\\")?n["$[]"](0).$sub("\\",""):e.const_get(V,"Inline",!0,!0).$new(t,"callout",n["$[]"](3),u(["id"],{id:t.document.$callouts().$read_next_id()})).$convert()},r.$$s=$,r.$$arity=0,r))},I.$$arity=1),e.defn(W,"$sub_post_replacements",C=function(t){var $,i,l,s,c=this,f=a,p=a;return null==c.document&&(c.document=a),null==c.attributes&&(c.attributes=a),($=(i=c.document.$attributes()["$key?"]("hardbreaks"))!==!1&&i!==a&&null!=i?i:c.attributes["$key?"]("hardbreaks-option"))===a||null==$||$.$$is_boolean&&1!=$?(i=t["$include?"](e.const_get(V,"PLUS",!0,!0)),($=i!==!1&&i!==a&&null!=i?t["$include?"](e.const_get(V,"LINE_BREAK",!0,!0)):i)===a||null==$||$.$$is_boolean&&1!=$?t:_(t,"gsub",[e.const_get(V,"LineBreakRx",!0,!0)],(s=function(){var t,n=s.$$s||this;return e.const_get(V,"Inline",!0,!0).$new(n,"break",(t=d["~"])===a?a:t["$[]"](1),u(["type"],{type:"line"})).$convert()},s.$$s=c,s.$$arity=0,s))):(f=t.$split(e.const_get(V,"EOL",!0,!0),-1),($=o(f.$size(),2))===a||null==$||$.$$is_boolean&&1!=$?(p=f.$pop(),n(_(f,"map",[],(l=function(t){var n,$=l.$$s||this;return null==t&&(t=a),e.const_get(V,"Inline",!0,!0).$new($,"break",function(){return(n=t["$end_with?"](e.const_get(V,"LINE_BREAK",!0,!0)))===a||null==n||n.$$is_boolean&&1!=n?t:t["$[]"](0,r(t.$length(),2))}(),u(["type"],{type:"line"})).$convert()},l.$$s=c,l.$$arity=1,l))["$<<"](p),e.const_get(V,"EOL",!0,!0))):t)},C.$$arity=1),e.defn(W,"$convert_quoted_text",N=function(t,n,r){var $,o=this,i=a,l=a,s=a,c=a;if(i=a,($=t["$[]"](0)["$start_with?"]("\\"))!==a&&null!=$&&(!$.$$is_boolean||1==$)){if(($=r["$=="]("constrained")?(l=t["$[]"](2))["$nil_or_empty?"]()["$!"]():r["$=="]("constrained"))===a||null==$||$.$$is_boolean&&1!=$)return t["$[]"](0)["$[]"](f(1,-1,!1));i="["+l+"]"}return r["$=="]("constrained")?i!==!1&&i!==a&&null!=i?""+i+e.const_get(V,"Inline",!0,!0).$new(o,"quoted",t["$[]"](3),u(["type"],{type:n})).$convert():(($=s=o.$parse_quoted_text_attributes(t["$[]"](2)))===a||null==$||$.$$is_boolean&&1!=$?c=a:(c=s.$delete("id"),n["$=="]("mark")&&(n="unquoted")),""+t["$[]"](1)+e.const_get(V,"Inline",!0,!0).$new(o,"quoted",t["$[]"](3),u(["type","id","attributes"],{type:n,id:c,attributes:s})).$convert()):(($=s=o.$parse_quoted_text_attributes(t["$[]"](1)))===a||null==$||$.$$is_boolean&&1!=$?c=a:(c=s.$delete("id"),n["$=="]("mark")&&(n="unquoted")),e.const_get(V,"Inline",!0,!0).$new(o,"quoted",t["$[]"](2),u(["type","id","attributes"],{type:n,id:c,attributes:s})).$convert())},N.$$arity=3),e.defn(W,"$parse_quoted_text_attributes",j=function(t){var o,i,l=this,c=a,d=a,f=a,p=a,h=a,g=a;return t===!1||t===a||null==t?a:(o=t["$empty?"]())===a||null==o||o.$$is_boolean&&1!=o?((o=t["$include?"]("{"))===a||null==o||o.$$is_boolean&&1!=o||(t=l.$sub_attributes(t)),t=t.$strip(),(o=t["$include?"](","))===a||null==o||o.$$is_boolean&&1!=o||(i=t.$split(",",2),o=e.to_ary(i),t=null==o[0]?a:o[0],null==o[1]?a:o[1]),(o=t["$empty?"]())===a||null==o||o.$$is_boolean&&1!=o?(i=t["$start_with?"](".","#"),(o=i!==!1&&i!==a&&null!=i?e.const_get(V,"Compliance",!0,!0).$shorthand_property_syntax():i)===a||null==o||o.$$is_boolean&&1!=o?u(["role"],{role:t}):(c=t.$split("#",2),(o=$(c.$size(),1))===a||null==o||o.$$is_boolean&&1!=o?(d=a,f=[]):(i=c["$[]"](1).$split("."),o=e.to_ary(i),d=null==o[0]?a:o[0],f=s.call(o,1)),p=function(){return(o=c["$[]"](0)["$empty?"]())===a||null==o||o.$$is_boolean&&1!=o?c["$[]"](0).$split("."):[]}(),(o=$(p.$size(),1))===a||null==o||o.$$is_boolean&&1!=o||p.$shift(),(o=$(f.$size(),0))===a||null==o||o.$$is_boolean&&1!=o||p.$concat(f),h=u([],{}),d!==!1&&d!==a&&null!=d&&(g=["id",d],_(h,"[]=",e.to_a(g)),g[r(g.length,1)]),((o=p["$empty?"]())===a||null==o||o.$$is_boolean&&1!=o)&&(g=["role",n(p," ")],_(h,"[]=",e.to_a(g)),g[r(g.length,1)]),h)):u([],{})):u([],{})},j.$$arity=1),e.defn(W,"$parse_attributes",L=function(t,n,r){var $,o=this,i=a,l=a;return null==o.document&&(o.document=a),null==n&&(n=["role"]),null==r&&(r=u([],{})),t===!1||t===a||null==t?a:($=t["$empty?"]())===a||null==$||$.$$is_boolean&&1!=$?(($=r["$[]"]("sub_input"))===a||null==$||$.$$is_boolean&&1!=$||(t=o.document.$sub_attributes(t)),($=r["$[]"]("unescape_input"))===a||null==$||$.$$is_boolean&&1!=$||(t=o.$unescape_bracketed_text(t)),i=a,($=r.$fetch("sub_result",!0))===a||null==$||$.$$is_boolean&&1!=$||(i=o),($=l=r["$[]"]("into"))===a||null==$||$.$$is_boolean&&1!=$?e.const_get(V,"AttributeList",!0,!0).$new(t,i).$parse(n):e.const_get(V,"AttributeList",!0,!0).$new(t,i).$parse_into(l,n)):u([],{})},L.$$arity=-2),e.defn(W,"$unescape_bracketed_text",z=function(t){var n;return(n=t["$empty?"]())===a||null==n||n.$$is_boolean&&1!=n?t.$strip().$tr(e.const_get(V,"EOL",!0,!0)," ").$gsub("\\]","]"):t},z.$$arity=1),e.defn(W,"$normalize_string",P=function(t,n){var r,$=this;return null==n&&(n=!1),(r=t["$empty?"]())===a||null==r||r.$$is_boolean&&1!=r?n!==!1&&n!==a&&null!=n?$.$unescape_brackets(t.$strip().$tr(e.const_get(V,"EOL",!0,!0)," ")):t.$strip().$tr(e.const_get(V,"EOL",!0,!0)," "):t},P.$$arity=-2),e.defn(W,"$unescape_brackets",D=function(e){var t;return(t=e["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?e.$gsub("\\]","]"):e},D.$$arity=1),e.defn(W,"$split_simple_csv",B=function(e){var t,n,r,$=this,o=a,i=a,l=a;return(t=e["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"]('"'))===a||null==t||t.$$is_boolean&&1!=t?o=_(e.$split(","),"map",[],(r=function(e){r.$$s;return null==e&&(e=a),e.$strip()},r.$$s=$,r.$$arity=1,r)):(o=[],i=[],l=!1,_(e,"each_char",[],(n=function(e){var t=(n.$$s,a);return null==e&&(e=a),function(){return t=e,","["$==="](t)?l!==!1&&l!==a&&null!=l?i["$<<"](e):(o["$<<"](i.$join().$strip()),i=[]):'"'["$==="](t)?l=l["$!"]():i["$<<"](e)}()},n.$$s=$,n.$$arity=1,n)),o["$<<"](i.$join().$strip())):o=[],o},B.$$arity=1),e.defn(W,"$resolve_subs",q=function(o,i,l,s){var c,u,d=this,p=a,h=a,g=a,b=a;return null==i&&(i="block"),null==l&&(l=a),null==s&&(s=a),(c=o["$nil_or_empty?"]())===a||null==c||c.$$is_boolean&&1!=c?(p=a,h=e.const_get(V,"SubModifierSniffRx",!0,!0)["$match?"](o),(c=o["$include?"](" "))===a||null==c||c.$$is_boolean&&1!=c||(o=o.$delete(" ")),_(o.$split(","),"each",[],(u=function(n){var $,o,s,c=(u.$$s,a),_=a,d=a,g=a,b=a,m=a;return null==n&&(n=a),c=a,h!==!1&&h!==a&&null!=h&&((_=n.$chr())["$=="]("+")?(c="append",n=n["$[]"](f(1,-1,!1))):_["$=="]("-")?(c="remove",n=n["$[]"](f(1,-1,!1))):($=n["$end_with?"]("+"))===a||null==$||$.$$is_boolean&&1!=$||(c="prepend",n=n.$chop())),n=n.$to_sym(),($=(o=i["$=="]("inline"))?(s=n["$=="]("verbatim"))!==!1&&s!==a&&null!=s?s:n["$=="]("v"):i["$=="]("inline"))===a||null==$||$.$$is_boolean&&1!=$?($=e.const_get(V,"SUB_GROUPS",!0,!0)["$key?"](n))===a||null==$||$.$$is_boolean&&1!=$?(o=(s=i["$=="]("inline"))?n.$length()["$=="](1):i["$=="]("inline"),($=o!==!1&&o!==a&&null!=o?e.const_get(V,"SUB_HINTS",!0,!0)["$key?"](n):o)===a||null==$||$.$$is_boolean&&1!=$?d=[n]:(g=e.const_get(V,"SUB_HINTS",!0,!0)["$[]"](n),d=($=b=e.const_get(V,"SUB_GROUPS",!0,!0)["$[]"](g))===a||null==$||$.$$is_boolean&&1!=$?[g]:b)):d=e.const_get(V,"SUB_GROUPS",!0,!0)["$[]"](n):d=e.const_get(V,"BASIC_SUBS",!0,!0),c!==!1&&c!==a&&null!=c?(($=p)!==!1&&$!==a&&null!=$||(p=function(){return l!==!1&&l!==a&&null!=l?l.$dup():[]}()),function(){return m=c,"append"["$==="](m)?p=t(p,d):"prepend"["$==="](m)?p=t(d,p):"remove"["$==="](m)?p=r(p,d):a}()):(($=p)!==!1&&$!==a&&null!=$||(p=[]),p=t(p,d))},u.$$s=d,u.$$arity=1,u)),g=p["$&"](e.const_get(V,"SUB_OPTIONS",!0,!0)["$[]"](i)),((c=r(p,g)["$empty?"]())===a||null==c||c.$$is_boolean&&1!=c)&&(b=r(p,g),d.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return(c=$(b.$size(),1))===a||null==c||c.$$is_boolean&&1!=c?"":"s"}()+function(){return s!==!1&&s!==a&&null!=s?" for ":a}()+s+": "+n(b,", "))),g):[]},q.$$arity=-2),e.defn(W,"$resolve_block_subs",U=function(e,t,n){return this.$resolve_subs(e,"block",t,n)},U.$$arity=3),e.defn(W,"$resolve_pass_subs",F=function(e){return this.$resolve_subs(e,"inline",a,"passthrough macro")},F.$$arity=1),e.defn(W,"$highlight_source",G=function($,o,i){var l,s,c,f,p,h=this,g=a,b=a,m=a,y=a,v=a,w=a,x=a,k=a,O=a,E=a,A=a,S=a,R=a,M=a;return null==h.document&&(h.document=a),null==h.passthroughs&&(h.passthroughs=a),null==i&&(i=a),g=(l=i)!==!1&&l!==a&&null!=l?l:i=h.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](g)?((l=(s=b=e.const_get([e.Object.$$scope],"CodeRay",!0,!1)?"constant":a)!==!1&&s!==a&&null!=s?s:h.document.$attributes()["$[]"]("coderay-unavailable"))===a||null==l||l.$$is_boolean&&1!=l)&&((l=e.const_get(V,"Helpers",!0,!0).$require_library("coderay",!0,"warn")["$nil?"]())===a||null==l||l.$$is_boolean&&1!=l?b=!0:h.document.$set_attr("coderay-unavailable")):"pygments"["$==="](g)?((l=(s=b=e.const_get([e.Object.$$scope],"Pygments",!0,!1)?"constant":a)!==!1&&s!==a&&null!=s?s:h.document.$attributes()["$[]"]("pygments-unavailable"))===a||null==l||l.$$is_boolean&&1!=l)&&((l=e.const_get(V,"Helpers",!0,!0).$require_library("pygments","pygments.rb","warn")["$nil?"]())===a||null==l||l.$$is_boolean&&1!=l?b=!0:h.document.$set_attr("pygments-unavailable")):b=!1,b===!1||b===a||null==b?h.$sub_source($,o):(m=0,y=!1,o!==!1&&o!==a&&null!=o?(v=u([],{}),w=-1,x=function(){return(l=h["$attr?"]("line-comment"))===a||null==l||l.$$is_boolean&&1!=l?e.const_get(V,"CalloutExtractRx",!0,!0):new RegExp("(?:"+e.const_get([e.Object.$$scope],"Regexp",!0,!0).$escape(h.$attr("line-comment"))+" )?"+e.const_get(V,"CalloutExtractRxt",!0,!0))}(),$=n(_($.$split(e.const_get(V,"EOL",!0,!0),-1),"map",[],(c=function(e){var n,r=c.$$s||this;return null==e&&(e=a),m=t(m,1),_(e,"gsub",[x],(n=function(){var e,t,r,$=(n.$$s,a);return null==d["~"]&&(d["~"]=a),$=d["~"],$["$[]"](1)["$=="]("\\")?$["$[]"](0).$sub("\\",""):((e=m,t=v,(r=t["$[]"](e))!==!1&&r!==a&&null!=r?r:t["$[]="](e,[]))["$<<"]($["$[]"](3)),w=m,a)},n.$$s=r,n.$$arity=0,n))},c.$$s=h,c.$$arity=1,c)),e.const_get(V,"EOL",!0,!0)),y=w["$=="](m),(l=v["$empty?"]())===a||null==l||l.$$is_boolean&&1!=l||(v=a)):v=a,k=a,O=a,g=i,"coderay"["$==="](g)?((l=k=function(){return(s=h["$attr?"]("linenums"))===a||null==s||s.$$is_boolean&&1!=s?a:((s=h.document.$attributes()["$[]"]("coderay-linenums-mode"))!==!1&&s!==a&&null!=s?s:"table").$to_sym()}())===a||null==l||l.$$is_boolean&&1!=l||(l=h["$attr?"]("highlight",a,!1))===a||null==l||l.$$is_boolean&&1!=l||(O=h.$resolve_highlight_lines(h.$attr("highlight",a,!1))),E=e.const_get([e.const_get([e.Object.$$scope],"CodeRay",!0,!0).$$scope],"Duo",!0,!0)["$[]"](h.$attr("language","text",!1).$to_sym(),"html",u(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:((l=h.document.$attributes()["$[]"]("coderay-css"))!==!1&&l!==a&&null!=l?l:"class").$to_sym(),line_numbers:k,line_number_anchors:!1,highlight_lines:O,bold_every:!1})).$highlight($)):"pygments"["$==="](g)&&(A=(l=e.const_get([e.const_get([e.Object.$$scope],"Pygments",!0,!0).$$scope],"Lexer",!0,!0).$find_by_alias(h.$attr("language","text",!1)))!==!1&&l!==a&&null!=l?l:e.const_get([e.const_get([e.Object.$$scope],"Pygments",!0,!0).$$scope],"Lexer",!0,!0).$find_by_mimetype("text/plain"),S=u(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),A.$name()["$=="]("PHP")&&(R=["startinline",h["$option?"]("mixed")["$!"]()],_(S,"[]=",e.to_a(R)),R[r(R.length,1)]),((l=h.document.$attributes()["$[]"]("pygments-css"))!==!1&&l!==a&&null!=l?l:"class")["$=="]("class")||(R=["noclasses",!0],_(S,"[]=",e.to_a(R)),R[r(R.length,1)],R=["style",(l=h.document.$attributes()["$[]"]("pygments-style"))!==!1&&l!==a&&null!=l?l:e.const_get([e.const_get(V,"Stylesheets",!0,!0).$$scope],"DEFAULT_PYGMENTS_STYLE",!0,!0)],_(S,"[]=",e.to_a(R)),R[r(R.length,1)]),(l=h["$attr?"]("highlight",a,!1))===a||null==l||l.$$is_boolean&&1!=l||((l=(O=h.$resolve_highlight_lines(h.$attr("highlight",a,!1)))["$empty?"]())===a||null==l||l.$$is_boolean&&1!=l)&&(R=["hl_lines",n(O," ")],_(S,"[]=",e.to_a(R)),R[r(R.length,1)]),s=h["$attr?"]("linenums"),(l=s!==!1&&s!==a&&null!=s?(R=["linenos",(f=h.document.$attributes()["$[]"]("pygments-linenums-mode"))!==!1&&f!==a&&null!=f?f:"table"],_(S,"[]=",e.to_a(R)),R[r(R.length,1)])["$=="]("table"):s)===a||null==l||l.$$is_boolean&&1!=l?(l=e.const_get(V,"PygmentsWrapperPreRx",!0,!0)["$=~"](E=A.$highlight($,u(["options"],{options:S}))))===a||null==l||l.$$is_boolean&&1!=l||(E=(l=d["~"])===a?a:l["$[]"](1)):(k="table",E=A.$highlight($,u(["options"],{options:S})).$sub(e.const_get(V,"PygmentsWrapperDivRx",!0,!0),"\\1").$gsub(e.const_get(V,"PygmentsWrapperPreRx",!0,!0),"\\1"))),((l=h.passthroughs["$empty?"]())===a||null==l||l.$$is_boolean&&1!=l)&&(E=E.$gsub(e.const_get(V,"PASS_MATCH_HI",!0,!0),e.const_get(V,"PASS_START",!0,!0)+"\\1"+e.const_get(V,"PASS_END",!0,!0))),(l=(s=o!==!1&&o!==a&&null!=o)?v:o)===a||null==l||l.$$is_boolean&&1!=l?E:(m=0,M=k["$!="]("table"),n(_(E.$split(e.const_get(V,"EOL",!0,!0),-1),"map",[],(p=function(r){var $,o,l,s=p.$$s||this,c=a,d=a,f=a,h=a;if(null==s.document&&(s.document=a),null==r&&(r=a),M!==!1&&M!==a&&null!=M);else{if(($=r["$include?"]('<td class="code">'))===a||null==$||$.$$is_boolean&&1!=$)return r;M=!0}return m=t(m,1),($=c=v.$delete(m))===a||null==$||$.$$is_boolean&&1!=$?r:(d=a,o=y!==!1&&y!==a&&null!=y?v["$empty?"]():y,($=o!==!1&&o!==a&&null!=o?k["$=="]("table"):o)===a||null==$||$.$$is_boolean&&1!=$||(($=(o=i["$=="]("coderay"))?f=r.$index("</pre>"):i["$=="]("coderay"))===a||null==$||$.$$is_boolean&&1!=$?($=(o=i["$=="]("pygments"))?f=r["$start_with?"]("</td>"):i["$=="]("pygments"))===a||null==$||$.$$is_boolean&&1!=$||($=["",r],r=$[0],d=$[1]):($=[r["$[]"](0,f),r["$[]"](e.Range.$new(f,-1,!1))],r=$[0],d=$[1])),c.$size()["$=="](1)?""+r+e.const_get(V,"Inline",!0,!0).$new(s,"callout",c["$[]"](0),u(["id"],{id:s.document.$callouts().$read_next_id()})).$convert()+d:(h=n(_(c,"map",[],(l=function(t){var n=l.$$s||this;return null==n.document&&(n.document=a),null==t&&(t=a),e.const_get(V,"Inline",!0,!0).$new(n,"callout",t,u(["id"],{id:n.document.$callouts().$read_next_id()})).$convert()},l.$$s=s,l.$$arity=1,l))," "),""+r+h+d))},p.$$s=h,p.$$arity=1,p)),e.const_get(V,"EOL",!0,!0))))},G.$$arity=-3),e.defn(W,"$resolve_highlight_lines",H=function(t){var n,$=this,o=a;return o=[],_(t.$delete(" ").$split(e.const_get(V,"DataDelimiterRx",!0,!0)),"map",[],(n=function(t){var $,i,l=(n.$$s,a),s=a,c=a,u=a;return null==t&&(t=a),l=!1,($=t["$start_with?"]("!"))===a||null==$||$.$$is_boolean&&1!=$||(t=t["$[]"](f(1,-1,!1)),l=!0),($=t["$include?"]("-"))===a||null==$||$.$$is_boolean&&1!=$?l!==!1&&l!==a&&null!=l?o.$delete(t.$to_i()):o["$<<"](t.$to_i()):(i=t.$split("-",2),$=e.to_ary(i),s=null==$[0]?a:$[0],c=null==$[1]?a:$[1],u=e.Range.$new(s.$to_i(),c.$to_i(),!1).$to_a(),l!==!1&&l!==a&&null!=l?o=r(o,u):o.$concat(u))},n.$$s=$,n.$$arity=1,n)),o.$sort().$uniq()},H.$$arity=1),e.defn(W,"$sub_source",Y=function(e,t){var n,r,$,o=this;return(n=(r=($=e["$include?"]("<"))!==!1&&$!==a&&null!=$?$:e["$include?"]("&"))!==!1&&r!==a&&null!=r?r:e["$include?"](">"))===a||null==n||n.$$is_boolean&&1!=n?t!==!1&&t!==a&&null!=t?o.$sub_callouts(e):e:t!==!1&&t!==a&&null!=t?o.$sub_callouts(o.$sub_specialchars(e)):o.$sub_specialchars(e)},Y.$$arity=2),e.defn(W,"$lock_in_subs",K=function(){var t,n,$,o,i,l=this,s=a,c=a,u=a,d=a,f=a;if(null==l.default_subs&&(l.default_subs=a),null==l.content_model&&(l.content_model=a),null==l.context&&(l.context=a),null==l.subs&&(l.subs=a),null==l.attributes&&(l.attributes=a),null==l.style&&(l.style=a),null==l.document&&(l.document=a),(t=s=l.default_subs)===a||null==t||t.$$is_boolean&&1!=t)if(c=l.content_model,"simple"["$==="](c))s=e.const_get(V,"NORMAL_SUBS",!0,!0);else if("verbatim"["$==="](c))s=(t=(n=l.context["$=="]("listing"))!==!1&&n!==a&&null!=n?n:($=l.context["$=="]("literal"))?l["$option?"]("listparagraph")["$!"]():l.context["$=="]("literal"))===a||null==t||t.$$is_boolean&&1!=t?l.context["$=="]("verse")?e.const_get(V,"NORMAL_SUBS",!0,!0):e.const_get(V,"BASIC_SUBS",!0,!0):e.const_get(V,"VERBATIM_SUBS",!0,!0);else{if(!"raw"["$==="](c))return l.subs;s=l.context["$=="]("stem")?e.const_get(V,"BASIC_SUBS",!0,!0):e.const_get(V,"PASS_SUBS",!0,!0)}else;return l.subs=function(){return(t=u=l.attributes["$[]"]("subs"))===a||null==t||t.$$is_boolean&&1!=t?s.$dup():l.$resolve_block_subs(u,s,l.context)}(),i=l.context["$=="]("listing")?l.style["$=="]("source"):l.context["$=="]("listing"),o=i!==!1&&i!==a&&null!=i?l.attributes["$key?"]("language"):i,$=o!==!1&&o!==a&&null!=o?l.document["$basebackend?"]("html"):o,n=$!==!1&&$!==a&&null!=$?e.const_get(V,"SUB_HIGHLIGHT",!0,!0)["$include?"](l.document.$attributes()["$[]"]("source-highlighter")):$,(t=n!==!1&&n!==a&&null!=n?d=l.subs.$index("specialcharacters"):n)===a||null==t||t.$$is_boolean&&1!=t||(f=[d,"highlight"],_(l.subs,"[]=",e.to_a(f)),f[r(f.length,1)]),l.subs},K.$$arity=0)}(g.base,b)}(i.base,l)},Opal.modules["asciidoctor/abstract_node"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){
return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2,c=e.send,u=e.range;return e.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$===","$attributes","$nil?","$[]=","$-","$update","$converter","$nil_or_empty?","$include?","$split","$delete","$empty?","$*","$attr?","$extname","$image_uri","$attr","$normalize_web_path","$<","$safe","$uriish?","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$respond_to?","$binread","$open","$read","$encode64","$require_library","$!","$content_type","$web_path","$new","$open_uri","$normalize_lines_from_string","$fetch","$read_asset","$!=","$is_root?","$join","$base_dir","$system_path"]),function($,o){var _,d=_=l($,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=o.slice().concat(f);!function($,o,l){function _(){}var d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F=_=a($,null,"AbstractNode",_),G=F.$$proto,H=F.$$scope,Y=l.slice().concat(H);G.document=G.attributes=G.path_resolver=i,F.$include(e.const_get(Y,"Substitutors",!0,!0)),F.$attr_reader("parent"),F.$attr_reader("document"),F.$attr_reader("context"),F.$attr_reader("node_name"),F.$attr_accessor("id"),F.$attr_reader("attributes"),e.defn(F,"$initialize",d=function(e,t,n){var r,$=this;return null==n&&(n=s([],{})),t["$=="]("document")?$.document=$:e!==!1&&e!==i&&null!=e?($.parent=e,$.document=e.$document()):($.parent=i,$.document=i),$.node_name=($.context=t).$to_s(),$.attributes=function(){return(r=n["$key?"]("attributes"))===i||null==r||r.$$is_boolean&&1!=r?s([],{}):n["$[]"]("attributes").$dup()}(),$.passthroughs=s([],{})},d.$$arity=-3),e.defn(F,"$parent=",f=function(e){var t=this;return t.parent=e,t.document=e.$document(),i},f.$$arity=1),e.defn(F,"$inline?",p=function(){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},p.$$arity=0),e.defn(F,"$block?",h=function(){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},h.$$arity=0),e.defn(F,"$attr",g=function(t,n,r){var $,o,l=this;return null==n&&(n=i),null==r&&(r=!0),($=e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](t))===i||null==$||$.$$is_boolean&&1!=$||(t=t.$to_s()),l["$=="](l.document)&&(r=!1),r!==!1&&r!==i&&null!=r?($=(o=l.attributes["$[]"](t))!==!1&&o!==i&&null!=o?o:l.document.$attributes()["$[]"](t))!==!1&&$!==i&&null!=$?$:n:($=l.attributes["$[]"](t))!==!1&&$!==i&&null!=$?$:n},g.$$arity=-2),e.defn(F,"$attr?",b=function(t,n,r){var $,o=this;return null==n&&(n=i),null==r&&(r=!0),($=e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](t))===i||null==$||$.$$is_boolean&&1!=$||(t=t.$to_s()),o["$=="](o.document)&&(r=!1),($=n["$nil?"]())===i||null==$||$.$$is_boolean&&1!=$?r!==!1&&r!==i&&null!=r?n["$=="](($=o.attributes["$[]"](t))!==!1&&$!==i&&null!=$?$:o.document.$attributes()["$[]"](t)):n["$=="](o.attributes["$[]"](t)):($=o.attributes["$key?"](t))!==!1&&$!==i&&null!=$?$:r!==!1&&r!==i&&null!=r?o.document.$attributes()["$key?"](t):r},b.$$arity=-2),e.defn(F,"$set_attr",m=function(n,r,$){var o,l=this,a=i;return null==r&&(r=""),null==$&&($=!0),!!((o=$["$=="](!1)?l.attributes["$key?"](n):$["$=="](!1))===i||null==o||o.$$is_boolean&&1!=o)&&(a=[n,r],c(l.attributes,"[]=",e.to_a(a)),a[t(a.length,1)],!0)},m.$$arity=-2),e.defn(F,"$set_option",y=function(n){var r,$=this,o=i;return(r=$.attributes["$key?"]("options"))===i||null==r||r.$$is_boolean&&1!=r?(o=["options",n],c($.attributes,"[]=",e.to_a(o)),o[t(o.length,1)]):(o=["options",$.attributes["$[]"]("options")+","+n],c($.attributes,"[]=",e.to_a(o)),o[t(o.length,1)]),o=[n+"-option",""],c($.attributes,"[]=",e.to_a(o)),o[t(o.length,1)]},y.$$arity=1),e.defn(F,"$option?",v=function(e){return this.attributes["$key?"](e+"-option")},v.$$arity=1),e.defn(F,"$update_attributes",w=function(e){return this.attributes.$update(e),i},w.$$arity=1),e.defn(F,"$converter",x=function(){return this.document.$converter()},x.$$arity=0),e.defn(F,"$role?",k=function(e){var t,n=this;return null==e&&(e=i),e!==!1&&e!==i&&null!=e?e["$=="]((t=n.attributes["$[]"]("role"))!==!1&&t!==i&&null!=t?t:n.document.$attributes()["$[]"]("role")):(t=n.attributes["$key?"]("role"))!==!1&&t!==i&&null!=t?t:n.document.$attributes()["$key?"]("role")},k.$$arity=-1),e.defn(F,"$role",O=function(){var e,t=this;return(e=t.attributes["$[]"]("role"))!==!1&&e!==i&&null!=e?e:t.document.$attributes()["$[]"]("role")},O.$$arity=0),e.defn(F,"$has_role?",E=function(e){var t,n,r=this,$=i;return!!((t=($=(n=r.attributes["$[]"]("role"))!==!1&&n!==i&&null!=n?n:r.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())===i||null==t||t.$$is_boolean&&1!=t)&&(" "+$+" ")["$include?"](" "+e+" ")},E.$$arity=1),e.defn(F,"$roles",A=function(){var e,t,n=this,r=i;return(e=(r=(t=n.attributes["$[]"]("role"))!==!1&&t!==i&&null!=t?t:n.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())===i||null==e||e.$$is_boolean&&1!=e?r.$split():[]},A.$$arity=0),e.defn(F,"$add_role",S=function(n){var r,$=this,o=i,l=i;return(r=(o=$.attributes["$[]"]("role"))["$nil_or_empty?"]())===i||null==r||r.$$is_boolean&&1!=r?!!((r=(" "+o+" ")["$include?"](" "+n+" "))===i||null==r||r.$$is_boolean&&1!=r)&&(l=["role",o+" "+n],c($.attributes,"[]=",e.to_a(l)),l[t(l.length,1)],!0):(l=["role",n],c($.attributes,"[]=",e.to_a(l)),l[t(l.length,1)],!0)},S.$$arity=1),e.defn(F,"$remove_role",R=function(r){var $,o=this,l=i,a=i;return!!(($=(l=o.attributes["$[]"]("role"))["$nil_or_empty?"]())===i||null==$||$.$$is_boolean&&1!=$)&&(!(($=(l=l.$split()).$delete(r))===i||null==$||$.$$is_boolean&&1!=$)&&(($=l["$empty?"]())===i||null==$||$.$$is_boolean&&1!=$?(a=["role",n(l," ")],c(o.attributes,"[]=",e.to_a(a)),a[t(a.length,1)]):o.attributes.$delete("role"),!0))},R.$$arity=1),e.defn(F,"$reftext?",M=function(){var e,t=this;return(e=t.attributes["$key?"]("reftext"))!==!1&&e!==i&&null!=e?e:t.document.$attributes()["$key?"]("reftext")},M.$$arity=0),e.defn(F,"$reftext",T=function(){var e,t=this;return(e=t.attributes["$[]"]("reftext"))!==!1&&e!==i&&null!=e?e:t.document.$attributes()["$[]"]("reftext")},T.$$arity=0),e.defn(F,"$icon_uri",I=function(t){var n,r=this,$=i;return(n=r["$attr?"]("icon"))===i||null==n||n.$$is_boolean&&1!=n?r.$image_uri(t+"."+r.document.$attr("icontype","png"),"iconsdir"):(n=e.const_get([e.Object.$$scope],"File",!0,!0).$extname($=r.$image_uri(r.$attr("icon"),"iconsdir"))["$empty?"]())===i||null==n||n.$$is_boolean&&1!=n?$:$+"."+r.document.$attr("icontype","png")},I.$$arity=1),e.defn(F,"$media_uri",C=function(e,t){var n=this;return null==t&&(t="imagesdir"),n.$normalize_web_path(e,function(){return t!==!1&&t!==i&&null!=t?n.document.$attr(t):i}())},C.$$arity=-2),e.defn(F,"$image_uri",N=function(t,n){var $,o,l,a,s=this,c=i,u=i;return null==n&&(n="imagesdir"),o=r((c=s.document).$safe(),e.const_get([e.const_get(Y,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)),($=o!==!1&&o!==i&&null!=o?c["$attr?"]("data-uri"):o)===i||null==$||$.$$is_boolean&&1!=$?n!==!1&&n!==i&&null!=n?s.$normalize_web_path(t,c.$attr(n)):s.$normalize_web_path(t):($=(o=e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t))!==!1&&o!==i&&null!=o?o:(a=n!==!1&&n!==i&&null!=n?u=c.$attr(n):n,l=a!==!1&&a!==i&&null!=a?e.const_get(Y,"Helpers",!0,!0)["$uriish?"](u):a,l!==!1&&l!==i&&null!=l?t=s.$normalize_web_path(t,u,!1):l))===i||null==$||$.$$is_boolean&&1!=$?s.$generate_data_uri(t,n):($=c["$attr?"]("allow-uri-read"))===i||null==$||$.$$is_boolean&&1!=$?t:s.$generate_data_uri_from_uri(t,c["$attr?"]("cache-uri"))},N.$$arity=-2),e.defn(F,"$generate_data_uri",j=function(t,n){var r,$,o=this,l=i,a=i,_=i,d=i;return null==n&&(n=i),l=e.const_get([e.Object.$$scope],"File",!0,!0).$extname(t),a=function(){return l["$=="](".svg")?"image/svg+xml":"image/"+l["$[]"](u(1,-1,!1))}(),_=n!==!1&&n!==i&&null!=n?o.$normalize_system_path(t,o.document.$attr(n),i,s(["target_name"],{target_name:"image"})):o.$normalize_system_path(t),(r=e.const_get([e.Object.$$scope],"File",!0,!0)["$readable?"](_))===i||null==r||r.$$is_boolean&&1!=r?(o.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+_),"data:"+a+";base64,"):(d=i,d=(r=e.const_get([e.Object.$$scope],"IO",!0,!0)["$respond_to?"]("binread"))===i||null==r||r.$$is_boolean&&1!=r?c(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[_,"rb"],($=function(e){$.$$s;return null==e&&(e=i),e.$read()},$.$$s=o,$.$$arity=1,$)):e.const_get([e.Object.$$scope],"IO",!0,!0).$binread(_),"data:"+a+";base64,"+e.const_get([e.Object.$$scope],"Base64",!0,!0).$encode64(d).$delete(e.const_get(Y,"EOL",!0,!0)))},j.$$arity=-2),e.defn(F,"$generate_data_uri_from_uri",L=function(t,n){var r,$,o=this,l=i,a=i;null==n&&(n=!1),n!==!1&&n!==i&&null!=n?e.const_get(Y,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached"):(r=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===i||null==r||r.$$is_boolean&&1!=r||e.const_get([e.Object.$$scope],"OpenURI",!0,!0);try{return l=i,a=c(o,"open",[t,"rb"],($=function(e){$.$$s;return null==e&&(e=i),l=e.$content_type(),e.$read()},$.$$s=o,$.$$arity=1,$)),"data:"+l+";base64,"+e.const_get([e.Object.$$scope],"Base64",!0,!0).$encode64(a).$delete(e.const_get(Y,"EOL",!0,!0))}catch(n){if(!e.rescue(n,[e.const_get(Y,"StandardError",!0,!0)]))throw n;try{return o.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+t),t}finally{e.pop_exception()}}},L.$$arity=-2),e.defn(F,"$read_contents",z=function(t,r){var $,o,l,a,u,_=this,d=i,f=i,p=i;if(null==r&&(r=s([],{})),d=_.document,($=(o=e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t))!==!1&&o!==i&&null!=o?o:(a=f=r["$[]"]("start"),l=a!==!1&&a!==i&&null!=a?e.const_get(Y,"Helpers",!0,!0)["$uriish?"](f):a,l!==!1&&l!==i&&null!=l?t=((a=_.path_resolver)!==!1&&a!==i&&null!=a?a:_.path_resolver=e.const_get(Y,"PathResolver",!0,!0).$new()).$web_path(t,f):l))===i||null==$||$.$$is_boolean&&1!=$)t=_.$normalize_system_path(t,r["$[]"]("start"),i,s(["target_name"],{target_name:($=r["$[]"]("label"))!==!1&&$!==i&&null!=$?$:"asset"})),p=_.$read_asset(t,s(["normalize","warn_on_failure"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0)}));else if(($=d["$attr?"]("allow-uri-read"))===i||null==$||$.$$is_boolean&&1!=$)($=r.$fetch("warn_on_failure",!0))===i||null==$||$.$$is_boolean&&1!=$||_.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(($=r["$[]"]("label"))!==!1&&$!==i&&null!=$?$:"asset")+" at URI: "+t+" (allow-uri-read attribute not enabled)"),p=i;else{($=d["$attr?"]("cache-uri"))===i||null==$||$.$$is_boolean&&1!=$||e.const_get(Y,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached");try{p=c(e.const_get([e.Object.$$scope],"OpenURI",!0,!0),"open_uri",[t],(u=function(e){u.$$s;return null==e&&(e=i),e.$read()},u.$$s=_,u.$$arity=1,u)),($=r["$[]"]("normalize"))===i||null==$||$.$$is_boolean&&1!=$||(p=n(e.const_get(Y,"Helpers",!0,!0).$normalize_lines_from_string(p),e.const_get(Y,"EOL",!0,!0)))}catch(n){if(!e.rescue(n,[e.const_get(Y,"StandardError",!0,!0)]))throw n;try{($=r.$fetch("warn_on_failure",!0))===i||null==$||$.$$is_boolean&&1!=$||_.$warn("asciidoctor: WARNING: could not retrieve contents of "+(($=r["$[]"]("label"))!==!1&&$!==i&&null!=$?$:"asset")+" at URI: "+t),p=i}finally{e.pop_exception()}}}return p},z.$$arity=-2),e.defn(F,"$read_asset",P=function(t,r){var $,o=this;return null==r&&(r=s([],{})),(($=e.const_get([e.Object.$$scope],"Hash",!0,!0)["$==="](r))===i||null==$||$.$$is_boolean&&1!=$)&&(r=s(["warn_on_failure"],{warn_on_failure:r["$!="](!1)})),($=e.const_get([e.Object.$$scope],"File",!0,!0)["$readable?"](t))===i||null==$||$.$$is_boolean&&1!=$?(($=r["$[]"]("warn_on_failure"))===i||null==$||$.$$is_boolean&&1!=$||o.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+t),i):($=r["$[]"]("normalize"))===i||null==$||$.$$is_boolean&&1!=$?e.const_get([e.Object.$$scope],"IO",!0,!0).$read(t):n(e.const_get(Y,"Helpers",!0,!0).$normalize_lines_from_string(e.const_get([e.Object.$$scope],"IO",!0,!0).$read(t)),e.const_get(Y,"EOL",!0,!0))},P.$$arity=-2),e.defn(F,"$normalize_web_path",D=function(t,n,r){var $,o=this;return null==n&&(n=i),null==r&&(r=!0),($=r!==!1&&r!==i&&null!=r?e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t):r)===i||null==$||$.$$is_boolean&&1!=$?(($=o.path_resolver)!==!1&&$!==i&&null!=$?$:o.path_resolver=e.const_get(Y,"PathResolver",!0,!0).$new()).$web_path(t,n):t},D.$$arity=-2),e.defn(F,"$normalize_system_path",B=function(t,n,$,o){var l,a=this,c=i,u=i;return null==n&&(n=i),null==$&&($=i),null==o&&(o=s([],{})),c=(l=a.path_resolver)!==!1&&l!==i&&null!=l?l:a.path_resolver=e.const_get(Y,"PathResolver",!0,!0).$new(),(l=r((u=a.document).$safe(),e.const_get([e.const_get(Y,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===i||null==l||l.$$is_boolean&&1!=l?(n!==!1&&n!==i&&null!=n||(n=u.$base_dir()),$!==!1&&$!==i&&null!=$||($=u.$base_dir())):n!==!1&&n!==i&&null!=n?((l=c["$is_root?"](n))===i||null==l||l.$$is_boolean&&1!=l)&&(n=e.const_get([e.Object.$$scope],"File",!0,!0).$join(u.$base_dir(),n)):n=u.$base_dir(),c.$system_path(t,n,$,o)},B.$$arity=-2),e.defn(F,"$normalize_asset_path",q=function(e,t,n){var r=this;return null==t&&(t="path"),null==n&&(n=!0),r.$normalize_system_path(e,r.document.$base_dir(),i,s(["target_name","recover"],{target_name:t,recover:n}))},q.$$arity=-2),e.defn(F,"$is_uri?",U=function(t){return e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t)},U.$$arity=1)}(f.base,0,p)}($.base,o)},Opal.modules["asciidoctor/abstract_block"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.send,u=e.hash2;return e.add_stubs(["$attr_accessor","$attr_reader","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$!","$nil_or_empty?","$apply_title_subs","$title","$empty?","$<<","$select","$context","$>","$[]","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$delete","$title?","$attributes","$counter_increment","$index=","$-","$+","$sectname","$counter","$numbered","$number=","$attr","$caption=","$special","$doctype","$assign_index","$reindex_sections"]),function(o,i){var _,d=_=a(o,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=i.slice().concat(f);!function(o,i,a){function _(){}var d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L=_=s(o,i,"AbstractBlock",_),z=L.$$proto,P=L.$$scope,D=a.slice().concat(P);z.document=z.attributes=z.blocks=z.source_location=z.subs=z.title=z.title_converted=z.title_=z.caption=z.next_section_index=z.context=z.style=z.id=z.header=z.next_section_number=l,L.$attr_accessor("content_model"),L.$attr_reader("subs"),L.$attr_reader("blocks"),L.$attr_accessor("level"),L.$attr_accessor("style"),L.$attr_accessor("caption"),L.$attr_accessor("source_location"),e.defn(L,"$initialize",d=function(t,n,r){var $,o=this,i=d.$$p,a=l,s=l,_=l;for(null==r&&(r=u([],{})),i&&(d.$$p=null),s=0,_=arguments.length,a=new Array(_);s<_;s++)a[s]=arguments[s];return c(o,e.find_super_dispatcher(o,"initialize",d,!1),a,i),o.content_model="compound",o.subs=[],o.default_subs=l,o.blocks=[],o.id=l,o.title=l,o.title_converted=l,o.caption=l,o.style=l,n["$=="]("document")?o.level=0:($=t!==!1&&t!==l&&null!=t?n["$!="]("section"):t)===l||null==$||$.$$is_boolean&&1!=$?o.level=l:o.level=t.$level(),o.next_section_index=0,o.next_section_number=1,o.source_location=l},d.$$arity=-3),e.defn(L,"$block?",f=function(){return!0},f.$$arity=0),e.defn(L,"$inline?",p=function(){return!1},p.$$arity=0),e.defn(L,"$context=",h=function(e){var t=this;return t.context=e,t.node_name=e.$to_s()},h.$$arity=1),e.defn(L,"$convert",g=function(){var e=this;return e.document.$playback_attributes(e.attributes),e.$converter().$convert(e)},g.$$arity=0),e.alias(L,"render","convert"),e.defn(L,"$content",b=function(){var n,r=this;return t(c(r.blocks,"map",[],(n=function(e){n.$$s;return null==e&&(e=l),e.$convert()},n.$$s=r,n.$$arity=1,n)),e.const_get(D,"EOL",!0,!0))},b.$$arity=0),e.defn(L,"$file",m=function(){var e,t=this;return(e=t.source_location)===l||null==e||e.$$is_boolean&&1!=e?l:t.source_location.$file()},m.$$arity=0),e.defn(L,"$lineno",y=function(){var e,t=this;return(e=t.source_location)===l||null==e||e.$$is_boolean&&1!=e?l:t.source_location.$lineno()},y.$$arity=0),e.defn(L,"$sub?",v=function(e){return this.subs["$include?"](e)},v.$$arity=1),e.defn(L,"$title?",w=function(){return this.title["$nil_or_empty?"]()["$!"]()},w.$$arity=0),e.defn(L,"$title",x=function(){var e,t,n=this;return(e=n.title_converted)===l||null==e||e.$$is_boolean&&1!=e?n.title_=(t=n.title_converted=!0,e=t!==!1&&t!==l&&null!=t?n.title:t,e!==!1&&e!==l&&null!=e?n.$apply_title_subs(n.title):e):n.title_},x.$$arity=0),e.defn(L,"$title=",k=function(e){var t,n=this;return n.title=(t=n.title_converted=l)!==!1&&t!==l&&null!=t?t:e},k.$$arity=1),e.defn(L,"$captioned_title",O=function(){var e=this;return""+e.caption+e.$title()},O.$$arity=0),e.defn(L,"$blocks?",E=function(){return this.blocks["$empty?"]()["$!"]()},E.$$arity=0),e.defn(L,"$<<",A=function(e){var t=this;return t.blocks["$<<"](e),t},A.$$arity=1),e.alias(L,"append","<<"),e.defn(L,"$sections",S=function(){var e,t=this;return c(t.blocks,"select",[],(e=function(t){e.$$s;return null==t&&(t=l),t.$context()["$=="]("section")},e.$$s=t,e.$$arity=1,e))},S.$$arity=0),e.defn(L,"$sections?",R=function(){return n(this.next_section_index,0)},R.$$arity=0),e.defn(L,"$find_by",M=function(t){var n,r,$,o,i,a,s,_=this,d=M.$$p,f=d||l,p=l,h=l,g=l,b=l,m=l,y=l;if(null==t&&(t=u([],{})),d&&(M.$$p=null),p=[],o=(i=h=(g=t["$[]"]("context"))["$!"]())!==!1&&i!==l&&null!=i?i:g["$=="](_.context),$=o!==!1&&o!==l&&null!=o?(i=(b=t["$[]"]("style"))["$!"]())!==!1&&i!==l&&null!=i?i:b["$=="](_.style):o,r=$!==!1&&$!==l&&null!=$?(o=(m=t["$[]"]("role"))["$!"]())!==!1&&o!==l&&null!=o?o:_["$has_role?"](m):$,(n=r!==!1&&r!==l&&null!=r?($=(y=t["$[]"]("id"))["$!"]())!==!1&&$!==l&&null!=$?$:y["$=="](_.id):r)!==l&&null!=n&&(!n.$$is_boolean||1==n)){if(y!==!1&&y!==l&&null!=y)return f!==l?function(){return(n=e.yield1(f,_))===l||null==n||n.$$is_boolean&&1!=n?p:[_]}():[_];f!==l?(n=e.yield1(f,_))===l||null==n||n.$$is_boolean&&1!=n||p["$<<"](_):p["$<<"](_)}return r=($=_.context["$=="]("document"))?(o=h)!==!1&&o!==l&&null!=o?o:g["$=="]("section"):_.context["$=="]("document"),(n=r!==!1&&r!==l&&null!=r?_["$header?"]():r)===l||null==n||n.$$is_boolean&&1!=n||p.$concat(c(_.header,"find_by",[t],f.$to_proc())),g["$=="]("document")||(_.context["$=="]("dlist")?(n=(r=h)!==!1&&r!==l&&null!=r?r:g["$!="]("section"))===l||null==n||n.$$is_boolean&&1!=n||c(_.blocks.$flatten(),"each",[],(a=function(e){a.$$s;return null==e&&(e=l),e!==!1&&e!==l&&null!=e?p.$concat(c(e,"find_by",[t],f.$to_proc())):l},a.$$s=_,a.$$arity=1,a)):(n=c(_.blocks,"each",[],(s=function(e){var n;s.$$s;return null==e&&(e=l),(n=g["$=="]("section")?e.$context()["$!="]("section"):g["$=="]("section"))===l||null==n||n.$$is_boolean&&1!=n?p.$concat(c(e,"find_by",[t],f.$to_proc())):l},s.$$s=_,s.$$arity=1,s)))!==l&&null!=n&&n.$$is_boolean),p},M.$$arity=-1),e.alias(L,"query","find_by"),e.defn(L,"$remove_sub",T=function(e){return this.subs.$delete(e),l},T.$$arity=1),e.defn(L,"$assign_caption",I=function(e,t){var n,r,$=this,o=l,i=l,a=l,s=l;return null==e&&(e=l),null==t&&(t=l),(n=(r=$["$title?"]())!==!1&&r!==l&&null!=r?r:$.caption["$!"]())===l||null==n||n.$$is_boolean&&1!=n?l:(e!==!1&&e!==l&&null!=e?$.caption=e:(n=o=$.document.$attributes()["$[]"]("caption"))===l||null==n||n.$$is_boolean&&1!=n?(n=$["$title?"]())===l||null==n||n.$$is_boolean&&1!=n||((n=t)!==!1&&n!==l&&null!=n||(t=$.context.$to_s()),i=t+"-caption",(n=a=$.document.$attributes()["$[]"](i))===l||null==n||n.$$is_boolean&&1!=n||(s=$.document.$counter_increment(t+"-number",$),$.caption=a+" "+s+". ")):$.caption=o,l)},I.$$arity=-1),e.defn(L,"$list_marker_keyword",C=function(t){var n,r=this;return null==t&&(t=l),e.const_get(D,"ORDERED_LIST_KEYWORDS",!0,!0)["$[]"]((n=t)!==!1&&n!==l&&null!=n?n:r.style)},C.$$arity=-1),e.defn(L,"$assign_index",N=function(t){var n,o,i,a=this,s=l,u=l,_=l;return s=[a.next_section_index],c(t,"index=",e.to_a(s)),s[r(s.length,1)],a.next_section_index=$(a.next_section_index,1),t.$sectname()["$=="]("appendix")?(u=a.document.$counter("appendix-number","A"),(n=t.$numbered())===l||null==n||n.$$is_boolean&&1!=n||(s=[u],c(t,"number=",e.to_a(s)),s[r(s.length,1)]),(n=(_=a.document.$attr("appendix-caption",""))["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?(s=[_+" "+u+": "],c(t,"caption=",e.to_a(s)),s[r(s.length,1)]):(s=[u+". "],c(t,"caption=",e.to_a(s)),s[r(s.length,1)])):(n=t.$numbered())===l||null==n||n.$$is_boolean&&1!=n?l:(o=(i=t.$level()["$=="](1))!==!1&&i!==l&&null!=i?i:t.$level()["$=="](0)?t.$special():t.$level()["$=="](0),(n=o!==!1&&o!==l&&null!=o?a.document.$doctype()["$=="]("book"):o)===l||null==n||n.$$is_boolean&&1!=n?(s=[a.next_section_number],c(t,"number=",e.to_a(s)),s[r(s.length,1)],a.next_section_number=$(a.next_section_number,1)):(s=[a.document.$counter("chapter-number",1)],c(t,"number=",e.to_a(s)),s[r(s.length,1)]))},N.$$arity=1),e.defn(L,"$reindex_sections",j=function(){var e,t=this;return t.next_section_index=0,t.next_section_number=0,c(t.blocks,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=l),t.$context()["$=="]("section")?(n.$assign_index(t),t.$reindex_sections()):l},e.$$s=t,e.$$arity=1,e))},j.$$arity=0)}(f.base,e.const_get(p,"AbstractNode",!0,!0),p)}(o.base,i)},Opal.modules["asciidoctor/attribute_list"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var $=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2,c=e.send;return e.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_normal_subs","$scan_to_quote","$gsub","$skip","$scan"]),function($,o){var u,_=u=l($,"Asciidoctor"),d=(_.$$proto,_.$$scope),f=o.slice().concat(d);!function($,o,l){function u(){}var _,d,f,p,h,g,b,m,y,v,w,x,k=u=a($,null,"AttributeList",u),O=k.$$proto,E=k.$$scope,A=l.slice().concat(E);O.attributes=O.scanner=O.delimiter=O.block=O.delimiter_skip_pattern=O.delimiter_boundary_pattern=i,e.cdecl(E,"BoundaryRxs",s(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+e.const_get(A,"CG_BLANK",!0,!0)+"*(,|$))")})),e.cdecl(E,"EscapedQuoteRxs",s(['"',"'"],{'"':/\\"/,"'":/\\'/})),e.cdecl(E,"NameRx",new RegExp(e.const_get(A,"CG_WORD",!0,!0)+"["+e.const_get(A,"CC_WORD",!0,!0)+"\\-.]*")),e.cdecl(E,"BlankRx",new RegExp(e.const_get(A,"CG_BLANK",!0,!0)+"+")),e.cdecl(E,"SkipRxs",s(["blank",","],{blank:e.const_get(A,"BlankRx",!0,!0),",":new RegExp(e.const_get(A,"CG_BLANK",!0,!0)+"*(,|$)")})),e.defn(k,"$initialize",_=function(t,n,r){var $=this;return null==n&&(n=i),null==r&&(r=","),$.scanner=e.const_get([e.Object.$$scope],"StringScanner",!0,!0).$new(t),$.block=n,$.delimiter=r,$.delimiter_skip_pattern=e.const_get(A,"SkipRxs",!0,!0)["$[]"](r),$.delimiter_boundary_pattern=e.const_get(A,"BoundaryRxs",!0,!0)["$[]"](r),$.attributes=i},_.$$arity=-2),e.defn(k,"$parse_into",d=function(e,t){var n=this;return null==t&&(t=[]),e.$update(n.$parse(t))},d.$$arity=-2),e.defn(k,"$parse",f=function(e){var n,r,$=this,o=i;if(null==e&&(e=[]),(n=$.attributes)!==i&&null!=n&&(!n.$$is_boolean||1==n))return $.attributes;for($.attributes=s([],{}),o=0;(r=$.$parse_attribute(o,e))!==i&&null!=r&&(!r.$$is_boolean||1==r)&&((r=$.scanner["$eos?"]())===i||null==r||r.$$is_boolean&&1!=r);)$.$skip_delimiter(),o=t(o,1);return $.attributes},f.$$arity=-1),e.defn(k,"$rekey",p=function(t){var n=this;return e.const_get(A,"AttributeList",!0,!0).$rekey(n.attributes,t)},p.$$arity=1),e.defs(k,"$rekey",h=function(r,$){var o,l=this;return c($,"each_with_index",[],(o=function($,l){var a,s=(o.$$s,i),u=i,_=i;return null==$&&($=i),null==l&&(l=i),$===!1||$===i||null==$?i:(s=t(l,1),(a=u=r["$[]"](s))===i||null==a||a.$$is_boolean&&1!=a?i:(_=[$,u],c(r,"[]=",e.to_a(_)),_[n(_.length,1)]))},o.$$s=l,o.$$arity=2,o)),r},h.$$arity=2),e.defn(k,"$parse_attribute",g=function($,o){var l,a,s,u,_=this,d=i,f=i,p=i,h=i,g=i,b=i,m=i,y=i,v=i,w=i;if(null==$&&($=0),null==o&&(o=[]),d=!1,_.$skip_blank(),(f=_.scanner.$peek(1))["$=="]('"'))p=_.$parse_attribute_value(_.scanner.$get_byte()),h=i;else if(f["$=="]("'"))p=_.$parse_attribute_value(_.scanner.$get_byte()),h=i,d=!0;else{if(p=_.$scan_name(),g=0,b=i,(l=_.scanner["$eos?"]())===i||null==l||l.$$is_boolean&&1!=l)g=(l=_.$skip_blank())!==!1&&l!==i&&null!=l?l:0,b=_.scanner.$get_byte();else if(p===!1||p===i||null==p)return!1;if((l=(a=b["$!"]())!==!1&&a!==i&&null!=a?a:b["$=="](_.delimiter))===i||null==l||l.$$is_boolean&&1!=l)if((l=(a=b["$!="]("="))!==!1&&a!==i&&null!=a?a:p["$!"]())===i||null==l||l.$$is_boolean&&1!=l){if(_.$skip_blank(),(l=_.scanner.$peek(1))!==i&&null!=l&&(!l.$$is_boolean||1==l))if((b=_.scanner.$get_byte())["$=="]('"'))h=_.$parse_attribute_value(b);else if(b["$=="]("'"))h=_.$parse_attribute_value(b),d=!0;else if(b["$=="](_.delimiter))h=i;else if(h=""+b+_.$scan_to_delimiter(),h["$=="]("None"))return!0}else p=""+p+r(" ",g)+b+_.$scan_to_delimiter(),h=i;else h=i}return h!==!1&&h!==i&&null!=h?(m=p,"options"["$==="](m)||"opts"["$==="](m)?(p="options",(l=h["$include?"](","))===i||null==l||l.$$is_boolean&&1!=l?(y=[(h=h.$strip())+"-option",""],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]):((l=h["$include?"](" "))===i||null==l||l.$$is_boolean&&1!=l||(h=h.$delete(" ")),c(h.$split(","),"each",[],(s=function(t){var r,$=s.$$s||this,o=i;return null==$.attributes&&($.attributes=i),null==t&&(t=i),(r=t["$empty?"]())===i||null==r||r.$$is_boolean&&1!=r?(o=[t+"-option",""],c($.attributes,"[]=",e.to_a(o)),o[n(o.length,1)]):i},s.$$s=_,s.$$arity=1,s))),y=[p,h],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]):"title"["$==="](m)?(y=[p,h],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]):(y=[p,function(){return a=(u=d!==!1&&d!==i&&null!=d)?h["$empty?"]()["$!"]():d,(l=a!==!1&&a!==i&&null!=a?_.block:a)===i||null==l||l.$$is_boolean&&1!=l?h:_.block.$apply_normal_subs(h)}()],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)])):(v=function(){return a=(u=d!==!1&&d!==i&&null!=d)?p["$empty?"]()["$!"]():d,(l=a!==!1&&a!==i&&null!=a?_.block:a)===i||null==l||l.$$is_boolean&&1!=l?p:_.block.$apply_normal_subs(p)}(),(l=w=o["$[]"]($))===i||null==l||l.$$is_boolean&&1!=l||(y=[w,v],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]),y=[t($,1),v],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]),!0},g.$$arity=-1),e.defn(k,"$parse_attribute_value",b=function(t){var n,r=this,$=i;return r.scanner.$peek(1)["$=="](t)?(r.scanner.$get_byte(),""):(n=$=r.$scan_to_quote(t))===i||null==n||n.$$is_boolean&&1!=n?""+t+r.$scan_to_delimiter():(r.scanner.$get_byte(),$.$gsub(e.const_get(A,"EscapedQuoteRxs",!0,!0)["$[]"](t),t))},b.$$arity=1),e.defn(k,"$skip_blank",m=function(){return this.scanner.$skip(e.const_get(A,"BlankRx",!0,!0))},m.$$arity=0),e.defn(k,"$skip_delimiter",y=function(){var e=this;return e.scanner.$skip(e.delimiter_skip_pattern)},y.$$arity=0),e.defn(k,"$scan_name",v=function(){return this.scanner.$scan(e.const_get(A,"NameRx",!0,!0))},v.$$arity=0),e.defn(k,"$scan_to_delimiter",w=function(){var e=this;return e.scanner.$scan(e.delimiter_boundary_pattern)},w.$$arity=0),e.defn(k,"$scan_to_quote",x=function(t){return this.scanner.$scan(e.const_get(A,"BoundaryRxs",!0,!0)["$[]"](t))},x.$$arity=1)}(d.base,0,f)}($.base,o)},Opal.modules["asciidoctor/block"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.send,c=e.hash2;return e.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),function($,o){var u,_=u=l($,"Asciidoctor"),d=(_.$$proto,_.$$scope),f=o.slice().concat(d);!function($,o,l){function u(){}var _,d,f,p,h=u=a($,o,"Block",u),g=h.$$proto,b=h.$$scope,m=l.slice().concat(b),y=i;g.attributes=g.content_model=g.lines=g.subs=g.blocks=g.context=g.style=i,y=["simple"],s(e.cdecl(b,"DEFAULT_CONTENT_MODEL",c(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",e.to_a(y)),y[t(y.length,1)],e.alias(h,"blockname","context"),h.$attr_accessor("lines"),e.defn(h,"$initialize",_=function(n,r,$){var o,l=this,a=_.$$p,u=i,d=i,f=i,p=i,h=i,g=i;for(null==$&&($=c([],{})),a&&(_.$$p=null),h=0,g=arguments.length,p=new Array(g);h<g;h++)p[h]=arguments[h];return s(l,e.find_super_dispatcher(l,"initialize",_,!1),p,a),l.content_model=(o=$["$[]"]("content_model"))!==!1&&o!==i&&null!=o?o:e.const_get(m,"DEFAULT_CONTENT_MODEL",!0,!0)["$[]"](r),(o=$["$key?"]("subs"))===i||null==o||o.$$is_boolean&&1!=o?l.default_subs=i:(o=u=$["$[]"]("subs"))===i||null==o||o.$$is_boolean&&1!=o?(l.default_subs=[],l.attributes.$delete("subs")):(u["$=="]("default")?l.default_subs=$["$[]"]("default_subs"):(o=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](u))===i||null==o||o.$$is_boolean&&1!=o?(l.default_subs=i,d=["subs",""+u],s(l.attributes,"[]=",e.to_a(d)),d[t(d.length,1)]):(l.default_subs=u.$dup(),l.attributes.$delete("subs")),l.$lock_in_subs()),(o=(f=$["$[]"]("source"))["$nil_or_empty?"]())===i||null==o||o.$$is_boolean&&1!=o?(o=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](f))===i||null==o||o.$$is_boolean&&1!=o?l.lines=f.$dup():l.lines=e.const_get(m,"Helpers",!0,!0).$normalize_lines_from_string(f):l.lines=[]},_.$$arity=-3),e.defn(h,"$content",d=function(){var t,$,o,l=this,a=d.$$p,c=i,u=i,_=i,f=i,p=i,h=i,g=i;for(a&&(d.$$p=null),h=0,g=arguments.length,p=new Array(g);h<g;h++)p[h]=arguments[h];return function(){if(c=l.content_model,"compound"["$==="](c))return s(l,e.find_super_dispatcher(l,"content",d,!1),p,a);if("simple"["$==="](c))return l.$apply_subs(n(l.lines,e.const_get(m,"EOL",!0,!0)),l.subs);if("verbatim"["$==="](c)||"raw"["$==="](c)){if(u=l.$apply_subs(l.lines,l.subs),(t=r(u.$size(),2))===i||null==t||t.$$is_boolean&&1!=t){for(;o=_=u["$[]"](0),($=o!==!1&&o!==i&&null!=o?_.$rstrip()["$empty?"]():o)!==i&&null!=$&&(!$.$$is_boolean||1==$);)u.$shift();for(;o=f=u["$[]"](-1),($=o!==!1&&o!==i&&null!=o?f.$rstrip()["$empty?"]():o)!==i&&null!=$&&(!$.$$is_boolean||1==$);)u.$pop();return n(u,e.const_get(m,"EOL",!0,!0))}return u["$[]"](0)}return l.content_model["$=="]("empty")||l.$warn("Unknown content model '"+l.content_model+"' for block: "+l.$to_s()),i}()},d.$$arity=0),e.defn(h,"$source",f=function(){return n(this.lines,e.const_get(m,"EOL",!0,!0))},f.$$arity=0),e.defn(h,"$to_s",p=function(){var e=this,t=i;return t=function(){return e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size()}(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},p.$$arity=0)}(d.base,e.const_get(f,"AbstractBlock",!0,!0),f)}($.base,o)},Opal.modules["asciidoctor/callouts"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){
return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.send;return e.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(o,i){var _,d=_=a(o,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=i.slice().concat(f);!function(o,i,a){function _(){}var d,f,p,h,g,b,m,y,v,w=_=s(o,null,"Callouts",_),x=w.$$proto,k=w.$$scope;a.slice().concat(k);x.co_index=x.lists=x.list_index=l,e.defn(w,"$initialize",d=function(){var e=this;return e.lists=[],e.list_index=0,e.$next_list()},d.$$arity=0),e.defn(w,"$register",f=function(e){var n=this,r=l;return n.$current_list()["$<<"](c(["ordinal","id"],{ordinal:e.$to_i(),id:r=n.$generate_next_callout_id()})),n.co_index=t(n.co_index,1),r},f.$$arity=1),e.defn(w,"$read_next_id",p=function(){var e,$=this,o=l,i=l;return o=l,i=$.$current_list(),(e=n($.co_index,i.$size()))===l||null==e||e.$$is_boolean&&1!=e||(o=i["$[]"](r($.co_index,1))["$[]"]("id")),$.co_index=t($.co_index,1),o},p.$$arity=0),e.defn(w,"$callout_ids",h=function(e){var t,n=this;return u(n.$current_list(),"map",[],(t=function(n){t.$$s;return null==n&&(n=l),n["$[]"]("ordinal")["$=="](e)?n["$[]"]("id")+" ":l},t.$$s=n,t.$$arity=1,t)).$join().$chop()},h.$$arity=1),e.defn(w,"$current_list",g=function(){var e=this;return e.lists["$[]"](r(e.list_index,1))},g.$$arity=0),e.defn(w,"$next_list",b=function(){var e,n=this;return n.list_index=t(n.list_index,1),(e=$(n.lists.$size(),n.list_index))===l||null==e||e.$$is_boolean&&1!=e||n.lists["$<<"]([]),n.co_index=1,l},b.$$arity=0),e.defn(w,"$rewind",m=function(){var e=this;return e.list_index=1,e.co_index=1,l},m.$$arity=0),e.defn(w,"$generate_next_callout_id",y=function(){var e=this;return e.$generate_callout_id(e.list_index,e.co_index)},y.$$arity=0),e.defn(w,"$generate_callout_id",v=function(e,t){return"CO"+e+"-"+t},v.$$arity=2)}(f.base,0,p)}(o.base,i)},Opal.modules["asciidoctor/converter/base"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module),o=e.klass,i=e.hash2;return e.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(t,n){var l,a=l=$(t,"Asciidoctor"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);!function(e,t){var n,r=n=$(e,"Converter"),o=(r.$$proto,r.$$scope);t.slice().concat(o)}(s.base,c),function(t,n,r){function $(){}var i=$=o(t,null,"Base",$),l=(i.$$proto,i.$$scope),a=r.slice().concat(l);i.$include(e.const_get(a,"Converter",!0,!0))}(e.const_get(c,"Converter",!0,!0),0,c),function(t,n,$){function l(){}var a,s,c,u,_=l=o(t,null,"BuiltIn",l),d=(_.$$proto,_.$$scope);$.slice().concat(d);e.defn(_,"$initialize",a=function(e,t){return null==t&&(t=i([],{})),r},a.$$arity=-2),e.defn(_,"$convert",s=function(e,t,n){var $,o=this;return null==t&&(t=r),null==n&&(n=i([],{})),($=t)!==!1&&$!==r&&null!=$||(t=e.$node_name()),($=n["$empty?"]())===r||null==$||$.$$is_boolean&&1!=$?o.$send(t,e,n):o.$send(t,e)},s.$$arity=-2),e.alias(_,"handles?","respond_to?"),e.defn(_,"$content",c=function(e){return e.$content()},c.$$arity=1),e.alias(_,"pass","content"),e.defn(_,"$skip",u=function(e){return r},u.$$arity=1)}(e.const_get(c,"Converter",!0,!0),0,c)}(t.base,n)},Opal.modules["asciidoctor/converter/factory"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),r=[e],$=e.nil,o=(e.breaker,e.slice,e.module),i=e.klass,l=e.hash2,a=e.send;return e.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),function(n,r){var s,c=s=o(n,"Asciidoctor"),u=(c.$$proto,c.$$scope),_=r.slice().concat(u);!function(n,r){var s,c=s=o(n,"Converter"),u=(c.$$proto,c.$$scope),_=r.slice().concat(u);!function(n,r,o){function s(){}var c,u,_,d,f,p=s=i(n,null,"Factory",s),h=p.$$proto,g=p.$$scope,b=o.slice().concat(g);h.converters=h.star_converter=$,p.__default__=$,function(t,n){var r,o,i,a,s,c;t.$$proto,t.$$scope,n.slice().concat(t);e.defn(t,"$default",r=function(t){var n,r,o,i=this;return null==i.__default__&&(i.__default__=$),null==t&&(t=!0),t===!1||t===$||null==t?(n=i.__default__)!==!1&&n!==$&&null!=n?n:i.$new():(n=i.__default__)!==!1&&n!==$&&null!=n?n:i.__default__=function(){try{return((r=(o=e.const_get([e.Object.$$scope],"ThreadSafe",!0,!1))?"constant":$)===$||null==r||r.$$is_boolean&&1!=r)&&i.$require("thread_safe".$to_s()),i.$new(e.const_get([e.const_get([e.Object.$$scope],"ThreadSafe",!0,!0).$$scope],"Cache",!0,!0).$new())}catch(t){if(!e.rescue(t,[e.const_get([e.Object.$$scope],"LoadError",!0,!0)]))throw t;try{return i.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),i.$new()}finally{e.pop_exception()}}}()},r.$$arity=-1),e.defn(t,"$register",o=function(e,t){var n=this;return null==t&&(t=["*"]),n.$default().$register(e,t)},o.$$arity=-2),e.defn(t,"$resolve",i=function(e){return this.$default().$resolve(e)},i.$$arity=1),e.defn(t,"$create",a=function(e,t){var n=this;return null==t&&(t=l([],{})),n.$default().$create(e,t)},a.$$arity=-2),e.defn(t,"$converters",s=function(){return this.$default().$converters()},s.$$arity=0),e.defn(t,"$unregister_all",c=function(){return this.$default().$unregister_all()},c.$$arity=0)}(e.get_singleton_class(p),b),p.$attr_reader("converters"),e.defn(p,"$initialize",c=function(e){var t,n=this;return null==e&&(e=$),n.converters=(t=e)!==!1&&t!==$&&null!=t?t:l([],{}),n.star_converter=$},c.$$arity=-1),e.defn(p,"$register",u=function(n,r){var o,i=this;return null==r&&(r=["*"]),a(r,"each",[],(o=function(r){var i=o.$$s||this,l=$;return null==i.converters&&(i.converters=$),null==r&&(r=$),l=[r,n],a(i.converters,"[]=",e.to_a(l)),l[t(l.length,1)],r["$=="]("*")?i.star_converter=n:$},o.$$s=i,o.$$arity=1,o)),$},u.$$arity=-2),e.defn(p,"$resolve",_=function(e){var t,n,r=this;return t=r.converters,t!==!1&&t!==$&&null!=t?(n=r.converters["$[]"](e))!==!1&&n!==$&&null!=n?n:r.star_converter:t},_.$$arity=1),e.defn(p,"$unregister_all",d=function(){var e=this;return e.converters.$clear(),e.star_converter=$},d.$$arity=0),e.defn(p,"$create",f=function(t,n){var r,o,i,a,s,c,u,_,d,f,p,h,g,m,y,v,w,x=this,k=$,O=$,E=$,A=$;return null==n&&(n=l([],{})),(r=k=x.$resolve(t))===$||null==r||r.$$is_boolean&&1!=r?(O=function(){return E=t,"html5"["$==="](E)?(((r=(a=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&a.$$scope&&(i=e.const_get([a.$$scope],"Converter",!0,!1))&&i.$$scope&&(o=e.const_get([i.$$scope],"Html5Converter",!0,!1))?"constant":$)===$||null==r||r.$$is_boolean&&1!=r)&&x.$require("asciidoctor/converter/html5".$to_s()),e.const_get(b,"Html5Converter",!0,!0).$new(t,n)):"docbook5"["$==="](E)?(((r=(u=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&u.$$scope&&(c=e.const_get([u.$$scope],"Converter",!0,!1))&&c.$$scope&&(s=e.const_get([c.$$scope],"DocBook5Converter",!0,!1))?"constant":$)===$||null==r||r.$$is_boolean&&1!=r)&&x.$require("asciidoctor/converter/docbook5".$to_s()),e.const_get(b,"DocBook5Converter",!0,!0).$new(t,n)):"docbook45"["$==="](E)?(((r=(f=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&f.$$scope&&(d=e.const_get([f.$$scope],"Converter",!0,!1))&&d.$$scope&&(_=e.const_get([d.$$scope],"DocBook45Converter",!0,!1))?"constant":$)===$||null==r||r.$$is_boolean&&1!=r)&&x.$require("asciidoctor/converter/docbook45".$to_s()),e.const_get(b,"DocBook45Converter",!0,!0).$new(t,n)):"manpage"["$==="](E)?(((r=(g=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&g.$$scope&&(h=e.const_get([g.$$scope],"Converter",!0,!1))&&h.$$scope&&(p=e.const_get([h.$$scope],"ManPageConverter",!0,!1))?"constant":$)===$||null==r||r.$$is_boolean&&1!=r)&&x.$require("asciidoctor/converter/manpage".$to_s()),e.const_get(b,"ManPageConverter",!0,!0).$new(t,n)):$}(),(r=n["$key?"]("template_dirs"))===$||null==r||r.$$is_boolean&&1!=r?O:(((r=(y=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&y.$$scope&&(m=e.const_get([y.$$scope],"Converter",!0,!1))&&m.$$scope&&e.const_get([m.$$scope],"TemplateConverter",!0,!1)?"constant":$)===$||null==r||r.$$is_boolean&&1!=r)&&x.$require("asciidoctor/converter/template".$to_s()),((r=(w=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&w.$$scope&&(v=e.const_get([w.$$scope],"Converter",!0,!1))&&v.$$scope&&e.const_get([v.$$scope],"CompositeConverter",!0,!1)?"constant":$)===$||null==r||r.$$is_boolean&&1!=r)&&x.$require("asciidoctor/converter/composite".$to_s()),A=e.const_get(b,"TemplateConverter",!0,!0).$new(t,n["$[]"]("template_dirs"),n),e.const_get(b,"CompositeConverter",!0,!0).$new(t,A,O))):function(){return(r=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](k))===$||null==r||r.$$is_boolean&&1!=r?k:k.$new(t,n)}()},f.$$arity=-2)}(u.base,0,_)}(u.base,_)}(n.base,r)},Opal.modules["asciidoctor/converter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,r=e,$=[e],o=e.nil,i=(e.breaker,e.slice,e.module),l=e.send,a=e.range,s=e.hash2;return e.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$open","$require"]),function(n,r){var $,c=$=i(n,"Asciidoctor"),u=(c.$$proto,c.$$scope),_=r.slice().concat(u);!function(n,r){var $,c,u,_=$=i(n,"Converter"),d=(_.$$proto,_.$$scope),f=r.slice().concat(d);!function(t,n){var r,$,a=r=i(t,"Config"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);e.defn(a,"$register_for",$=function(t){var n,r,$,i=this,a=o,s=arguments.length,u=s-0;u<0&&(u=0),$=new Array(u);for(var _=0;_<s;_++)$[_-0]=arguments[_];return e.const_get(c,"Factory",!0,!0).$register(i,$),a=function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);return e}(e.get_singleton_class(i),c),$["$=="](["*"])?l(a,"send",["define_method","converts?"],(n=function(e){n.$$s;return null==e&&(e=o),!0},n.$$s=i,n.$$arity=1,n)):l(a,"send",["define_method","converts?"],(r=function(e){r.$$s;return null==e&&(e=o),$["$include?"](e)},r.$$s=i,r.$$arity=1,r)),o},$.$$arity=-1)}(d.base,f),function(n,r){var $,c,u,_,d,f,p,h=$=i(n,"BackendInfo"),g=(h.$$proto,h.$$scope),b=r.slice().concat(g);e.defn(h,"$backend_info",c=function(){var e,t=this;return null==t.backend_info&&(t.backend_info=o),(e=t.backend_info)!==!1&&e!==o&&null!=e?e:t.backend_info=t.$setup_backend_info()},c.$$arity=0),e.defn(h,"$setup_backend_info",u=function(){var t,n=this,r=o,$=o,i=o,l=o;return null==n.backend&&(n.backend=o),((t=n.backend)===o||null==t||t.$$is_boolean&&1!=t)&&n.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Cannot determine backend for converter: "+n.$class()),r=n.backend.$sub(e.const_get(b,"TrailingDigitsRx",!0,!0),""),(t=$=e.const_get(b,"DEFAULT_EXTENSIONS",!0,!0)["$[]"](r))===o||null==t||t.$$is_boolean&&1!=t?(r="html",$=".html",i="html",l="html"):i=$["$[]"](a(1,-1,!1)),s(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:r,outfilesuffix:$,filetype:i,htmlsyntax:l})},u.$$arity=0),e.defn(h,"$filetype",_=function(n){var r=this,$=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?($=["filetype",n],l(r.$backend_info(),"[]=",e.to_a($)),$[t($.length,1)]):r.$backend_info()["$[]"]("filetype")},_.$$arity=-1),e.defn(h,"$basebackend",d=function(n){var r=this,$=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?($=["basebackend",n],l(r.$backend_info(),"[]=",e.to_a($)),$[t($.length,1)]):r.$backend_info()["$[]"]("basebackend")},d.$$arity=-1),e.defn(h,"$outfilesuffix",f=function(n){var r=this,$=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?($=["outfilesuffix",n],l(r.$backend_info(),"[]=",e.to_a($)),$[t($.length,1)]):r.$backend_info()["$[]"]("outfilesuffix")},f.$$arity=-1),e.defn(h,"$htmlsyntax",p=function(n){var r=this,$=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?($=["htmlsyntax",n],l(r.$backend_info(),"[]=",e.to_a($)),$[t($.length,1)]):r.$backend_info()["$[]"]("htmlsyntax")},p.$$arity=-1)}(d.base,f),function(t,n){var r,$=(t.$$proto,t.$$scope,n.slice().concat(t));e.defn(t,"$included",r=function(t){return t.$extend(e.const_get($,"Config",!0,!0))},r.$$arity=1)}(e.get_singleton_class(_),f),_.$include(e.const_get(f,"Config",!0,!0)),_.$include(e.const_get(f,"BackendInfo",!0,!0)),e.defn(_,"$initialize",c=function(e,t){var n=this;return null==t&&(t=s([],{})),n.backend=e,n.$setup_backend_info()},c.$$arity=-2),e.defn(_,"$convert",u=function(t,n,r){var $=this;return null==n&&(n=o),null==r&&(r=s([],{})),$.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},u.$$arity=-2),e.alias(_,"convert_with_options","convert")}(u.base,_),function(t,n){var r,$,a=r=i(t,"Writer"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);e.defn(a,"$write",$=function(t,n){var r,$,i=this;return(r=n["$respond_to?"]("write"))===o||null==r||r.$$is_boolean&&1!=r?l(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[n,"w"],($=function(e){$.$$s;return null==e&&(e=o),e.$write(t)},$.$$s=i,$.$$arity=1,$)):(n.$write(t.$chomp()),n.$write(e.const_get(c,"EOL",!0,!0))),o},$.$$arity=2)}(u.base,_),function(t,n){var r,$,l=r=i(t,"VoidWriter"),a=(l.$$proto,l.$$scope),s=n.slice().concat(a);l.$include(e.const_get(s,"Writer",!0,!0)),e.defn(l,"$write",$=function(e,t){return o},$.$$arity=2)}(u.base,_)}(r.base,$),n.$require("asciidoctor/converter/base"),n.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.send,_=e.range;return e.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$include?","$strip","$tr_s","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$inject","$references","$==","$-","$callouts","$dup","$attributes","$each","$safe","$compat_mode","$sourcemap","$converter","$extensions","$start_with?","$end_with?","$chop","$downcase","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$strftime","$year","$join","$build_registry","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$treeprocessors?","$treeprocessors","$!=","$counter","$nil_or_empty?","$nextval","$save_to","$chr","$ord","$source","$source_lines","$sectname=","$title=","$title","$first_section","$title?","$merge","$has_header?","$find","$context","$assign_index","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$rewind","$name","$negate","$value","$limit_bytesize","$apply_attribute_value_subs","$delete?","$update_doctype_attributes","$match","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$backend","$default","$create","$fail","$doctype","$content_model","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$open","$map","$split","$&","$normalize_system_path","$read_asset","$resolve_docinfo_subs","$sub_attributes","$docinfo_processors?","$*","$compact","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),function(o,i){var d,f=d=a(o,"Asciidoctor"),p=(f.$$proto,f.$$scope),h=i.slice().concat(p);!function(o,i,a){function d(){}var f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe,ie=d=s(o,i,"Document",d),le=ie.$$proto,ae=ie.$$scope,se=a.slice().concat(ae);le.attributes=le.safe=le.reader=le.base_dir=le.parsed=le.parent_document=le.extensions=le.options=le.counters=le.references=le.doctype=le.backend=le.header=le.blocks=le.attributes_modified=le.id=le.callouts=le.header_attributes=le.max_attribute_value_size=le.attribute_overrides=le.converter=le.outfilesuffix=le.docinfo_processor_extensions=le.document=l,e.cdecl(ae,"Footnote",e.const_get([e.Object.$$scope],"Struct",!0,!0).$new("index","id","text")),function(t,n,r){function $(){}var o,i,a=$=s(t,null,"AttributeEntry",$),c=(a.$$proto,a.$$scope);r.slice().concat(c);a.$attr_reader("name","value","negate"),e.defn(a,"$initialize",o=function(e,t,n){var r,$=this;return null==n&&(n=l),$.name=e,$.value=t,$.negate=function(){return(r=n["$nil?"]())===l||null==r||r.$$is_boolean&&1!=r?n:t["$nil?"]()}()},o.$$arity=-3),e.defn(a,"$save_to",i=function(e){var t,n,r,$=this;return(t="attribute_entries",n=e,(r=n["$[]"](t))!==!1&&r!==l&&null!=r?r:n["$[]="](t,[]))["$<<"]($)},i.$$arity=1)}(ae.base,0,se),function(t,n,r){function $(){}var o,i,a,u,_=$=s(t,null,"Title",$),d=_.$$proto,f=_.$$scope,p=r.slice().concat(f);d.sanitized=d.subtitle=d.combined=l,_.$attr_reader("main"),e.alias(_,"title","main"),_.$attr_reader("subtitle"),_.$attr_reader("combined"),e.defn(_,"$initialize",o=function(t,n){var r,$,o,i=this,a=l;return null==n&&(n=c([],{})),$=i.sanitized=n["$[]"]("sanitize"),(r=$!==!1&&$!==l&&null!=$?t["$include?"]("<"):$)===l||null==r||r.$$is_boolean&&1!=r||(t=t.$gsub(e.const_get(p,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip()),(r=($=(a=(o=n["$[]"]("separator"))!==!1&&o!==l&&null!=o?o:":")["$empty?"]())!==!1&&$!==l&&null!=$?$:t["$include?"](a+=" ")["$!"]())===l||null==r||r.$$is_boolean&&1!=r?($=t.$rpartition(a),r=e.to_ary($),i.main=null==r[0]?l:r[0],null==r[1]?l:r[1],i.subtitle=null==r[2]?l:r[2]):(i.main=t,i.subtitle=l),i.combined=t},o.$$arity=-2),e.defn(_,"$sanitized?",i=function(){return this.sanitized},i.$$arity=0),e.defn(_,"$subtitle?",a=function(){return this.subtitle["$!"]()["$!"]()},a.$$arity=0),e.defn(_,"$to_s",u=function(){return this.combined},u.$$arity=0)}(ae.base,0,se),ie.$attr_reader("safe"),ie.$attr_reader("compat_mode"),ie.$attr_accessor("sourcemap"),ie.$attr_reader("references"),ie.$attr_reader("counters"),ie.$attr_reader("callouts"),ie.$attr_reader("header"),ie.$attr_reader("base_dir"),ie.$attr_reader("options"),ie.$attr_reader("outfilesuffix"),ie.$attr_reader("parent_document"),ie.$attr_reader("reader"),ie.$attr_reader("converter"),ie.$attr_reader("extensions"),e.defn(ie,"$initialize",f=function($,o){var i,a,s,d,p,h,g,b,m,y,v=this,w=f.$$p,x=l,k=l,O=l,E=l,A=l,S=l,R=l,M=l,T=l,I=l,C=l,N=l,j=l,L=l,z=l,P=l,D=l;if(null==$&&($=l),null==o&&(o=c([],{})),w&&(f.$$p=null),u(v,e.find_super_dispatcher(v,"initialize",f,!1),[v,"document"],null),(i=x=o.$delete("parent"))===l||null==i||i.$$is_boolean&&1!=i){if(v.parent_document=l,v.references=c(["ids","footnotes","links","images","indexterms","includes"],{ids:c([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:e.const_get([e.Object.$$scope],"Set",!0,!0).$new()}),v.callouts=e.const_get(se,"Callouts",!0,!0).$new(),k=c([],{}),u((i=o["$[]"]("attributes"))!==!1&&i!==l&&null!=i?i:c([],{}),"each",[],(h=function(n,r){var $,o=(h.$$s,l);return null==n&&(n=l),null==r&&(r=l),($=n["$start_with?"]("!"))===l||null==$||$.$$is_boolean&&1!=$?($=n["$end_with?"]("!"))===l||null==$||$.$$is_boolean&&1!=$||(n=n.$chop(),r=l):(n=n["$[]"](_(1,-1,!1)),r=l),o=[n.$downcase(),r],u(k,"[]=",e.to_a(o)),o[t(o.length,1)]},h.$$s=v,h.$$arity=2,h)),v.attribute_overrides=k,(i=(E=o["$[]"]("safe"))["$!"]())===l||null==i||i.$$is_boolean&&1!=i)if((i=e.const_get([e.Object.$$scope],"Integer",!0,!0)["$==="](E))===l||null==i||i.$$is_boolean&&1!=i)try{v.safe=e.const_get(se,"SafeMode",!0,!0).$value_for_name(E.$to_s())}catch(t){if(!e.rescue(t,[e.const_get(se,"StandardError",!0,!0)]))throw t;try{v.safe=e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)}finally{e.pop_exception()}}else v.safe=E;else v.safe=e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0);v.compat_mode=k["$key?"]("compat-mode"),v.sourcemap=o["$[]"]("sourcemap"),v.converter=l,O=(a=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&a.$$scope&&(i=e.const_get([a.$$scope],"Extensions",!0,!1))?"constant":l,v.extensions=l}else v.parent_document=x,i="base_dir",a=o,(s=a["$[]"](i))!==!1&&s!==l&&null!=s||a["$[]="](i,x.$base_dir()),v.references=u(x.$references(),"inject",[c([],{})],(d=function(n,r){var $,o,i,a=(d.$$s,l);return null==r&&(r=l),r=e.to_ary(r),$=e.slice.call(r,0,r.length),o=$.splice(0,1)[0],null==o&&(o=l),i=$.splice(0,1)[0],null==i&&(i=l),null==n&&(n=l),o["$=="]("footnotes")?(a=["footnotes",[]],u(n,"[]=",e.to_a(a)),a[t(a.length,1)]):(a=[o,i],u(n,"[]=",e.to_a(a)),a[t(a.length,1)]),n},d.$$s=v,d.$$arity=2,d.$$has_top_level_mlhs_arg=!0,d)),v.callouts=x.$callouts(),k=x.$attributes().$dup(),u(["doctype","compat-mode","toc","toc-placement","toc-position"],"each",[],(p=function(e){p.$$s;return null==e&&(e=l),k.$delete(e)},p.$$s=v,p.$$arity=1,p)),v.attribute_overrides=k,v.safe=x.$safe(),v.compat_mode=x.$compat_mode(),v.sourcemap=x.$sourcemap(),v.converter=x.$converter(),O=!1,v.extensions=x.$extensions();return v.parsed=!1,v.header=l,v.counters=c([],{}),v.attributes_modified=e.const_get([e.Object.$$scope],"Set",!0,!0).$new(),v.options=o,v.docinfo_processor_extensions=c([],{}),s="header_footer",g=o,A=(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,!1),o.$freeze(),S=v.attributes,R=["sectids",""],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],A!==!1&&A!==l&&null!=A||(R=["notitle",""],u(S,"[]=",e.to_a(R)),R[t(R.length,1)]),R=["toc-placement","auto"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["stylesheet",""],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["webfonts",""],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],A!==!1&&A!==l&&null!=A&&(R=["copycss",""],u(S,"[]=",e.to_a(R)),R[t(R.length,1)]),R=["prewrap",""],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["attribute-undefined",e.const_get(se,"Compliance",!0,!0).$attribute_undefined()],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["attribute-missing",e.const_get(se,"Compliance",!0,!0).$attribute_missing()],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["iconfont-remote",""],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["caution-caption","Caution"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["important-caption","Important"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["note-caption","Note"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["tip-caption","Tip"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["warning-caption","Warning"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["appendix-caption","Appendix"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["example-caption","Example"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["figure-caption","Figure"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["table-caption","Table"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["toc-title","Table of Contents"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["manname-title","NAME"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["untitled-label","Untitled"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["version-label","Version"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["last-update-label","Last updated"],u(S,"[]=",e.to_a(R)),R[t(R.length,1)],R=["asciidoctor",""],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],R=["asciidoctor-version",e.const_get(se,"VERSION",!0,!0)],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],R=["safe-mode-name",M=e.const_get(se,"SafeMode",!0,!0).$name_for_value(v.safe)],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],R=["safe-mode-"+M,""],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],R=["safe-mode-level",v.safe],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],R=["embedded",function(){return A!==!1&&A!==l&&null!=A?l:""}()],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],s="max-include-depth",g=k,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,64),s="allow-uri-read",g=k,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l),R=["user-home",e.const_get(se,"USER_HOME",!0,!0)],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],(s=k["$key?"]("numbered"))===l||null==s||s.$$is_boolean&&1!=s||(R=["sectnums",k.$delete("numbered")],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]),(s=o["$[]"]("base_dir"))===l||null==s||s.$$is_boolean&&1!=s?(s=k["$[]"]("docdir"))===l||null==s||s.$$is_boolean&&1!=s?v.base_dir=(R=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd())],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]):v.base_dir=(R=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(k["$[]"]("docdir"))],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]):v.base_dir=(R=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(o["$[]"]("base_dir"))],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]),(s=T=o["$[]"]("backend"))===l||null==s||s.$$is_boolean&&1!=s||(R=["backend",""+T],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]),(s=I=o["$[]"]("doctype"))===l||null==s||s.$$is_boolean&&1!=s||(R=["doctype",""+I],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]),(s=n(v.safe,e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))===l||null==s||s.$$is_boolean&&1!=s||(s="copycss",g=k,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l),s="source-highlighter",g=k,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l),s="backend",g=k,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get(se,"DEFAULT_BACKEND",!0,!0)),g=x["$!"](),(s=g!==!1&&g!==l&&null!=g?k["$key?"]("docfile"):g)===l||null==s||s.$$is_boolean&&1!=s||(R=["docfile",k["$[]"]("docfile")["$[]"](e.Range.$new(r(k["$[]"]("docdir").$length(),1),-1,!1))],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]),R=["docdir",""],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],R=["user-home","."],u(k,"[]=",e.to_a(R)),R[t(R.length,1)],(s=n(v.safe,e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===l||null==s||s.$$is_boolean&&1!=s||(((s=k["$key?"]("max-attribute-value-size"))===l||null==s||s.$$is_boolean&&1!=s)&&(R=["max-attribute-value-size",4096],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]),((s=k.$fetch("linkcss","")["$nil?"]())===l||null==s||s.$$is_boolean&&1!=s)&&(R=["linkcss",""],u(k,"[]=",e.to_a(R)),R[t(R.length,1)]),s="icons",g=k,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l))),v.max_attribute_value_size=function(){return g="max-attribute-value-size",b=k,(s=C=(m=b["$[]"](g))!==!1&&m!==l&&null!=m?m:b["$[]="](g,l))===l||null==s||s.$$is_boolean&&1!=s?l:C.$to_i().$abs()}(),u(k,"delete_if",[],(y=function(n,r){var $,o,i=(y.$$s,l);return null==n&&(n=l),null==r&&(r=l),i=!1,($=r["$nil?"]())===l||null==$||$.$$is_boolean&&1!=$?(o=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](r),($=o!==!1&&o!==l&&null!=o?r["$end_with?"]("@"):o)===l||null==$||$.$$is_boolean&&1!=$||(r=r.$chop(),i=!0),R=[n,r],u(S,"[]=",e.to_a(R)),R[t(R.length,1)]):S.$delete(n),i},y.$$s=v,y.$$arity=2,y)),x!==!1&&x!==l&&null!=x?(s="doctype",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get(se,"DEFAULT_DOCTYPE",!0,!0)),v.reader=e.const_get(se,"Reader",!0,!0).$new($,o["$[]"]("cursor")),e.const_get(se,"Parser",!0,!0).$parse(v.reader,v),v.$restore_attributes(),v.parsed=!0):((s="backend",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,e.const_get(se,"DEFAULT_BACKEND",!0,!0)))["$=="]("manpage")?(R=["doctype",(R=["doctype","manpage"],u(k,"[]=",e.to_a(R)),R[t(R.length,1)])],u(S,"[]=",e.to_a(R)),R[t(R.length,1)]):(s="doctype",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get(se,"DEFAULT_DOCTYPE",!0,!0))),v.$update_backend_attributes(S["$[]"]("backend"),!0),N=function(){return(s=e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===l||null==s||s.$$is_boolean&&1!=s?e.const_get([e.Object.$$scope],"Time",!0,!0).$now():e.const_get([e.Object.$$scope],"Time",!0,!0).$at(v.$Integer(e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))).$utc()}(),(s=j=S["$[]"]("localdate"))===l||null==s||s.$$is_boolean&&1!=s?(R=["localdate",N.$strftime("%Y-%m-%d")],u(S,"[]=",e.to_a(R)),j=R[t(R.length,1)],s="localyear",g=S,L=(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,N.$year().$to_s())):(s="localyear",g=S,L=(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,function(){return j.$index("-")["$=="](4)?j["$[]"](0,4):l}())),s="localtime",g=S,z=(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,function(){try{return N.$strftime("%H:%M:%S %Z")}catch(t){if(!e.rescue(t,[e.const_get(se,"StandardError",!0,!0)]))throw t;try{return N.$strftime("%H:%M:%S %z")}finally{e.pop_exception()}}}()),s="localdatetime",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,j+" "+z),s="docdate",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,j),s="docyear",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,L),s="doctime",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,z),s="docdatetime",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,j+" "+z),s="stylesdir",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,"."),s="iconsdir",g=S,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get([e.Object.$$scope],"File",!0,!0).$join(S.$fetch("imagesdir","./images"),"icons")),O!==!1&&O!==l&&null!=O&&((s=P=o["$[]"]("extensions_registry"))===l||null==s||s.$$is_boolean&&1!=s?P=(s=e.const_get([e.Object.$$scope],"Proc",!0,!0)["$==="](D=o["$[]"]("extensions")))===l||null==s||s.$$is_boolean&&1!=s?e.const_get([e.const_get(se,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new():u(e.const_get(se,"Extensions",!0,!0),"build_registry",[],D.$to_proc()):((s=(g=e.const_get([e.const_get(se,"Extensions",!0,!0).$$scope],"Registry",!0,!0)["$==="](P))!==!1&&g!==l&&null!=g?g:(b=e.const_get([e.Object.$$scope],"RUBY_ENGINE_JRUBY",!0,!0),b!==!1&&b!==l&&null!=b?e.const_get([e.const_get([e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$$scope],"ExtensionRegistry",!0,!0)["$==="](P):b))===l||null==s||s.$$is_boolean&&1!=s)&&(P=e.const_get([e.const_get(se,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new()),v.extensions=P.$activate(v)),v.reader=e.const_get(se,"PreprocessorReader",!0,!0).$new(v,$,e.const_get([e.const_get(se,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(S["$[]"]("docfile"),v.base_dir)))},f.$$arity=-1),e.defn(ie,"$parse",p=function(t){var n,r,$,o,i,a=this,s=l,_=l;return null==t&&(t=l),(n=a.parsed)===l||null==n||n.$$is_boolean&&1!=n?(s=a,t!==!1&&t!==l&&null!=t&&(a.reader=e.const_get(se,"PreprocessorReader",!0,!0).$new(s,t,e.const_get([e.const_get(se,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(a.attributes["$[]"]("docfile"),a.base_dir))),r=_=function(){return($=a.parent_document)===l||null==$||$.$$is_boolean&&1!=$?a.extensions:l}(),(n=r!==!1&&r!==l&&null!=r?_["$preprocessors?"]():r)===l||null==n||n.$$is_boolean&&1!=n||u(_.$preprocessors(),"each",[],(o=function(e){var t,n=o.$$s||this;return null==n.reader&&(n.reader=l),null==e&&(e=l),n.reader=(t=e.$process_method()["$[]"](s,n.reader))!==!1&&t!==l&&null!=t?t:n.reader},o.$$s=a,o.$$arity=1,o)),e.const_get(se,"Parser",!0,!0).$parse(a.reader,s,c(["header_only"],{header_only:a.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),a.$restore_attributes(),(n=(r=_!==!1&&_!==l&&null!=_)?_["$treeprocessors?"]():_)===l||null==n||n.$$is_boolean&&1!=n||u(_.$treeprocessors(),"each",[],(i=function(t){var n,r,$,o=(i.$$s,l);return null==t&&(t=l),$=o=t.$process_method()["$[]"](s),r=$!==!1&&$!==l&&null!=$?e.const_get(se,"Document",!0,!0)["$==="](o):$,(n=r!==!1&&r!==l&&null!=r?o["$!="](s):r)===l||null==n||n.$$is_boolean&&1!=n?l:s=o},i.$$s=a,i.$$arity=1,i)),a.parsed=!0,s):a},p.$$arity=-1),e.defn(ie,"$counter",h=function(n,r){var $,o,i=this,a=l,s=l,c=l;return null==r&&(r=l),($=i.parent_document)===l||null==$||$.$$is_boolean&&1!=$?(o=a=(s=i.attributes["$[]"](n))["$nil_or_empty?"]()["$!"](),($=o!==!1&&o!==l&&null!=o?i.counters["$key?"](n):o)===l||null==$||$.$$is_boolean&&1!=$?r!==!1&&r!==l&&null!=r?(c=[n,(c=[n,function(){return r["$=="](r.$to_i().$to_s())?r.$to_i():r}()],u(i.counters,"[]=",e.to_a(c)),c[t(c.length,1)])],u(i.attributes,"[]=",e.to_a(c)),c[t(c.length,1)]):(c=[n,(c=[n,i.$nextval(function(){return a!==!1&&a!==l&&null!=a?s:0}())],u(i.counters,"[]=",e.to_a(c)),c[t(c.length,1)])],u(i.attributes,"[]=",e.to_a(c)),
c[t(c.length,1)]):(c=[n,(c=[n,i.$nextval(s)],u(i.counters,"[]=",e.to_a(c)),c[t(c.length,1)])],u(i.attributes,"[]=",e.to_a(c)),c[t(c.length,1)])):i.parent_document.$counter(n,r)},h.$$arity=-2),e.defn(ie,"$counter_increment",g=function(t,n){var r=this,$=l;return $=r.$counter(t),e.const_get(se,"AttributeEntry",!0,!0).$new(t,$).$save_to(n.$attributes()),$},g.$$arity=2),e.defn(ie,"$nextval",b=function(t){var n,$=l;return(n=e.const_get([e.Object.$$scope],"Integer",!0,!0)["$==="](t))===l||null==n||n.$$is_boolean&&1!=n?($=t.$to_i(),(n=$.$to_s()["$!="](t.$to_s()))===l||null==n||n.$$is_boolean&&1!=n?r($,1):r(t["$[]"](0).$ord(),1).$chr()):r(t,1)},b.$$arity=1),e.defn(ie,"$register",m=function(n,$,o){var i,a,s,c=this,_=l,d=l,f=l,p=l;return null==o&&(o=!1),function(){return _=n,"ids"["$==="](_)?(i=[].concat(e.to_a($)),d=null==i[0]?l:i[0],f=null==i[1]?l:i[1],(i=f)!==!1&&i!==l&&null!=i||(f=r(r("[",d),"]")),o!==!1&&o!==l&&null!=o?(p=[d,f],u(c.references["$[]"]("ids"),"[]=",e.to_a(p)),p[t(p.length,1)]):(i=d,a=c.references["$[]"]("ids"),(s=a["$[]"](i))!==!1&&s!==l&&null!=s?s:a["$[]="](i,f))):"footnotes"["$==="](_)||"indexterms"["$==="](_)?c.references["$[]"](n)["$<<"]($):(i=c.options["$[]"]("catalog_assets"))===l||null==i||i.$$is_boolean&&1!=i?l:c.references["$[]"](n)["$<<"]($)}()},m.$$arity=-3),e.defn(ie,"$footnotes?",y=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},y.$$arity=0),e.defn(ie,"$footnotes",v=function(){return this.references["$[]"]("footnotes")},v.$$arity=0),e.defn(ie,"$nested?",w=function(){return this.parent_document["$!"]()["$!"]()},w.$$arity=0),e.defn(ie,"$embedded?",x=function(){return this.attributes["$key?"]("embedded")},x.$$arity=0),e.defn(ie,"$extensions?",k=function(){return this.extensions["$!"]()["$!"]()},k.$$arity=0),e.defn(ie,"$source",O=function(){var e,t=this;return(e=t.reader)===l||null==e||e.$$is_boolean&&1!=e?l:t.reader.$source()},O.$$arity=0),e.defn(ie,"$source_lines",E=function(){var e,t=this;return(e=t.reader)===l||null==e||e.$$is_boolean&&1!=e?l:t.reader.$source_lines()},E.$$arity=0),e.defn(ie,"$doctype",A=function(){var e,t=this;return(e=t.doctype)!==!1&&e!==l&&null!=e?e:t.doctype=t.attributes["$[]"]("doctype")},A.$$arity=0),e.defn(ie,"$backend",S=function(){var e,t=this;return(e=t.backend)!==!1&&e!==l&&null!=e?e:t.backend=t.attributes["$[]"]("backend")},S.$$arity=0),e.defn(ie,"$basebackend?",R=function(e){return this.attributes["$[]"]("basebackend")["$=="](e)},R.$$arity=1),e.defn(ie,"$title",M=function(){return this.attributes["$[]"]("title")},M.$$arity=0),e.defn(ie,"$title=",T=function(n){var r,$=this,o=l,i=l;return o=(r=$.header)!==!1&&r!==l&&null!=r?r:$.header=e.const_get(se,"Section",!0,!0).$new($,0),i=["header"],u(o,"sectname=",e.to_a(i)),i[t(i.length,1)],i=[n],u(o,"title=",e.to_a(i)),i[t(i.length,1)]},T.$$arity=1),e.defn(ie,"$doctitle",I=function(t){var n,r,$=this,o=l,i=l,a=l;if(null==t&&(t=c([],{})),(n=(o=$.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())===l||null==n||n.$$is_boolean&&1!=n)if(r=i=$.$first_section(),(n=r!==!1&&r!==l&&null!=r?i["$title?"]():r)===l||null==n||n.$$is_boolean&&1!=n){if(r=t["$[]"]("use_fallback"),(n=r!==!1&&r!==l&&null!=r?o=$.attributes["$[]"]("untitled-label"):r)===l||null==n||n.$$is_boolean&&1!=n)return l}else o=i.$title();else o=$.$title();return(n=a=t["$[]"]("partition"))===l||null==n||n.$$is_boolean&&1!=n?(r=t["$[]"]("sanitize"),(n=r!==!1&&r!==l&&null!=r?o["$include?"]("<"):r)===l||null==n||n.$$is_boolean&&1!=n?o:o.$gsub(e.const_get(se,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip()):e.const_get(se,"Title",!0,!0).$new(o,t.$merge(c(["separator"],{separator:function(){return a["$=="](!0)?$.attributes["$[]"]("title-separator"):a}()})))},I.$$arity=-1),e.alias(ie,"name","doctitle"),e.defn(ie,"$author",C=function(){return this.attributes["$[]"]("author")},C.$$arity=0),e.defn(ie,"$revdate",N=function(){return this.attributes["$[]"]("revdate")},N.$$arity=0),e.defn(ie,"$notitle",j=function(){var e,t=this;return e=t.attributes["$key?"]("showtitle")["$!"](),e!==!1&&e!==l&&null!=e?t.attributes["$key?"]("notitle"):e},j.$$arity=0),e.defn(ie,"$noheader",L=function(){return this.attributes["$key?"]("noheader")},L.$$arity=0),e.defn(ie,"$nofooter",z=function(){return this.attributes["$key?"]("nofooter")},z.$$arity=0),e.defn(ie,"$first_section",P=function(){var e,t,n=this;return(e=n["$has_header?"]())===l||null==e||e.$$is_boolean&&1!=e?u((e=n.blocks)!==!1&&e!==l&&null!=e?e:[],"find",[],(t=function(e){t.$$s;return null==e&&(e=l),e.$context()["$=="]("section")},t.$$s=n,t.$$arity=1,t)):n.header},P.$$arity=0),e.defn(ie,"$has_header?",D=function(){var e;return!((e=this.header)===l||null==e||e.$$is_boolean&&1!=e)},D.$$arity=0),e.alias(ie,"header?","has_header?"),e.defn(ie,"$<<",B=function(t){var n=this,r=B.$$p,$=l,o=l,i=l;for(r&&(B.$$p=null),o=0,i=arguments.length,$=new Array(i);o<i;o++)$[o]=arguments[o];return t.$context()["$=="]("section")&&n.$assign_index(t),u(n,e.find_super_dispatcher(n,"<<",B,!1),$,r)},B.$$arity=1),e.defn(ie,"$finalize_header",q=function(n,r){var $=this,o=l;return null==r&&(r=!0),$.$clear_playback_attributes(n),$.$save_attributes(),r!==!1&&r!==l&&null!=r||(o=["invalid-header",!0],u(n,"[]=",e.to_a(o)),o[t(o.length,1)]),n},q.$$arity=-2),e.defn(ie,"$save_attributes",U=function(){var n,r,$,o,i=this,a=l,s=l,c=l,_=l,d=l,f=l,p=l,h=l,g=l,b=l;return(a=i.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(((n=(r=i["$attribute_locked?"]("toc"))!==!1&&r!==l&&null!=r?r:i.attributes_modified["$include?"]("toc"))===l||null==n||n.$$is_boolean&&1!=n)&&(s=["toc",""],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]),((n=(r=i["$attribute_locked?"]("sectnums"))!==!1&&r!==l&&null!=r?r:i.attributes_modified["$include?"]("sectnums"))===l||null==n||n.$$is_boolean&&1!=n)&&(s=["sectnums",""],u(a,"[]=",e.to_a(s)),s[t(s.length,1)])),((n=(r=a["$key?"]("doctitle"))!==!1&&r!==l&&null!=r?r:(c=i.$doctitle())["$!"]())===l||null==n||n.$$is_boolean&&1!=n)&&(s=["doctitle",c],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]),((n=i.id)===l||null==n||n.$$is_boolean&&1!=n)&&(i.id=a["$[]"]("css-signature")),_=function(){return(n=d=function(){return(r=a.$delete("toc2"))===l||null==r||r.$$is_boolean&&1!=r?a["$[]"]("toc"):"left"}())===l||null==n||n.$$is_boolean&&1!=n?l:(r=f=a.$fetch("toc-placement","macro"),(n=r!==!1&&r!==l&&null!=r?f["$!="]("auto"):r)===l||null==n||n.$$is_boolean&&1!=n?a["$[]"]("toc-position"):f)}(),(n=(r=d!==!1&&d!==l&&null!=d)?($=d["$empty?"]()["$!"]())!==!1&&$!==l&&null!=$?$:_["$nil_or_empty?"]()["$!"]():d)===l||null==n||n.$$is_boolean&&1!=n||(p="left",h="toc2",g=(n=_["$nil_or_empty?"]()["$!"]())===l||null==n||n.$$is_boolean&&1!=n?(n=d["$empty?"]()["$!"]())===l||null==n||n.$$is_boolean&&1!=n?p:d:_,s=["toc",""],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],s=["toc-placement","auto"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],b=g,"left"["$==="](b)||"<"["$==="](b)||"&lt;"["$==="](b)?(s=["toc-position","left"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"right"["$==="](b)||">"["$==="](b)||"&gt;"["$==="](b)?(s=["toc-position","right"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"top"["$==="](b)||"^"["$==="](b)?(s=["toc-position","top"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"bottom"["$==="](b)||"v"["$==="](b)?(s=["toc-position","bottom"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"preamble"["$==="](b)||"macro"["$==="](b)?(s=["toc-position","content"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],s=["toc-placement",g],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],h=l):(a.$delete("toc-position"),h=l),h!==!1&&h!==l&&null!=h&&(n="toc-class",r=a,($=r["$[]"](n))!==!1&&$!==l&&null!=$||r["$[]="](n,h))),(n=a["$key?"]("compat-mode"))===l||null==n||n.$$is_boolean&&1!=n?i.compat_mode=!1:((n=a["$key?"]("language"))===l||null==n||n.$$is_boolean&&1!=n||(s=["source-language",a["$[]"]("language")],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]),i.compat_mode=!0),i.outfilesuffix=a["$[]"]("outfilesuffix"),i.header_attributes=a.$dup(),(n=i.parent_document)===l||null==n||n.$$is_boolean&&1!=n?u(e.const_get(se,"FLEXIBLE_ATTRIBUTES",!0,!0),"each",[],(o=function(e){var t,n,r=o.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=l),null==e&&(e=l),n=r.attribute_overrides["$key?"](e),(t=n!==!1&&n!==l&&null!=n?r.attribute_overrides["$[]"](e):n)===l||null==t||t.$$is_boolean&&1!=t?l:r.attribute_overrides.$delete(e)},o.$$s=i,o.$$arity=1,o)):l},U.$$arity=0),e.defn(ie,"$restore_attributes",F=function(){var e,t=this;return((e=t.parent_document)===l||null==e||e.$$is_boolean&&1!=e)&&t.callouts.$rewind(),t.attributes=t.header_attributes},F.$$arity=0),e.defn(ie,"$clear_playback_attributes",G=function(e){return e.$delete("attribute_entries")},G.$$arity=1),e.defn(ie,"$playback_attributes",H=function(n){var r,$,o=this;return(r=n["$key?"]("attribute_entries"))===l||null==r||r.$$is_boolean&&1!=r?l:u(n["$[]"]("attribute_entries"),"each",[],($=function(n){var r,o=$.$$s||this,i=l,a=l;return null==o.attributes&&(o.attributes=l),null==n&&(n=l),i=n.$name(),(r=n.$negate())===l||null==r||r.$$is_boolean&&1!=r?(a=[i,n.$value()],u(o.attributes,"[]=",e.to_a(a)),a[t(a.length,1)],i["$=="]("compat-mode")?o.compat_mode=!0:l):(o.attributes.$delete(i),i["$=="]("compat-mode")?o.compat_mode=!1:l)},$.$$s=o,$.$$arity=1,$))},H.$$arity=1),e.defn(ie,"$set_attribute",Y=function(n,r){var $,o=this,i=l,a=l,s=l;return null==r&&(r=""),!!(($=o["$attribute_locked?"](n))===l||null==$||$.$$is_boolean&&1!=$)&&(i=($=o.max_attribute_value_size)===l||null==$||$.$$is_boolean&&1!=$?o.$apply_attribute_value_subs(r):o.$apply_attribute_value_subs(r).$limit_bytesize(o.max_attribute_value_size),a=n,"backend"["$==="](a)?o.$update_backend_attributes(i,o.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](a)?o.$update_doctype_attributes(i):(s=[n,i],u(o.attributes,"[]=",e.to_a(s)),s[t(s.length,1)]),o.attributes_modified["$<<"](n),!0)},Y.$$arity=-2),e.defn(ie,"$delete_attribute",K=function(e){var t,n=this;return!!((t=n["$attribute_locked?"](e))===l||null==t||t.$$is_boolean&&1!=t)&&(n.attributes.$delete(e),n.attributes_modified["$<<"](e),!0)},K.$$arity=1),e.defn(ie,"$attribute_locked?",W=function(e){return this.attribute_overrides["$key?"](e)},W.$$arity=1),e.defn(ie,"$apply_attribute_value_subs",X=function(t){var n,r=this,$=l;return(n=$=e.const_get(se,"AttributeEntryPassMacroRx",!0,!0).$match(t))===l||null==n||n.$$is_boolean&&1!=n?r.$apply_header_subs(t):(n=$["$[]"](1)["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?r.$apply_subs($["$[]"](2),r.$resolve_pass_subs($["$[]"](1))):$["$[]"](2)},X.$$arity=1),e.defn(ie,"$update_backend_attributes",V=function(n,r){var $,o,i=this,a=l,s=l,c=l,d=l,f=l,p=l,h=l,g=l,b=l,m=l,y=l;return null==r&&(r=!1),($=(o=r)!==!1&&o!==l&&null!=o?o:n!==!1&&n!==l&&null!=n?n["$!="](i.attributes["$[]"]("backend")):n)===l||null==$||$.$$is_boolean&&1!=$?l:(a=i.attributes,s=a["$[]"]("backend"),c=a["$[]"]("basebackend"),d=a["$[]"]("doctype"),($=n["$start_with?"]("xhtml"))===l||null==$||$.$$is_boolean&&1!=$?($=n["$start_with?"]("html"))===l||null==$||$.$$is_boolean&&1!=$||a["$[]"]("htmlsyntax")["$=="]("xml")||(f=["htmlsyntax","html"],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]):(f=["htmlsyntax","xml"],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],n=n["$[]"](_(1,-1,!1))),($=p=e.const_get(se,"BACKEND_ALIASES",!0,!0)["$[]"](n))===l||null==$||$.$$is_boolean&&1!=$||(n=p),s!==!1&&s!==l&&null!=s&&(a.$delete("backend-"+s),d!==!1&&d!==l&&null!=d&&a.$delete("backend-"+s+"-doctype-"+d)),d!==!1&&d!==l&&null!=d&&(f=["doctype-"+d,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["backend-"+n+"-doctype-"+d,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]),f=["backend",n],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["backend-"+n,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],($=e.const_get([e.const_get(se,"Converter",!0,!0).$$scope],"BackendInfo",!0,!0)["$==="](i.converter=i.$create_converter()))===l||null==$||$.$$is_boolean&&1!=$?(h=n.$sub(e.const_get(se,"TrailingDigitsRx",!0,!0),""),($=b=e.const_get(se,"DEFAULT_EXTENSIONS",!0,!0)["$[]"](h))===l||null==$||$.$$is_boolean&&1!=$?(b=".html",h=g="html"):g=b["$[]"](_(1,-1,!1)),(($=i["$attribute_locked?"]("outfilesuffix"))===l||null==$||$.$$is_boolean&&1!=$)&&(f=["outfilesuffix",b],u(a,"[]=",e.to_a(f)),f[t(f.length,1)])):(h=i.converter.$basebackend(),(($=i["$attribute_locked?"]("outfilesuffix"))===l||null==$||$.$$is_boolean&&1!=$)&&(f=["outfilesuffix",i.converter.$outfilesuffix()],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]),g=i.converter.$filetype()),($=m=a["$[]"]("filetype"))===l||null==$||$.$$is_boolean&&1!=$||a.$delete("filetype-"+m),f=["filetype",g],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["filetype-"+g,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],($=y=e.const_get(se,"DEFAULT_PAGE_WIDTHS",!0,!0)["$[]"](h))===l||null==$||$.$$is_boolean&&1!=$?a.$delete("pagewidth"):(f=["pagewidth",y],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]),($=h["$!="](c))===l||null==$||$.$$is_boolean&&1!=$||(c!==!1&&c!==l&&null!=c&&(a.$delete("basebackend-"+c),d!==!1&&d!==l&&null!=d&&a.$delete("basebackend-"+c+"-doctype-"+d)),f=["basebackend",h],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["basebackend-"+h,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],d!==!1&&d!==l&&null!=d&&(f=["basebackend-"+h+"-doctype-"+d,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)])),i.backend=l)},V.$$arity=-2),e.defn(ie,"$update_doctype_attributes",J=function(n){var r,$=this,o=l,i=l,a=l,s=l,c=l;return(r=n!==!1&&n!==l&&null!=n?n["$!="]($.attributes["$[]"]("doctype")):n)===l||null==r||r.$$is_boolean&&1!=r?l:(o=$.attributes,i=o["$[]"]("doctype"),a=o["$[]"]("backend"),s=o["$[]"]("basebackend"),i!==!1&&i!==l&&null!=i&&(o.$delete("doctype-"+i),a!==!1&&a!==l&&null!=a&&o.$delete("backend-"+a+"-doctype-"+i),s!==!1&&s!==l&&null!=s&&o.$delete("basebackend-"+s+"-doctype-"+i)),c=["doctype",n],u(o,"[]=",e.to_a(c)),c[t(c.length,1)],c=["doctype-"+n,""],u(o,"[]=",e.to_a(c)),c[t(c.length,1)],a!==!1&&a!==l&&null!=a&&(c=["backend-"+a+"-doctype-"+n,""],u(o,"[]=",e.to_a(c)),c[t(c.length,1)]),s!==!1&&s!==l&&null!=s&&(c=["basebackend-"+s+"-doctype-"+n,""],u(o,"[]=",e.to_a(c)),c[t(c.length,1)]),$.doctype=l)},J.$$arity=1),e.defn(ie,"$create_converter",Z=function(){var n,r=this,$=l,o=l,i=l,a=l,s=l,_=l;return $=c([],{}),o=["htmlsyntax",r.attributes["$[]"]("htmlsyntax")],u($,"[]=",e.to_a(o)),o[t(o.length,1)],i=function(){return(n=a=r.options["$[]"]("template_dir"))===l||null==n||n.$$is_boolean&&1!=n?(n=i=r.options["$[]"]("template_dirs"))===l||null==n||n.$$is_boolean&&1!=n?l:(o=["template_dirs",i],u($,"[]=",e.to_a(o)),o[t(o.length,1)]):(o=["template_dirs",[a]],u($,"[]=",e.to_a(o)),o[t(o.length,1)])}(),i!==!1&&i!==l&&null!=i&&(o=["template_cache",r.options.$fetch("template_cache",!0)],u($,"[]=",e.to_a(o)),o[t(o.length,1)],o=["template_engine",r.options["$[]"]("template_engine")],u($,"[]=",e.to_a(o)),o[t(o.length,1)],o=["template_engine_options",r.options["$[]"]("template_engine_options")],u($,"[]=",e.to_a(o)),o[t(o.length,1)],o=["eruby",r.options["$[]"]("eruby")],u($,"[]=",e.to_a(o)),o[t(o.length,1)],o=["safe",r.safe],u($,"[]=",e.to_a(o)),o[t(o.length,1)]),_=(n=s=r.options["$[]"]("converter"))===l||null==n||n.$$is_boolean&&1!=n?e.const_get([e.const_get(se,"Converter",!0,!0).$$scope],"Factory",!0,!0).$default(!1):e.const_get([e.const_get(se,"Converter",!0,!0).$$scope],"Factory",!0,!0).$new(e.const_get([e.Object.$$scope],"Hash",!0,!0)["$[]"](r.$backend(),s)),_.$create(r.$backend(),$)},Z.$$arity=0),e.defn(ie,"$convert",Q=function(r){var $,o,i,a=this,s=l,_=l,d=l,f=l,p=l;return null==r&&(r=c([],{})),(($=a.parsed)===l||null==$||$.$$is_boolean&&1!=$)&&a.$parse(),(($=(o=n(a.safe,e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))!==!1&&o!==l&&null!=o?o:r["$empty?"]())===l||null==$||$.$$is_boolean&&1!=$)&&(s=["outfile",r["$[]"]("outfile")],u(a.attributes,"[]=",e.to_a(s)),(($=s[t(s.length,1)])===l||null==$||$.$$is_boolean&&1!=$)&&a.attributes.$delete("outfile"),s=["outdir",r["$[]"]("outdir")],u(a.attributes,"[]=",e.to_a(s)),(($=s[t(s.length,1)])===l||null==$||$.$$is_boolean&&1!=$)&&a.attributes.$delete("outdir")),(($=a.converter)===l||null==$||$.$$is_boolean&&1!=$)&&a.$fail("asciidoctor: FAILED: missing converter for backend '"+a.$backend()+"'. Processing aborted."),a.$doctype()["$=="]("inline")?(o=_=a.blocks["$[]"](0),d=($=o!==!1&&o!==l&&null!=o?_.$content_model()["$!="]("compound"):o)===l||null==$||$.$$is_boolean&&1!=$?l:_.$content()):(f=function(){return($=function(){return(o=r["$key?"]("header_footer"))===l||null==o||o.$$is_boolean&&1!=o?a.options["$[]"]("header_footer"):r["$[]"]("header_footer")}())===l||null==$||$.$$is_boolean&&1!=$?"embedded":"document"}(),d=a.converter.$convert(a,f)),(($=a.parent_document)===l||null==$||$.$$is_boolean&&1!=$)&&(o=p=a.extensions,($=o!==!1&&o!==l&&null!=o?p["$postprocessors?"]():o)===l||null==$||$.$$is_boolean&&1!=$||u(p.$postprocessors(),"each",[],(i=function(e){var t=i.$$s||this;return null==e&&(e=l),d=e.$process_method()["$[]"](t,d)},i.$$s=a,i.$$arity=1,i))),d},Q.$$arity=-1),e.alias(ie,"render","convert"),e.defn(ie,"$write",ee=function(t,n){var r,$,o=this;return(r=e.const_get(se,"Writer",!0,!0)["$==="](o.converter))===l||null==r||r.$$is_boolean&&1!=r?((r=n["$respond_to?"]("write"))===l||null==r||r.$$is_boolean&&1!=r?u(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[n,"w"],($=function(e){$.$$s;return null==e&&(e=l),e.$write(t)},$.$$s=o,$.$$arity=1,$)):((r=t["$nil_or_empty?"]())===l||null==r||r.$$is_boolean&&1!=r)&&(n.$write(t.$chomp()),n.$write(e.const_get(se,"EOL",!0,!0))),l):o.converter.$write(t,n)},ee.$$arity=2),e.defn(ie,"$content",te=function(){var t=this,n=te.$$p,r=l,$=l,o=l;for(n&&(te.$$p=null),$=0,o=arguments.length,r=new Array(o);$<o;$++)r[$]=arguments[$];return t.attributes.$delete("title"),u(t,e.find_super_dispatcher(t,"content",te,!1),r,n)},te.$$arity=0),e.defn(ie,"$docinfo",ne=function(t,r){var o,i,a,s=this,_=l,d=l,f=l,p=l,h=l,g=l,b=l,m=l,y=l;return null==t&&(t="head"),null==r&&(r=l),(o=n(s.$safe(),e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===l||null==o||o.$$is_boolean&&1!=o?(_=function(){return t["$=="]("head")?l:"-"+t}(),r!==!1&&r!==l&&null!=r||(r=s.outfilesuffix),d=s.attributes["$[]"]("docinfodir"),f=l,p=(o=(p=s.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===l||null==o||o.$$is_boolean&&1!=o?u(p.$split(","),"map",[],"strip".$to_proc()):(o=s.attributes["$key?"]("docinfo2"))===l||null==o||o.$$is_boolean&&1!=o?(o=s.attributes["$key?"]("docinfo1"))===l||null==o||o.$$is_boolean&&1!=o?function(){return p!==!1&&p!==l&&null!=p?["private"]:l}():["shared"]:["private","shared"],p!==!1&&p!==l&&null!=p&&(h="docinfo"+_+r,((o=p["$&"](["shared","shared-"+t])["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(g=s.$normalize_system_path(h,d),(o=f=s.$read_asset(g,c(["normalize"],{normalize:!0})))===l||null==o||o.$$is_boolean&&1!=o||((o=((i=b)!==!1&&i!==l&&null!=i?i:b=s.$resolve_docinfo_subs())["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(f=function(){return(o=b["$=="]("attributes"))===l||null==o||o.$$is_boolean&&1!=o?s.$apply_subs(f,b):s.$sub_attributes(f)}())),((o=(i=s.attributes["$[]"]("docname")["$nil_or_empty?"]())!==!1&&i!==l&&null!=i?i:p["$&"](["private","private-"+t])["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(g=s.$normalize_system_path(s.attributes["$[]"]("docname")+"-"+h,d),(o=m=s.$read_asset(g,c(["normalize"],{normalize:!0})))===l||null==o||o.$$is_boolean&&1!=o||(((o=((i=b)!==!1&&i!==l&&null!=i?i:b=s.$resolve_docinfo_subs())["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(m=function(){return(o=b["$=="]("attributes"))===l||null==o||o.$$is_boolean&&1!=o?s.$apply_subs(m,b):s.$sub_attributes(m)}()),f=function(){return f!==!1&&f!==l&&null!=f?""+f+e.const_get(se,"EOL",!0,!0)+m:m}()))),i=s.extensions,(o=i!==!1&&i!==l&&null!=i?s["$docinfo_processors?"](t):i)===l||null==o||o.$$is_boolean&&1!=o||(y=$(u(s.docinfo_processor_extensions["$[]"](t),"map",[],(a=function(e){var t=a.$$s||this;return null==e&&(e=l),e.$process_method()["$[]"](t)},a.$$s=s,a.$$arity=1,a)).$compact(),e.const_get(se,"EOL",!0,!0)),f=function(){return f!==!1&&f!==l&&null!=f?""+f+e.const_get(se,"EOL",!0,!0)+y:y}()),""+f):""},ne.$$arity=-1),e.defn(ie,"$resolve_docinfo_subs",re=function(){var e,t=this;return(e=t.attributes["$key?"]("docinfosubs"))===l||null==e||e.$$is_boolean&&1!=e?"attributes":t.$resolve_subs(t.attributes["$[]"]("docinfosubs"),"block",l,"docinfo")},re.$$arity=0),e.defn(ie,"$docinfo_processors?",$e=function(n){var r,$,o=this,i=l;return null==n&&(n="head"),(r=o.docinfo_processor_extensions["$key?"](n))===l||null==r||r.$$is_boolean&&1!=r?($=o.extensions,(r=$!==!1&&$!==l&&null!=$?o.document.$extensions()["$docinfo_processors?"](n):$)===l||null==r||r.$$is_boolean&&1!=r?(i=[n,!1],u(o.docinfo_processor_extensions,"[]=",e.to_a(i)),i[t(i.length,1)]):(i=[n,o.document.$extensions().$docinfo_processors(n)],u(o.docinfo_processor_extensions,"[]=",e.to_a(i)),i[t(i.length,1)])["$!"]()["$!"]()):o.docinfo_processor_extensions["$[]"](n)["$!="](!1)},$e.$$arity=-1),e.defn(ie,"$to_s",oe=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+function(){return(e=t.header["$!="](l))===l||null==e||e.$$is_boolean&&1!=e?l:t.header.$title()}().$inspect()+", blocks: "+t.blocks.$size()+"}>"},oe.$$arity=0)}(p.base,e.const_get(h,"AbstractBlock",!0,!0),h)}(o.base,i)},Opal.modules["asciidoctor/inline"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module),o=e.klass,i=e.send,l=e.hash2;return e.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter"]),function(t,n){var a,s=a=$(t,"Asciidoctor"),c=(s.$$proto,s.$$scope),u=n.slice().concat(c);!function(t,n,$){function a(){}var s,c,u,_,d=a=o(t,n,"Inline",a),f=(d.$$proto,d.$$scope);$.slice().concat(f);d.$attr_reader("text"),d.$attr_reader("type"),d.$attr_accessor("target"),e.defn(d,"$initialize",s=function(t,n,$,o){var a,c=this,u=s.$$p,_=r;return null==$&&($=r),null==o&&(o=l([],{})),u&&(s.$$p=null),i(c,e.find_super_dispatcher(c,"initialize",s,!1),[t,n],null),c.node_name="inline_"+n,c.text=$,c.id=o["$[]"]("id"),c.type=o["$[]"]("type"),c.target=o["$[]"]("target"),(a=(_=o["$[]"]("attributes"))["$nil_or_empty?"]())===r||null==a||a.$$is_boolean&&1!=a?c.$update_attributes(_):r},s.$$arity=-3),e.defn(d,"$block?",c=function(){return!1},c.$$arity=0),e.defn(d,"$inline?",u=function(){return!0},u.$$arity=0),e.defn(d,"$convert",_=function(){var e=this;return e.$converter().$convert(e)},_.$$arity=0),e.alias(d,"render","convert")}(c.base,e.const_get(u,"AbstractNode",!0,!0),u)}(t.base,n)},Opal.modules["asciidoctor/list"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module),o=e.klass,i=e.send;return e.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$dup","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(t,n){var l,a=l=$(t,"Asciidoctor"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);!function(t,n,$){function l(){}var a,s,c,u,_=l=o(t,n,"List",l),d=_.$$proto,f=_.$$scope;$.slice().concat(f);d.context=d.document=d.style=r,e.alias(_,"items","blocks"),e.alias(_,"content","blocks"),e.alias(_,"items?","blocks?"),e.defn(_,"$initialize",a=function(t,n){var $=this,o=a.$$p,l=r,s=r,c=r;for(o&&(a.$$p=null),s=0,c=arguments.length,l=new Array(c);s<c;s++)l[s]=arguments[s];return i($,e.find_super_dispatcher($,"initialize",a,!1),l,o)},a.$$arity=2),e.defn(_,"$outline?",s=function(){var e,t=this;return(e=t.context["$=="]("ulist"))!==!1&&e!==r&&null!=e?e:t.context["$=="]("olist")},s.$$arity=0),e.defn(_,"$convert",c=function(){var t=this,n=c.$$p,$=r,o=r,l=r,a=r;for(n&&(c.$$p=null),l=0,a=arguments.length,o=new Array(a);l<a;l++)o[l]=arguments[l];return t.context["$=="]("colist")?($=i(t,e.find_super_dispatcher(t,"convert",c,!1),o,n),t.document.$callouts().$next_list(),$):i(t,e.find_super_dispatcher(t,"convert",c,!1),o,n)},c.$$arity=0),e.alias(_,"render","convert"),e.defn(_,"$to_s",u=function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", style: "+e.style.$inspect()+", items: "+e.$items().$size()+"}>"},u.$$arity=0)}(s.base,e.const_get(c,"AbstractBlock",!0,!0),c),function(t,n,$){function l(){}var a,s,c,u,_,d,f,p,h=l=o(t,n,"ListItem",l),g=h.$$proto,b=h.$$scope,m=$.slice().concat(b);g.text=g.subs=g.blocks=r,e.alias(h,"list","parent"),h.$attr_accessor("marker"),e.defn(h,"$initialize",a=function(t,n){var $=this,o=a.$$p;return null==n&&(n=r),o&&(a.$$p=null),i($,e.find_super_dispatcher($,"initialize",a,!1),[t,"list_item"],null),$.text=n,$.level=t.$level(),$.subs=e.const_get(m,"NORMAL_SUBS",!0,!0).$dup()},a.$$arity=-2),e.defn(h,"$text?",s=function(){return this.text["$nil_or_empty?"]()["$!"]()},s.$$arity=0),e.defn(h,"$text",c=function(){var e=this;return e.$apply_subs(e.text,e.subs)},c.$$arity=0),e.defn(h,"$text=",u=function(e){return this.text=e},u.$$arity=1),e.defn(h,"$simple?",_=function(){var t,n,$=this,o=r;return(t=$.blocks["$empty?"]())!==!1&&t!==r&&null!=t?t:(n=$.blocks.$size()["$=="](1)?e.const_get(m,"List",!0,!0)["$==="](o=$.blocks["$[]"](0)):$.blocks.$size()["$=="](1),n!==!1&&n!==r&&null!=n?o["$outline?"]():n)},_.$$arity=0),e.defn(h,"$compound?",d=function(){return this["$simple?"]()["$!"]()},d.$$arity=0),e.defn(h,"$fold_first",f=function(t,n){var $,o,i,l,a,s,c=this,u=r,_=r;return null==t&&(t=!1),null==n&&(n=!1),i=u=c.blocks["$[]"](0),o=i!==!1&&i!==r&&null!=i?e.const_get(m,"Block",!0,!0)["$==="](u):i,($=o!==!1&&o!==r&&null!=o?(i=(l=u.$context()["$=="]("paragraph"))?t["$!"]():u.$context()["$=="]("paragraph"))!==!1&&i!==r&&null!=i?i:(a=(s=n)!==!1&&s!==r&&null!=s?s:t["$!"](),l=a!==!1&&a!==r&&null!=a?u.$context()["$=="]("literal"):a,l!==!1&&l!==r&&null!=l?u["$option?"]("listparagraph"):l):o)===r||null==$||$.$$is_boolean&&1!=$||(_=c.$blocks().$shift(),(($=c.text["$nil_or_empty?"]())===r||null==$||$.$$is_boolean&&1!=$)&&_.$lines().$unshift(c.text),c.text=_.$source()),r},f.$$arity=-1),e.defn(h,"$to_s",p=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {list_context: "+t.$parent().$context().$inspect()+", text: "+t.text.$inspect()+", blocks: "+((e=t.blocks)!==!1&&e!==r&&null!=e?e:[]).$size()+"}>"},p.$$arity=0)}(s.base,e.const_get(c,"AbstractBlock",!0,!0),c)}(t.base,n)},Opal.modules["asciidoctor/parser"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=(e.top,e),s=[e],c=e.nil,u=(e.breaker,e.slice,e.module),_=e.klass,d=e.send,f=e.hash2,p=e.hash,h=e.range,g=e.gvars;return e.add_stubs(["$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_document_title?","$key?","$finalize_header","$nil_or_empty?","$attributes","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$attribute_locked?","$set_attr","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$match","$sub_attributes","$downcase","$rstrip","$strip","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$tr_s","$join","$read_lines_until","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$special","$include?","$sectname","$+","$to_i","$>","$line_info","$size","$*","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$extensions","$block_macros?","$===","$parse_block_metadata_line","$advance","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$chr","$lstrip","$>=","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$registered_for_block_macro?","$config","$each","$process_method","$replace","$peek_line","$path","$lineno","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_outline_list","$none?","$marker","$find","$next_description_list","$is_section_title?","$underline_style_section_titles","$generate_id","$title","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$catalog_inline_anchors","$post_match","$map!","$split","$pop","$build_block","$blockquote?","$chop","$index","$<","$rekey","$next_table","$concat","$title?","$register","$tr","$basename","$sub_specialchars","$assign_caption","$ord","$caption","$caption=","$update","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$=~","$delete_at","$sectname=","$special=","$casecmp","$update_attributes","$peek_lines","$is_single_line_section_title?","$is_two_line_section_title?","$abs","$line_length","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$each_with_index","$map","$compact","$Array","$to_a","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$delete_attribute","$save_to","$resolve_ordered_list_marker","$roman_numeral_to_int","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_matched_delimiter","$buffer","$buffer=","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin","$gsub"]),function(a,s){var b,m=b=u(a,"Asciidoctor"),y=(m.$$proto,m.$$scope),v=s.slice().concat(y);!function(a,s,u){function b(){}var m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,re,$e,oe,ie,le,ae,se,ce,ue,_e=b=_(a,null,"Parser",b),de=(_e.$$proto,_e.$$scope),fe=u.slice().concat(de);e.cdecl(de,"BlockMatchData",e.const_get(fe,"Struct",!0,!0).$new("context","masq","tip","terminator")),e.cdecl(de,"TabRx",/\t/),e.cdecl(de,"TabIndentRx",/^\t+/),e.cdecl(de,"StartOfBlockProc",d(_e,"lambda",[],(m=function(t){var n,r,$=m.$$s||this;return null==t&&(t=c),r=t["$start_with?"]("["),(n=r!==!1&&r!==c&&null!=r?e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$match?"](t):r)!==!1&&n!==c&&null!=n?n:$["$is_delimited_block?"](t)},m.$$s=_e,m.$$arity=1,m))),e.cdecl(de,"StartOfListProc",d(_e,"lambda",[],(y=function(t){y.$$s;return null==t&&(t=c),e.const_get(fe,"AnyListRx",!0,!0)["$match?"](t)},y.$$s=_e,y.$$arity=1,y))),e.cdecl(de,"StartOfBlockOrListProc",d(_e,"lambda",[],(v=function(t){var n,r,$,o=v.$$s||this;return null==t&&(t=c),(n=(r=o["$is_delimited_block?"](t))!==!1&&r!==c&&null!=r?r:($=t["$start_with?"]("["),$!==!1&&$!==c&&null!=$?e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$match?"](t):$))!==!1&&n!==c&&null!=n?n:e.const_get(fe,"AnyListRx",!0,!0)["$match?"](t)},v.$$s=_e,v.$$arity=1,v))),e.cdecl(de,"NoOp",c),e.defn(_e,"$initialize",w=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},w.$$arity=0),e.defs(_e,"$parse",x=function(t,n,r){var $,o,i,l=this,a=c,s=c;if(null==r&&(r=f([],{})),a=l.$parse_document_header(t,n),($=r["$[]"]("header_only"))===c||null==$||$.$$is_boolean&&1!=$)for(;(o=t["$has_more_lines?"]())!==c&&null!=o&&(!o.$$is_boolean||1==o);)i=l.$next_section(t,n,a),o=e.to_ary(i),
s=null==o[0]?c:o[0],a=null==o[1]?c:o[1],s!==!1&&s!==c&&null!=s&&n["$<<"](s);else;return n},x.$$arity=-3),e.defs(_e,"$parse_document_header",k=function(n,r){var $,o,i=this,l=c,a=c,s=c,u=c,_=c,f=c,h=c,g=c,b=c,m=c,y=c,v=c;return l=i.$parse_block_metadata_lines(n,r),o=a=i["$is_next_line_document_title?"](n,l),($=o!==!1&&o!==c&&null!=o?l["$key?"]("title"):o)===c||null==$||$.$$is_boolean&&1!=$?(s=c,(($=(u=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===c||null==$||$.$$is_boolean&&1!=$)&&(_=[s=u],d(r,"title=",e.to_a(_)),_[t(_.length,1)]),f=c,a!==!1&&a!==c&&null!=a&&(($=r.$sourcemap())===c||null==$||$.$$is_boolean&&1!=$||(h=n.$cursor()),o=i.$parse_section_title(n,r),$=e.to_ary(o),r["$id="](null==$[0]?c:$[0]),null==$[1]?c:$[1],g=null==$[2]?c:$[2],null==$[3]?c:$[3],b=null==$[4]?c:$[4],s!==!1&&s!==c&&null!=s||(_=[s=g],d(r,"title=",e.to_a(_)),_[t(_.length,1)]),(($=(o=b)!==!1&&o!==c&&null!=o?o:r["$attribute_locked?"]("compat-mode"))===c||null==$||$.$$is_boolean&&1!=$)&&r.$set_attr("compat-mode"),($=m=l.$delete("separator"))===c||null==$||$.$$is_boolean&&1!=$||(($=r["$attribute_locked?"]("title-separator"))===c||null==$||$.$$is_boolean&&1!=$)&&r.$set_attr("title-separator",m),h!==!1&&h!==c&&null!=h&&(_=[h],d(r.$header(),"source_location=",e.to_a(_)),_[t(_.length,1)]),_=["doctitle",f=g],d(r.$attributes(),"[]=",e.to_a(_)),_[t(_.length,1)],($=r.$id())===c||null==$||$.$$is_boolean&&1!=$?(($=y=l.$delete(1))===c||null==$||$.$$is_boolean&&1!=$||(v=p(1,y),i.$parse_style_attribute(v,n),($=v["$key?"]("id"))===c||null==$||$.$$is_boolean&&1!=$||(_=["id",v["$[]"]("id")],d(l,"[]=",e.to_a(_)),_[t(_.length,1)])),_=[l.$delete("id")],d(r,"id=",e.to_a(_)),_[t(_.length,1)]):(l.$delete(1),l.$delete("id")),i.$parse_header_metadata(n,r)),(($=(o=(u=r.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())!==!1&&o!==c&&null!=o?o:u["$=="](f))===c||null==$||$.$$is_boolean&&1!=$)&&(_=[s=u],d(r,"title=",e.to_a(_)),_[t(_.length,1)]),s!==!1&&s!==c&&null!=s&&(_=["doctitle",s],d(r.$attributes(),"[]=",e.to_a(_)),_[t(_.length,1)]),r.$doctype()["$=="]("manpage")&&i.$parse_manpage_header(n,r),r.$finalize_header(l)):r.$finalize_header(l,!1)},k.$$arity=2),e.defs(_e,"$parse_manpage_header",O=function(n,r){var $,o=this,i=c,l=c,a=c,s=c;return($=i=e.const_get(fe,"ManpageTitleVolnumRx",!0,!0).$match(r.$attributes()["$[]"]("doctitle")))===c||null==$||$.$$is_boolean&&1!=$?(o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed manpage title"),l=["mantitle",r.$attributes()["$[]"]("doctitle")],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["manvolnum","1"],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)]):(l=["mantitle",r.$sub_attributes(i["$[]"](1).$rstrip().$downcase())],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["manvolnum",i["$[]"](2).$strip()],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)]),n.$skip_blank_lines(),($=o["$is_next_line_section?"](n,f([],{})))===c||null==$||$.$$is_boolean&&1!=$?o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section expected"):(a=o.$initialize_section(n,r,f([],{})),a.$level()["$=="](1)?(s=n.$read_lines_until(f(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),($=i=e.const_get(fe,"ManpageNamePurposeRx",!0,!0).$match(s))===c||null==$||$.$$is_boolean&&1!=$?o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed name section body"):(l=["manname",r.$sub_attributes(i["$[]"](1))],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["manpurpose",i["$[]"](2)],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],r.$backend()["$=="]("manpage")?(l=["docname",r.$attributes()["$[]"]("manname")],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["outfilesuffix","."+r.$attributes()["$[]"]("manvolnum")],d(r.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)]):c)):o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section title must be at level 1"))},O.$$arity=2),e.defs(_e,"$next_section",E=function(o,i,l){var a,s,u,_,p=this,h=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c,I=c;for(null==l&&(l=f([],{})),h=!1,g=!1,b=!1,s=(u=i.$context()["$=="]("document"))?i.$blocks()["$empty?"]():i.$context()["$=="]("document"),(a=s!==!1&&s!==c&&null!=s?(u=(_=m=i["$has_header?"]())!==!1&&_!==c&&null!=_?_:l.$delete("invalid-header"))!==!1&&u!==c&&null!=u?u:p["$is_next_line_section?"](o,l)["$!"]():s)===c||null==a||a.$$is_boolean&&1!=a?(y=(v=i.$document()).$doctype(),x=p.$initialize_section(o,i,l),l=function(){return(a=E=l["$[]"]("title"))===c||null==a||a.$$is_boolean&&1!=a?f([],{}):f(["title"],{title:E})}(),k=x.$level(),(a=(s=k["$=="](0))?y["$=="]("book"):k["$=="](0))===c||null==a||a.$$is_boolean&&1!=a?O=[n(k,1)]:(g=x.$special()["$!"](),s=x.$special(),O=(a=s!==!1&&s!==c&&null!=s?["preface","appendix"]["$include?"](x.$sectname()):s)===c||null==a||a.$$is_boolean&&1!=a?[n(k,1)]:[n(k,2)])):(y=(v=i).$doctype(),(a=(s=m)!==!1&&s!==c&&null!=s?s:(u=y["$=="]("book"))?l["$[]"](1)["$!="]("abstract"):y["$=="]("book"))===c||null==a||a.$$is_boolean&&1!=a||(h=b=e.const_get(fe,"Block",!0,!0).$new(i,"preamble",f(["content_model"],{content_model:"compound"})),(a=(s=y["$=="]("book"))?i["$attr?"]("preface-title"):y["$=="]("book"))===c||null==a||a.$$is_boolean&&1!=a||(w=[i.$attr("preface-title")],d(h,"title=",e.to_a(w)),w[t(w.length,1)]),i["$<<"](h)),x=i,k=0,O=(a=i.$attributes()["$key?"]("fragment"))===c||null==a||a.$$is_boolean&&1!=a?y["$=="]("book")?[0,1]:[1]:c),o.$skip_blank_lines();(s=o["$has_more_lines?"]())!==c&&null!=s&&(!s.$$is_boolean||1==s);){if(p.$parse_block_metadata_lines(o,x,l),(s=A=p["$is_next_line_section?"](o,l))===c||null==s||s.$$is_boolean&&1!=s)R=o.$line_info(),(s=M=p.$next_block(o,(u=b)!==!1&&u!==c&&null!=u?u:x,l,f(["parse_metadata"],{parse_metadata:!1})))===c||null==s||s.$$is_boolean&&1!=s||(g!==!1&&g!==c&&null!=g&&((s=x["$blocks?"]()["$!"]())===c||null==s||s.$$is_boolean&&1!=s?x.$blocks().$size()["$=="](1)&&(T=x.$blocks()["$[]"](0),u=b["$!"](),(s=u!==!1&&u!==c&&null!=u?T.$content_model()["$=="]("compound"):u)===c||null==s||s.$$is_boolean&&1!=s?(s=T.$content_model()["$!="]("compound"))===c||null==s||s.$$is_boolean&&1!=s||(b=e.const_get(fe,"Block",!0,!0).$new(x,"open",f(["content_model"],{content_model:"compound"})),w=["partintro"],d(b,"style=",e.to_a(w)),w[t(w.length,1)],x.$blocks().$shift(),T.$style()["$=="]("partintro")&&(w=["paragraph"],d(T,"context=",e.to_a(w)),w[t(w.length,1)],w=[c],d(T,"style=",e.to_a(w)),w[t(w.length,1)]),w=[b],d(T,"parent=",e.to_a(w)),w[t(w.length,1)],b["$<<"](T),w=[b],d(M,"parent=",e.to_a(w)),w[t(w.length,1)],x["$<<"](b)):p.$warn("asciidoctor: ERROR: "+R+": illegal block content outside of partintro block")):(s=M.$style()["$!="]("partintro"))===c||null==s||s.$$is_boolean&&1!=s||(M.$context()["$=="]("paragraph")?(w=["open"],d(M,"context=",e.to_a(w)),w[t(w.length,1)],w=["partintro"],d(M,"style=",e.to_a(w)),w[t(w.length,1)]):(b=e.const_get(fe,"Block",!0,!0).$new(x,"open",f(["content_model"],{content_model:"compound"})),w=["partintro"],d(b,"style=",e.to_a(w)),w[t(w.length,1)],w=[b],d(M,"parent=",e.to_a(w)),w[t(w.length,1)],x["$<<"](b)))),((s=b)!==!1&&s!==c&&null!=s?s:x)["$<<"](M),l=f([],{}));else{if((s=v["$attr?"]("leveloffset"))===c||null==s||s.$$is_boolean&&1!=s||(A=n(A,v.$attr("leveloffset").$to_i())),(s=(u=r(A,k))!==!1&&u!==c&&null!=u?u:(_=A["$=="](0))?x.$context()["$=="]("document"):A["$=="](0))===c||null==s||s.$$is_boolean&&1!=s){(s=(u=A["$=="](0))?y["$!="]("book"):A["$=="](0))===c||null==s||s.$$is_boolean&&1!=s||p.$warn("asciidoctor: ERROR: "+o.$line_info()+": only book doctypes can contain level 0 sections");break}(s=(u=A["$=="](0))?y["$!="]("book"):A["$=="](0))===c||null==s||s.$$is_boolean&&1!=s?(s=(u=O!==!1&&O!==c&&null!=O)?O["$include?"](A)["$!"]():O)===c||null==s||s.$$is_boolean&&1!=s||p.$warn("asciidoctor: WARNING: "+o.$line_info()+": section title out of sequence: expected "+function(){return(s=r(O.$size(),1))===c||null==s||s.$$is_boolean&&1!=s?"level":"levels"}()+" "+$(O," or ")+", got level "+A):p.$warn("asciidoctor: ERROR: "+o.$line_info()+": only book doctypes can contain level 0 sections"),u=p.$next_section(o,x,l),s=e.to_ary(u),S=null==s[0]?c:s[0],l=null==s[1]?c:s[1],x["$<<"](S)}o.$skip_blank_lines()}if(g!==!1&&g!==c&&null!=g)s=x["$blocks?"](),((a=s!==!1&&s!==c&&null!=s?x.$blocks()["$[]"](-1).$context()["$=="]("section"):s)===c||null==a||a.$$is_boolean&&1!=a)&&p.$warn("asciidoctor: ERROR: "+o.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(h!==!1&&h!==c&&null!=h)if((a=h["$blocks?"]())===c||null==a||a.$$is_boolean&&1!=a)v.$blocks().$shift();else if(u=e.const_get(fe,"Compliance",!0,!0).$unwrap_standalone_preamble(),s=u!==!1&&u!==c&&null!=u?v.$blocks().$size()["$=="](1):u,(a=s!==!1&&s!==c&&null!=s?y["$!="]("book"):s)!==c&&null!=a&&(!a.$$is_boolean||1==a))for(v.$blocks().$shift();(s=I=h.$blocks().$shift())!==c&&null!=s&&(!s.$$is_boolean||1==s);)w=[v],d(I,"parent=",e.to_a(w)),w[t(w.length,1)],v["$<<"](I);return[function(){return(a=x["$!="](i))===c||null==a||a.$$is_boolean&&1!=a?c:x}(),l.$dup()]},E.$$arity=-3),e.defs(_e,"$next_block",A=function($,l,a,s){var u,_,p,g,b,m,y,v,w,x,k,O=this,E=c,A=c,S=c,R=c,M=c,T=c,I=c,C=c,N=c,j=c,L=c,z=c,P=c,D=c,B=c,q=c,U=c,F=c,G=c,H=c,Y=c,K=c,W=c,X=c,V=c,J=c,Z=c,Q=c,ee=c,te=c,ne=c,re=c,$e=c,oe=c,ie=c,le=c,ae=c,se=c,ce=c,ue=c,_e=c,de=c,pe=c,he=c,ge=c,be=c,me=c,ye=c,ve=c,we=c,xe=c,ke=c,Oe=c,Ee=c,Ae=c,Se=c;if(null==a&&(a=f([],{})),null==s&&(s=f([],{})),E=$.$skip_blank_lines(),(u=$["$has_more_lines?"]())===c||null==u||u.$$is_boolean&&1!=u)return c;for(_=A=s["$[]"]("text"),(u=_!==!1&&_!==c&&null!=_?r(E,0):_)===c||null==u||u.$$is_boolean&&1!=u||(s.$delete("text"),A=!1),S=s.$fetch("parse_metadata",!0),R=l.$document(),(u=M=R.$extensions())===c||null==u||u.$$is_boolean&&1!=u?T=I=!1:(T=M["$blocks?"](),I=M["$block_macros?"]()),C=e.const_get(fe,"ListItem",!0,!0)["$==="](l),N=c,j=c,c,L=R.$sourcemap(),z=c;p=N["$!"](),(_=p!==!1&&p!==c&&null!=p?$["$has_more_lines?"]():p)!==c&&null!=_&&(!_.$$is_boolean||1==_);)if((_=(p=S!==!1&&S!==c&&null!=S)?O.$parse_block_metadata_line($,R,a,s):S)===c||null==_||_.$$is_boolean&&1!=_){if(L!==!1&&L!==c&&null!=L&&(z=$.$cursor()),P=$.$read_line(),D=!1,B=c,q=c,U=c,(_=a["$[]"](1))===c||null==_||_.$$is_boolean&&1!=_||(p=O.$parse_style_attribute(a,$),_=e.to_ary(p),j=null==_[0]?c:_[0],null==_[1]?c:_[1]),(_=F=O["$is_delimited_block?"](P,!0))===c||null==_||_.$$is_boolean&&1!=_||(D=!0,B=q=F.$context(),U=F.$terminator(),(_=j["$!"]())===c||null==_||_.$$is_boolean&&1!=_?(_=j["$!="](B.$to_s()))===c||null==_||_.$$is_boolean&&1!=_||((_=F.$masq()["$include?"](j))===c||null==_||_.$$is_boolean&&1!=_?(p=F.$masq()["$include?"]("admonition"),(_=p!==!1&&p!==c&&null!=p?e.const_get(fe,"ADMONITION_STYLES",!0,!0)["$include?"](j):p)===c||null==_||_.$$is_boolean&&1!=_?(_=(p=T!==!1&&T!==c&&null!=T)?M["$registered_for_block?"](j,B):T)===c||null==_||_.$$is_boolean&&1!=_?(O.$warn("asciidoctor: WARNING: "+$.$prev_line_info()+": invalid style for "+B+" block: "+j),j=B.$to_s()):B=j.$to_sym():B="admonition"):B=j.$to_sym()):(G=["style",B.$to_s()],d(a,"[]=",e.to_a(G)),j=G[t(G.length,1)])),D!==!1&&D!==c&&null!=D);else for(;(p=!0)!==c&&null!=p&&(!p.$$is_boolean||1==p);){if(g=(b=j!==!1&&j!==c&&null!=j)?e.const_get(fe,"Compliance",!0,!0).$strict_verbatim_paragraphs():j,(p=g!==!1&&g!==c&&null!=g?e.const_get(fe,"VERBATIM_STYLES",!0,!0)["$include?"](j):g)!==c&&null!=p&&(!p.$$is_boolean||1==p)){B=j.$to_sym(),$.$unshift_line(P);break}if(A!==!1&&A!==c&&null!=A);else{if(H=function(){return(p=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax())===c||null==p||p.$$is_boolean&&1!=p?P.$chr():P.$lstrip().$chr()}(),b=e.const_get(fe,"LAYOUT_BREAK_LINES",!0,!0)["$key?"](H),g=b!==!1&&b!==c&&null!=b?o(P.$length(),3):b,!((p=g!==!1&&g!==c&&null!=g?function(){return(b=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax())===c||null==b||b.$$is_boolean&&1!=b?e.const_get(fe,"LayoutBreakLineRx",!0,!0):e.const_get(fe,"LayoutBreakLinePlusRx",!0,!0)}()["$match?"](P):g)===c||null==p||p.$$is_boolean&&1!=p)){N=e.const_get(fe,"Block",!0,!0).$new(l,e.const_get(fe,"LAYOUT_BREAK_LINES",!0,!0)["$[]"](H),f(["content_model"],{content_model:"empty"}));break}if(g=P["$end_with?"]("]"),!((p=g!==!1&&g!==c&&null!=g?Y=e.const_get(fe,"MediaBlockMacroRx",!0,!0).$match(P):g)===c||null==p||p.$$is_boolean&&1!=p)){if(K=Y["$[]"](1).$to_sym(),N=e.const_get(fe,"Block",!0,!0).$new(l,K,f(["content_model"],{content_model:"empty"})),W=K["$=="]("image")?["alt","width","height"]:K["$=="]("video")?["poster","width","height"]:[],j!==!1&&j!==c&&null!=j&&(K["$=="]("image")&&(G=["alt",j],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),a.$delete("style"),j=c),N.$parse_attributes(Y["$[]"](3),W,f(["unescape_input","sub_input","sub_result","into"],{unescape_input:K["$=="]("image"),sub_input:!0,sub_result:!1,into:a})),X=N.$sub_attributes(Y["$[]"](2),f(["attribute_missing"],{attribute_missing:"drop-line"})),(p=X["$empty?"]())!==c&&null!=p&&(!p.$$is_boolean||1==p))return R.$attributes().$fetch("attribute-missing",e.const_get(fe,"Compliance",!0,!0).$attribute_missing())["$=="]("skip")?e.const_get(fe,"Block",!0,!0).$new(l,"paragraph",f(["content_model","source"],{content_model:"simple",source:[P]})):(a.$clear(),c);G=["target",X],d(a,"[]=",e.to_a(G)),G[t(G.length,1)];break}if(!((p=(g=H["$=="]("t"))?Y=e.const_get(fe,"TocBlockMacroRx",!0,!0).$match(P):H["$=="]("t"))===c||null==p||p.$$is_boolean&&1!=p)){N=e.const_get(fe,"Block",!0,!0).$new(l,"toc",f(["content_model"],{content_model:"empty"})),N.$parse_attributes(Y["$[]"](1),[],f(["sub_result","into"],{sub_result:!1,into:a}));break}if(g=(b=I!==!1&&I!==c&&null!=I)?Y=e.const_get(fe,"GenericBlockMacroRx",!0,!0).$match(P):I,(p=g!==!1&&g!==c&&null!=g?V=M["$registered_for_block_macro?"](Y["$[]"](1)):g)!==c&&null!=p&&(!p.$$is_boolean||1==p)){if(X=Y["$[]"](2),J=Y["$[]"](3),V.$config()["$[]"]("content_model")["$=="]("attributes")?((p=J["$empty?"]())===c||null==p||p.$$is_boolean&&1!=p)&&R.$parse_attributes(J,(p=V.$config()["$[]"]("pos_attrs"))!==!1&&p!==c&&null!=p?p:[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:a})):(G=["text",J],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),(p=Z=V.$config()["$[]"]("default_attrs"))===c||null==p||p.$$is_boolean&&1!=p||d(Z,"each",[],(m=function(e,t){var n,r,$;m.$$s;return null==e&&(e=c),null==t&&(t=c),n=e,r=a,($=r["$[]"](n))!==!1&&$!==c&&null!=$?$:r["$[]="](n,t)},m.$$s=O,m.$$arity=2,m)),(p=N=V.$process_method()["$[]"](l,X,a.$dup()))===c||null==p||p.$$is_boolean&&1!=p)return a.$clear(),c;a.$replace(N.$attributes());break}}if(!((p=Y=e.const_get(fe,"CalloutListRx",!0,!0).$match(P))===c||null==p||p.$$is_boolean&&1!=p)){for(N=e.const_get(fe,"List",!0,!0).$new(l,"colist"),G=["style","arabic"],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],$.$unshift_line(P),Q=1;(g=(b=Y)!==!1&&b!==c&&null!=b?b:(y=$["$has_more_lines?"](),y!==!1&&y!==c&&null!=y?Y=e.const_get(fe,"CalloutListRx",!0,!0).$match($.$peek_line()):y))!==c&&null!=g&&(!g.$$is_boolean||1==g);)(g=Y["$[]"](1).$to_i()["$!="](Q))===c||null==g||g.$$is_boolean&&1!=g||O.$warn("asciidoctor: WARNING: "+$.$path()+": line "+t($.$lineno(),2)+": callout list item index: expected "+Q+", got "+Y["$[]"](1)),ee=O.$next_list_item($,N,Y),Q=n(Q,1),ee!==!1&&ee!==c&&null!=ee&&(N["$<<"](ee),te=R.$callouts().$callout_ids(N.$items().$size()),(g=te["$empty?"]()["$!"]())===c||null==g||g.$$is_boolean&&1!=g?O.$warn("asciidoctor: WARNING: "+$.$path()+": line "+t($.$lineno(),2)+": no callouts refer to list item "+N.$items().$size()):(G=["coids",te],d(ee.$attributes(),"[]=",e.to_a(G)),G[t(G.length,1)])),Y=c;R.$callouts().$next_list();break}if(!((p=e.const_get(fe,"UnorderedListRx",!0,!0)["$match?"](P))===c||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),N=O.$next_outline_list($,"ulist",l),y=j["$!"](),b=y!==!1&&y!==c&&null!=y?e.const_get(fe,"Section",!0,!0)["$==="](l):y,g=b!==!1&&b!==c&&null!=b?l.$sectname()["$=="]("bibliography"):b,(p=g!==!1&&g!==c&&null!=g?d(l.$blocks(),"none?",[],(v=function(e){v.$$s;return null==e&&(e=c),e.$context()["$=="]("ulist")},v.$$s=O,v.$$arity=1,v)):g)===c||null==p||p.$$is_boolean&&1!=p||(G=["style","bibliography"],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]);break}if(!((p=Y=e.const_get(fe,"OrderedListRx",!0,!0).$match(P))===c||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),N=O.$next_outline_list($,"olist",l),j!==!1&&j!==c&&null!=j||(ne=N.$items()["$[]"](0).$marker(),(p=ne["$start_with?"]("."))===c||null==p||p.$$is_boolean&&1!=p?(G=["style",((p=d(e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0),"find",[],(w=function(t){w.$$s;return null==t&&(t=c),e.const_get(fe,"OrderedListMarkerRxMap",!0,!0)["$[]"](t)["$match?"](ne)},w.$$s=O,w.$$arity=1,w)))!==!1&&p!==c&&null!=p?p:e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]):(G=["style",((p=e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0)["$[]"](t(ne.$length(),1)))!==!1&&p!==c&&null!=p?p:e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]));break}if(!((p=Y=e.const_get(fe,"DescriptionListRx",!0,!0).$match(P))===c||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),N=O.$next_description_list($,Y,l);break}if(g=(b=j["$=="]("float"))!==!1&&b!==c&&null!=b?b:j["$=="]("discrete"),!((p=g!==!1&&g!==c&&null!=g?O["$is_section_title?"](P,function(){return(b=e.const_get(fe,"Compliance",!0,!0).$underline_style_section_titles())===c||null==b||b.$$is_boolean&&1!=b?c:$.$peek_line(!0)}()):g)===c||null==p||p.$$is_boolean&&1!=p)){$.$unshift_line(P),g=O.$parse_section_title($,R),p=e.to_ary(g),re=null==p[0]?c:p[0],$e=null==p[1]?c:p[1],oe=null==p[2]?c:p[2],ie=null==p[3]?c:p[3],null==p[4]?c:p[4],$e!==!1&&$e!==c&&null!=$e&&(G=["reftext",$e],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),(p=a["$key?"]("id"))===c||null==p||p.$$is_boolean&&1!=p||(p=re)!==!1&&p!==c&&null!=p||(re=a["$[]"]("id")),N=e.const_get(fe,"Block",!0,!0).$new(l,"floating_title",f(["content_model"],{content_model:"empty"})),G=[oe],d(N,"title=",e.to_a(G)),G[t(G.length,1)],G=[function(){return(p=re["$nil_or_empty?"]())===c||null==p||p.$$is_boolean&&1!=p?re:e.const_get(fe,"Section",!0,!0).$generate_id(N.$title(),R)}()],d(N,"id=",e.to_a(G)),G[t(G.length,1)],G=[ie],d(N,"level=",e.to_a(G)),G[t(G.length,1)];break}if((p=(g=j!==!1&&j!==c&&null!=j)?j["$!="]("normal"):j)!==c&&null!=p&&(!p.$$is_boolean||1==p)){if(!((p=e.const_get(fe,"PARAGRAPH_STYLES",!0,!0)["$include?"](j))===c||null==p||p.$$is_boolean&&1!=p)){B=j.$to_sym(),q="paragraph",$.$unshift_line(P);break}if(!((p=e.const_get(fe,"ADMONITION_STYLES",!0,!0)["$include?"](j))===c||null==p||p.$$is_boolean&&1!=p)){B="admonition",q="paragraph",$.$unshift_line(P);break}if(!((p=(g=T!==!1&&T!==c&&null!=T)?M["$registered_for_block?"](j,"paragraph"):T)===c||null==p||p.$$is_boolean&&1!=p)){B=j.$to_sym(),q="paragraph",$.$unshift_line(P);break}O.$warn("asciidoctor: WARNING: "+$.$prev_line_info()+": invalid style for paragraph: "+j),j=c}if(le=(p=E["$=="](0))?C:E["$=="](0),g=j["$!="]("normal"),(p=g!==!1&&g!==c&&null!=g?e.const_get(fe,"LiteralParagraphRx",!0,!0)["$match?"](P):g)===c||null==p||p.$$is_boolean&&1!=p){if($.$unshift_line(P),ae=O.$read_paragraph_lines($,le,f(["skip_line_comments"],{skip_line_comments:!0})),(p=ae["$empty?"]())!==c&&null!=p&&(!p.$$is_boolean||1==p))return $.$advance(),c;if(O.$catalog_inline_anchors(ae.$join(e.const_get(fe,"EOL",!0,!0)),R),se=ae["$[]"](0),g=A["$!"](),(p=g!==!1&&g!==c&&null!=g?ce=e.const_get(fe,"AdmonitionParagraphRx",!0,!0).$match(se):g)===c||null==p||p.$$is_boolean&&1!=p)if(b=A["$!"](),g=b!==!1&&b!==c&&null!=b?e.const_get(fe,"Compliance",!0,!0).$markdown_syntax():b,(p=g!==!1&&g!==c&&null!=g?se["$start_with?"]("> "):g)===c||null==p||p.$$is_boolean&&1!=p)if(g=A["$!"](),(p=g!==!1&&g!==c&&null!=g?O["$blockquote?"](ae,se):g)===c||null==p||p.$$is_boolean&&1!=p)j["$=="]("normal")&&O["$adjust_indentation!"](ae),N=e.const_get(fe,"Block",!0,!0).$new(l,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:ae,attributes:a}));else{for(G=[0,se["$[]"](h(1,-1,!1))],d(ae,"[]=",e.to_a(G)),G[t(G.length,1)],g=ae.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),p=e.to_ary(g),_e=null==p[0]?c:p[0],de=null==p[1]?c:p[1],_e!==!1&&_e!==c&&null!=_e&&(G=["attribution",_e],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),de!==!1&&de!==c&&null!=de&&(G=["citetitle",de],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]);(g=ae["$[]"](-1)["$empty?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g);)ae.$pop();G=[-1,ae["$[]"](-1).$chop()],d(ae,"[]=",e.to_a(G)),G[t(G.length,1)],G=["style","quote"],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],N=e.const_get(fe,"Block",!0,!0).$new(l,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:ae,attributes:a}))}else{if(d(ae,"map!",[],(x=function(e){var t;x.$$s;return null==e&&(e=c),e["$=="](">")?e["$[]"](h(1,-1,!1)):(t=e["$start_with?"]("> "))===c||null==t||t.$$is_boolean&&1!=t?e:e["$[]"](h(2,-1,!1))},x.$$s=O,x.$$arity=1,x)),(p=ae["$[]"](-1)["$start_with?"]("-- "))!==c&&null!=p&&(!p.$$is_boolean||1==p))for(g=ae.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),p=e.to_ary(g),_e=null==p[0]?c:p[0],de=null==p[1]?c:p[1],_e!==!1&&_e!==c&&null!=_e&&(G=["attribution",_e],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),de!==!1&&de!==c&&null!=de&&(G=["citetitle",de],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]);(g=ae["$[]"](-1)["$empty?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g);)ae.$pop();G=["style","quote"],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],N=O.$build_block("quote","compound",!1,l,e.const_get(fe,"Reader",!0,!0).$new(ae),a)}else G=[0,ce.$post_match().$lstrip()],d(ae,"[]=",e.to_a(G)),G[t(G.length,1)],G=["style",ce["$[]"](1)],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],G=["name",ue=ce["$[]"](1).$downcase()],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],p="caption",g=a,(b=g["$[]"](p))!==!1&&b!==c&&null!=b||g["$[]="](p,R.$attributes()["$[]"](ue+"-caption")),N=e.const_get(fe,"Block",!0,!0).$new(l,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:ae,attributes:a}))}else $.$unshift_line(P),ae=O.$read_paragraph_lines($,le,f(["skip_line_comments"],{skip_line_comments:A})),O["$adjust_indentation!"](ae),N=e.const_get(fe,"Block",!0,!0).$new(l,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",source:ae,attributes:a})),C!==!1&&C!==c&&null!=C&&N.$set_option("listparagraph");break}if(p=N["$!"](),(_=p!==!1&&p!==c&&null!=p?B:p)!==c&&null!=_&&(!_.$$is_boolean||1==_))if((_=(p=B["$=="]("abstract"))!==!1&&p!==c&&null!=p?p:B["$=="]("partintro"))===c||null==_||_.$$is_boolean&&1!=_||(B="open"),pe=B,"admonition"["$==="](pe))G=["name",ue=j.$downcase()],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],_="caption",p=a,(g=p["$[]"](_))!==!1&&g!==c&&null!=g||p["$[]="](_,R.$attributes()["$[]"](ue+"-caption")),N=O.$build_block(B,"compound",U,l,$,a);else{if("comment"["$==="](pe))return O.$build_block(B,"skip",U,l,$,a),c;if("example"["$==="](pe))N=O.$build_block(B,"compound",U,l,$,a);else if("listing"["$==="](pe)||"fenced_code"["$==="](pe)||"source"["$==="](pe))B["$=="]("fenced_code")?(G=["style","source"],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],(he=P.$length())["$=="](3)?ge=c:(_=be=(ge=P["$[]"](3,t(he,3))).$index(","))===c||null==_||_.$$is_boolean&&1!=_?ge=ge.$lstrip():(_=r(be,0))===c||null==_||_.$$is_boolean&&1!=_?(ge=c,(_=r(he,4))===c||null==_||_.$$is_boolean&&1!=_||(G=["linenums",""],d(a,"[]=",e.to_a(G)),G[t(G.length,1)])):(ge=ge["$[]"](0,be).$strip(),(_=i(be,t(he,4)))===c||null==_||_.$$is_boolean&&1!=_||(G=["linenums",""],d(a,"[]=",e.to_a(G)),G[t(G.length,1)])),(_=ge["$nil_or_empty?"]())===c||null==_||_.$$is_boolean&&1!=_?(G=["language",ge],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]):(_=me=R.$attributes()["$[]"]("source-language"))===c||null==_||_.$$is_boolean&&1!=_||(G=["language",me],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),p=a["$key?"]("indent")["$!"](),(_=p!==!1&&p!==c&&null!=p?R.$attributes()["$key?"]("source-indent"):p)===c||null==_||_.$$is_boolean&&1!=_||(G=["indent",R.$attributes()["$[]"]("source-indent")],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),U=U["$[]"](0,3)):B["$=="]("source")&&(e.const_get(fe,"AttributeList",!0,!0).$rekey(a,[c,"language","linenums"]),((_=a["$key?"]("language"))===c||null==_||_.$$is_boolean&&1!=_)&&((_=me=R.$attributes()["$[]"]("source-language"))===c||null==_||_.$$is_boolean&&1!=_||(G=["language",me],d(a,"[]=",e.to_a(G)),G[t(G.length,1)])),p=a["$key?"]("indent")["$!"](),(_=p!==!1&&p!==c&&null!=p?R.$attributes()["$key?"]("source-indent"):p)===c||null==_||_.$$is_boolean&&1!=_||(G=["indent",R.$attributes()["$[]"]("source-indent")],d(a,"[]=",e.to_a(G)),G[t(G.length,1)])),N=O.$build_block("listing","verbatim",U,l,$,a);else if("literal"["$==="](pe))N=O.$build_block(B,"verbatim",U,l,$,a);else if("pass"["$==="](pe))N=O.$build_block(B,"raw",U,l,$,a);else if("stem"["$==="](pe)||"latexmath"["$==="](pe)||"asciimath"["$==="](pe))B["$=="]("stem")&&(G=["style",function(){return(_=ye=a["$[]"](2))===c||null==_||_.$$is_boolean&&1!=_?(_=(ve=R.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===c||null==_||_.$$is_boolean&&1!=_?ve:"asciimath":(_=ye["$include?"]("tex"))===c||null==_||_.$$is_boolean&&1!=_?"asciimath":"latexmath"}()],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),N=O.$build_block("stem","raw",U,l,$,a);else if("open"["$==="](pe)||"sidebar"["$==="](pe))N=O.$build_block(B,"compound",U,l,$,a);else if("table"["$==="](pe))we=e.const_get(fe,"Reader",!0,!0).$new($.$read_lines_until(f(["terminator","skip_line_comments"],{terminator:U,skip_line_comments:!0})),$.$cursor()),pe=U.$chr(),","["$==="](pe)?(G=["format","csv"],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]):":"["$==="](pe)&&(G=["format","dsv"],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),N=O.$next_table(we,l,a);else if("quote"["$==="](pe)||"verse"["$==="](pe))e.const_get(fe,"AttributeList",!0,!0).$rekey(a,[c,"attribution","citetitle"]),N=O.$build_block(B,function(){return B["$=="]("verse")?"verbatim":"compound"}(),U,l,$,a);else if((_=(p=T!==!1&&T!==c&&null!=T)?V=M["$registered_for_block?"](B,q):T)===c||null==_||_.$$is_boolean&&1!=_)O.$raise("Unsupported block type "+B+" at "+$.$line_info());else if((_=(xe=V.$config()["$[]"]("content_model"))["$!="]("skip"))===c||null==_||_.$$is_boolean&&1!=_||((_=(ke=(p=V.$config()["$[]"]("pos_attrs"))!==!1&&p!==c&&null!=p?p:[])["$empty?"]()["$!"]())===c||null==_||_.$$is_boolean&&1!=_||e.const_get(fe,"AttributeList",!0,!0).$rekey(a,[c].$concat(ke)),(_=Z=V.$config()["$[]"]("default_attrs"))===c||null==_||_.$$is_boolean&&1!=_||d(Z,"each",[],(k=function(e,t){var n,r,$;k.$$s;return null==e&&(e=c),null==t&&(t=c),n=e,r=a,($=r["$[]"](n))!==!1&&$!==c&&null!=$?$:r["$[]="](n,t)},k.$$s=O,k.$$arity=2,k)),G=["cloaked-context",q],d(a,"[]=",e.to_a(G)),G[t(G.length,1)]),N=O.$build_block(B,xe,U,l,$,a,f(["extension"],{extension:V})),(_=(p=N!==!1&&N!==c&&null!=N)?xe["$!="]("skip"):N)===c||null==_||_.$$is_boolean&&1!=_)return a.$clear(),c}}else $.$advance();return N!==!1&&N!==c&&null!=N&&(z!==!1&&z!==c&&null!=z&&(G=[z],d(N,"source_location=",e.to_a(G)),G[t(G.length,1)]),((u=N["$title?"]())===c||null==u||u.$$is_boolean&&1!=u)&&(G=[a["$[]"]("title")],d(N,"title=",e.to_a(G)),G[t(G.length,1)]),N.$context()["$=="]("image")?(Oe=a["$[]"]("target"),N.$document().$register("images",Oe),Ee=(u=a["$[]"]("alt"))!==!1&&u!==c&&null!=u?u:e.const_get(fe,"Helpers",!0,!0).$basename(Oe,!0).$tr("_-"," "),(u=(_=(p=Ee["$include?"]("<"))!==!1&&p!==c&&null!=p?p:Ee["$include?"]("&"))!==!1&&_!==c&&null!=_?_:Ee["$include?"](">"))===c||null==u||u.$$is_boolean&&1!=u||(Ee=N.$sub_specialchars(Ee)),G=["alt",Ee],d(a,"[]=",e.to_a(G)),G[t(G.length,1)],N.$assign_caption(a.$delete("caption"),"figure"),((u=(Ae=a.$delete("scaledwidth"))["$nil_or_empty?"]())===c||null==u||u.$$is_boolean&&1!=u)&&(G=["scaledwidth",function(){return(u=h(48,57,!1)["$include?"](Ae["$[]"](-1).$ord()))===c||null==u||u.$$is_boolean&&1!=u?Ae:Ae+"%"}()],d(a,"[]=",e.to_a(G)),G[t(G.length,1)])):(u=N,(_=u.$caption())!==!1&&_!==c&&null!=_||u["$caption="](a.$delete("caption"))),G=[a["$[]"]("style")],d(N,"style=",e.to_a(G)),G[t(G.length,1)],_=N,(u=Se=(p=_.$id())!==!1&&p!==c&&null!=p?p:_["$id="](a["$[]"]("id")))===c||null==u||u.$$is_boolean&&1!=u||R.$register("ids",[Se,(u=a["$[]"]("reftext"))!==!1&&u!==c&&null!=u?u:function(){return(_=N["$title?"]())===c||null==_||_.$$is_boolean&&1!=_?c:N.$title()}()]),((u=a["$empty?"]())===c||null==u||u.$$is_boolean&&1!=u)&&N.$attributes().$update(a),N.$lock_in_subs(),(u=N["$sub?"]("callouts"))===c||null==u||u.$$is_boolean&&1!=u||((u=O.$catalog_callouts(N.$source(),R))===c||null==u||u.$$is_boolean&&1!=u)&&N.$remove_sub("callouts")),N},A.$$arity=-3),e.defs(_e,"$blockquote?",S=function(e,t){var n,$,o,i;return null==t&&(t=c),o=r(e.$size(),1),$=o!==!1&&o!==c&&null!=o?((i=t)!==!1&&i!==c&&null!=i?i:e["$[]"](0))["$start_with?"]('"'):o,n=$!==!1&&$!==c&&null!=$?e["$[]"](-1)["$start_with?"]("-- "):$,n!==!1&&n!==c&&null!=n?e["$[]"](-2)["$end_with?"]('"'):n},S.$$arity=-2),e.defs(_e,"$read_paragraph_lines",R=function(n,r,$){var o,i=c,l=c;return null==$&&($=f([],{})),i=["break_on_blank_lines",!0],d($,"[]=",e.to_a(i)),i[t(i.length,1)],i=["break_on_list_continuation",!0],d($,"[]=",e.to_a(i)),i[t(i.length,1)],i=["preserve_last_line",!0],d($,"[]=",e.to_a(i)),i[t(i.length,1)],l=function(){return r!==!1&&r!==c&&null!=r?(o=e.const_get(fe,"Compliance",!0,!0).$block_terminates_paragraph())===c||null==o||o.$$is_boolean&&1!=o?e.const_get(fe,"StartOfListProc",!0,!0):e.const_get(fe,"StartOfBlockOrListProc",!0,!0):(o=e.const_get(fe,"Compliance",!0,!0).$block_terminates_paragraph())===c||null==o||o.$$is_boolean&&1!=o?e.const_get(fe,"NoOp",!0,!0):e.const_get(fe,"StartOfBlockProc",!0,!0)}(),d(n,"read_lines_until",[$],l.$to_proc())},R.$$arity=-3),e.defs(_e,"$is_delimited_block?",M=function(n,o){var a,s,u=c,_=c,d=c,f=c,p=c,g=c,b=c;if(null==o&&(o=!1),s=r(u=n.$length(),1),(a=s!==!1&&s!==c&&null!=s?e.const_get(fe,"DELIMITED_BLOCK_LEADERS",!0,!0)["$include?"](n["$[]"](0,2)):s)===c||null==a||a.$$is_boolean&&1!=a)return c;if(u["$=="](2))_=n,d=2;else{if((a=l(u,4))===c||null==a||a.$$is_boolean&&1!=a?(_=n["$[]"](0,4),d=4):(_=n,d=u),f=!1,(a=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax())!==c&&null!=a&&(!a.$$is_boolean||1==a)&&(p=function(){return d["$=="](4)?_.$chop():_}(),p["$=="]("```"))){if((a=(s=d["$=="](4))?_["$end_with?"]("`"):d["$=="](4))!==c&&null!=a&&(!a.$$is_boolean||1==a))return c;_=p,d=3,f=!0}if((a=(s=d["$=="](3))?f["$!"]():d["$=="](3))!==c&&null!=a&&(!a.$$is_boolean||1==a))return c}return(a=e.const_get(fe,"DELIMITED_BLOCKS",!0,!0)["$key?"](_))===c||null==a||a.$$is_boolean&&1!=a?c:(a=(s=i(d,4))!==!1&&s!==c&&null!=s?s:d["$=="](u))===c||null==a||a.$$is_boolean&&1!=a?(""+_+$(_["$[]"](h(-1,-1,!1)),t(u,d)))["$=="](n)?o===!1||o===c||null==o||(s=e.const_get(fe,"DELIMITED_BLOCKS",!0,!0)["$[]"](_),a=e.to_ary(s),g=null==a[0]?c:a[0],b=null==a[1]?c:a[1],e.const_get(fe,"BlockMatchData",!0,!0).$new(g,b,_,n)):c:o===!1||o===c||null==o||(s=e.const_get(fe,"DELIMITED_BLOCKS",!0,!0)["$[]"](_),a=e.to_ary(s),g=null==a[0]?c:a[0],b=null==a[1]?c:a[1],e.const_get(fe,"BlockMatchData",!0,!0).$new(g,b,_,_))},M.$$arity=-2),e.defs(_e,"$build_block",T=function(n,$,o,i,l,a,s){var u,_,p=this,h=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c;if(null==s&&(s=f([],{})),$["$=="]("skip")?(h=!0,g="simple"):$["$=="]("raw")?(h=!1,g="simple"):(h=!1,g=$),(u=o["$nil?"]())===c||null==u||u.$$is_boolean&&1!=u?(u=g["$!="]("compound"))===c||null==u||u.$$is_boolean&&1!=u?o["$=="](!1)?(b=c,m=l):(b=c,m=e.const_get(fe,"Reader",!0,!0).$new(l.$read_lines_until(f(["terminator","skip_processing"],{terminator:o,skip_processing:h})),l.$cursor())):(b=l.$read_lines_until(f(["terminator","skip_processing"],{terminator:o,skip_processing:h})),m=c):(g["$=="]("verbatim")?b=l.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):($["$=="]("compound")&&($="simple"),b=p.$read_paragraph_lines(l,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:h}))),m=c),$["$=="]("skip"))return a.$clear(),b
;if($["$=="]("verbatim")&&((u=y=a["$[]"]("indent"))===c||null==u||u.$$is_boolean&&1!=u?(u=r(v=((_=a["$[]"]("tabsize"))!==!1&&_!==c&&null!=_?_:i.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))===c||null==u||u.$$is_boolean&&1!=u||p["$adjust_indentation!"](b,c,v):p["$adjust_indentation!"](b,y,(u=a["$[]"]("tabsize"))!==!1&&u!==c&&null!=u?u:i.$document().$attributes()["$[]"]("tabsize"))),(u=w=s["$[]"]("extension"))===c||null==u||u.$$is_boolean&&1!=u)x=e.const_get(fe,"Block",!0,!0).$new(i,n,f(["content_model","source","attributes"],{content_model:$,source:b,attributes:a}));else{if(a.$delete("style"),(u=x=w.$process_method()["$[]"](i,(_=m)!==!1&&_!==c&&null!=_?_:e.const_get(fe,"Reader",!0,!0).$new(b),a.$dup()))===c||null==u||u.$$is_boolean&&1!=u)return c;a.$replace(x.$attributes()),(u=(_=x.$content_model()["$=="]("compound"))?(b=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))===c||null==u||u.$$is_boolean&&1!=u||($="compound",m=e.const_get(fe,"Reader",!0,!0).$new(b))}return _=a["$key?"]("title"),(u=_!==!1&&_!==c&&null!=_?x.$document()["$attr?"](x.$context()+"-caption"):_)===c||null==u||u.$$is_boolean&&1!=u||(k=[a.$delete("title")],d(x,"title=",e.to_a(k)),k[t(k.length,1)],x.$assign_caption(a.$delete("caption"))),$["$=="]("compound")&&p.$parse_blocks(m,x),x},T.$$arity=-7),e.defs(_e,"$parse_blocks",I=function(t,n){for(var r,$=c;(r=t["$has_more_lines?"]())!==c&&null!=r&&(!r.$$is_boolean||1==r);)($=e.const_get(fe,"Parser",!0,!0).$next_block(t,n))!==!1&&$!==c&&null!=$&&n["$<<"]($)},I.$$arity=2),e.defs(_e,"$next_outline_list",C=function($,o,l){var a,s,u=this,_=c,f=c,p=c,h=c,g=c,b=c,m=c;for(_=e.const_get(fe,"List",!0,!0).$new(l,o),l.$context()["$=="](o)?(f=[n(l.$level(),1)],d(_,"level=",e.to_a(f)),f[t(f.length,1)]):(f=[1],d(_,"level=",e.to_a(f)),f[t(f.length,1)]);s=$["$has_more_lines?"](),(a=s!==!1&&s!==c&&null!=s?p=e.const_get(fe,"ListRxMap",!0,!0)["$[]"](o).$match($.$peek_line()):s)!==c&&null!=a&&(!a.$$is_boolean||1==a);){if(h=u.$resolve_list_marker(o,p["$[]"](1)),s=_["$items?"](),(a=s!==!1&&s!==c&&null!=s?h["$!="](_.$items()["$[]"](0).$marker()):s)===c||null==a||a.$$is_boolean&&1!=a)g=_.$level();else for(g=n(_.$level(),1),b=l;b.$context()["$=="](o);){if(h["$=="](b.$items()["$[]"](0).$marker())){g=b.$level();break}b=b.$parent()}if((a=(s=_["$items?"]()["$!"]())!==!1&&s!==c&&null!=s?s:g["$=="](_.$level()))===c||null==a||a.$$is_boolean&&1!=a){if(!((a=i(g,_.$level()))===c||null==a||a.$$is_boolean&&1!=a))break;(a=r(g,_.$level()))===c||null==a||a.$$is_boolean&&1!=a||_.$items()["$[]"](-1)["$<<"](u.$next_block($,_))}else m=u.$next_list_item($,_,p);m!==!1&&m!==c&&null!=m&&_["$<<"](m),m=c,$.$skip_blank_lines()}return _},C.$$arity=3),e.defs(_e,"$catalog_callouts",N=function(t,n){var r,$,o=this,i=c;return i=!1,(r=t["$include?"]("<"))===c||null==r||r.$$is_boolean&&1!=r||d(t,"scan",[e.const_get(fe,"CalloutQuickScanRx",!0,!0)],($=function(){var e,t=($.$$s,c);return null==g["~"]&&(g["~"]=c),t=g["~"],(e=t["$[]"](0).$chr()["$!="]("\\"))===c||null==e||e.$$is_boolean&&1!=e||n.$callouts().$register(t["$[]"](2)),i=!0},$.$$s=o,$.$$arity=0,$)),i},N.$$arity=2),e.defs(_e,"$catalog_inline_anchors",j=function(t,n){var r,$,o=this;return(r=t["$include?"]("["))===c||null==r||r.$$is_boolean&&1!=r||d(t,"scan",[e.const_get(fe,"InlineAnchorRx",!0,!0)],($=function(){var e,t=($.$$s,c),r=c,o=c;return null==g["~"]&&(g["~"]=c),t=g["~"],(e=t["$[]"](0)["$start_with?"]("\\"))===c||null==e||e.$$is_boolean&&1!=e?(r=(e=t["$[]"](1))!==!1&&e!==c&&null!=e?e:t["$[]"](3),o=(e=t["$[]"](2))!==!1&&e!==c&&null!=e?e:t["$[]"](4),n.$register("ids",[r,o])):c},$.$$s=o,$.$$arity=0,$)),c},j.$$arity=2),e.defs(_e,"$next_description_list",L=function(t,n,r){var $,o,i,l=this,a=c,s=c,u=c,_=c,d=c;for(a=e.const_get(fe,"List",!0,!0).$new(r,"dlist"),s=c,u=e.const_get(fe,"DescriptionListSiblingRx",!0,!0)["$[]"](n["$[]"](2));($=(o=n)!==!1&&o!==c&&null!=o?o:(i=t["$has_more_lines?"](),i!==!1&&i!==c&&null!=i?n=u.$match(t.$peek_line()):i))!==c&&null!=$&&(!$.$$is_boolean||1==$);)o=l.$next_list_item(t,a,n,u),$=e.to_ary(o),_=null==$[0]?c:$[0],d=null==$[1]?c:$[1],($=(o=s!==!1&&s!==c&&null!=s)?s["$[]"](-1)["$!"]():s)===c||null==$||$.$$is_boolean&&1!=$?a.$items()["$<<"](s=[[_],d]):(s.$pop(),s["$[]"](0)["$<<"](_),s["$<<"](d)),n=c;return a},L.$$arity=3),e.defs(_e,"$next_list_item",z=function(n,r,$,o){var i,l,a=this,s=c,u=c,_=c,p=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c,O=c,E=c,A=c;if(null==o&&(o=c),(s=r.$context())["$=="]("dlist")?(u=e.const_get(fe,"ListItem",!0,!0).$new(r,$["$[]"](1)),_=e.const_get(fe,"ListItem",!0,!0).$new(r,$["$[]"](3)),p=$["$[]"](3)["$nil_or_empty?"]()["$!"]()):(g=$["$[]"](2),b=!1,(i=(l=s["$=="]("ulist"))?g["$start_with?"]("["):s["$=="]("ulist"))===c||null==i||i.$$is_boolean&&1!=i||((i=g["$start_with?"]("[ ] "))===c||null==i||i.$$is_boolean&&1!=i?(i=g["$start_with?"]("[x] ","[*] "))===c||null==i||i.$$is_boolean&&1!=i||(b=!0,m=!0,g=g["$[]"](h(3,-1,!1)).$lstrip()):(b=!0,m=!1,g=g["$[]"](h(3,-1,!1)).$lstrip())),_=e.const_get(fe,"ListItem",!0,!0).$new(r,g),b!==!1&&b!==c&&null!=b&&(y=["checklist-option",""],d(r.$attributes(),"[]=",e.to_a(y)),y[t(y.length,1)],y=["checkbox",""],d(_.$attributes(),"[]=",e.to_a(y)),y[t(y.length,1)],m!==!1&&m!==c&&null!=m&&(y=["checked",""],d(_.$attributes(),"[]=",e.to_a(y)),y[t(y.length,1)])),(i=o)!==!1&&i!==c&&null!=i||(o=a.$resolve_list_marker(s,$["$[]"](1),r.$items().$size(),!0,n)),y=[o],d(_,"marker=",e.to_a(y)),y[t(y.length,1)],p=!0),n.$advance(),v=e.const_get(fe,"Reader",!0,!0).$new(a.$read_lines_for_list_item(n,s,o,p),n.$cursor()),(i=v["$has_more_lines?"]())!==c&&null!=i&&(!i.$$is_boolean||1==i)){for(w=v.$skip_line_comments(),(i=x=v.$peek_line())===c||null==i||i.$$is_boolean&&1!=i?(k=!1,O=!1):(((i=w["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&v.$unshift_lines(w),(i=k=x["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i?(O=!0,s["$=="]("dlist")||(p=!1)):O=!1),E=f(["text"],{text:p["$!"]()});(l=v["$has_more_lines?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l);)(l=A=a.$next_block(v,_,f([],{}),E))===c||null==l||l.$$is_boolean&&1!=l||_["$<<"](A);_.$fold_first(k,O)}return s["$=="]("dlist")?(i=(l=_["$text?"]())!==!1&&l!==c&&null!=l?l:_["$blocks?"]())===c||null==i||i.$$is_boolean&&1!=i?[u,c]:[u,_]:_},z.$$arity=-4),e.defs(_e,"$read_lines_for_list_item",P=function(n,r,$,o){var i,l,a,s,u,_,p,h,b,m=this,y=c,v=c,w=c,x=c,k=c,O=c,E=c,A=c,S=c;for(null==$&&($=c),null==o&&(o=!0),y=[],v="inactive",w=!1,x=c;(l=n["$has_more_lines?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l)&&(k=n.$read_line(),(l=m["$is_sibling_list_item?"](k,r,$))===c||null==l||l.$$is_boolean&&1!=l);)if(O=function(){return(l=y["$empty?"]())===c||null==l||l.$$is_boolean&&1!=l?y["$[]"](-1):c}(),O["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0))&&(v["$=="]("inactive")&&(v="active",o=!0,w!==!1&&w!==c&&null!=w||(E=[-1,""],d(y,"[]=",e.to_a(E)),E[t(E.length,1)])),k["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0))))(l=v["$!="]("frozen"))===c||null==l||l.$$is_boolean&&1!=l||(v="frozen",y["$<<"](k)),k=c;else{if((l=A=m["$is_delimited_block?"](k,!0))===c||null==l||l.$$is_boolean&&1!=l){if(a=(s=r["$=="]("dlist"))?v["$!="]("active"):r["$=="]("dlist"),!((l=a!==!1&&a!==c&&null!=a?e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$match?"](k):a)===c||null==l||l.$$is_boolean&&1!=l))break;if((l=(a=v["$=="]("active"))?k["$empty?"]()["$!"]():v["$=="]("active"))===c||null==l||l.$$is_boolean&&1!=l)if((l=(a=O!==!1&&O!==c&&null!=O)?O["$empty?"]():O)===c||null==l||l.$$is_boolean&&1!=l)(l=k["$empty?"]()["$!"]())===c||null==l||l.$$is_boolean&&1!=l||(o=!0),(l=S=d(function(){return w!==!1&&w!==c&&null!=w?["dlist"]:e.const_get(fe,"NESTABLE_LIST_CONTEXTS",!0,!0)}(),"find",[],(b=function(t){b.$$s;return null==t&&(t=c),e.const_get(fe,"ListRxMap",!0,!0)["$[]"](t)["$=~"](k)},b.$$s=m,b.$$arity=1,b)))===c||null==l||l.$$is_boolean&&1!=l||(w=!0,(l=(a=S["$=="]("dlist"))?((s=g["~"])===c?c:s["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))===c||null==l||l.$$is_boolean&&1!=l||(o=!1)),y["$<<"](k);else{if((l=k["$empty?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l)&&(n.$skip_blank_lines(),k=n.$read_line(),(l=(a=k!==!1&&k!==c&&null!=k)?m["$is_sibling_list_item?"](k,r,$)["$!"]():k)===c||null==l||l.$$is_boolean&&1!=l))break;if(k["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0)))x=y.$size(),y["$<<"](k);else if(o!==!1&&o!==c&&null!=o){if(!((l=m["$is_sibling_list_item?"](k,r,$))===c||null==l||l.$$is_boolean&&1!=l))break;if((l=S=d(e.const_get(fe,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],(p=function(t){p.$$s;return null==t&&(t=c),e.const_get(fe,"ListRxMap",!0,!0)["$[]"](t)["$=~"](k)},p.$$s=m,p.$$arity=1,p)))===c||null==l||l.$$is_boolean&&1!=l){if((l=e.const_get(fe,"LiteralParagraphRx",!0,!0)["$match?"](k))===c||null==l||l.$$is_boolean&&1!=l)break;n.$unshift_line(k),y.$concat(d(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(h=function(e){var t=h.$$s||this;return null==e&&(e=c),r["$=="]("dlist")?t["$is_sibling_list_item?"](e,r,$):r["$=="]("dlist")},h.$$s=m,h.$$arity=1,h)))}else y["$<<"](k),w=!0,(l=(a=S["$=="]("dlist"))?((s=g["~"])===c?c:s["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))===c||null==l||l.$$is_boolean&&1!=l||(o=!1)}else w!==!1&&w!==c&&null!=w||y.$pop(),y["$<<"](k),o=!0}else(l=e.const_get(fe,"LiteralParagraphRx",!0,!0)["$match?"](k))===c||null==l||l.$$is_boolean&&1!=l?(l=(a=(s=e.const_get(fe,"BlockTitleRx",!0,!0)["$match?"](k))!==!1&&s!==c&&null!=s?s:e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$match?"](k))!==!1&&a!==c&&null!=a?a:e.const_get(fe,"AttributeEntryRx",!0,!0)["$match?"](k))===c||null==l||l.$$is_boolean&&1!=l?((l=S=d(function(){return w!==!1&&w!==c&&null!=w?["dlist"]:e.const_get(fe,"NESTABLE_LIST_CONTEXTS",!0,!0)}(),"find",[],(_=function(t){_.$$s;return null==t&&(t=c),e.const_get(fe,"ListRxMap",!0,!0)["$[]"](t)["$match?"](k)},_.$$s=m,_.$$arity=1,_)))===c||null==l||l.$$is_boolean&&1!=l||(w=!0,(l=(a=S["$=="]("dlist"))?((s=g["~"])===c?c:s["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))===c||null==l||l.$$is_boolean&&1!=l||(o=!1)),y["$<<"](k),v="inactive"):y["$<<"](k):(n.$unshift_line(k),y.$concat(d(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(u=function(e){var t=u.$$s||this;return null==e&&(e=c),r["$=="]("dlist")?t["$is_sibling_list_item?"](e,r,$):r["$=="]("dlist")},u.$$s=m,u.$$arity=1,u))),v="inactive")}else{if(!v["$=="]("active"))break;y["$<<"](k),y.$concat(n.$read_lines_until(f(["terminator","read_last_line"],{terminator:A.$terminator(),read_last_line:!0}))),v="inactive"}k=c}for(k!==!1&&k!==c&&null!=k&&n.$unshift_line(k),x!==!1&&x!==c&&null!=x&&y.$delete_at(x);a=y["$empty?"]()["$!"](),(l=a!==!1&&a!==c&&null!=a?y["$[]"](-1)["$empty?"]():a)!==c&&null!=l&&(!l.$$is_boolean||1==l);)y.$pop();return l=y["$empty?"]()["$!"](),(i=l!==!1&&l!==c&&null!=l?y["$[]"](-1)["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0)):l)===c||null==i||i.$$is_boolean&&1!=i||y.$pop(),y},P.$$arity=-3),e.defs(_e,"$initialize_section",D=function(n,r,$){var o,i,l,a=this,s=c,u=c,_=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c;return null==$&&($=f([],{})),s=r.$document(),(o=s.$sourcemap())===c||null==o||o.$$is_boolean&&1!=o||(u=n.$cursor()),i=a.$parse_section_title(n,s),o=e.to_ary(i),_=null==o[0]?c:o[0],p=null==o[1]?c:o[1],h=null==o[2]?c:o[2],g=null==o[3]?c:o[3],null==o[4]?c:o[4],p!==!1&&p!==c&&null!=p&&(b=["reftext",p],d($,"[]=",e.to_a(b)),b[t(b.length,1)]),m=e.const_get(fe,"Section",!0,!0).$new(r,g,s.$attributes()["$key?"]("sectnums")),u!==!1&&u!==c&&null!=u&&(b=[u],d(m,"source_location=",e.to_a(b)),b[t(b.length,1)]),b=[_],d(m,"id=",e.to_a(b)),b[t(b.length,1)],b=[h],d(m,"title=",e.to_a(b)),b[t(b.length,1)],(o=$["$[]"](1))===c||null==o||o.$$is_boolean&&1!=o?(o=(i=h.$casecmp("synopsis")["$=="](0))?s.$doctype()["$=="]("manpage"):h.$casecmp("synopsis")["$=="](0))===c||null==o||o.$$is_boolean&&1!=o?(b=["sect"+m.$level()],d(m,"sectname=",e.to_a(b)),b[t(b.length,1)]):(b=[!0],d(m,"special=",e.to_a(b)),b[t(b.length,1)],b=["synopsis"],d(m,"sectname=",e.to_a(b)),b[t(b.length,1)]):(i=a.$parse_style_attribute($,n),o=e.to_ary(i),y=null==o[0]?c:o[0],null==o[1]?c:o[1],y!==!1&&y!==c&&null!=y?(b=[y],d(m,"sectname=",e.to_a(b)),b[t(b.length,1)],b=[!0],d(m,"special=",e.to_a(b)),b[t(b.length,1)],(o=(i=m.$sectname()["$=="]("abstract"))?s.$doctype()["$=="]("book"):m.$sectname()["$=="]("abstract"))===c||null==o||o.$$is_boolean&&1!=o||(b=["sect1"],d(m,"sectname=",e.to_a(b)),b[t(b.length,1)],b=[!1],d(m,"special=",e.to_a(b)),b[t(b.length,1)],b=[1],d(m,"level=",e.to_a(b)),b[t(b.length,1)])):(b=["sect"+m.$level()],d(m,"sectname=",e.to_a(b)),b[t(b.length,1)])),o=m,v=(i=o.$id())!==!1&&i!==c&&null!=i?i:o["$id="]((l=$["$[]"]("id"))!==!1&&l!==c&&null!=l?l:e.const_get(fe,"Section",!0,!0).$generate_id(m.$title(),s)),v!==!1&&v!==c&&null!=v&&s.$register("ids",[v,(o=$["$[]"]("reftext"))!==!1&&o!==c&&null!=o?o:m.$title()]),m.$update_attributes($),n.$skip_blank_lines(),m},D.$$arity=-3),e.defs(_e,"$is_next_line_section?",B=function(t,n){var r,$,o,i,l=this,a=c;return o=n["$key?"](1),$=o!==!1&&o!==c&&null!=o?(a=(i=n["$[]"](1))!==!1&&i!==c&&null!=i?i:"")["$start_with?"]("float","discrete"):o,(r=$!==!1&&$!==c&&null!=$?e.const_get(fe,"FloatingTitleStyleRx",!0,!0)["$match?"](a):$)===c||null==r||r.$$is_boolean&&1!=r?(r=t["$has_more_lines?"]())===c||null==r||r.$$is_boolean&&1!=r?c:(r=e.const_get(fe,"Compliance",!0,!0).$underline_style_section_titles())===c||null==r||r.$$is_boolean&&1!=r?l["$is_section_title?"](t.$peek_line()):d(l,"is_section_title?",e.to_a(t.$peek_lines(2))):c},B.$$arity=2),e.defs(_e,"$is_next_line_document_title?",q=function(e,t){return this["$is_next_line_section?"](e,t)["$=="](0)},q.$$arity=2),e.defs(_e,"$is_section_title?",U=function(e,t){var n,r,$=this;return null==t&&(t=c),(n=$["$is_single_line_section_title?"](e))!==!1&&n!==c&&null!=n?n:function(){return(r=t["$nil_or_empty?"]())===c||null==r||r.$$is_boolean&&1!=r?$["$is_two_line_section_title?"](e,t):c}()},U.$$arity=-2),e.defs(_e,"$is_single_line_section_title?",F=function(n){var r,$,o,i;return $=(o=n["$start_with?"]("="))!==!1&&o!==c&&null!=o?o:(i=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax(),i!==!1&&i!==c&&null!=i?n["$start_with?"]("#"):i),(r=$!==!1&&$!==c&&null!=$?e.const_get(fe,"AtxSectionRx",!0,!0)["$=~"](n):$)===c||null==r||r.$$is_boolean&&1!=r?c:t(((r=g["~"])===c?c:r["$[]"](1)).$length(),1)},F.$$arity=1),e.defs(_e,"$is_two_line_section_title?",G=function(n,r){var o,l,a,s,u=this,_=c,d=c,f=c;return s=_=e.const_get(fe,"SETEXT_SECTION_LEVELS",!0,!0)["$[]"](d=r.$chr()),a=s!==!1&&s!==c&&null!=s?$(d,f=r.$length())["$=="](r):s,l=a!==!1&&a!==c&&null!=a?e.const_get(fe,"SetextSectionTitleRx",!0,!0)["$match?"](n):a,(o=l!==!1&&l!==c&&null!=l?i(t(u.$line_length(n),f).$abs(),2):l)===c||null==o||o.$$is_boolean&&1!=o?c:_},G.$$arity=2),e.defs(_e,"$parse_section_title",H=function(r,o){var l,a,s,u,_,d,f=this,p=c,h=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c;return p=h=c,b=r.$read_line(),a=(s=b["$start_with?"]("="))!==!1&&s!==c&&null!=s?s:(u=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax(),u!==!1&&u!==c&&null!=u?b["$start_with?"]("#"):u),(l=a!==!1&&a!==c&&null!=a?e.const_get(fe,"AtxSectionRx",!0,!0)["$=~"](b):a)===c||null==l||l.$$is_boolean&&1!=l?(d=e.const_get(fe,"Compliance",!0,!0).$underline_style_section_titles(),_=d!==!1&&d!==c&&null!=d?w=r.$peek_line(!0):d,u=_!==!1&&_!==c&&null!=_?m=e.const_get(fe,"SETEXT_SECTION_LEVELS",!0,!0)["$[]"](x=w.$chr()):_,s=u!==!1&&u!==c&&null!=u?$(x,k=w.$length())["$=="](w):u,a=s!==!1&&s!==c&&null!=s?(u=e.const_get(fe,"SetextSectionTitleRx",!0,!0)["$=~"](b),y=u!==!1&&u!==c&&null!=u?(_=g["~"])===c?c:_["$[]"](1):u):s,(l=a!==!1&&a!==c&&null!=a?i(t(f.$line_length(b),k).$abs(),2):a)===c||null==l||l.$$is_boolean&&1!=l?f.$raise("Unrecognized section at "+r.$prev_line_info()):(v=!1,s=y["$end_with?"]("]]"),a=s!==!1&&s!==c&&null!=s?e.const_get(fe,"InlineSectionAnchorRx",!0,!0)["$=~"](y):s,(l=a!==!1&&a!==c&&null!=a?((s=g["~"])===c?c:s["$[]"](2))["$!"]():a)===c||null==l||l.$$is_boolean&&1!=l||(l=[(a=g["~"])===c?c:a["$[]"](1),(a=g["~"])===c?c:a["$[]"](3),(a=g["~"])===c?c:a["$[]"](4)],y=l[0],p=l[1],h=l[2]),r.$advance())):(l=[t(((a=g["~"])===c?c:a["$[]"](1)).$length(),1),(a=g["~"])===c?c:a["$[]"](2),!0],m=l[0],y=l[1],v=l[2],s=y["$end_with?"]("]]"),a=s!==!1&&s!==c&&null!=s?e.const_get(fe,"InlineSectionAnchorRx",!0,!0)["$=~"](y):s,(l=a!==!1&&a!==c&&null!=a?((s=g["~"])===c?c:s["$[]"](2))["$!"]():a)===c||null==l||l.$$is_boolean&&1!=l||(l=[(a=g["~"])===c?c:a["$[]"](1),(a=g["~"])===c?c:a["$[]"](3),(a=g["~"])===c?c:a["$[]"](4)],y=l[0],p=l[1],h=l[2])),(l=o["$attr?"]("leveloffset"))===c||null==l||l.$$is_boolean&&1!=l||(m=n(m,o.$attr("leveloffset").$to_i())),[p,h,y,m,v]},H.$$arity=2),(Y=e.const_get(fe,"FORCE_UNICODE_LINE_LENGTH",!0,!0))===c||null==Y||Y.$$is_boolean&&1!=Y?e.defs(_e,"$line_length",W=function(e){return e.$length()},W.$$arity=1):e.defs(_e,"$line_length",K=function(t){return t.$scan(e.const_get(fe,"UnicodeCharScanRx",!0,!0)).$size()},K.$$arity=1),e.defs(_e,"$parse_header_metadata",X=function(r,o){var i,l,a,s,u,_=this,p=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c;if(null==o&&(o=c),_.$process_attribute_entries(r,o),p=f([],{}),g=c,b=c,l=r["$has_more_lines?"](),(i=l!==!1&&l!==c&&null!=l?r["$next_line_empty?"]()["$!"]():l)===c||null==i||i.$$is_boolean&&1!=i||(m=_.$process_authors(r.$read_line()),((i=m["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(o!==!1&&o!==c&&null!=o&&(d(m,"each",[],(a=function(n,r){var $,i=(a.$$s,c);return null==n&&(n=c),null==r&&(r=c),($=o.$attributes()["$key?"](n))===c||null==$||$.$$is_boolean&&1!=$?(i=[n,function(){return($=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](r))===c||null==$||$.$$is_boolean&&1!=$?r:o.$apply_header_subs(r)}()],d(o.$attributes(),"[]=",e.to_a(i)),i[t(i.length,1)]):c},a.$$s=_,a.$$arity=2,a)),g=o.$attributes()["$[]"]("author"),b=o.$attributes()["$[]"]("authors")),p=m),_.$process_attribute_entries(r,o),y=f([],{}),l=r["$has_more_lines?"](),(i=l!==!1&&l!==c&&null!=l?r["$next_line_empty?"]()["$!"]():l)===c||null==i||i.$$is_boolean&&1!=i||(v=r.$read_line(),(i=w=e.const_get(fe,"RevisionInfoLineRx",!0,!0).$match(v))===c||null==i||i.$$is_boolean&&1!=i?r.$unshift_line(v):((i=w["$[]"](1))===c||null==i||i.$$is_boolean&&1!=i||(x=["revnumber",w["$[]"](1).$rstrip()],d(y,"[]=",e.to_a(x)),x[t(x.length,1)]),((i=(k=w["$[]"](2).$strip())["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(l=w["$[]"](1)["$!"](),(i=l!==!1&&l!==c&&null!=l?k["$start_with?"]("v"):l)===c||null==i||i.$$is_boolean&&1!=i?(x=["revdate",k],d(y,"[]=",e.to_a(x)),x[t(x.length,1)]):(x=["revnumber",k["$[]"](h(1,-1,!1))],d(y,"[]=",e.to_a(x)),x[t(x.length,1)])),(i=w["$[]"](3))===c||null==i||i.$$is_boolean&&1!=i||(x=["revremark",w["$[]"](3).$rstrip()],d(y,"[]=",e.to_a(x)),x[t(x.length,1)]))),((i=y["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(o!==!1&&o!==c&&null!=o&&d(y,"each",[],(s=function(n,r){var $;s.$$s;return null==n&&(n=c),null==r&&(r=c),($=o.$attributes()["$key?"](n))===c||null==$||$.$$is_boolean&&1!=$?(x=[n,o.$apply_header_subs(r)],d(o.$attributes(),"[]=",e.to_a(x)),x[t(x.length,1)]):c},s.$$s=_,s.$$arity=2,s)),p.$update(y)),_.$process_attribute_entries(r,o),r.$skip_blank_lines()),o!==!1&&o!==c&&null!=o){if(l=o.$attributes()["$key?"]("author"),(i=l!==!1&&l!==c&&null!=l?(O=o.$attributes()["$[]"]("author"))["$!="](g):l)===c||null==i||i.$$is_boolean&&1!=i)if(l=o.$attributes()["$key?"]("authors"),(i=l!==!1&&l!==c&&null!=l?(O=o.$attributes()["$[]"]("authors"))["$!="](b):l)===c||null==i||i.$$is_boolean&&1!=i){for(i=[[],1,"author_1",!1,!1],E=i[0],A=i[1],S=i[2],R=i[3],M=i[4];(l=o.$attributes()["$key?"](S))!==c&&null!=l&&(!l.$$is_boolean||1==l);)(T=o.$attributes()["$[]"](S))["$=="](m["$[]"](S))?(E["$<<"](c),M=!0):(E["$<<"](T),R=!0),S="author_"+(A=n(A,1));R!==!1&&R!==c&&null!=R?(M!==!1&&M!==c&&null!=M&&d(E,"each_with_index",[],(u=function(r,o){var i,l=u.$$s||this,a=c;return null==r&&(r=c),null==o&&(o=c),r!==!1&&r!==c&&null!=r?c:(x=[o,$(d([m["$[]"]("firstname_"+(a=n(o,1))),m["$[]"]("middlename_"+a),m["$[]"]("lastname_"+a)].$compact(),"map",[],(i=function(e){i.$$s;return null==e&&(e=c),e.$tr(" ","_")},i.$$s=l,i.$$arity=1,i))," ")],d(E,"[]=",e.to_a(x)),x[t(x.length,1)])},u.$$s=_,u.$$arity=2,u)),m=_.$process_authors(E,!0,!1)):m=f([],{})}else m=_.$process_authors(O,!0);else m=_.$process_authors(O,!0,!1);((i=m["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(o.$attributes().$update(m),l=o.$attributes()["$key?"]("email")["$!"](),(i=l!==!1&&l!==c&&null!=l?o.$attributes()["$key?"]("email_1"):l)===c||null==i||i.$$is_boolean&&1!=i||(x=["email",o.$attributes()["$[]"]("email_1")],d(o.$attributes(),"[]=",e.to_a(x)),x[t(x.length,1)]))}return p},X.$$arity=-2),e.defs(_e,"$process_authors",V=function(r,$,o){var i,l,a=this,s=c,u=c,_=c;return null==$&&($=!1),null==o&&(o=!0),s=f([],{}),u=["author","authorinitials","firstname","middlename","lastname","email"],_=function(){return o!==!1&&o!==c&&null!=o?d(r.$split(";"),"map",[],(i=function(e){i.$$s;return null==e&&(e=c),e.$strip()},i.$$s=a,i.$$arity=1,i)):a.$Array(r)}(),d(_,"each_with_index",[],(l=function(r,o){var i,a,_,p,h,g=l.$$s||this,b=c,m=c,y=c,v=c,w=c,x=c,k=c;return null==r&&(r=c),null==o&&(o=c),(i=r["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i?(b=f([],{}),o["$=="](0)?d(u,"each",[],(a=function(n){var r=(a.$$s,c);return null==n&&(n=c),r=[n.$to_sym(),n],d(b,"[]=",e.to_a(r)),r[t(r.length,1)]},a.$$s=g,a.$$arity=1,a)):d(u,"each",[],(_=function(r){var $=(_.$$s,c);return null==r&&(r=c),$=[r.$to_sym(),r+"_"+n(o,1)],d(b,"[]=",e.to_a($)),$[t($.length,1)]},_.$$s=g,_.$$arity=1,_)),m=c,$!==!1&&$!==c&&null!=$?(m=r.$split(c,3)).$size()["$=="](3)&&m["$<<"](m.$pop().$tr_s(" "," ")):(i=y=e.const_get(fe,"AuthorInfoLineRx",!0,!0).$match(r))===c||null==i||i.$$is_boolean&&1!=i||(m=y.$to_a(),m.$shift()),m!==!1&&m!==c&&null!=m?(v=[b["$[]"]("firstname"),w=m["$[]"](0).$tr("_"," ")],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("author"),w],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("authorinitials"),w.$chr()],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],(i=m["$[]"](1))===c||null==i||i.$$is_boolean&&1!=i||((i=m["$[]"](2))===c||null==i||i.$$is_boolean&&1!=i?(v=[b["$[]"]("lastname"),k=m["$[]"](1).$tr("_"," ")],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("author"),[w,k].$join(" ")],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("authorinitials"),""+w.$chr()+k.$chr()],d(s,"[]=",e.to_a(v)),v[t(v.length,1)]):(v=[b["$[]"]("middlename"),x=m["$[]"](1).$tr("_"," ")],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("lastname"),k=m["$[]"](2).$tr("_"," ")],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("author"),[w,x,k].$join(" ")],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("authorinitials"),""+w.$chr()+x.$chr()+k.$chr()],d(s,"[]=",e.to_a(v)),v[t(v.length,1)])),((i=(p=$)!==!1&&p!==c&&null!=p?p:m["$[]"](3)["$!"]())===c||null==i||i.$$is_boolean&&1!=i)&&(v=[b["$[]"]("email"),m["$[]"](3)],d(s,"[]=",e.to_a(v)),v[t(v.length,1)])):(v=[b["$[]"]("author"),(v=[b["$[]"]("firstname"),w=r.$strip().$tr_s(" "," ")],d(s,"[]=",e.to_a(v)),v[t(v.length,1)])],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],v=[b["$[]"]("authorinitials"),w.$chr()],d(s,"[]=",e.to_a(v)),v[t(v.length,1)]),v=["authorcount",n(o,1)],d(s,"[]=",e.to_a(v)),v[t(v.length,1)],o["$=="](1)&&d(u,"each",[],(h=function(n){var r;h.$$s;return null==n&&(n=c),(r=s["$key?"](n))===c||null==r||r.$$is_boolean&&1!=r?c:(v=[n+"_1",s["$[]"](n)],d(s,"[]=",e.to_a(v)),v[t(v.length,1)])},h.$$s=g,h.$$arity=1,h)),o["$=="](0)?(v=["authors",s["$[]"](b["$[]"]("author"))],d(s,"[]=",e.to_a(v)),v[t(v.length,1)]):(v=["authors",s["$[]"]("authors")+", "+s["$[]"](b["$[]"]("author"))],d(s,"[]=",e.to_a(v)),v[t(v.length,1)])):c},l.$$s=a,l.$$arity=2,l)),s},V.$$arity=-2),e.defs(_e,"$parse_block_metadata_lines",J=function(e,t,n,r){var $,o=this;for(null==n&&(n=f([],{})),null==r&&(r=f([],{}));($=o.$parse_block_metadata_line(e,t,n,r))!==c&&null!=$&&(!$.$$is_boolean||1==$);)e.$advance(),e.$skip_blank_lines();return n},J.$$arity=-3),e.defs(_e,"$parse_block_metadata_line",Z=function(n,r,$,o){var i,l,a,s=this,u=c,_=c,p=c,h=c,g=c;if(null==o&&(o=f([],{})),(i=n["$has_more_lines?"]())===c||null==i||i.$$is_boolean&&1!=i)return!1;if(u=n.$peek_line(),l=_=u["$start_with?"]("//"),(i=l!==!1&&l!==c&&null!=l?e.const_get(fe,"CommentBlockRx",!0,!0)["$match?"](u):l)===c||null==i||i.$$is_boolean&&1!=i)if((i=(l=_!==!1&&_!==c&&null!=_)?e.const_get(fe,"CommentLineRx",!0,!0)["$match?"](u):_)===c||null==i||i.$$is_boolean&&1!=i)if(a=o["$[]"]("text")["$!"](),l=a!==!1&&a!==c&&null!=a?u["$start_with?"](":"):a,(i=l!==!1&&l!==c&&null!=l?p=e.const_get(fe,"AttributeEntryRx",!0,!0).$match(u):l)===c||null==i||i.$$is_boolean&&1!=i)if(a=u["$start_with?"]("["),l=h=a!==!1&&a!==c&&null!=a?u["$end_with?"]("]"):a,(i=l!==!1&&l!==c&&null!=l?p=e.const_get(fe,"BlockAnchorRx",!0,!0).$match(u):l)===c||null==i||i.$$is_boolean&&1!=i)if((i=(l=h!==!1&&h!==c&&null!=h)?p=e.const_get(fe,"BlockAttributeListRx",!0,!0).$match(u):h)===c||null==i||i.$$is_boolean&&1!=i){if(l=o["$[]"]("text")["$!"](),(i=l!==!1&&l!==c&&null!=l?p=e.const_get(fe,"BlockTitleRx",!0,!0).$match(u):l)===c||null==i||i.$$is_boolean&&1!=i)return!1;g=["title",p["$[]"](1)],d($,"[]=",e.to_a(g)),g[t(g.length,1)]}else r.$document().$parse_attributes(p["$[]"](1),[],f(["sub_input","into"],{sub_input:!0,into:$}));else((i=p["$[]"](1)["$nil_or_empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(g=["id",p["$[]"](1)],d($,"[]=",e.to_a(g)),g[t(g.length,1)],(i=p["$[]"](2))===c||null==i||i.$$is_boolean&&1!=i||(g=["reftext",p["$[]"](2)],d($,"[]=",e.to_a(g)),g[t(g.length,1)]));else s.$process_attribute_entry(n,r,$,p);else;else n.$read_lines_until(f(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:u,skip_processing:!0}));return!0},Z.$$arity=-4),e.defs(_e,"$process_attribute_entries",Q=function(e,t,n){var r,$=this;for(null==n&&(n=c),e.$skip_comment_lines();(r=$.$process_attribute_entry(e,t,n))!==c&&null!=r&&(!r.$$is_boolean||1==r);)e.$advance(),e.$skip_comment_lines()},Q.$$arity=-3),e.defs(_e,"$process_attribute_entry",ee=function(t,n,r,$){var o,i,l=this,a=c,s=c,u=c,_=c,d=c,f=c;if(null==r&&(r=c),null==$&&($=c),(o=$)!==!1&&o!==c&&null!=o||($=function(){return(i=t["$has_more_lines?"]())===c||null==i||i.$$is_boolean&&1!=i?c:e.const_get(fe,"AttributeEntryRx",!0,!0).$match(t.$peek_line())}()),$!==!1&&$!==c&&null!=$){if(a=$["$[]"](1),(o=(s=(i=$["$[]"](2))!==!1&&i!==c&&null!=i?i:"")["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o){if((o=(i=s["$end_with?"](u=e.const_get(fe,"LINE_CONTINUATION",!0,!0)))!==!1&&i!==c&&null!=i?i:s["$end_with?"](u=e.const_get(fe,"LINE_CONTINUATION_LEGACY",!0,!0)))!==c&&null!=o&&(!o.$$is_boolean||1==o))for(s=s.$chop().$rstrip();(i=t.$advance())!==c&&null!=i&&(!i.$$is_boolean||1==i)&&((i=(_=t.$peek_line().$strip())["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&((i=d=_["$end_with?"](u))===c||null==i||i.$$is_boolean&&1!=i||(_=_.$chop().$rstrip()),f=function(){return(i=s["$end_with?"](e.const_get(fe,"LINE_BREAK",!0,!0)))===c||null==i||i.$$is_boolean&&1!=i?" ":e.const_get(fe,"EOL",!0,!0)}(),s=""+s+f+_,d!==!1&&d!==c&&null!=d););}else;return l.$store_attribute(a,s,function(){return n!==!1&&n!==c&&null!=n?n.$document():c}(),r),!0}return!1},ee.$$arity=-3),e.defs(_e,"$store_attribute",te=function(r,$,o,i){var l,a=this,s=c,u=c;return null==o&&(o=c),null==i&&(i=c),(l=r["$end_with?"]("!"))===c||null==l||l.$$is_boolean&&1!=l?(l=r["$start_with?"]("!"))===c||null==l||l.$$is_boolean&&1!=l||($=c,r=r["$[]"](h(1,-1,!1))):($=c,r=r.$chop()),r=a.$sanitize_attribute_name(r),s=!0,o!==!1&&o!==c&&null!=o&&(r["$=="]("numbered")?r="sectnums":r["$=="]("leveloffset")&&$!==!1&&$!==c&&null!=$&&(u=$.$chr(),"+"["$==="](u)?$=n(o.$attr("leveloffset",0).$to_i(),((l=$["$[]"](h(1,-1,!1)))!==!1&&l!==c&&null!=l?l:0).$to_i()).$to_s():"-"["$==="](u)&&($=t(o.$attr("leveloffset",0).$to_i(),((l=$["$[]"](h(1,-1,!1)))!==!1&&l!==c&&null!=l?l:0).$to_i()).$to_s())),s=function(){return $!==!1&&$!==c&&null!=$?o.$set_attribute(r,$):o.$delete_attribute(r)}()),(l=s!==!1&&s!==c&&null!=s?i:s)===c||null==l||l.$$is_boolean&&1!=l||($!==!1&&$!==c&&null!=$&&($=o.$attributes()["$[]"](r)),e.const_get([e.const_get(fe,"Document",!0,!0).$$scope],"AttributeEntry",!0,!0).$new(r,$).$save_to(i)),[r,$]},te.$$arity=-3),e.defs(_e,"$resolve_list_marker",ne=function(e,t,n,r,$){var o,i=this;return null==n&&(n=0),null==r&&(r=!1),null==$&&($=c),(o=e["$=="]("olist")?t["$start_with?"](".")["$!"]():e["$=="]("olist"))===c||null==o||o.$$is_boolean&&1!=o?e["$=="]("colist")?"<1>":t:i.$resolve_ordered_list_marker(t,n,r,$)},ne.$$arity=-3),e.defs(_e,"$resolve_ordered_list_marker",re=function(t,r,$,o){var i,l,a=this,s=c,u=c,_=c;return null==r&&(r=0),null==$&&($=!1),null==o&&(o=c),s=u=c,_=d(e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0),"find",[],(i=function(n){i.$$s;return null==n&&(n=c),e.const_get(fe,"OrderedListMarkerRxMap",!0,!0)["$[]"](n)["$match?"](t)},i.$$s=a,i.$$arity=1,i)),"arabic"["$==="](_)?($!==!1&&$!==c&&null!=$&&(s=n(r,1),u=t.$to_i()),t="1."):"loweralpha"["$==="](_)?($!==!1&&$!==c&&null!=$&&(s=n("a"["$[]"](0).$ord(),r).$chr(),u=t.$chop()),t="a."):"upperalpha"["$==="](_)?($!==!1&&$!==c&&null!=$&&(s=n("A"["$[]"](0).$ord(),r).$chr(),u=t.$chop()),t="A."):"lowerroman"["$==="](_)?($!==!1&&$!==c&&null!=$&&(s=n(r,1),u=a.$roman_numeral_to_int(t.$chop())),t="i)"):"upperroman"["$==="](_)&&($!==!1&&$!==c&&null!=$&&(s=n(r,1),u=a.$roman_numeral_to_int(t.$chop())),t="I)"),(l=$!==!1&&$!==c&&null!=$?s["$!="](u):$)===c||null==l||l.$$is_boolean&&1!=l||a.$warn("asciidoctor: WARNING: "+o.$line_info()+": list item index: expected "+s+", got "+u),t},re.$$arity=-2),e.defs(_e,"$is_sibling_list_item?",$e=function(t,n,r){var $,o=this,i=c,l=c,a=c;return($=e.const_get([e.Object.$$scope],"Regexp",!0,!0)["$==="](r))===c||null==$||$.$$is_boolean&&1!=$?(i=e.const_get(fe,"ListRxMap",!0,!0)["$[]"](n),l=r):(i=r,l=!1),!(($=a=i.$match(t))===c||null==$||$.$$is_boolean&&1!=$)&&(l===!1||l===c||null==l||l["$=="](o.$resolve_list_marker(n,a["$[]"](1))))},$e.$$arity=3),e.defs(_e,"$next_table",oe=function(r,$,o){var i,l,a,s,u,_,f=this,p=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c,O=c,E=c,A=c,S=c,R=c;for(p=e.const_get(fe,"Table",!0,!0).$new($,o),(i=o["$key?"]("title"))===c||null==i||i.$$is_boolean&&1!=i||(g=[o.$delete("title")],d(p,"title=",e.to_a(g)),g[t(g.length,1)],p.$assign_caption(o.$delete("caption"))),l=o["$key?"]("cols"),(i=l!==!1&&l!==c&&null!=l?(b=f.$parse_colspecs(o["$[]"]("cols")))["$empty?"]()["$!"]():l)===c||null==i||i.$$is_boolean&&1!=i?m=!1:(p.$create_columns(b),m=!0),y=r.$skip_blank_lines(),v=e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ParserContext",!0,!0).$new(r,p,o),w=(i=o["$key?"]("header-option"))!==!1&&i!==c&&null!=i?i:o["$key?"]("noheader-option"),x=-1;(l=r["$has_more_lines?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l);){for(x=n(x,1),k=r.$read_line(),_=w["$!"](),u=_!==!1&&_!==c&&null!=_?y["$=="](0):_,s=u!==!1&&u!==c&&null!=u?x["$=="](0):u,a=s!==!1&&s!==c&&null!=s?O=r.$peek_line():s,(l=a!==!1&&a!==c&&null!=a?O["$empty?"]():a)===c||null==l||l.$$is_boolean&&1!=l||(g=[!0],d(p,"has_header_option=",e.to_a(g)),g[t(g.length,1)],g=["header-option",""],d(o,"[]=",e.to_a(g)),g[t(g.length,1)],g=["options",function(){return(l=o["$key?"]("options"))===c||null==l||l.$$is_boolean&&1!=l?"header":o["$[]"]("options")+",header"}()],d(o,"[]=",e.to_a(g)),g[t(g.length,1)]),v.$format()["$=="]("psv")&&((l=v["$starts_with_delimiter?"](k))===c||null==l||l.$$is_boolean&&1!=l?(a=f.$parse_cellspec(k,"start",v.$delimiter()),l=e.to_ary(a),E=null==l[0]?c:l[0],k=null==l[1]?c:l[1],E!==!1&&E!==c&&null!=E&&v.$close_open_cell(E)):(k=k["$[]"](h(1,-1,!1)),v.$close_open_cell())),A=!1;(a=(s=A["$!"]())!==!1&&s!==c&&null!=s?s:k["$empty?"]()["$!"]())!==c&&null!=a&&(!a.$$is_boolean||1==a);)if(A=!0,(a=S=v.$match_delimiter(k))===c||null==a||a.$$is_boolean&&1!=a)g=[""+v.$buffer()+k+e.const_get(fe,"EOL",!0,!0)],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)],v.$format()["$=="]("csv")&&(g=[v.$buffer().$rstrip()+" "],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)]),k="",
(a=(s=v.$format()["$=="]("psv"))!==!1&&s!==c&&null!=s?s:(u=v.$format()["$=="]("csv"))?v["$buffer_has_unclosed_quotes?"]():v.$format()["$=="]("csv"))===c||null==a||a.$$is_boolean&&1!=a?v.$close_cell(!0):v.$keep_cell_open();else{if(v.$format()["$=="]("csv")){if((a=v["$buffer_has_unclosed_quotes?"](S.$pre_match()))!==c&&null!=a&&(!a.$$is_boolean||1==a)){k=v.$skip_matched_delimiter(S);continue}}else if((a=S.$pre_match()["$end_with?"]("\\"))!==c&&null!=a&&(!a.$$is_boolean||1==a)){if((a=(k=v.$skip_matched_delimiter(S,!0))["$empty?"]())!==c&&null!=a&&(!a.$$is_boolean||1==a)){g=[""+v.$buffer()+e.const_get(fe,"EOL",!0,!0)],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)],v.$keep_cell_open();break}continue}v.$format()["$=="]("psv")?(s=f.$parse_cellspec(S.$pre_match(),"end"),a=e.to_ary(s),E=null==a[0]?c:a[0],R=null==a[1]?c:a[1],v.$push_cellspec(E),g=[""+v.$buffer()+R],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)]):(g=[""+v.$buffer()+S.$pre_match()],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)]),(a=(k=S.$post_match())["$empty?"]())===c||null==a||a.$$is_boolean&&1!=a||(A=!1),v.$close_cell()}((l=v["$cell_open?"]())===c||null==l||l.$$is_boolean&&1!=l)&&(y=r.$skip_blank_lines()),((l=r["$has_more_lines?"]())===c||null==l||l.$$is_boolean&&1!=l)&&((l=v["$cell_open?"]())===c||null==l||l.$$is_boolean&&1!=l||v.$close_cell(!0))}return((i=(l=(a="colcount",s=p.$attributes(),(u=s["$[]"](a))!==!1&&u!==c&&null!=u?u:s["$[]="](a,p.$columns().$size()))["$=="](0))!==!1&&l!==c&&null!=l?l:m)===c||null==i||i.$$is_boolean&&1!=i)&&p.$assign_column_widths(),p.$partition_header_footer(o),p},oe.$$arity=3),e.defs(_e,"$parse_colspecs",ie=function(n){var r,$,o,i=this,l=c;return(r=n["$include?"](" "))===c||null==r||r.$$is_boolean&&1!=r||(n=n.$delete(" ")),n["$=="](n.$to_i().$to_s())?d(e.const_get([e.Object.$$scope],"Array",!0,!0),"new",[n.$to_i()],($=function(){$.$$s;return f(["width"],{width:1})},$.$$s=i,$.$$arity=0,$)):(l=[],d(n.$split(",",-1),"each",[],(o=function(n){var r,$,i,a=o.$$s||this,s=c,u=c,_=c,p=c,h=c;return null==n&&(n=c),(r=n["$empty?"]())===c||null==r||r.$$is_boolean&&1!=r?(r=s=e.const_get(fe,"ColumnSpecRx",!0,!0).$match(n))===c||null==r||r.$$is_boolean&&1!=r?c:(u=f([],{}),(r=s["$[]"](2))===c||null==r||r.$$is_boolean&&1!=r||($=s["$[]"](2).$split("."),r=e.to_ary($),_=null==r[0]?c:r[0],p=null==r[1]?c:r[1],$=_["$nil_or_empty?"]()["$!"](),(r=$!==!1&&$!==c&&null!=$?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$key?"](_):$)===c||null==r||r.$$is_boolean&&1!=r||(h=["halign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](_)],d(u,"[]=",e.to_a(h)),h[t(h.length,1)]),$=p["$nil_or_empty?"]()["$!"](),(r=$!==!1&&$!==c&&null!=$?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$key?"](p):$)===c||null==r||r.$$is_boolean&&1!=r||(h=["valign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](p)],d(u,"[]=",e.to_a(h)),h[t(h.length,1)])),h=["width",function(){return(r=s["$[]"](3))===c||null==r||r.$$is_boolean&&1!=r?1:s["$[]"](3).$to_i()}()],d(u,"[]=",e.to_a(h)),h[t(h.length,1)],$=s["$[]"](4),(r=$!==!1&&$!==c&&null!=$?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$key?"](s["$[]"](4)):$)===c||null==r||r.$$is_boolean&&1!=r||(h=["style",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](s["$[]"](4))],d(u,"[]=",e.to_a(h)),h[t(h.length,1)]),(r=s["$[]"](1))===c||null==r||r.$$is_boolean&&1!=r?l["$<<"](u):d(1,"upto",[s["$[]"](1).$to_i()],(i=function(){i.$$s;return l["$<<"](u.$dup())},i.$$s=a,i.$$arity=0,i))):l["$<<"](f(["width"],{width:1}))},o.$$s=i,o.$$arity=1,o)),l)},ie.$$arity=1),e.defs(_e,"$parse_cellspec",le=function(n,r,$){var o,i,l=c,a=c,s=c,u=c,_=c,p=c,h=c,g=c;if(null==r&&(r="start"),null==$&&($=c),l=c,a="",s=r,"start"["$==="](s)){if((o=n["$include?"]($))===c||null==o||o.$$is_boolean&&1!=o)return[c,n];if(i=n.$split($,2),o=e.to_ary(i),u=null==o[0]?c:o[0],a=null==o[1]?c:o[1],(o=l=e.const_get(fe,"CellSpecStartRx",!0,!0).$match(u))===c||null==o||o.$$is_boolean&&1!=o)return[c,n];if((o=l["$[]"](0)["$empty?"]())!==c&&null!=o&&(!o.$$is_boolean||1==o))return[f([],{}),a]}else if("end"["$==="](s)){if((o=l=e.const_get(fe,"CellSpecEndRx",!0,!0).$match(n))===c||null==o||o.$$is_boolean&&1!=o)return[f([],{}),n];if((o=l["$[]"](0).$lstrip()["$empty?"]())!==c&&null!=o&&(!o.$$is_boolean||1==o))return[f([],{}),n.$rstrip()];a=l.$pre_match()}return _=f([],{}),(o=l["$[]"](1))===c||null==o||o.$$is_boolean&&1!=o||(i=l["$[]"](1).$split("."),o=e.to_ary(i),p=null==o[0]?c:o[0],h=null==o[1]?c:o[1],p=function(){return(o=p["$nil_or_empty?"]())===c||null==o||o.$$is_boolean&&1!=o?p.$to_i():1}(),h=function(){return(o=h["$nil_or_empty?"]())===c||null==o||o.$$is_boolean&&1!=o?h.$to_i():1}(),l["$[]"](2)["$=="]("+")?(p["$=="](1)||(g=["colspan",p],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]),h["$=="](1)||(g=["rowspan",h],d(_,"[]=",e.to_a(g)),g[t(g.length,1)])):l["$[]"](2)["$=="]("*")&&(p["$=="](1)||(g=["repeatcol",p],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]))),(o=l["$[]"](3))===c||null==o||o.$$is_boolean&&1!=o||(i=l["$[]"](3).$split("."),o=e.to_ary(i),p=null==o[0]?c:o[0],h=null==o[1]?c:o[1],i=p["$nil_or_empty?"]()["$!"](),(o=i!==!1&&i!==c&&null!=i?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$key?"](p):i)===c||null==o||o.$$is_boolean&&1!=o||(g=["halign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](p)],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]),i=h["$nil_or_empty?"]()["$!"](),(o=i!==!1&&i!==c&&null!=i?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$key?"](h):i)===c||null==o||o.$$is_boolean&&1!=o||(g=["valign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](h)],d(_,"[]=",e.to_a(g)),g[t(g.length,1)])),i=l["$[]"](4),(o=i!==!1&&i!==c&&null!=i?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$key?"](l["$[]"](4)):i)===c||null==o||o.$$is_boolean&&1!=o||(g=["style",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](l["$[]"](4))],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]),[_,a]},le.$$arity=-2),e.defs(_e,"$parse_style_attribute",ae=function(r,o){var i,l,a,s,u,_=this,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c;return null==o&&(o=c),p=r["$[]"]("style"),h=r["$[]"](1),l=h!==!1&&h!==c&&null!=h?h["$include?"](" ")["$!"]():h,(i=l!==!1&&l!==c&&null!=l?e.const_get(fe,"Compliance",!0,!0).$shorthand_property_syntax():l)===c||null==i||i.$$is_boolean&&1!=i?(w=["style",h],d(r,"[]=",e.to_a(w)),w[t(w.length,1)],[h,p]):(g="style",b=[],m=f([],{}),y=d(_,"lambda",[],(a=function(){var n,r,$,i=a.$$s||this,l=c,s=c;return(n=b["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?(l=g,"role"["$==="](l)||"option"["$==="](l)?(n=g,r=m,($=r["$[]"](n))!==!1&&$!==c&&null!=$?$:r["$[]="](n,[]))["$<<"](b.$join()):"id"["$==="](l)?((n=m["$key?"]("id"))===c||null==n||n.$$is_boolean&&1!=n||i.$warn("asciidoctor: WARNING:"+function(){return o!==!1&&o!==c&&null!=o?" "+o.$prev_line_info()+":":c}()+" multiple ids detected in style attribute"),s=[g,b.$join()],d(m,"[]=",e.to_a(s)),s[t(s.length,1)]):(s=[g,b.$join()],d(m,"[]=",e.to_a(s)),s[t(s.length,1)]),b=[]):g["$=="]("style")?c:i.$warn("asciidoctor: WARNING:"+function(){return o!==!1&&o!==c&&null!=o?" "+o.$prev_line_info()+":":c}()+" invalid empty "+g+" detected in style attribute")},a.$$s=_,a.$$arity=0,a)),d(h,"each_char",[],(s=function(e){var t,n,r,$=(s.$$s,c);return null==e&&(e=c),(t=(n=(r=e["$=="]("."))!==!1&&r!==c&&null!=r?r:e["$=="]("#"))!==!1&&n!==c&&null!=n?n:e["$=="]("%"))===c||null==t||t.$$is_boolean&&1!=t?b["$<<"](e):(y.$call(),function(){return $=e,"."["$==="]($)?g="role":"#"["$==="]($)?g="id":"%"["$==="]($)?g="option":c}())},s.$$s=_,s.$$arity=1,s)),g["$=="]("style")?(w=["style",h],d(r,"[]=",e.to_a(w)),v=w[t(w.length,1)]):(y.$call(),(i=m["$key?"]("style"))===c||null==i||i.$$is_boolean&&1!=i?v=c:(w=["style",m["$[]"]("style")],d(r,"[]=",e.to_a(w)),v=w[t(w.length,1)]),(i=m["$key?"]("id"))===c||null==i||i.$$is_boolean&&1!=i||(w=["id",m["$[]"]("id")],d(r,"[]=",e.to_a(w)),w[t(w.length,1)]),(i=m["$key?"]("role"))===c||null==i||i.$$is_boolean&&1!=i||(w=["role",$(m["$[]"]("role")," ")],d(r,"[]=",e.to_a(w)),w[t(w.length,1)]),(i=m["$key?"]("option"))===c||null==i||i.$$is_boolean&&1!=i||(d(x=m["$[]"]("option"),"each",[],(u=function(n){u.$$s;return null==n&&(n=c),w=[n+"-option",""],d(r,"[]=",e.to_a(w)),w[t(w.length,1)]},u.$$s=_,u.$$arity=1,u)),(i=k=r["$[]"]("options"))===c||null==i||i.$$is_boolean&&1!=i?(w=["options",$(x,",")],d(r,"[]=",e.to_a(w)),w[t(w.length,1)]):(w=["options",$(n(x,k.$split(",")),",")],d(r,"[]=",e.to_a(w)),w[t(w.length,1)]))),[v,p])},ae.$$arity=-2),e.defs(_e,"$adjust_indentation!",se=function(o,i,l){var a,s,u,_,f,p,h,b=this,m=c,y=c,v=c;return null==i&&(i=0),null==l&&(l=0),(a=o["$empty?"]())===c||null==a||a.$$is_boolean&&1!=a?(s=r(l=l.$to_i(),0),(a=s!==!1&&s!==c&&null!=s?o.$join()["$include?"](e.const_get(fe,"TAB",!0,!0)):s)===c||null==a||a.$$is_boolean&&1!=a||(m=$(" ",l),d(o,"map!",[],(u=function(r){var o,i,a,s=u.$$s||this,_=c;return null==r&&(r=c),(o=r["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o?((o=r["$start_with?"](e.const_get(fe,"TAB",!0,!0)))===c||null==o||o.$$is_boolean&&1!=o||(r=d(r,"sub",[e.const_get(fe,"TabIndentRx",!0,!0)],(i=function(){var e;i.$$s;return $(m,((e=g["~"])===c?c:e["$[]"](0)).$length())},i.$$s=s,i.$$arity=0,i))),(o=r["$include?"](e.const_get(fe,"TAB",!0,!0)))===c||null==o||o.$$is_boolean&&1!=o?r:(_=0,r=d(r,"gsub",[e.const_get(fe,"TabRx",!0,!0)],(a=function(){var e=(a.$$s,c),r=c;return null==g["~"]&&(g["~"]=c),(e=n(g["~"].$begin(0),_))["$%"](l)["$=="](0)?(_=n(_,t(l,1)),m):((r=t(l,e["$%"](l)))["$=="](1)||(_=n(_,t(r,1))),$(" ",r))},a.$$s=s,a.$$arity=0,a)))):r},u.$$s=b,u.$$arity=1,u))),(a=(s=i!==!1&&i!==c&&null!=i)?r(i=i.$to_i(),-1):i)===c||null==a||a.$$is_boolean&&1!=a?c:(y=c,function(){var n=e.new_brk();try{d(o,"each",[],(_=function($){var o,i=(_.$$s,c);return null==$&&($=c),(o=$["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o?(i=t($.$length(),$.$lstrip().$length()))["$=="](0)?(y=c,void e.brk(c,n)):(o=y!==!1&&y!==c&&null!=y?r(i,y):y)===c||null==o||o.$$is_boolean&&1!=o?y=i:c:c},_.$$s=b,_.$$brk=n,_.$$arity=1,_))}catch(e){if(e===n)return e.$v;throw e}}(),i["$=="](0)?y!==!1&&y!==c&&null!=y&&d(o,"map!",[],(f=function(t){var n;f.$$s;return null==t&&(t=c),(n=t["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?t["$[]"](e.Range.$new(y,-1,!1)):t},f.$$s=b,f.$$arity=1,f)):(v=$(" ",i),y!==!1&&y!==c&&null!=y?d(o,"map!",[],(p=function(t){var r;p.$$s;return null==t&&(t=c),(r=t["$empty?"]())===c||null==r||r.$$is_boolean&&1!=r?n(v,t["$[]"](e.Range.$new(y,-1,!1))):t},p.$$s=b,p.$$arity=1,p)):d(o,"map!",[],(h=function(e){var t;h.$$s;return null==e&&(e=c),(t=e["$empty?"]())===c||null==t||t.$$is_boolean&&1!=t?n(v,e):e},h.$$s=b,h.$$arity=1,h))),c)):c},se.$$arity=-2),e.defs(_e,"$sanitize_attribute_name",ce=function(t){return t.$gsub(e.const_get(fe,"InvalidAttributeNameCharsRx",!0,!0),"").$downcase()},ce.$$arity=1),e.defs(_e,"$roman_numeral_to_int",ue=function($){var o,l=this,a=c,s=c;return $=$.$downcase(),a=f(["i","v","x"],{i:1,v:5,x:10}),s=0,d(e.Range.$new(0,t($.$length(),1),!1),"each",[],(o=function(l){var u,_,d=(o.$$s,c);return null==l&&(l=c),d=a["$[]"]($["$[]"](e.Range.$new(l,l,!1))),_=i(n(l,1),$.$length()),s=(u=_!==!1&&_!==c&&null!=_?r(a["$[]"]($["$[]"](e.Range.$new(n(l,1),n(l,1),!1))),d):_)===c||null==u||u.$$is_boolean&&1!=u?n(s,d):t(s,d)},o.$$s=l,o.$$arity=1,o)),s},ue.$$arity=1)}(y.base,0,v)}(a.base,s)},Opal.modules["asciidoctor/path_resolver"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.range,_=e.send;return e.add_stubs(["$attr_accessor","$is_root?","$expand_path","$pwd","$==","$start_with?","$match?","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixify","$is_web_root?","$is_unc?","$+","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$size","$pop","$fetch","$warn","$<<","$end_with?","$uri_prefix","$length","$gsub"]),function(o,i){var d,f=d=a(o,"Asciidoctor"),p=(f.$$proto,f.$$scope),h=i.slice().concat(p);!function(o,i,a){function d(){}var f,p,h,g,b,m,y,v,w,x,k,O=d=s(o,null,"PathResolver",d),E=O.$$proto,A=O.$$scope,S=a.slice().concat(A);E.file_separator=E._partition_path_web=E._partition_path_sys=E.working_dir=l,e.cdecl(A,"DOT","."),e.cdecl(A,"DOT_DOT",".."),e.cdecl(A,"DOT_SLASH","./"),e.cdecl(A,"SLASH","/"),e.cdecl(A,"BACKSLASH","\\"),e.cdecl(A,"DOUBLE_SLASH","//"),e.cdecl(A,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),O.$attr_accessor("file_separator"),O.$attr_accessor("working_dir"),e.defn(O,"$initialize",f=function(t,n){var r,$=this;return null==t&&(t=l),null==n&&(n=l),$.file_separator=function(){return t!==!1&&t!==l&&null!=t?t:(r=e.const_get([e.const_get([e.Object.$$scope],"File",!0,!0).$$scope],"ALT_SEPARATOR",!0,!0))!==!1&&r!==l&&null!=r?r:e.const_get([e.const_get([e.Object.$$scope],"File",!0,!0).$$scope],"SEPARATOR",!0,!0)}(),$.working_dir=n!==!1&&n!==l&&null!=n?function(){return(r=$["$is_root?"](n))===l||null==r||r.$$is_boolean&&1!=r?e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(n):n}():e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd()),$._partition_path_sys=c([],{}),$._partition_path_web=c([],{})},f.$$arity=-1),e.const_get(S,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&e.defn(O,"$is_root?",p=function(t){var n,r,$=this;return(n=(r=t["$start_with?"](e.const_get(S,"SLASH",!0,!0)))!==!1&&r!==l&&null!=r?r:e.const_get([e.Object.$$scope],"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("xmlhttprequest")?t["$start_with?"]("file://"):e.const_get([e.Object.$$scope],"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("xmlhttprequest"))!==!1&&n!==l&&null!=n?n:(r=$.file_separator["$=="](e.const_get(S,"BACKSLASH",!0,!0)))?e.const_get(S,"WindowsRootRx",!0,!0)["$match?"](t):$.file_separator["$=="](e.const_get(S,"BACKSLASH",!0,!0))},p.$$arity=1),e.defn(O,"$is_unc?",h=function(t){return t["$start_with?"](e.const_get(S,"DOUBLE_SLASH",!0,!0))},h.$$arity=1),e.defn(O,"$is_web_root?",g=function(t){return t["$start_with?"](e.const_get(S,"SLASH",!0,!0))},g.$$arity=1),e.defn(O,"$posixify",b=function(t){var n;return(n=t["$nil_or_empty?"]())===l||null==n||n.$$is_boolean&&1!=n?(n=t["$include?"](e.const_get(S,"BACKSLASH",!0,!0)))===l||null==n||n.$$is_boolean&&1!=n?t:t.$tr(e.const_get(S,"BACKSLASH",!0,!0),e.const_get(S,"SLASH",!0,!0)):""},b.$$arity=1),e.alias(O,"posixfy","posixify"),e.defn(O,"$expand_path",m=function(t){var n,r,$=this,o=l,i=l;return r=$.$partition_path(t),n=e.to_ary(r),o=null==n[0]?l:n[0],i=null==n[1]?l:n[1],null==n[2]?l:n[2],$.$join_path(o,i)},m.$$arity=1),e.defn(O,"$partition_path",y=function(r,$){var o,i=this,a=l,s=l,c=l,d=l,f=l;return null==$&&($=!1),(o=a=function(){return $!==!1&&$!==l&&null!=$?i._partition_path_web["$[]"](r):i._partition_path_sys["$[]"](r)}())===l||null==o||o.$$is_boolean&&1!=o?(s=i.$posixify(r),c=function(){return $!==!1&&$!==l&&null!=$?(o=i["$is_web_root?"](s))===l||null==o||o.$$is_boolean&&1!=o?(o=s["$start_with?"](e.const_get(S,"DOT_SLASH",!0,!0)))===l||null==o||o.$$is_boolean&&1!=o?l:e.const_get(S,"DOT_SLASH",!0,!0):e.const_get(S,"SLASH",!0,!0):(o=i["$is_root?"](s))===l||null==o||o.$$is_boolean&&1!=o?(o=s["$start_with?"](e.const_get(S,"DOT_SLASH",!0,!0)))===l||null==o||o.$$is_boolean&&1!=o?l:e.const_get(S,"DOT_SLASH",!0,!0):(o=i["$is_unc?"](s))===l||null==o||o.$$is_boolean&&1!=o?(o=s["$start_with?"](e.const_get(S,"SLASH",!0,!0)))===l||null==o||o.$$is_boolean&&1!=o?s["$[]"](0,t(s.$index(e.const_get(S,"SLASH",!0,!0)),1)):e.const_get(S,"SLASH",!0,!0):e.const_get(S,"DOUBLE_SLASH",!0,!0)}(),d=s.$split(e.const_get(S,"SLASH",!0,!0)),c["$=="](e.const_get(S,"DOUBLE_SLASH",!0,!0))?d=d["$[]"](u(2,-1,!1)):c!==!1&&c!==l&&null!=c&&d.$shift(),d.$delete(e.const_get(S,"DOT",!0,!0)),f=[r,[d,c,s]],_(function(){return $!==!1&&$!==l&&null!=$?i._partition_path_web:i._partition_path_sys}(),"[]=",e.to_a(f)),f[n(f.length,1)]):a},y.$$arity=-2),e.defn(O,"$join_path",v=function(t,n){return null==n&&(n=l),n!==!1&&n!==l&&null!=n?""+n+r(t,e.const_get(S,"SLASH",!0,!0)):r(t,e.const_get(S,"SLASH",!0,!0))},v.$$arity=-2),e.defn(O,"$system_path",w=function(t,n,r,o){var i,a,s,u=this,d=l,f=l,p=l,h=l,g=l,b=l,m=l,y=l,v=l;if(null==n&&(n=l),null==r&&(r=l),null==o&&(o=c([],{})),r!==!1&&r!==l&&null!=r&&(((i=u["$is_root?"](r))===l||null==i||i.$$is_boolean&&1!=i)&&u.$raise(e.const_get([e.Object.$$scope],"SecurityError",!0,!0),"Jail is not an absolute path: "+r),r=u.$posixify(r)),(i=t["$nil_or_empty?"]())===l||null==i||i.$$is_boolean&&1!=i?(a=u.$partition_path(t),i=e.to_ary(a),d=null==i[0]?l:i[0],f=null==i[1]?l:i[1],null==i[2]?l:i[2]):d=[],(i=d["$empty?"]())!==l&&null!=i&&(!i.$$is_boolean||1==i)){if(!((i=n["$nil_or_empty?"]())===l||null==i||i.$$is_boolean&&1!=i))return function(){return r!==!1&&r!==l&&null!=r?r:u.working_dir}();if((i=u["$is_root?"](n))===l||null==i||i.$$is_boolean&&1!=i)return u.$system_path(n,r,r,o);if(r===!1||r===l||null==r)return u.$expand_path(n)}return(i=(a=f!==!1&&f!==l&&null!=f)?f["$!="](e.const_get(S,"DOT_SLASH",!0,!0)):f)===l||null==i||i.$$is_boolean&&1!=i||(p=u.$join_path(d,f),(i=(a=r["$!"]())!==!1&&a!==l&&null!=a?a:p["$start_with?"](r))===l||null==i||i.$$is_boolean&&1!=i)?(n=(i=n["$nil_or_empty?"]())===l||null==i||i.$$is_boolean&&1!=i?(i=u["$is_root?"](n))===l||null==i||i.$$is_boolean&&1!=i?u.$system_path(n,r,r,o):u.$posixify(n):function(){return r!==!1&&r!==l&&null!=r?r:u.working_dir}(),r["$=="](n)?(a=u.$partition_path(r),i=e.to_ary(a),h=null==i[0]?l:i[0],g=null==i[1]?l:i[1],null==i[2]?l:i[2],b=h.$dup()):r!==!1&&r!==l&&null!=r?(((i=n["$start_with?"](r))===l||null==i||i.$$is_boolean&&1!=i)&&u.$raise(e.const_get([e.Object.$$scope],"SecurityError",!0,!0),((i=o["$[]"]("target_name"))!==!1&&i!==l&&null!=i?i:"Start path")+" "+n+" is outside of jail: "+r+" (disallowed in safe mode)"),a=u.$partition_path(n),i=e.to_ary(a),b=null==i[0]?l:i[0],m=null==i[1]?l:i[1],null==i[2]?l:i[2],a=u.$partition_path(r),i=e.to_ary(a),h=null==i[0]?l:i[0],g=null==i[1]?l:i[1],null==i[2]?l:i[2]):(a=u.$partition_path(n),i=e.to_ary(a),b=null==i[0]?l:i[0],m=null==i[1]?l:i[1],null==i[2]?l:i[2],g=m),y=b.$dup(),v=!1,_(d,"each",[],(s=function(n){var i,a,c=s.$$s||this,u=l;return null==n&&(n=l),n["$=="](e.const_get(S,"DOT_DOT",!0,!0))?r!==!1&&r!==l&&null!=r&&((i=$(y.$size(),h.$size()))===l||null==i||i.$$is_boolean&&1!=i)?(i=((a=u)!==!1&&a!==l&&null!=a?a:u=o.$fetch("recover",!0))["$!"]())===l||null==i||i.$$is_boolean&&1!=i?(i=v["$!"]())===l||null==i||i.$$is_boolean&&1!=i?l:(c.$warn("asciidoctor: WARNING: "+((i=o["$[]"]("target_name"))!==!1&&i!==l&&null!=i?i:"path")+" has illegal reference to ancestor of jail, auto-recovering"),v=!0):c.$raise(e.const_get([e.Object.$$scope],"SecurityError",!0,!0),((i=o["$[]"]("target_name"))!==!1&&i!==l&&null!=i?i:"path")+" "+t+" refers to location outside jail: "+r+" (disallowed in safe mode)"):y.$pop():y["$<<"](n)},s.$$s=u,s.$$arity=1,s)),u.$join_path(y,g)):p},w.$$arity=-2),e.defn(O,"$web_path",x=function(t,n){var r,$,o,i=this,a=l,s=l,c=l,u=l,d=l;return null==n&&(n=l),t=i.$posixify(t),n=i.$posixify(n),a=l,((r=($=n["$nil_or_empty?"]())!==!1&&$!==l&&null!=$?$:i["$is_web_root?"](t))===l||null==r||r.$$is_boolean&&1!=r)&&(t=function(){return(r=n["$end_with?"](e.const_get(S,"SLASH",!0,!0)))===l||null==r||r.$$is_boolean&&1!=r?""+n+e.const_get(S,"SLASH",!0,!0)+t:""+n+t}(),(r=a=e.const_get(S,"Helpers",!0,!0).$uri_prefix(t))===l||null==r||r.$$is_boolean&&1!=r||(t=t["$[]"](e.Range.$new(a.$length(),-1,!1)))),$=i.$partition_path(t,!0),r=e.to_ary($),s=null==r[0]?l:r[0],c=null==r[1]?l:r[1],null==r[2]?l:r[2],u=[],_(s,"each",[],(o=function(t){var n;o.$$s;return null==t&&(t=l),t["$=="](e.const_get(S,"DOT_DOT",!0,!0))?(n=u["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?u["$[]"](-1)["$=="](e.const_get(S,"DOT_DOT",!0,!0))?u["$<<"](t):u.$pop():(n=c!==!1&&c!==l&&null!=c?c["$!="](e.const_get(S,"DOT_SLASH",!0,!0)):c)===l||null==n||n.$$is_boolean&&1!=n?u["$<<"](t):l:u["$<<"](t)},o.$$s=i,o.$$arity=1,o)),(r=(d=i.$join_path(u,c))["$include?"](" "))===l||null==r||r.$$is_boolean&&1!=r||(d=d.$gsub(" ","%20")),a!==!1&&a!==l&&null!=a?""+a+d:d},x.$$arity=-2),e.defn(O,"$relative_path",k=function(n,r){var $,o,i=this,a=l;return o=i["$is_root?"](n),($=o!==!1&&o!==l&&null!=o?i["$is_root?"](r):o)===l||null==$||$.$$is_boolean&&1!=$?n:(a=function(){return($=r["$end_with?"](i.file_separator))===l||null==$||$.$$is_boolean&&1!=$?t(r.$length(),1):r.$length()}(),n["$[]"](e.Range.$new(a,-1,!1)))},k.$$arity=2)}(p.base,0,h)}(o.base,i)},Opal.modules["asciidoctor/reader"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var s=(e.top,e),c=[e],u=e.nil,_=(e.breaker,e.slice,e.module),d=e.klass,f=e.hash2,p=e.range,h=e.send,g=e.gvars;return e.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$empty?","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$nil?","$peek_line","$nil_or_empty?","$>","$process_line","$times","$read_line","$<<","$unshift_all","$has_more_lines?","$shift","$*","$read_lines","$unshift","$advance","$eof?","$start_with?","$match?","$push","$read_lines_until","$size","$clear","$[]=","$-","$new","$line_info","$to_i","$fetch","$attributes","$<","$references","$key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$strip","$pop_include","$downcase","$warn","$none?","$any?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$pwd","$base_dir","$join","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$each","$map","$to_proc","$/","$concat","$to_a","$uniq","$sort","$to_set","$open","$each_line","$infinite?","$push_include","$force_encoding","$length","$read","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),function(s,c){var b,m=b=_(s,"Asciidoctor"),y=(m.$$proto,m.$$scope),v=c.slice().concat(y);!function(o,i,l){function a(){}var s,c,_,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G=a=d(o,null,"Reader",a),H=G.$$proto,Y=G.$$scope,K=l.slice().concat(Y);H.file=H.dir=H.lines=H.process_lines=H.look_ahead=H.eof=H.unescape_next_line=H.lineno=H.path=H.source_lines=u,function(t,n,r){function $(){}var o,i,l=$=d(t,null,"Cursor",$),a=(l.$$proto,l.$$scope);r.slice().concat(a);l.$attr_accessor("file"),l.$attr_accessor("dir"),l.$attr_accessor("path"),l.$attr_accessor("lineno"),e.defn(l,"$initialize",o=function(e,t,n,r){var $=this;return null==t&&(t=u),null==n&&(n=u),null==r&&(r=u),$.file=e,$.dir=t,$.path=n,$.lineno=r},o.$$arity=-2),e.defn(l,"$line_info",i=function(){var e=this;return e.$path()+": line "+e.$lineno()},i.$$arity=0),e.alias(l,"to_s","line_info")}(Y.base,0,K),G.$attr_reader("file"),G.$attr_reader("dir"),G.$attr_reader("path"),G.$attr_reader("lineno"),G.$attr_reader("source_lines"),G.$attr_accessor("process_lines"),e.defn(G,"$initialize",s=function(t,n,r){var $,o,i=this;return null==t&&(t=u),null==n&&(n=u),null==r&&(r=f(["normalize"],{normalize:!1})),($=n["$!"]())===u||null==$||$.$$is_boolean&&1!=$?($=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](n))===u||null==$||$.$$is_boolean&&1!=$?(i.file=n.$file(),i.dir=n.$dir(),i.path=($=n.$path())!==!1&&$!==u&&null!=$?$:"<stdin>",($=i.file)===u||null==$||$.$$is_boolean&&1!=$||((($=i.dir)===u||null==$||$.$$is_boolean&&1!=$)&&(i.dir=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(i.file),i.dir["$=="](".")&&(i.dir=u)),(($=n.$path())===u||null==$||$.$$is_boolean&&1!=$)&&(i.path=e.const_get([e.Object.$$scope],"File",!0,!0).$basename(i.file))),i.lineno=($=n.$lineno())!==!1&&$!==u&&null!=$?$:1):(i.file=n,o=e.const_get([e.Object.$$scope],"File",!0,!0).$split(i.file),$=e.to_ary(o),i.dir=null==$[0]?u:$[0],i.path=null==$[1]?u:$[1],i.lineno=1):(i.file=i.dir=u,i.path="<stdin>",i.lineno=1),i.lines=function(){return t!==!1&&t!==u&&null!=t?i.$prepare_lines(t,r):[]}(),i.source_lines=i.lines.$dup(),i.eof=i.lines["$empty?"](),i.look_ahead=0,i.process_lines=!0,i.unescape_next_line=!1},s.$$arity=-1),e.defn(G,"$prepare_lines",c=function(t,n){var r;return null==n&&(n=f([],{})),(r=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](t))===u||null==r||r.$$is_boolean&&1!=r?(r=n["$[]"]("normalize"))===u||null==r||r.$$is_boolean&&1!=r?t.$dup():e.const_get(K,"Helpers",!0,!0).$normalize_lines_array(t):(r=n["$[]"]("normalize"))===u||null==r||r.$$is_boolean&&1!=r?t.$split(e.const_get(K,"EOL",!0,!0),-1):e.const_get(K,"Helpers",!0,!0).$normalize_lines_from_string(t)},c.$$arity=-2),e.defn(G,"$process_line",_=function(e){var n,r=this;return(n=r.process_lines)===u||null==n||n.$$is_boolean&&1!=n||(r.look_ahead=t(r.look_ahead,1)),e},_.$$arity=1),e.defn(G,"$has_more_lines?",g=function(){var e,t=this;return((e=t.eof)!==!1&&e!==u&&null!=e?e:t.eof=t.$peek_line()["$nil?"]())["$!"]()},g.$$arity=0),e.defn(G,"$next_line_empty?",b=function(){return this.$peek_line()["$nil_or_empty?"]()},b.$$arity=0),e.defn(G,"$peek_line",m=function(e){var t,r,$=this,o=u;return null==e&&(e=!1),(t=(r=e)!==!1&&r!==u&&null!=r?r:n($.look_ahead,0))===u||null==t||t.$$is_boolean&&1!=t?(t=(r=$.eof)!==!1&&r!==u&&null!=r?r:$.lines["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?(t=(o=$.$process_line($.lines["$[]"](0)))["$!"]())===u||null==t||t.$$is_boolean&&1!=t?o:$.$peek_line():($.eof=!0,$.look_ahead=0,u):(t=$.unescape_next_line)===u||null==t||t.$$is_boolean&&1!=t?$.lines["$[]"](0):$.lines["$[]"](0)["$[]"](p(1,-1,!1))},m.$$arity=-1),e.defn(G,"$peek_lines",y=function(t,n){var r,$,o=this,i=u,l=u;return null==t&&(t=1),null==n&&(n=!0),i=o.look_ahead,l=[],function(){var $=e.new_brk();try{h(t,"times",[],(r=function(){var t,o=r.$$s||this,i=u;if(!((t=i=o.$read_line(n))===u||null==t||t.$$is_boolean&&1!=t))return l["$<<"](i);e.brk(u,$)},r.$$s=o,r.$$brk=$,r.$$arity=0,r))}catch(e){if(e===$)return e.$v;throw e}}(),(($=l["$empty?"]())===u||null==$||$.$$is_boolean&&1!=$)&&(o.$unshift_all(l),n!==!1&&n!==u&&null!=n&&(o.look_ahead=i)),l},y.$$arity=-1),e.defn(G,"$read_line",v=function(e){var t,r,$,o=this;return null==e&&(e=!1),(t=(r=($=e)!==!1&&$!==u&&null!=$?$:n(o.look_ahead,0))!==!1&&r!==u&&null!=r?r:o["$has_more_lines?"]())===u||null==t||t.$$is_boolean&&1!=t?u:o.$shift()},v.$$arity=-1),e.defn(G,"$read_lines",w=function(){var e,t=this,n=u;for(n=[];(e=t["$has_more_lines?"]())!==u&&null!=e&&(!e.$$is_boolean||1==e);)n["$<<"](t.$shift());return n},w.$$arity=0),e.alias(G,"readlines","read_lines"),e.defn(G,"$read",x=function(){return r(this.$read_lines(),e.const_get(K,"EOL",!0,!0))},x.$$arity=0),e.defn(G,"$advance",k=function(e){var t=this;return null==e&&(e=!0),t.$read_line(e)["$!"]()["$!"]()},k.$$arity=-1),e.defn(G,"$unshift_line",O=function(e){return this.$unshift(e),u},O.$$arity=1),e.alias(G,"restore_line","unshift_line"),e.defn(G,"$unshift_lines",E=function(e){return this.$unshift_all(e),u},E.$$arity=1),e.alias(G,"restore_lines","unshift_lines"),e.defn(G,"$replace_next_line",A=function(e){var t=this;return t.$advance(),t.$unshift(e),u},A.$$arity=1),e.alias(G,"replace_line","replace_next_line"),e.defn(G,"$skip_blank_lines",S=function(){var e,n,r=this,$=u,o=u;if((e=r["$eof?"]())!==u&&null!=e&&(!e.$$is_boolean||1==e))return 0;for($=0;(n=o=r.$peek_line())!==u&&null!=n&&(!n.$$is_boolean||1==n);){if((n=o["$empty?"]())===u||null==n||n.$$is_boolean&&1!=n)return $;r.$advance(),$=t($,1)}return $},S.$$arity=0),e.defn(G,"$skip_comment_lines",R=function(t){var n,r,$,o=this,i=u,l=u,a=u,s=u;if(null==t&&(t=f([],{})),(n=o["$eof?"]())!==u&&null!=n&&(!n.$$is_boolean||1==n))return[];for(i=[],l=t["$[]"]("include_blank_lines");(r=a=o.$peek_line())!==u&&null!=r&&(!r.$$is_boolean||1==r);)if((r=($=l!==!1&&l!==u&&null!=l)?a["$empty?"]():l)===u||null==r||r.$$is_boolean&&1!=r)if($=s=a["$start_with?"]("//"),(r=$!==!1&&$!==u&&null!=$?e.const_get(K,"CommentBlockRx",!0,!0)["$match?"](a):$)===u||null==r||r.$$is_boolean&&1!=r){if((r=($=s!==!1&&s!==u&&null!=s)?e.const_get(K,"CommentLineRx",!0,!0)["$match?"](a):s)===u||null==r||r.$$is_boolean&&1!=r)break;i["$<<"](o.$shift())}else i["$<<"](o.$shift()),h(i,"push",e.to_a(o.$read_lines_until(f(["terminator","read_last_line","skip_processing"],{terminator:a,read_last_line:!0,skip_processing:!0}))));else i["$<<"](o.$shift());return i},R.$$arity=-1),e.defn(G,"$skip_line_comments",M=function(){var t,n,r=this,$=u,o=u;if((t=r["$eof?"]())!==u&&null!=t&&(!t.$$is_boolean||1==t))return[];for($=[];!((n=o=r.$peek_line())===u||null==n||n.$$is_boolean&&1!=n||(n=e.const_get(K,"CommentLineRx",!0,!0)["$match?"](o))===u||null==n||n.$$is_boolean&&1!=n);)$["$<<"](r.$shift());return $},M.$$arity=0),e.defn(G,"$terminate",T=function(){var e=this;return e.lineno=t(e.lineno,e.lines.$size()),e.lines.$clear(),e.eof=!0,e.look_ahead=0,u},T.$$arity=0),e.defn(G,"$eof?",I=function(){return this["$has_more_lines?"]()["$!"]()},I.$$arity=0),e.alias(G,"empty?","eof?"),e.defn(G,"$read_lines_until",C=function(t){var n,r,o,i,l,a=this,s=C.$$p,c=s||u,_=u,d=u,p=u,g=u,b=u,m=u,y=u,v=u,w=u,x=u,k=u;for(null==t&&(t=f([],{})),s&&(C.$$p=null),_=[],(n=t["$[]"]("skip_first_line"))===u||null==n||n.$$is_boolean&&1!=n||a.$advance(),r=a.process_lines,(n=r!==!1&&r!==u&&null!=r?t["$[]"]("skip_processing"):r)===u||null==n||n.$$is_boolean&&1!=n?d=!1:(a.process_lines=!1,d=!0),(n=p=t["$[]"]("terminator"))===u||null==n||n.$$is_boolean&&1!=n?(g=t["$[]"]("break_on_blank_lines"),b=t["$[]"]("break_on_list_continuation")):(g=!1,b=!1),m=t["$[]"]("skip_line_comments"),y=!1,v=!1,w=!1;o=w["$!"](),(r=o!==!1&&o!==u&&null!=o?x=a.$read_line():o)!==u&&null!=r&&(!r.$$is_boolean||1==r);)w=function(){for(;(o=!0)!==u&&null!=o&&(!o.$$is_boolean||1==o);)return!((o=(i=p!==!1&&p!==u&&null!=p)?x["$=="](p):p)===u||null==o||o.$$is_boolean&&1!=o)||(!((o=(i=g!==!1&&g!==u&&null!=g)?x["$empty?"]():g)===u||null==o||o.$$is_boolean&&1!=o)||(i=(l=b!==!1&&b!==u&&null!=b)?y:b,(o=i!==!1&&i!==u&&null!=i?x["$=="](e.const_get(K,"LIST_CONTINUATION",!0,!0)):i)===u||null==o||o.$$is_boolean&&1!=o?!((o=(i=c!==u)?e.yield1(c,x):c!==u)===u||null==o||o.$$is_boolean&&1!=o):(k=["preserve_last_line",!0],h(t,"[]=",e.to_a(k)),k[$(k.length,1)],!0)));return u}(),w!==!1&&w!==u&&null!=w?((r=t["$[]"]("read_last_line"))===u||null==r||r.$$is_boolean&&1!=r||(_["$<<"](x),y=!0),(r=t["$[]"]("preserve_last_line"))===u||null==r||r.$$is_boolean&&1!=r||(a.$unshift(x),v=!0)):(o=(i=m!==!1&&m!==u&&null!=m)?x["$start_with?"]("//"):m,((r=o!==!1&&o!==u&&null!=o?e.const_get(K,"CommentLineRx",!0,!0)["$match?"](x):o)===u||null==r||r.$$is_boolean&&1!=r)&&(_["$<<"](x),y=!0));return d!==!1&&d!==u&&null!=d&&(a.process_lines=!0,(n=(r=v!==!1&&v!==u&&null!=v)?p["$!"]():v)===u||null==n||n.$$is_boolean&&1!=n||(a.look_ahead=$(a.look_ahead,1))),_},C.$$arity=-1),e.defn(G,"$shift",N=function(){var e=this;return e.lineno=t(e.lineno,1),e.look_ahead["$=="](0)||(e.look_ahead=$(e.look_ahead,1)),e.lines.$shift()},N.$$arity=0),
e.defn(G,"$unshift",j=function(e){var n=this;return n.lineno=$(n.lineno,1),n.look_ahead=t(n.look_ahead,1),n.eof=!1,n.lines.$unshift(e)},j.$$arity=1),e.defn(G,"$unshift_all",L=function(n){var r=this;return r.lineno=$(r.lineno,n.$size()),r.look_ahead=t(r.look_ahead,n.$size()),r.eof=!1,h(r.lines,"unshift",e.to_a(n))},L.$$arity=1),e.defn(G,"$cursor",z=function(){var t=this;return e.const_get(K,"Cursor",!0,!0).$new(t.file,t.dir,t.path,t.lineno)},z.$$arity=0),e.defn(G,"$line_info",P=function(){var e=this;return e.path+": line "+e.lineno},P.$$arity=0),e.alias(G,"next_line_info","line_info"),e.defn(G,"$prev_line_info",D=function(){var e=this;return e.path+": line "+$(e.lineno,1)},D.$$arity=0),e.defn(G,"$lines",B=function(){return this.lines.$dup()},B.$$arity=0),e.defn(G,"$string",q=function(){return r(this.lines,e.const_get(K,"EOL",!0,!0))},q.$$arity=0),e.defn(G,"$source",U=function(){return r(this.source_lines,e.const_get(K,"EOL",!0,!0))},U.$$arity=0),e.defn(G,"$to_s",F=function(){return this.$line_info()},F.$$arity=0)}(y.base,0,v),function(s,c,_){function b(){}var m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N=b=d(s,c,"PreprocessorReader",b),j=N.$$proto,L=N.$$scope,z=_.slice().concat(L);j.document=j.lineno=j.process_lines=j.look_ahead=j.skipping=j.include_stack=j.conditional_stack=j.path=j.include_processor_extensions=j.maxdepth=j.dir=j.lines=j.file=j.includes=j.unescape_next_line=u,N.$attr_reader("include_stack"),N.$attr_reader("includes"),e.defn(N,"$initialize",m=function(t,n,r){var $,i,l,a=this,s=m.$$p,c=u;return null==n&&(n=u),null==r&&(r=u),s&&(m.$$p=null),a.document=t,h(a,e.find_super_dispatcher(a,"initialize",m,!1),[n,r,f(["normalize"],{normalize:!0})],null),c=t.$attributes().$fetch("max-include-depth",64).$to_i(),($=o(c,0))===u||null==$||$.$$is_boolean&&1!=$||(c=0),a.maxdepth=f(["abs","rel"],{abs:c,rel:c}),a.include_stack=[],a.includes=($="includes",i=t.$references(),(l=i["$[]"]($))!==!1&&l!==u&&null!=l?l:i["$[]="]($,[])),a.skipping=!1,a.conditional_stack=[],a.include_processor_extensions=u},m.$$arity=-2),e.defn(N,"$prepare_lines",y=function(n,o){var i,l,a,s=this,c=y.$$p,_=u,d=u,p=u,g=u,b=u,m=u,v=u,w=u;for(null==o&&(o=f([],{})),c&&(y.$$p=null),v=0,w=arguments.length,m=new Array(w);v<w;v++)m[v]=arguments[v];if(_=h(s,e.find_super_dispatcher(s,"prepare_lines",y,!1),m,c),l=s.document,(i=l!==!1&&l!==u&&null!=l?s.document.$attributes()["$key?"]("skip-front-matter"):l)===u||null==i||i.$$is_boolean&&1!=i||(i=d=s["$skip_front_matter!"](_))===u||null==i||i.$$is_boolean&&1!=i||(p=["front-matter",r(d,e.const_get(z,"EOL",!0,!0))],h(s.document.$attributes(),"[]=",e.to_a(p)),p[$(p.length,1)]),(i=o.$fetch("condense",!0))!==u&&null!=i&&(!i.$$is_boolean||1==i)){for(;a=g=_["$[]"](0),(l=a!==!1&&a!==u&&null!=a?g["$empty?"]():a)!==u&&null!=l&&(!l.$$is_boolean||1==l);)(l=_.$shift())!==!1&&l!==u&&null!=l&&(s.lineno=t(s.lineno,1));for(;a=b=_["$[]"](-1),(l=a!==!1&&a!==u&&null!=a?b["$empty?"]():a)!==u&&null!=l&&(!l.$$is_boolean||1==l);)_.$pop()}return(i=o["$[]"]("indent"))===u||null==i||i.$$is_boolean&&1!=i||e.const_get(z,"Parser",!0,!0)["$adjust_indentation!"](_,o["$[]"]("indent"),s.document.$attr("tabsize")),_},y.$$arity=-2),e.defn(N,"$process_line",v=function(n){var r,$,o,i=this;return(r=i.process_lines)===u||null==r||r.$$is_boolean&&1!=r?n:(r=n["$empty?"]())===u||null==r||r.$$is_boolean&&1!=r?(o=n["$end_with?"]("]"),$=o!==!1&&o!==u&&null!=o?n["$start_with?"]("[")["$!"]():o,(r=$!==!1&&$!==u&&null!=$?n["$include?"]("::"):$)===u||null==r||r.$$is_boolean&&1!=r?(r=i.skipping)===u||null==r||r.$$is_boolean&&1!=r?(i.look_ahead=t(i.look_ahead,1),n):(i.$advance(),u):($=n["$include?"]("if"),(r=$!==!1&&$!==u&&null!=$?e.const_get(z,"ConditionalDirectiveRx",!0,!0)["$=~"](n):$)===u||null==r||r.$$is_boolean&&1!=r?(r=i.skipping)===u||null==r||r.$$is_boolean&&1!=r?($=n["$start_with?"]("inc","\\inc"),(r=$!==!1&&$!==u&&null!=$?e.const_get(z,"IncludeDirectiveRx",!0,!0)["$=~"](n):$)===u||null==r||r.$$is_boolean&&1!=r?(i.look_ahead=t(i.look_ahead,1),n):((r=g["~"])===u?u:r["$[]"](1))["$=="]("\\")?(i.unescape_next_line=!0,i.look_ahead=t(i.look_ahead,1),n["$[]"](p(1,-1,!1))):(r=i.$preprocess_include_directive(($=g["~"])===u?u:$["$[]"](2),(($=g["~"])===u?u:$["$[]"](3)).$strip()))===u||null==r||r.$$is_boolean&&1!=r?(i.look_ahead=t(i.look_ahead,1),n):u):(i.$advance(),u):((r=g["~"])===u?u:r["$[]"](1))["$=="]("\\")?(i.unescape_next_line=!0,i.look_ahead=t(i.look_ahead,1),n["$[]"](p(1,-1,!1))):(r=i.$preprocess_conditional_directive(($=g["~"])===u?u:$["$[]"](2),($=g["~"])===u?u:$["$[]"](3),($=g["~"])===u?u:$["$[]"](4),($=g["~"])===u?u:$["$[]"](5)))===u||null==r||r.$$is_boolean&&1!=r?(i.look_ahead=t(i.look_ahead,1),n):(i.$advance(),u))):(i.look_ahead=t(i.look_ahead,1),"")},v.$$arity=1),e.defn(N,"$peek_line",w=function(t){var n,r=this,$=w.$$p,o=u,i=u,l=u,a=u;for(null==t&&(t=!1),$&&(w.$$p=null),l=0,a=arguments.length,i=new Array(a);l<a;l++)i[l]=arguments[l];return(n=o=h(r,e.find_super_dispatcher(r,"peek_line",w,!1),i,$))===u||null==n||n.$$is_boolean&&1!=n?(n=r.include_stack["$empty?"]())===u||null==n||n.$$is_boolean&&1!=n?(r.$pop_include(),r.$peek_line(t)):u:o},w.$$arity=-1),e.defn(N,"$preprocess_conditional_directive",x=function(t,r,$,o){var i,l,a,s,c,_,d,p,b=this,m=u,y=u,v=u,w=u,x=u,k=u,O=u,E=u;if(a=(s=t["$=="]("ifdef"))!==!1&&s!==u&&null!=s?s:t["$=="]("ifndef"),(i=(l=a!==!1&&a!==u&&null!=a?r["$empty?"]():a)!==!1&&l!==u&&null!=l?l:(a=t["$=="]("endif"))?o:t["$=="]("endif"))!==u&&null!=i&&(!i.$$is_boolean||1==i))return!1;if(r=r.$downcase(),t["$=="]("endif"))return m=b.conditional_stack.$size(),(i=n(m,0))===u||null==i||i.$$is_boolean&&1!=i?b.$warn("asciidoctor: ERROR: "+b.$line_info()+": unmatched macro: endif::"+r+"[]"):(y=b.conditional_stack["$[]"](-1),(i=(l=r["$empty?"]())!==!1&&l!==u&&null!=l?l:r["$=="](y["$[]"]("target")))===u||null==i||i.$$is_boolean&&1!=i?b.$warn("asciidoctor: ERROR: "+b.$line_info()+": mismatched macro: endif::"+r+"[], expected endif::"+y["$[]"]("target")+"[]"):(b.conditional_stack.$pop(),b.skipping=function(){return!!((i=b.conditional_stack["$empty?"]())===u||null==i||i.$$is_boolean&&1!=i)&&b.conditional_stack["$[]"](-1)["$[]"]("skipping")}())),!0;if(v=!1,(i=b.skipping)===u||null==i||i.$$is_boolean&&1!=i){if(w=t,"ifdef"["$==="](w))w=$,u["$==="](w)?v=b.document.$attributes()["$key?"](r)["$!"]():","["$==="](w)?v=h(r.$split(","),"none?",[],(c=function(e){var t=c.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$key?"](e)},c.$$s=b,c.$$arity=1,c)):"+"["$==="](w)&&(v=h(r.$split("+"),"any?",[],(_=function(e){var t=_.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$key?"](e)["$!"]()},_.$$s=b,_.$$arity=1,_)));else if("ifndef"["$==="](w))w=$,u["$==="](w)?v=b.document.$attributes()["$key?"](r):","["$==="](w)?v=h(r.$split(","),"none?",[],(d=function(e){var t=d.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$key?"](e)["$!"]()},d.$$s=b,d.$$arity=1,d)):"+"["$==="](w)&&(v=h(r.$split("+"),"any?",[],(p=function(e){var t=p.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$key?"](e)},p.$$s=b,p.$$arity=1,p)));else if("ifeval"["$==="](w)){if(l=r["$empty?"](),(i=l!==!1&&l!==u&&null!=l?e.const_get(z,"EvalExpressionRx",!0,!0)["$=~"](o.$strip()):l)===u||null==i||i.$$is_boolean&&1!=i)return!1;i=[(l=g["~"])===u?u:l["$[]"](1),(l=g["~"])===u?u:l["$[]"](2),(l=g["~"])===u?u:l["$[]"](3)],x=i[0],k=i[1],O=i[2],x=b.$resolve_expr_val(x),O=b.$resolve_expr_val(O),v=k["$=="]("!=")?x.$send("==",O):x.$send(k.$to_sym(),O)["$!"]()}}else;if((i=(l=t["$=="]("ifeval"))!==!1&&l!==u&&null!=l?l:o["$!"]())===u||null==i||i.$$is_boolean&&1!=i){if((i=(l=b.skipping)!==!1&&l!==u&&null!=l?l:v)===u||null==i||i.$$is_boolean&&1!=i)return E=b.$peek_line(!0),b.$replace_next_line(o.$rstrip()),b.$unshift(E),!0}else v!==!1&&v!==u&&null!=v&&(b.skipping=!0),b.conditional_stack["$<<"](f(["target","skip","skipping"],{target:r,skip:v,skipping:b.skipping}));return!0},x.$$arity=4),e.defn(N,"$preprocess_include_directive",k=function(o,a){var s,c,_,d,p,g,b,m,y=this,v=u,w=u,x=u,k=u,O=u,E=u,A=u,S=u,R=u,M=u,T=u,I=u,C=u,N=u,j=u,L=u;if((s=(v=y.document.$sub_attributes(o,f(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){if(c=y["$include_processors?"](),(s=c!==!1&&c!==u&&null!=c?w=h(y.include_processor_extensions,"find",[],(_=function(e){_.$$s;return null==e&&(e=u),e.$instance()["$handles?"](v)},_.$$s=y,_.$$arity=1,_)):c)===u||null==s||s.$$is_boolean&&1!=s){if((s=i(y.document.$safe(),e.const_get([e.const_get(z,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===u||null==s||s.$$is_boolean&&1!=s){if((s=n(x=y.maxdepth["$[]"]("abs"),0))===u||null==s||s.$$is_boolean&&1!=s)return!1;if((s=i(y.include_stack.$size(),x))!==u&&null!=s&&(!s.$$is_boolean||1==s))return y.$warn("asciidoctor: ERROR: "+y.$line_info()+": maximum include depth of "+y.maxdepth["$[]"]("rel")+" exceeded"),!1;if(c=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0),(s=c!==!1&&c!==u&&null!=c?e.const_get([e.Object.$$scope],"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("xmlhttprequest"):c)===u||null==s||s.$$is_boolean&&1!=s)if((s=e.const_get(z,"Helpers",!0,!0)["$uriish?"](v))===u||null==s||s.$$is_boolean&&1!=s){if(k="file",O=y.document.$normalize_system_path(v,y.dir,u,f(["target_name"],{target_name:"include file"})),(s=e.const_get([e.Object.$$scope],"File",!0,!0)["$file?"](O))===u||null==s||s.$$is_boolean&&1!=s)return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include file not found: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0;E=e.const_get(z,"PathResolver",!0,!0).$new().$relative_path(O,y.document.$base_dir())}else{if((s=y.document.$attributes()["$key?"]("allow-uri-read"))===u||null==s||s.$$is_boolean&&1!=s)return y.$replace_next_line("link:"+v+"[]"),!0;k="uri",O=E=v,(s=y.document.$attributes()["$key?"]("cache-uri"))===u||null==s||s.$$is_boolean&&1!=s?(s=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===u||null==s||s.$$is_boolean&&1!=s||e.const_get([e.Object.$$scope],"OpenURI",!0,!0):((s=(d=e.const_get([e.Object.$$scope],"OpenURI",!0,!1))&&d.$$scope&&(c=e.const_get([d.$$scope],"Cache",!0,!1))?"constant":u)===u||null==s||s.$$is_boolean&&1!=s)&&e.const_get(z,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached")}else k="file",O=E=function(){return(s=y.include_stack["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s?e.const_get([e.Object.$$scope],"File",!0,!0).$join(y.dir,v):e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd()["$=="](y.document.$base_dir())?v:e.const_get([e.Object.$$scope],"File",!0,!0).$join(y.dir,v)}();if(A=u,S=u,R=f([],{}),(s=a["$empty?"]()["$!"]())===u||null==s||s.$$is_boolean&&1!=s||(R=e.const_get(z,"AttributeList",!0,!0).$new(a).$parse(),(s=R["$key?"]("lines"))===u||null==s||s.$$is_boolean&&1!=s?(s=R["$key?"]("tag"))===u||null==s||s.$$is_boolean&&1!=s?(s=R["$key?"]("tags"))===u||null==s||s.$$is_boolean&&1!=s||(S=R["$[]"]("tags").$split(e.const_get(z,"DataDelimiterRx",!0,!0)).$to_set()):S=[R["$[]"]("tag")].$to_set():(A=[],h(R["$[]"]("lines").$split(e.const_get(z,"DataDelimiterRx",!0,!0)),"each",[],(p=function(t){var n,r,$=(p.$$s,u),o=u;return null==t&&(t=u),(n=t["$include?"](".."))===u||null==n||n.$$is_boolean&&1!=n?A["$<<"](t.$to_i()):(r=h(t.$split("..",2),"map",[],"to_i".$to_proc()),n=e.to_ary(r),$=null==n[0]?u:n[0],o=null==n[1]?u:n[1],o["$=="](-1)?(A["$<<"]($),A["$<<"](l(1,0))):A.$concat(e.const_get([e.Object.$$scope],"Range",!0,!0).$new($,o).$to_a()))},p.$$s=y,p.$$arity=1,p)),A=A.$sort().$uniq())),A!==!1&&A!==u&&null!=A)if((s=A["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){M=[],T=0,I=0;try{!function(){var n=e.new_brk();try{h(y,"open",[O,"r"],(g=function(n){var r,$=g.$$s||this;return null==n&&(n=u),function(){var o=e.new_brk();try{return h(n,"each_line",[],(r=function($){var i,l,a=(r.$$s,u);return null==$&&($=u),I=t(I,1),a=A["$[]"](0),l=e.const_get([e.Object.$$scope],"Float",!0,!0)["$==="](a),(i=l!==!1&&l!==u&&null!=l?a["$infinite?"]():l)===u||null==i||i.$$is_boolean&&1!=i?(n.$lineno()["$=="](a)&&(M["$<<"]($),T["$=="](0)&&(T=I),A.$shift()),(i=A["$empty?"]())===u||null==i||i.$$is_boolean&&1!=i?u:void e.brk(u,o)):(M["$<<"]($),T["$=="](0)?T=I:u)},r.$$s=$,r.$$brk=o,r.$$arity=1,r))}catch(e){if(e===o)return e.$v;throw e}}()},g.$$s=y,g.$$brk=n,g.$$arity=1,g))}catch(e){if(e===n)return e.$v;throw e}}()}catch(t){if(!e.rescue(t,[e.const_get(z,"StandardError",!0,!0)]))throw t;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+k+" not readable: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0}finally{e.pop_exception()}}y.$advance(),y.$push_include(M,O,E,T,R)}else;else if(S!==!1&&S!==u&&null!=S)if((s=S["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){M=[],T=0,I=0,C=u,N=e.const_get([e.Object.$$scope],"Set",!0,!0).$new();try{!function(){var n=e.new_brk();try{h(y,"open",[O,"r"],(b=function(n){var r,o=b.$$s||this;return null==n&&(n=u),function(){var i=e.new_brk();try{return h(n,"each_line",[],(r=function(n){var o,i,l,a=r.$$s||this,s=u;return null==n&&(n=u),I=t(I,1),(o=e.const_get(z,"FORCE_ENCODING",!0,!0))===u||null==o||o.$$is_boolean&&1!=o||n.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0)),s=n=n.$rstrip(),(o=s["$end_with?"]("-->"))===u||null==o||o.$$is_boolean&&1!=o||(s=s["$[]"](0,$(s.$length(),3)).$rstrip()),C!==!1&&C!==u&&null!=C?(o=s["$end_with?"]("end::"+C+"[]"))===u||null==o||o.$$is_boolean&&1!=o?(i=s["$end_with?"]("[]"),((o=i!==!1&&i!==u&&null!=i?e.const_get(z,"TagDirectiveRx",!0,!0)["$match?"](s):i)===u||null==o||o.$$is_boolean&&1!=o)&&M["$<<"](n),T["$=="](0)?T=I:u):C=u:(i=s["$end_with?"]("[]"),(o=i!==!1&&i!==u&&null!=i?e.const_get(z,"TagDirectiveRx",!0,!0)["$match?"](s):i)===u||null==o||o.$$is_boolean&&1!=o?u:function(){var t=e.new_brk();try{return h(S,"each",[],(l=function(n){var r;l.$$s;if(null==n&&(n=u),(r=s["$end_with?"]("tag::"+n+"[]"))===u||null==r||r.$$is_boolean&&1!=r)return u;C=n,N["$<<"](n),e.brk(u,t)},l.$$s=a,l.$$brk=t,l.$$arity=1,l))}catch(e){if(e===t)return e.$v;throw e}}())},r.$$s=o,r.$$brk=i,r.$$arity=1,r))}catch(e){if(e===i)return e.$v;throw e}}()},b.$$s=y,b.$$brk=n,b.$$arity=1,b))}catch(e){if(e===n)return e.$v;throw e}}()}catch(t){if(!e.rescue(t,[e.const_get(z,"StandardError",!0,!0)]))throw t;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+k+" not readable: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0}finally{e.pop_exception()}}((s=(j=$(S.$to_a(),N.$to_a()))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s)&&y.$warn("asciidoctor: WARNING: "+y.$line_info()+": tag"+function(){return(s=n(j.$size(),1))===u||null==s||s.$$is_boolean&&1!=s?u:"s"}()+" '"+r(j,",")+"' not found in include "+k+": "+O),y.$advance(),y.$push_include(M,O,E,T,R)}else;else try{L=h(y,"open",[O,"r"],(m=function(e){m.$$s;return null==e&&(e=u),e.$read()},m.$$s=y,m.$$arity=1,m)),y.$advance(),y.$push_include(L,O,E,1,R)}catch(t){if(!e.rescue(t,[e.const_get(z,"StandardError",!0,!0)]))throw t;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+k+" not readable: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0}finally{e.pop_exception()}}return!0}return y.$replace_next_line("link:"+v+"[]"),!0}return y.$advance(),w.$process_method()["$[]"](y.document,y,v,e.const_get(z,"AttributeList",!0,!0).$new(a).$parse()),!0}return y.$advance(),y.document.$attributes().$fetch("attribute-missing",e.const_get(z,"Compliance",!0,!0).$attribute_missing())["$=="]("skip")&&y.$unshift("Unresolved directive in "+y.path+" - include::"+o+"["+a+"]"),!0},k.$$arity=2),e.defn(N,"$push_include",O=function(n,r,o,i,l){var s,c=this,_=u,d=u;return null==r&&(r=u),null==o&&(o=u),null==i&&(i=1),null==l&&(l=f([],{})),c.include_stack["$<<"]([c.lines,c.file,c.dir,c.path,c.lineno,c.maxdepth,c.process_lines]),r!==!1&&r!==u&&null!=r?(c.file=r,c.dir=e.const_get(z,"File",!0,!0).$dirname(r),c.process_lines=e.const_get(z,"ASCIIDOC_EXTENSIONS",!0,!0)["$[]"](e.const_get([e.Object.$$scope],"File",!0,!0).$extname(r))):(c.file=u,c.dir=".",c.process_lines=!0),o!==!1&&o!==u&&null!=o?(c.includes["$<<"](e.const_get(z,"Helpers",!0,!0).$rootname(o)),c.path=o):c.path="<stdin>",c.lineno=i,(s=l["$key?"]("depth"))===u||null==s||s.$$is_boolean&&1!=s||(_=l["$[]"]("depth").$to_i(),(s=a(_,0))===u||null==s||s.$$is_boolean&&1!=s||(_=1),c.maxdepth=f(["abs","rel"],{abs:t($(c.include_stack.$size(),1),_),rel:_})),(s=(c.lines=c.$prepare_lines(n,f(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:l["$[]"]("indent")})))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s?((s=l["$key?"]("leveloffset"))===u||null==s||s.$$is_boolean&&1!=s||(c.lines.$unshift(""),c.lines.$unshift(":leveloffset: "+l["$[]"]("leveloffset")),c.lines["$<<"](""),(s=d=c.document.$attr("leveloffset"))===u||null==s||s.$$is_boolean&&1!=s?c.lines["$<<"](":leveloffset!:"):c.lines["$<<"](":leveloffset: "+d),c.lineno=$(c.lineno,2)),c.eof=!1,c.look_ahead=0):c.$pop_include(),c},O.$$arity=-2),e.defn(N,"$pop_include",E=function(){var t,r,$=this;return(t=n($.include_stack.$size(),0))===u||null==t||t.$$is_boolean&&1!=t||(r=$.include_stack.$pop(),t=e.to_ary(r),$.lines=null==t[0]?u:t[0],$.file=null==t[1]?u:t[1],$.dir=null==t[2]?u:t[2],$.path=null==t[3]?u:t[3],$.lineno=null==t[4]?u:t[4],$.maxdepth=null==t[5]?u:t[5],$.process_lines=null==t[6]?u:t[6],$.eof=$.lines["$empty?"](),$.look_ahead=0),u},E.$$arity=0),e.defn(N,"$include_depth",A=function(){return this.include_stack.$size()},A.$$arity=0),e.defn(N,"$exceeded_max_depth?",S=function(){var e,t,r=this,$=u;return t=n($=r.maxdepth["$[]"]("abs"),0),!((e=t!==!1&&t!==u&&null!=t?i(r.include_stack.$size(),$):t)===u||null==e||e.$$is_boolean&&1!=e)&&r.maxdepth["$[]"]("rel")},S.$$arity=0),e.defn(N,"$shift",R=function(){var t,n=this,r=R.$$p,$=u,o=u,i=u;for(r&&(R.$$p=null),o=0,i=arguments.length,$=new Array(i);o<i;o++)$[o]=arguments[o];return(t=n.unescape_next_line)===u||null==t||t.$$is_boolean&&1!=t?h(n,e.find_super_dispatcher(n,"shift",R,!1),$,r):(n.unescape_next_line=!1,h(n,e.find_super_dispatcher(n,"shift",R,!1),$,r)["$[]"](p(1,-1,!1)))},R.$$arity=0),e.defn(N,"$skip_front_matter!",M=function(n,r){var $,o,i,l=this,a=u,s=u;if(null==r&&(r=!0),a=u,n["$[]"](0)["$=="]("---")){for(s=n.$dup(),a=[],n.$shift(),r!==!1&&r!==u&&null!=r&&(l.lineno=t(l.lineno,1));i=n["$empty?"]()["$!"](),(o=i!==!1&&i!==u&&null!=i?n["$[]"](0)["$!="]("---"):i)!==u&&null!=o&&(!o.$$is_boolean||1==o);)a["$<<"](n.$shift()),r!==!1&&r!==u&&null!=r&&(l.lineno=t(l.lineno,1));($=n["$empty?"]())===u||null==$||$.$$is_boolean&&1!=$?(n.$shift(),r!==!1&&r!==u&&null!=r&&(l.lineno=t(l.lineno,1))):(h(n,"unshift",e.to_a(s)),r!==!1&&r!==u&&null!=r&&(l.lineno=0),a=u)}return a},M.$$arity=-2),e.defn(N,"$resolve_expr_val",T=function(e){var t,n,r,$=this,o=u;return r=e["$start_with?"]('"'),(t=(n=r!==!1&&r!==u&&null!=r?e["$end_with?"]('"'):r)!==!1&&n!==u&&null!=n?n:(r=e["$start_with?"]("'"),r!==!1&&r!==u&&null!=r?e["$end_with?"]("'"):r))===u||null==t||t.$$is_boolean&&1!=t?o=!1:(o=!0,e=e["$[]"](p(1,-1,!0))),(t=e["$include?"]("{"))===u||null==t||t.$$is_boolean&&1!=t||(e=$.document.$sub_attributes(e,f(["attribute_missing"],{attribute_missing:"drop"}))),o!==!1&&o!==u&&null!=o?e:(t=e["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?!!e["$=="]("true")||!e["$=="]("false")&&((t=e.$rstrip()["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"]("."))===u||null==t||t.$$is_boolean&&1!=t?e.$to_i():e.$to_f():" "):u},T.$$arity=1),e.defn(N,"$include_processors?",I=function(){var e,t,n=this;return(e=n.include_processor_extensions["$nil?"]())===u||null==e||e.$$is_boolean&&1!=e?n.include_processor_extensions["$!="](!1):(t=n.document["$extensions?"](),(e=t!==!1&&t!==u&&null!=t?n.document.$extensions()["$include_processors?"]():t)===u||null==e||e.$$is_boolean&&1!=e?n.include_processor_extensions=!1:(n.include_processor_extensions=n.document.$extensions().$include_processors())["$!"]()["$!"]())},I.$$arity=0),e.defn(N,"$to_s",C=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {path: "+t.path.$inspect()+", line #: "+t.lineno+", include depth: "+t.include_stack.$size()+", include stack: ["+h(t.include_stack,"map",[],(e=function(t){e.$$s;return null==t&&(t=u),t.$to_s()},e.$$s=t,e.$$arity=1,e)).$join(", ")+"]}>"},C.$$arity=0)}(y.base,e.const_get(v,"Reader",!0,!0),v)}(s.base,c)},Opal.modules["asciidoctor/section"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var r=(e.top,e),$=[e],o=e.nil,i=(e.breaker,e.slice,e.module),l=e.klass,a=e.send,s=e.hash2,c=e.range;return e.add_stubs(["$attr_accessor","$+","$level","$>","$==","$context","$special","$generate_id","$title","$sectnum","$assign_index","$!=","$class","$object_id","$inspect","$size","$key?","$attributes","$[]","$gsub","$downcase","$empty?","$tr_s","$end_with?","$chop","$start_with?","$references","$unique_id_start_index"]),function(r,$){var u,_=u=i(r,"Asciidoctor"),d=(_.$$proto,_.$$scope),f=$.slice().concat(d);!function(r,$,i){function u(){}var _,d,f,p,h,g,b=u=l(r,$,"Section",u),m=b.$$proto,y=b.$$scope,v=i.slice().concat(y);m.level=m.document=m.parent=m.number=m.title=m.numbered=m.blocks=o,b.$attr_accessor("index"),b.$attr_accessor("number"),b.$attr_accessor("sectname"),b.$attr_accessor("special"),b.$attr_accessor("numbered"),e.defn(b,"$initialize",_=function(r,$,i,l){var c,u=this,d=_.$$p;return null==r&&(r=o),null==$&&($=o),null==i&&(i=!0),null==l&&(l=s([],{})),d&&(_.$$p=null),a(u,e.find_super_dispatcher(u,"initialize",_,!1),[r,"section",l],null),u.level=$!==!1&&$!==o&&null!=$?$:function(){return r!==!1&&r!==o&&null!=r?t(r.$level(),1):1}(),u.numbered=(c=i!==!1&&i!==o&&null!=i)?n(u.level,0):i,u.special=(c=r!==!1&&r!==o&&null!=r?r.$context()["$=="]("section"):r,c!==!1&&c!==o&&null!=c?r.$special():c),u.index=0,u.number=1},_.$$arity=-1),e.alias(b,"name","title"),e.defn(b,"$generate_id",d=function(){var t=this;return e.const_get(v,"Section",!0,!0).$generate_id(t.$title(),t.document)},d.$$arity=0),e.defn(b,"$sectnum",f=function(e,t){var r,$,i,l,a=this;return null==e&&(e="."),null==t&&(t=o),(r=t)!==!1&&r!==o&&null!=r||(t=function(){return t["$=="](!1)?"":e}()),l=a.level,i=l!==!1&&l!==o&&null!=l?n(a.level,1):l,$=i!==!1&&i!==o&&null!=i?a.parent:i,(r=$!==!1&&$!==o&&null!=$?a.parent.$context()["$=="]("section"):$)===o||null==r||r.$$is_boolean&&1!=r?""+a.number+t:""+a.parent.$sectnum(e)+a.number+t},f.$$arity=-1),e.defn(b,"$<<",p=function(t){var n=this,r=p.$$p,$=o,i=o,l=o;for(r&&(p.$$p=null),i=0,l=arguments.length,$=new Array(l);i<l;i++)$[i]=arguments[i];return t.$context()["$=="]("section")&&n.$assign_index(t),a(n,e.find_super_dispatcher(n,"<<",p,!1),$,r)},p.$$arity=1),e.defn(b,"$to_s",h=function(){var t,n=this,r=h.$$p,$=o,i=o,l=o,s=o;for(r&&(h.$$p=null),l=0,s=arguments.length,i=new Array(s);l<s;l++)i[l]=arguments[l];return(t=n.title["$!="](o))===o||null==t||t.$$is_boolean&&1!=t?a(n,e.find_super_dispatcher(n,"to_s",h,!1),i,r):($=function(){return(t=n.numbered)===o||null==t||t.$$is_boolean&&1!=t?n.title:n.$sectnum()+" "+n.title}(),"#<"+n.$class()+"@"+n.$object_id()+" {level: "+n.level+", title: "+$.$inspect()+", blocks: "+n.blocks.$size()+"}>")},h.$$arity=0),e.defs(b,"$generate_id",g=function(n,r){var $,i,l=o,a=o,s=o,u=o,_=o,d=o,f=o;if(($=(l=r.$attributes())["$key?"]("sectids"))===o||null==$||$.$$is_boolean&&1!=$)return o;if(a=($=l["$[]"]("idseparator"))!==!1&&$!==o&&null!=$?$:"_",s=($=l["$[]"]("idprefix"))!==!1&&$!==o&&null!=$?$:"_",u=""+s+n.$downcase().$gsub(e.const_get(v,"InvalidSectionIdCharsRx",!0,!0),a),($=a["$empty?"]())===o||null==$||$.$$is_boolean&&1!=$){if(u=u.$tr_s(a,a),($=u["$end_with?"](a))===o||null==$||$.$$is_boolean&&1!=$||(u=u.$chop()),($=s["$empty?"]())!==o&&null!=$&&(!$.$$is_boolean||1==$))for(;(i=u["$start_with?"](a))!==o&&null!=i&&(!i.$$is_boolean||1==i);)u=u["$[]"](c(1,-1,!1))}else;if(($=r.$references()["$[]"]("ids")["$key?"](u))===o||null==$||$.$$is_boolean&&1!=$)return u;for(_=r.$references()["$[]"]("ids"),d=e.const_get(v,"Compliance",!0,!0).$unique_id_start_index();(i=_["$key?"](f=""+u+a+d))!==o&&null!=i&&(!i.$$is_boolean||1==i);)d=t(d,1);return f},g.$$arity=2)}(d.base,e.const_get(f,"AbstractBlock",!0,!0),f)}(r.base,$)},Opal.modules["asciidoctor/stylesheets"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module),o=e.klass,i=e.send,l=e.hash2;return e.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$open","$primary_stylesheet_name","$write","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$[]=","$sub","$css","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(t,n){var a,s=a=$(t,"Asciidoctor"),c=(s.$$proto,s.$$scope),u=n.slice().concat(c);!function(t,n,$){function a(){}var s,c,u,_,d,f,p,h,g,b,m,y,v,w,x=a=o(t,null,"Stylesheets",a),k=x.$$proto,O=x.$$scope,E=$.slice().concat(O);k.primary_stylesheet_data=k.coderay_stylesheet_data=k.pygments_stylesheet_data=r,e.cdecl(O,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.cdecl(O,"DEFAULT_PYGMENTS_STYLE","default"),e.cdecl(O,"STYLESHEETS_DATA_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(E,"DATA_PATH",!0,!0),"stylesheets")),x.__instance__=x.$new(),e.defs(x,"$instance",s=function(){var e=this;return null==e.__instance__&&(e.__instance__=r),e.__instance__},s.$$arity=0),e.defn(x,"$primary_stylesheet_name",c=function(){return e.const_get(E,"DEFAULT_STYLESHEET_NAME",!0,!0)},c.$$arity=0),e.defn(x,"$primary_stylesheet_data",u=function(){var t;return t=O.get("JAVASCRIPT_PLATFORM")["$=="]("node")?e.get("File").$join(__dirname,"css"):"css",($a=x.primary_stylesheet_data)!==!1&&$a!==r&&null!=$a?$a:x.primary_stylesheet_data=e.get("IO").$read(e.get("File").$join(t,"asciidoctor.css")).$chomp()},u.$$arity=0),e.defn(x,"$embed_primary_stylesheet",_=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},_.$$arity=0),e.defn(x,"$write_primary_stylesheet",d=function(t){var n,$=this;return null==t&&(t="."),i(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[e.const_get([e.Object.$$scope],"File",!0,!0).$join(t,$.$primary_stylesheet_name()),"w"],(n=function(e){var t=n.$$s||this;return null==e&&(e=r),e.$write(t.$primary_stylesheet_data())},n.$$s=$,n.$$arity=1,n))},d.$$arity=-1),e.defn(x,"$coderay_stylesheet_name",f=function(){return"coderay-asciidoctor.css"},f.$$arity=0),e.defn(x,"$coderay_stylesheet_data",p=function(){var t,n=this;return(t=n.coderay_stylesheet_data)!==!1&&t!==r&&null!=t?t:n.coderay_stylesheet_data=e.const_get([e.Object.$$scope],"IO",!0,!0).$read(e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(E,"STYLESHEETS_DATA_PATH",!0,!0),"coderay-asciidoctor.css")).$chomp()},p.$$arity=0),e.defn(x,"$embed_coderay_stylesheet",h=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},h.$$arity=0),e.defn(x,"$write_coderay_stylesheet",g=function(t){var n,$=this;return null==t&&(t="."),i(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[e.const_get([e.Object.$$scope],"File",!0,!0).$join(t,$.$coderay_stylesheet_name()),"w"],(n=function(e){var t=n.$$s||this;return null==e&&(e=r),e.$write(t.$coderay_stylesheet_data())},n.$$s=$,n.$$arity=1,n))},g.$$arity=-1),e.defn(x,"$pygments_stylesheet_name",b=function(t){var n;return null==t&&(t=r),"pygments-"+((n=t)!==!1&&n!==r&&null!=n?n:e.const_get(E,"DEFAULT_PYGMENTS_STYLE",!0,!0))+".css"},b.$$arity=-1),e.defn(x,"$pygments_stylesheet_data",m=function(t){var n,$,o,i,a=this;return null==t&&(t=r),(n=a.$load_pygments())===r||null==n||n.$$is_boolean&&1!=n?"/* Pygments styles disabled. Pygments is not available. */":(n=(o=t)!==!1&&o!==r&&null!=o?o:e.const_get(E,"DEFAULT_PYGMENTS_STYLE",!0,!0),$=(o=a.pygments_stylesheet_data)!==!1&&o!==r&&null!=o?o:a.pygments_stylesheet_data=l([],{}),(o=$["$[]"](n))!==!1&&o!==r&&null!=o?o:$["$[]="](n,e.const_get([e.Object.$$scope],"Pygments",!0,!0).$css(".listingblock .pygments",l(["classprefix","style"],{classprefix:"tok-",style:(i=t)!==!1&&i!==r&&null!=i?i:e.const_get(E,"DEFAULT_PYGMENTS_STYLE",!0,!0)})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},m.$$arity=-1),e.defn(x,"$embed_pygments_stylesheet",y=function(e){var t=this;return null==e&&(e=r),"<style>\n"+t.$pygments_stylesheet_data(e)+"\n</style>"},y.$$arity=-1),e.defn(x,"$write_pygments_stylesheet",v=function(t,n){var $,o=this;return null==t&&(t="."),null==n&&(n=r),i(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[e.const_get([e.Object.$$scope],"File",!0,!0).$join(t,o.$pygments_stylesheet_name(n)),"w"],($=function(e){var t=$.$$s||this;return null==e&&(e=r),e.$write(t.$pygments_stylesheet_data(n))},$.$$s=o,$.$$arity=1,$))},v.$$arity=-1),e.defn(x,"$load_pygments",w=function(){var t;return!((t=e.const_get([e.Object.$$scope],"Pygments",!0,!1)?"constant":r)===r||null==t||t.$$is_boolean&&1!=t)||e.const_get(E,"Helpers",!0,!0).$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},w.$$arity=0)}(c.base,0,u)}(t.base,n)},Opal.modules["asciidoctor/table"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var l=(e.top,e),a=[e],s=e.nil,c=(e.breaker,e.slice,e.module),u=e.klass,_=e.hash2,d=e.send,f=e.range;return e.add_stubs(["$attr_accessor","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$attr_reader","$header_row?","$table","$delete","$!","$rstrip","$start_with?","$slice","$length","$strip","$split","$include?","$readlines","$!=","$unshift","$nil?","$apply_subs","$convert","$map","$text","$to_s","$cursor","$raise","$nested?","$document","$escape","$columns","$match","$chop","$pre_match","$post_match","$buffer","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$warn","$line_info","$tr_s","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$rows","$effective_column_visits"]),function(l,a){var p,h=p=c(l,"Asciidoctor"),g=(h.$$proto,h.$$scope),b=a.slice().concat(g);!function(l,a,c){function f(){}var p,h,g,b,m,y=f=u(l,a,"Table",f),v=y.$$proto,w=y.$$scope,x=c.slice().concat(w);v.attributes=v.document=v.has_header_option=v.rows=v.columns=s,function(t,n,r){function $(){}var o,i=$=u(t,null,"Rows",$),l=(i.$$proto,i.$$scope);r.slice().concat(l);i.$attr_accessor("head","foot","body"),e.defn(i,"$initialize",o=function(e,t,n){var r=this;return null==e&&(e=[]),null==t&&(t=[]),null==n&&(n=[]),r.head=e,r.foot=t,r.body=n},o.$$arity=-1),e.alias(i,"[]","send")}(w.base,0,x),e.cdecl(w,"DEFAULT_DATA_FORMAT","psv"),e.cdecl(w,"DATA_FORMATS",["psv","dsv","csv"]),e.cdecl(w,"DEFAULT_DELIMITERS",_(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),e.cdecl(w,"TEXT_STYLES",_(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),e.cdecl(w,"ALIGNMENTS",_(["h","v"],{h:_(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:_(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),y.$attr_accessor("columns"),y.$attr_accessor("rows"),y.$attr_accessor("has_header_option"),e.defn(y,"$initialize",p=function(i,l){var a,c,u,_=this,f=p.$$p,h=s,g=s,b=s;return f&&(p.$$p=null),d(_,e.find_super_dispatcher(_,"initialize",p,!1),[i,"table"],null),_.rows=e.const_get(x,"Rows",!0,!0).$new(),_.columns=[],
_.has_header_option=l["$key?"]("header-option"),(a=h=l["$[]"]("width"))===s||null==a||a.$$is_boolean&&1!=a?g=100:(a=(c=t(g=h.$to_i(),100))!==!1&&c!==s&&null!=c?c:n(g,1))===s||null==a||a.$$is_boolean&&1!=a||((a=(c=g["$=="](0))?(u=h["$=="]("0"))!==!1&&u!==s&&null!=u?u:h["$=="]("0%"):g["$=="](0))===s||null==a||a.$$is_boolean&&1!=a)&&(g=100),b=["tablepcwidth",g],d(_.attributes,"[]=",e.to_a(b)),b[r(b.length,1)],(a=_.document.$attributes()["$key?"]("pagewidth"))===s||null==a||a.$$is_boolean&&1!=a||(a="tableabswidth",c=_.attributes,(u=c["$[]"](a))!==!1&&u!==s&&null!=u||c["$[]="](a,$(o(_.attributes["$[]"]("tablepcwidth").$to_f(),100),_.document.$attributes()["$[]"]("pagewidth")).$round())),(a=l["$key?"]("rotate-option"))===s||null==a||a.$$is_boolean&&1!=a?s:(b=["orientation","landscape"],d(l,"[]=",e.to_a(b)),b[r(b.length,1)])},p.$$arity=2),e.defn(y,"$header_row?",h=function(){var e,t=this;return e=t.has_header_option,e!==!1&&e!==s&&null!=e?t.rows.$body()["$empty?"]():e},h.$$arity=0),e.defn(y,"$create_columns",g=function(t){var n,$,o=this,l=s,a=s,c=s;return l=[],a=0,d(t,"each",[],(n=function(t){var r=n.$$s||this;return null==t&&(t=s),a=i(a,t["$[]"]("width")),l["$<<"](e.const_get(x,"Column",!0,!0).$new(r,l.$size(),t))},n.$$s=o,n.$$arity=1,n)),(($=(o.columns=l)["$empty?"]())===s||null==$||$.$$is_boolean&&1!=$)&&(c=["colcount",l.$size()],d(o.attributes,"[]=",e.to_a(c)),c[r(c.length,1)],o.$assign_column_widths(function(){return a["$=="](0)?s:a}())),s},g.$$arity=1),e.defn(y,"$assign_column_widths",b=function(e){var t,n,l=this,a=s,c=s,u=s;return null==e&&(e=s),a=10["$**"](4),c=u=0,e!==!1&&e!==s&&null!=e?d(l.columns,"each",[],(t=function(n){t.$$s;return null==n&&(n=s),c=i(c,u=n.$assign_width(s,e,a))},t.$$s=l,t.$$arity=1,t)):(u=o(o($(100,a),l.columns.$size()).$to_i(),a),u.$to_i()["$=="](u)&&(u=u.$to_i()),d(l.columns,"each",[],(n=function(e){n.$$s;return null==e&&(e=s),c=i(c,e.$assign_width(u))},n.$$s=l,n.$$arity=1,n))),c["$=="](100)||l.columns["$[]"](-1).$assign_width(o($(i(r(100,c),u),a).$round(),a)),s},b.$$arity=-1),e.defn(y,"$partition_header_footer",m=function(n){var $,o,i,l=this,a=s,c=s,u=s;return a=["rowcount",l.rows.$body().$size()],d(l.attributes,"[]=",e.to_a(a)),a[r(a.length,1)],c=l.rows.$body().$size(),o=t(c,0),($=o!==!1&&o!==s&&null!=o?l.has_header_option:o)===s||null==$||$.$$is_boolean&&1!=$||(u=l.rows.$body().$shift(),c=r(c,1),d(u,"each",[],(i=function(t){i.$$s;return null==t&&(t=s),a=[s],d(t,"style=",e.to_a(a)),a[r(a.length,1)]},i.$$s=l,i.$$arity=1,i)),a=[[u]],d(l.rows,"head=",e.to_a(a)),a[r(a.length,1)]),o=t(c,0),($=o!==!1&&o!==s&&null!=o?n["$key?"]("footer-option"):o)===s||null==$||$.$$is_boolean&&1!=$||(a=[[l.rows.$body().$pop()]],d(l.rows,"foot=",e.to_a(a)),a[r(a.length,1)]),s},m.$$arity=1)}(g.base,e.const_get(b,"AbstractBlock",!0,!0),b),function(t,n,l){function a(){}var c,f,p=a=u(t,n,"Column",a),h=p.$$proto,g=p.$$scope;l.slice().concat(g);h.attributes=s,p.$attr_accessor("style"),e.defn(p,"$initialize",c=function(t,n,$){var o,l,a,u=this,f=c.$$p,p=s;return null==$&&($=_([],{})),f&&(c.$$p=null),d(u,e.find_super_dispatcher(u,"initialize",c,!1),[t,"column"],null),u.style=$["$[]"]("style"),p=["colnumber",i(n,1)],d($,"[]=",e.to_a(p)),p[r(p.length,1)],o="width",l=$,(a=l["$[]"](o))!==!1&&a!==s&&null!=a||l["$[]="](o,1),o="halign",l=$,(a=l["$[]"](o))!==!1&&a!==s&&null!=a||l["$[]="](o,"left"),o="valign",l=$,(a=l["$[]"](o))!==!1&&a!==s&&null!=a||l["$[]="](o,"top"),u.$update_attributes($)},c.$$arity=-3),e.alias(p,"table","parent"),e.defn(p,"$assign_width",f=function(t,n,i){var l,a=this,c=s;return null==n&&(n=s),null==i&&(i=1e4),n!==!1&&n!==s&&null!=n&&(t=o($($(o(a.attributes["$[]"]("width").$to_f(),n),100),i).$to_i(),i),t.$to_i()["$=="](t)&&(t=t.$to_i())),c=["colpcwidth",t],d(a.attributes,"[]=",e.to_a(c)),c[r(c.length,1)],(l=a.$parent().$attributes()["$key?"]("tableabswidth"))===s||null==l||l.$$is_boolean&&1!=l||(c=["colabswidth",$(o(t,100),a.$parent().$attributes()["$[]"]("tableabswidth")).$round()],d(a.attributes,"[]=",e.to_a(c)),c[r(c.length,1)]),t},f.$$arity=-2)}(e.const_get(b,"Table",!0,!0),e.const_get(b,"AbstractNode",!0,!0),b),function(t,n,$){function o(){}var i,l,a,c,f,p=o=u(t,n,"Cell",o),h=p.$$proto,g=p.$$scope,b=$.slice().concat(g);h.document=h.text=h.style=h.inner_document=h.colspan=h.rowspan=h.attributes=s,p.$attr_accessor("style"),p.$attr_accessor("colspan"),p.$attr_accessor("rowspan"),e.alias(p,"column","parent"),p.$attr_reader("inner_document"),e.defn(p,"$initialize",i=function(t,n,$,o){var l,a,c=this,u=i.$$p,f=s,p=s,h=s,g=s,m=s,y=s,v=s;if(null==$&&($=_([],{})),null==o&&(o=_([],{})),u&&(i.$$p=null),d(c,e.find_super_dispatcher(c,"initialize",i,!1),[t,"cell"],null),t!==!1&&t!==s&&null!=t?(f=function(){return(l=p=t.$table()["$header_row?"]())===s||null==l||l.$$is_boolean&&1!=l?t.$attributes()["$[]"]("style"):s}(),c.$update_attributes(t.$attributes())):p=f=s,$!==!1&&$!==s&&null!=$){if(c.colspan=$.$delete("colspan"),c.rowspan=$.$delete("rowspan"),((l=(a=p)!==!1&&a!==s&&null!=a?a:$["$key?"]("style")["$!"]())===s||null==l||l.$$is_boolean&&1!=l)&&(f=$["$[]"]("style")),(l=o["$[]"]("strip_text"))!==s&&null!=l&&(!l.$$is_boolean||1==l))if((l=(a=f["$=="]("literal"))!==!1&&a!==s&&null!=a?a:f["$=="]("verse"))===s||null==l||l.$$is_boolean&&1!=l)n=n.$strip();else for(n=n.$rstrip();(a=n["$start_with?"](e.const_get(b,"EOL",!0,!0)))!==s&&null!=a&&(!a.$$is_boolean||1==a);)n=n.$slice(1,n.$length());c.$update_attributes($)}else c.colspan=s,c.rowspan=s;return f["$=="]("asciidoc")&&(h=c.document.$attributes().$delete("doctitle"),g=n.$split(e.const_get(b,"EOL",!0,!0),-1),((l=(a=g["$empty?"]())!==!1&&a!==s&&null!=a?a:g["$[]"](0)["$include?"]("::")["$!"]())===s||null==l||l.$$is_boolean&&1!=l)&&(m=g["$[]"](0),y=e.const_get(b,"PreprocessorReader",!0,!0).$new(c.document,m).$readlines(),(l=y["$!="](m))===s||null==l||l.$$is_boolean&&1!=l||(g.$shift(),d(g,"unshift",e.to_a(y)))),c.inner_document=e.const_get(b,"Document",!0,!0).$new(g,_(["header_footer","parent","cursor"],{header_footer:!1,parent:c.document,cursor:o["$[]"]("cursor")})),((l=h["$nil?"]())===s||null==l||l.$$is_boolean&&1!=l)&&(v=["doctitle",h],d(c.document.$attributes(),"[]=",e.to_a(v)),v[r(v.length,1)])),c.text=n,c.style=f},i.$$arity=-3),e.defn(p,"$text",l=function(){var t=this;return t.$apply_subs(t.text,function(){return t.style["$=="]("literal")?e.const_get(b,"BASIC_SUBS",!0,!0):e.const_get(b,"NORMAL_SUBS",!0,!0)}())},l.$$arity=0),e.defn(p,"$text=",a=function(e){return this.text=e},a.$$arity=1),e.defn(p,"$content",c=function(){var t,n=this;return n.style["$=="]("asciidoc")?n.inner_document.$convert():d(n.$text().$split(e.const_get(b,"BlankLineRx",!0,!0)),"map",[],(t=function(n){var r,$,o=t.$$s||this;return null==o.style&&(o.style=s),null==n&&(n=s),(r=($=o.style["$!"]())!==!1&&$!==s&&null!=$?$:o.style["$=="]("header"))===s||null==r||r.$$is_boolean&&1!=r?e.const_get(b,"Inline",!0,!0).$new(o.$parent(),"quoted",n,_(["type"],{type:o.style})).$convert():n},t.$$s=n,t.$$arity=1,t))},c.$$arity=0),e.defn(p,"$to_s",f=function(){var t,n=this,r=f.$$p,$=s,o=s,i=s;for(r&&(f.$$p=null),o=0,i=arguments.length,$=new Array(i);o<i;o++)$[o]=arguments[o];return d(n,e.find_super_dispatcher(n,"to_s",f,!1),$,r).$to_s()+" - [text: "+n.text+", colspan: "+((t=n.colspan)!==!1&&t!==s&&null!=t?t:1)+", rowspan: "+((t=n.rowspan)!==!1&&t!==s&&null!=t?t:1)+", attributes: "+n.attributes+"]"},f.$$arity=0)}(e.const_get(b,"Table",!0,!0),e.const_get(b,"AbstractNode",!0,!0),b),function(n,$,o){function l(){}var a,c,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T=l=u(n,null,"ParserContext",l),I=T.$$proto,C=T.$$scope,N=o.slice().concat(C);I.format=I.delimiter=I.delimiter_re=I.buffer=I.cellspecs=I.cell_open=I.last_cursor=I.table=I.current_row=I.colcount=I.column_visits=I.active_rowspans=I.linenum=s,T.$attr_accessor("table"),T.$attr_accessor("format"),T.$attr_reader("colcount"),T.$attr_accessor("buffer"),T.$attr_reader("delimiter"),T.$attr_reader("delimiter_re"),e.defn(T,"$initialize",a=function(t,n,r){var $,o,i=this;return null==r&&(r=_([],{})),i.reader=t,i.table=n,i.last_cursor=t.$cursor(),($=i.format=r["$[]"]("format"))===s||null==$||$.$$is_boolean&&1!=$?i.format=e.const_get([e.const_get(N,"Table",!0,!0).$$scope],"DEFAULT_DATA_FORMAT",!0,!0):(($=e.const_get([e.const_get(N,"Table",!0,!0).$$scope],"DATA_FORMATS",!0,!0)["$include?"](i.format))===s||null==$||$.$$is_boolean&&1!=$)&&i.$raise("Illegal table format: "+i.format),o=i.format["$=="]("psv")?r["$key?"]("separator")["$!"]():i.format["$=="]("psv"),($=o!==!1&&o!==s&&null!=o?n.$document()["$nested?"]():o)===s||null==$||$.$$is_boolean&&1!=$?i.delimiter=($=r["$[]"]("separator"))!==!1&&$!==s&&null!=$?$:e.const_get([e.const_get(N,"Table",!0,!0).$$scope],"DEFAULT_DELIMITERS",!0,!0)["$[]"](i.format):i.delimiter="!",i.delimiter_re=new RegExp(e.const_get(N,"Regexp",!0,!0).$escape(i.delimiter)),i.colcount=function(){return($=n.$columns()["$empty?"]())===s||null==$||$.$$is_boolean&&1!=$?n.$columns().$size():-1}(),i.buffer="",i.cellspecs=[],i.cell_open=!1,i.active_rowspans=[0],i.column_visits=0,i.current_row=[],i.linenum=-1},a.$$arity=-3),e.defn(T,"$starts_with_delimiter?",c=function(e){var t=this;return e["$start_with?"](t.delimiter)},c.$$arity=1),e.defn(T,"$match_delimiter",p=function(e){return this.delimiter_re.$match(e)},p.$$arity=1),e.defn(T,"$skip_matched_delimiter",h=function(e,t){var n=this;return null==t&&(t=!1),n.buffer=""+n.buffer+function(){return t!==!1&&t!==s&&null!=t?e.$pre_match().$chop():e.$pre_match()}()+n.delimiter,e.$post_match()},h.$$arity=-2),e.defn(T,"$buffer_has_unclosed_quotes?",g=function(e){var t,n,r,$=this,o=s,l=s;return null==e&&(e=s),!((t=(o=function(){return e!==!1&&e!==s&&null!=e?i($.$buffer(),e).$strip():$.$buffer().$strip()}())["$start_with?"]('"'))===s||null==t||t.$$is_boolean&&1!=t)&&(r=l=o["$end_with?"]('"'),(t=(n=r!==!1&&r!==s&&null!=r?o["$end_with?"]('""'):r)!==!1&&n!==s&&null!=n?n:o["$start_with?"]('""'))===s||null==t||t.$$is_boolean&&1!=t?l["$!"]():(t=(o=o.$gsub('""',""))["$start_with?"]('"'),t!==!1&&t!==s&&null!=t?o["$end_with?"]('"')["$!"]():t))},g.$$arity=-1),e.defn(T,"$take_cellspec",b=function(){return this.cellspecs.$shift()},b.$$arity=0),e.defn(T,"$push_cellspec",m=function(e){var t,n=this;return null==e&&(e=_([],{})),n.cellspecs["$<<"]((t=e)!==!1&&t!==s&&null!=t?t:_([],{})),s},m.$$arity=-1),e.defn(T,"$keep_cell_open",y=function(){return this.cell_open=!0,s},y.$$arity=0),e.defn(T,"$mark_cell_closed",v=function(){return this.cell_open=!1,s},v.$$arity=0),e.defn(T,"$cell_open?",w=function(){return this.cell_open},w.$$arity=0),e.defn(T,"$cell_closed?",x=function(){return this.cell_open["$!"]()},x.$$arity=0),e.defn(T,"$close_open_cell",k=function(e){var t,n=this;return null==e&&(e=_([],{})),n.$push_cellspec(e),(t=n["$cell_open?"]())===s||null==t||t.$$is_boolean&&1!=t||n.$close_cell(!0),n.$advance(),s},k.$$arity=-1),e.defn(T,"$close_cell",O=function(n){try{var $,o,l,a=this,c=s,u=s,p=s,h=s;return null==n&&(n=!1),a.format["$=="]("psv")?(c=!0,u=a.buffer,a.buffer="",($=p=a.$take_cellspec())===s||null==$||$.$$is_boolean&&1!=$?(a.$warn("asciidoctor: ERROR: "+a.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),p=_([],{}),h=1):h=($=p.$delete("repeatcol"))!==!1&&$!==s&&null!=$?$:1):(c=!1,u=a.buffer.$strip(),a.buffer="",p=s,h=1,a.format["$=="]("csv")&&(o=u["$empty?"]()["$!"](),($=o!==!1&&o!==s&&null!=o?u["$include?"]('"'):o)===s||null==$||$.$$is_boolean&&1!=$||(o=u["$start_with?"]('"'),($=o!==!1&&o!==s&&null!=o?u["$end_with?"]('"'):o)===s||null==$||$.$$is_boolean&&1!=$||(u=u["$[]"](f(1,-1,!0)).$strip()),u=u.$tr_s('"','"')))),d(1,"upto",[h],(l=function($){var o,a,f,g,b,m=l.$$s||this,y=s,v=s,w=s,x=s;return null==m.colcount&&(m.colcount=s),null==m.table&&(m.table=s),null==m.current_row&&(m.current_row=s),null==m.last_cursor&&(m.last_cursor=s),null==m.reader&&(m.reader=s),null==m.column_visits&&(m.column_visits=s),null==m.linenum&&(m.linenum=s),null==$&&($=s),m.colcount["$=="](-1)?(m.table.$columns()["$<<"](y=e.const_get([e.const_get(N,"Table",!0,!0).$$scope],"Column",!0,!0).$new(m.table,r(i(m.table.$columns().$size(),$),1))),a=(f=p!==!1&&p!==s&&null!=p)?p["$key?"]("colspan"):p,(o=a!==!1&&a!==s&&null!=a?t(v=r(p["$[]"]("colspan").$to_i(),1),0):a)===s||null==o||o.$$is_boolean&&1!=o||(w=m.table.$columns().$size(),d(v,"times",[],(g=function(t){var n=g.$$s||this;return null==n.table&&(n.table=s),null==t&&(t=s),n.table.$columns()["$<<"](e.const_get([e.const_get(N,"Table",!0,!0).$$scope],"Column",!0,!0).$new(n.table,i(w,t)))},g.$$s=m,g.$$arity=1,g)))):((o=y=m.table.$columns()["$[]"](m.current_row.$size()))===s||null==o||o.$$is_boolean&&1!=o)&&(m.$warn("asciidoctor: ERROR: "+m.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),e.ret(s)),x=e.const_get([e.const_get(N,"Table",!0,!0).$$scope],"Cell",!0,!0).$new(y,u,p,_(["cursor","strip_text"],{cursor:m.last_cursor,strip_text:c})),m.last_cursor=m.reader.$cursor(),((o=(a=x.$rowspan()["$!"]())!==!1&&a!==s&&null!=a?a:x.$rowspan()["$=="](1))===s||null==o||o.$$is_boolean&&1!=o)&&m.$activate_rowspan(x.$rowspan(),(o=x.$colspan())!==!1&&o!==s&&null!=o?o:1),m.column_visits=i(m.column_visits,(o=x.$colspan())!==!1&&o!==s&&null!=o?o:1),m.current_row["$<<"](x),a=m["$end_of_row?"](),(o=a!==!1&&a!==s&&null!=a?(f=(b=m.colcount["$!="](-1))!==!1&&b!==s&&null!=b?b:t(m.linenum,0))!==!1&&f!==s&&null!=f?f:(b=n!==!1&&n!==s&&null!=n)?$["$=="](h):n:a)===s||null==o||o.$$is_boolean&&1!=o?s:m.$close_row()},l.$$s=a,l.$$arity=1,l)),a.cell_open=!1,s}catch(t){if(t===e.returner)return t.$v;throw t}},O.$$arity=-1),e.defn(T,"$close_row",E=function(){var e,t,n,r=this;return r.table.$rows().$body()["$<<"](r.current_row),r.colcount["$=="](-1)&&(r.colcount=r.column_visits),r.column_visits=0,r.current_row=[],r.active_rowspans.$shift(),e=0,t=r.active_rowspans,(n=t["$[]"](e))!==!1&&n!==s&&null!=n||t["$[]="](e,0),s},E.$$arity=0),e.defn(T,"$activate_rowspan",A=function(t,n){var $,o=this;return d(1..$upto(r(t,1)),"each",[],($=function(t){var o,l=$.$$s||this,a=s;return null==l.active_rowspans&&(l.active_rowspans=s),null==t&&(t=s),a=[t,i((o=l.active_rowspans["$[]"](t))!==!1&&o!==s&&null!=o?o:0,n)],d(l.active_rowspans,"[]=",e.to_a(a)),a[r(a.length,1)]},$.$$s=o,$.$$arity=1,$)),s},A.$$arity=2),e.defn(T,"$end_of_row?",S=function(){var e,t=this;return(e=t.colcount["$=="](-1))!==!1&&e!==s&&null!=e?e:t.$effective_column_visits()["$=="](t.colcount)},S.$$arity=0),e.defn(T,"$effective_column_visits",R=function(){var e=this;return i(e.column_visits,e.active_rowspans["$[]"](0))},R.$$arity=0),e.defn(T,"$advance",M=function(){var e=this;return e.linenum=i(e.linenum,1)},M.$$arity=0)}(e.const_get(b,"Table",!0,!0),0,b)}(l.base,a)},Opal.modules["asciidoctor/converter/composite"]=function(e){var t=(e.top,e),n=[e],r=e.nil,$=(e.breaker,e.slice,e.module),o=e.klass,i=e.send,l=e.hash2;return e.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$[]=","$find_converter","$handles?","$raise"]),function(t,n){var a,s=a=$(t,"Asciidoctor"),c=(s.$$proto,s.$$scope),u=n.slice().concat(c);!function(t,n,$){function a(){}var s,c,u,_,d=a=o(t,n,"CompositeConverter",a),f=d.$$proto,p=d.$$scope;$.slice().concat(p);f.converter_map=f.converters=r,d.$attr_reader("converters"),e.defn(d,"$initialize",s=function(e,t){var n,$,o=this,a=arguments.length,s=a-1;s<0&&(s=0),$=new Array(s);for(var c=1;c<a;c++)$[c-1]=arguments[c];return o.backend=e,i(o.converters=$.$flatten().$compact(),"each",[],(n=function(e){var t,$=n.$$s||this;return null==e&&(e=r),(t=e["$respond_to?"]("composed"))===r||null==t||t.$$is_boolean&&1!=t?r:e.$composed($)},n.$$s=o,n.$$arity=1,n)),o.converter_map=l([],{})},s.$$arity=-2),e.defn(d,"$convert",c=function(e,t,n){var $,o=this;return null==t&&(t=r),null==n&&(n=l([],{})),($=t)!==!1&&$!==r&&null!=$||(t=e.$node_name()),o.$converter_for(t).$convert(e,t,n)},c.$$arity=-2),e.alias(d,"convert_with_options","convert"),e.defn(d,"$converter_for",u=function(e){var t,n,$,o=this;return t=e,n=o.converter_map,($=n["$[]"](t))!==!1&&$!==r&&null!=$?$:n["$[]="](t,o.$find_converter(e))},u.$$arity=1),e.defn(d,"$find_converter",_=function(t){try{var n,$=this;return i($.converters,"each",[],(n=function($){var o;n.$$s;if(null==$&&($=r),(o=$["$handles?"](t))===r||null==o||o.$$is_boolean&&1!=o)return r;e.ret($)},n.$$s=$,n.$$arity=1,n)),$.$raise("Could not find a converter to handle transform: "+t)}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=1)}(e.const_get(u,"Converter",!0,!0),e.const_get([e.const_get(u,"Converter",!0,!0).$$scope],"Base",!0,!0),u)}(t.base,n)},Opal.modules["asciidoctor/converter/html5"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,e),s=[e],c=e.nil,u=(e.breaker,e.slice,e.module),_=e.klass,d=e.send,f=e.hash2;return e.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$doctitle","$include?","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$special","$numbered","$caption","$<=","$sectnum","$<","$captioned_title","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$each_with_index","$items","$text?","$blocks?","$chomp","$read_svg_contents","$image_uri","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$select","$rows","$map","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$target","$type","$attributes","$references","$join","$chop","$read_contents","$sub","$gsub","$match","$length"]),function(a,s){var p,h=p=u(a,"Asciidoctor"),g=(h.$$proto,h.$$scope),b=s.slice().concat(g);!function(a,s,u){function p(){}var h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne=p=_(a,s,"Html5Converter",p),re=ne.$$proto,$e=ne.$$scope,oe=u.slice().concat($e),ie=c;re.xml_mode=re.void_element_slash=re.stylesheets=c,ie=[["","",!1]],d(e.cdecl($e,"QUOTE_TAGS",f(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",e.to_a(ie)),ie[t(ie.length,1)],e.cdecl($e,"SvgPreambleRx",/^.*?(?=<svg\b)/m),e.cdecl($e,"SvgStartTagRx",/^<svg[^>]*>/),e.cdecl($e,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),e.defn(ne,"$initialize",h=function(t,n){var r,$=this;return null==n&&(n=f([],{})),$.xml_mode=n["$[]"]("htmlsyntax")["$=="]("xml"),$.void_element_slash=function(){return(r=$.xml_mode)===c||null==r||r.$$is_boolean&&1!=r?c:"/"}(),$.stylesheets=e.const_get(oe,"Stylesheets",!0,!0).$instance()},h.$$arity=-2),e.defn(ne,"$document",g=function(t){var o,i,l,a,s,u,_=this,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c,I=c,C=c,N=c,j=c;return p=[],h=_.void_element_slash,g="<br"+h+">",((o=(b=t.$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&(b+=":"),m=b+"//cdnjs.cloudflare.com/ajax/libs",y=(o=n(t.$safe(),e.const_get([e.const_get(oe,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))!==!1&&o!==c&&null!=o?o:t["$attr?"]("linkcss"),p["$<<"]("<!DOCTYPE html>"),v=function(){return(o=t["$attr?"]("nolang"))===c||null==o||o.$$is_boolean&&1!=o?' lang="'+t.$attr("lang","en")+'"':c}(),p["$<<"]("<html"+function(){return(o=_.xml_mode)===c||null==o||o.$$is_boolean&&1!=o?c:' xmlns="http://www.w3.org/1999/xhtml"'}()+v+">"),p["$<<"]('<head>\n<meta charset="'+t.$attr("encoding","UTF-8")+'"'+h+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+h+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+h+'>\n<meta name="generator" content="Asciidoctor '+t.$attr("asciidoctor-version")+'"'+h+">"),(o=t["$attr?"]("app-name"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="application-name" content="'+t.$attr("app-name")+'"'+h+">"),(o=t["$attr?"]("description"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="description" content="'+t.$attr("description")+'"'+h+">"),(o=t["$attr?"]("keywords"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="keywords" content="'+t.$attr("keywords")+'"'+h+">"),(o=t["$attr?"]("authors"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="author" content="'+t.$attr("authors")+'"'+h+">"),(o=t["$attr?"]("copyright"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="copyright" content="'+t.$attr("copyright")+'"'+h+">"),p["$<<"]("<title>"+t.$doctitle(f(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),(o=e.const_get(oe,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](t.$attr("stylesheet")))===c||null==o||o.$$is_boolean&&1!=o?(o=t["$attr?"]("stylesheet"))===c||null==o||o.$$is_boolean&&1!=o||(y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(t.$attr("stylesheet"),t.$attr("stylesdir",""))+'"'+h+">"):p["$<<"]("<style>\n"+t.$read_asset(t.$normalize_system_path(t.$attr("stylesheet"),t.$attr("stylesdir","")),f(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>")):((o=w=t.$attr("webfonts"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<link rel="stylesheet" href="'+b+"//fonts.googleapis.com/css?family="+function(){return(o=w["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o?w:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"}()+'"'+h+">"),y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(e.const_get(oe,"DEFAULT_STYLESHEET_NAME",!0,!0),t.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_primary_stylesheet())),(o=t["$attr?"]("icons","font"))===c||null==o||o.$$is_boolean&&1!=o||((o=t["$attr?"]("iconfont-remote"))===c||null==o||o.$$is_boolean&&1!=o?(x=t.$attr("iconfont-name","font-awesome")+".css",p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(x,t.$attr("stylesdir",""),!1)+'"'+h+">")):p["$<<"]('<link rel="stylesheet" href="'+t.$attr("iconfont-cdn",m+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+h+">")),k=O=t.$attr("source-highlighter"),"coderay"["$==="](k)?t.$attr("coderay-css","class")["$=="]("class")&&(y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(_.stylesheets.$coderay_stylesheet_name(),t.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](k)&&t.$attr("pygments-css","class")["$=="]("class")&&(E=t.$attr("pygments-style"),y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(_.stylesheets.$pygments_stylesheet_name(E),t.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_pygments_stylesheet(E))),((o=(A=t.$docinfo())["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&p["$<<"](A),p["$<<"]("</head>"),S=[],(o=t.$id())===c||null==o||o.$$is_boolean&&1!=o||S["$<<"]('id="'+t.$id()+'"'),a=R=t["$sections?"](),l=a!==!1&&a!==c&&null!=a?t["$attr?"]("toc-class"):a,i=l!==!1&&l!==c&&null!=l?t["$attr?"]("toc"):l,(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc-placement","auto"):i)===c||null==o||o.$$is_boolean&&1!=o?S["$<<"]('class="'+t.$doctype()+'"'):S["$<<"]('class="'+t.$doctype()+" "+t.$attr("toc-class")+" toc-"+t.$attr("toc-position","header")+'"'),(o=t["$attr?"]("max-width"))===c||null==o||o.$$is_boolean&&1!=o||S["$<<"]('style="max-width: '+t.$attr("max-width")+';"'),p["$<<"]("<body "+r(S," ")+">"),((o=t.$noheader())===c||null==o||o.$$is_boolean&&1!=o)&&(p["$<<"]('<div id="header">'),t.$doctype()["$=="]("manpage")?(p["$<<"]("<h1>"+t.$doctitle()+" Manual Page</h1>"),i=(l=R!==!1&&R!==c&&null!=R)?t["$attr?"]("toc"):R,(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc-placement","auto"):i)===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+_.$outline(t)+"\n</div>"),p["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):((o=t["$has_header?"]())===c||null==o||o.$$is_boolean&&1!=o||(((o=t.$notitle())===c||null==o||o.$$is_boolean&&1!=o)&&p["$<<"]("<h1>"+t.$header().$title()+"</h1>"),M=[],(o=t["$attr?"]("author"))===c||null==o||o.$$is_boolean&&1!=o||(M["$<<"]('<span id="author" class="author">'+t.$attr("author")+"</span>"+g),(o=t["$attr?"]("email"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"]('<span id="email" class="email">'+t.$sub_macros(t.$attr("email"))+"</span>"+g),(o=$(T=t.$attr("authorcount").$to_i(),1))===c||null==o||o.$$is_boolean&&1!=o||d(e.Range.$new(2,T,!1),"each",[],(s=function(e){var n;s.$$s;return null==e&&(e=c),M["$<<"]('<span id="author'+e+'" class="author">'+t.$attr("author_"+e)+"</span>"+g),(n=t["$attr?"]("email_"+e))===c||null==n||n.$$is_boolean&&1!=n?c:M["$<<"]('<span id="email'+e+'" class="email">'+t.$sub_macros(t.$attr("email_"+e))+"</span>"+g)},s.$$s=_,s.$$arity=1,s))),(o=t["$attr?"]("revnumber"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"]('<span id="revnumber">'+((o=t.$attr("version-label"))!==!1&&o!==c&&null!=o?o:"").$downcase()+" "+t.$attr("revnumber")+function(){return(o=t["$attr?"]("revdate"))===c||null==o||o.$$is_boolean&&1!=o?"":","}()+"</span>"),(o=t["$attr?"]("revdate"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"]('<span id="revdate">'+t.$attr("revdate")+"</span>"),(o=t["$attr?"]("revremark"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"](g+'<span id="revremark">'+t.$attr("revremark")+"</span>"),((o=M["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&(p["$<<"]('<div class="details">'),p.$concat(M),p["$<<"]("</div>"))),i=(l=R!==!1&&R!==c&&null!=R)?t["$attr?"]("toc"):R,(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc-placement","auto"):i)===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+_.$outline(t)+"\n</div>")),p["$<<"]("</div>")),p["$<<"]('<div id="content">\n'+t.$content()+"\n</div>"),i=t["$footnotes?"](),(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("nofootnotes")["$!"]():i)===c||null==o||o.$$is_boolean&&1!=o||(p["$<<"]('<div id="footnotes">\n<hr'+h+">"),d(t.$footnotes(),"each",[],(u=function(e){u.$$s;return null==e&&(e=c),p["$<<"]('<div class="footnote" id="_footnote_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")},u.$$s=_,u.$$arity=1,u)),p["$<<"]("</div>")),((o=t.$nofooter())===c||null==o||o.$$is_boolean&&1!=o)&&(p["$<<"]('<div id="footer">'),p["$<<"]('<div id="footer-text">'),(o=t["$attr?"]("revnumber"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"](t.$attr("version-label")+" "+t.$attr("revnumber")+g),i=t["$attr?"]("last-update-label"),(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("reproducible")["$!"]():i)===c||null==o||o.$$is_boolean&&1!=o||p["$<<"](t.$attr("last-update-label")+" "+t.$attr("docdatetime")),p["$<<"]("</div>"),p["$<<"]("</div>")),((o=(A=t.$docinfo("footer"))["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&p["$<<"](A),k=O,"highlightjs"["$==="](k)||"highlight.js"["$==="](k)?(I=t.$attr("highlightjsdir",m+"/highlight.js/9.9.0"),p["$<<"]('<link rel="stylesheet" href="'+I+"/styles/"+t.$attr("highlightjs-theme","github")+'.min.css"'+h+">"),p["$<<"]('<script src="'+I+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](k)&&(C=t.$attr("prettifydir",m+"/prettify/r298"),p["$<<"]('<link rel="stylesheet" href="'+C+"/"+t.$attr("prettify-theme","prettify")+'.min.css"'+h+">"),p["$<<"]('<script src="'+C+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),(o=t["$attr?"]("stem"))===c||null==o||o.$$is_boolean&&1!=o||(N=t.$attr("eqnums","none"),(o=N["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o||(N="AMS"),j=' equationNumbers: { autoNumber: "'+N+'" } ',p["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+e.const_get(oe,"INLINE_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+e.const_get(oe,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+e.const_get(oe,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+j+'}\n});\n</script>\n<script src="'+m+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),p["$<<"]("</body>"),p["$<<"]("</html>"),r(p,e.const_get(oe,"EOL",!0,!0))},g.$$arity=1),e.defn(ne,"$embedded",b=function(t){var n,$,o,i,l,a=this,s=c,u=c,_=c;return s=[],t.$doctype()["$=="]("manpage")?(((n=t.$notitle())===c||null==n||n.$$is_boolean&&1!=n)&&(u=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),s["$<<"]("<h1"+u+">"+t.$doctitle()+" Manual Page</h1>")),s["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):($=t["$has_header?"](),(n=$!==!1&&$!==c&&null!=$?t.$notitle()["$!"]():$)===c||null==n||n.$$is_boolean&&1!=n||(u=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),s["$<<"]("<h1"+u+">"+t.$header().$title()+"</h1>"))),i=t["$sections?"](),o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc"):i,$=o!==!1&&o!==c&&null!=o?(_=t.$attr("toc-placement"))["$!="]("macro"):o,(n=$!==!1&&$!==c&&null!=$?_["$!="]("preamble"):$)===c||null==n||n.$$is_boolean&&1!=n||s["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+a.$outline(t)+"\n</div>"),s["$<<"](t.$content()),$=t["$footnotes?"](),(n=$!==!1&&$!==c&&null!=$?t["$attr?"]("nofootnotes")["$!"]():$)===c||null==n||n.$$is_boolean&&1!=n||(s["$<<"]('<div id="footnotes">\n<hr'+a.void_element_slash+">"),d(t.$footnotes(),"each",[],(l=function(e){l.$$s;return null==e&&(e=c),s["$<<"]('<div class="footnote" id="_footnote_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")},l.$$s=a,l.$$arity=1,l)),s["$<<"]("</div>")),r(s,e.const_get(oe,"EOL",!0,!0))},b.$$arity=1),e.defn(ne,"$outline",m=function(t,n){var $,l,a=this,s=c,u=c,_=c,p=c,h=c,g=c;return null==n&&(n=f([],{})),($=t["$sections?"]())===c||null==$||$.$$is_boolean&&1!=$?c:(s=($=n["$[]"]("sectnumlevels"))!==!1&&$!==c&&null!=$?$:t.$document().$attr("sectnumlevels",3).$to_i(),u=($=n["$[]"]("toclevels"))!==!1&&$!==c&&null!=$?$:t.$document().$attr("toclevels",2).$to_i(),_=[],p=t.$sections(),h=(g=p["$[]"](0)).$level(),($=h["$=="](0)?g.$special():h["$=="](0))===c||null==$||$.$$is_boolean&&1!=$||(h=1),_["$<<"]('<ul class="sectlevel'+h+'">'),d(p,"each",[],(l=function(e){var t,n,r,$=l.$$s||this,a=c,d=c;return null==e&&(e=c),a=function(){return r=e.$numbered(),n=r!==!1&&r!==c&&null!=r?e.$caption()["$!"]():r,(t=n!==!1&&n!==c&&null!=n?o(e.$level(),s):n)===c||null==t||t.$$is_boolean&&1!=t?c:e.$sectnum()+" "}(),n=i(e.$level(),u),
(t=n!==!1&&n!==c&&null!=n?d=$.$outline(e,f(["toclevels","secnumlevels"],{toclevels:u,secnumlevels:s})):n)===c||null==t||t.$$is_boolean&&1!=t?_["$<<"]('<li><a href="#'+e.$id()+'">'+a+e.$captioned_title()+"</a></li>"):(_["$<<"]('<li><a href="#'+e.$id()+'">'+a+e.$captioned_title()+"</a>"),_["$<<"](d),_["$<<"]("</li>"))},l.$$s=a,l.$$arity=1,l)),_["$<<"]("</ul>"),r(_,e.const_get(oe,"EOL",!0,!0)))},m.$$arity=-2),e.defn(ne,"$section",y=function(e){var t,n,r,$=c,i=c,a=c,s=c,u=c,_=c,d=c,f=c,p=c,h=c,g=c;return $=e.$level(),(t=(n=$["$=="](0))?e.$special():$["$=="](0))===c||null==t||t.$$is_boolean&&1!=t||($=1),i="h"+l($,1),a=s=u=_=c,(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t||(a=' id="'+(d=e.$id())+'"',(t=(f=e.$document())["$attr?"]("sectanchors"))===c||null==t||t.$$is_boolean&&1!=t||(s='<a class="anchor" href="#'+d+'"></a>'),(t=f["$attr?"]("sectlinks"))===c||null==t||t.$$is_boolean&&1!=t||(u='<a class="link" href="#'+d+'">',_="</a>")),$["$=="](0)?"<h1"+a+' class="sect0">'+s+u+e.$title()+_+"</h1>\n"+e.$content():(p=function(){return(t=h=e.$role())===c||null==t||t.$$is_boolean&&1!=t?' class="sect'+$+'"':' class="sect'+$+" "+h+'"'}(),g=function(){return r=e.$numbered(),n=r!==!1&&r!==c&&null!=r?e.$caption()["$!"]():r,(t=n!==!1&&n!==c&&null!=n?o($,e.$document().$attr("sectnumlevels",3).$to_i()):n)===c||null==t||t.$$is_boolean&&1!=t?c:e.$sectnum()+" "}(),"<div"+p+">\n<"+i+a+">"+s+u+g+e.$captioned_title()+_+"</"+i+">\n"+function(){return $["$=="](1)?'<div class="sectionbody">\n'+e.$content()+"\n</div>":e.$content()}()+"\n</div>")},y.$$arity=1),e.defn(ne,"$admonition",v=function(e){var t,n,r=this,$=c,o=c,i=c,l=c,a=c;return $=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),o=e.$attr("name"),i=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),l=function(){return(t=e.$document()["$attr?"]("icons"))===c||null==t||t.$$is_boolean&&1!=t?'<div class="title">'+e.$caption()+"</div>":(n=e.$document()["$attr?"]("icons","font"),(t=n!==!1&&n!==c&&null!=n?e["$attr?"]("icon")["$!"]():n)===c||null==t||t.$$is_boolean&&1!=t?'<img src="'+e.$icon_uri(o)+'" alt="'+e.$caption()+'"'+r.void_element_slash+">":'<i class="fa icon-'+o+'" title="'+e.$caption()+'"></i>')}(),"<div"+$+' class="admonitionblock '+o+(t=a=e.$role(),t!==!1&&t!==c&&null!=t?" "+a:t)+'">\n<table>\n<tr>\n<td class="icon">\n'+l+'\n</td>\n<td class="content">\n'+i+e.$content()+"\n</td>\n</tr>\n</table>\n</div>"},v.$$arity=1),e.defn(ne,"$audio",w=function(e){var t,n,$=this,o=c,i=c,l=c,a=c,s=c,u=c,_=c,d=c;return o=$.xml_mode,i=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),l=["audioblock",e.$role()].$compact(),a=' class="'+r(l," ")+'"',s=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),u=e.$attr("start",c,!1),_=e.$attr("end",c,!1),d=function(){return(t=(n=u)!==!1&&n!==c&&null!=n?n:_)===c||null==t||t.$$is_boolean&&1!=t?c:"#t="+u+function(){return _!==!1&&_!==c&&null!=_?",":c}()+_}(),"<div"+i+a+">\n"+s+'<div class="content">\n<audio src="'+e.$media_uri(e.$attr("target"))+d+'"'+function(){return(t=e["$option?"]("autoplay"))===c||null==t||t.$$is_boolean&&1!=t?c:$.$append_boolean_attribute("autoplay",o)}()+function(){return(t=e["$option?"]("nocontrols"))===c||null==t||t.$$is_boolean&&1!=t?$.$append_boolean_attribute("controls",o):c}()+function(){return(t=e["$option?"]("loop"))===c||null==t||t.$$is_boolean&&1!=t?c:$.$append_boolean_attribute("loop",o)}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},w.$$arity=1),e.defn(ne,"$colist",x=function(t){var n,$,o,i=this,a=c,s=c,u=c,_=c,f=c;return a=[],s=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),u=["colist",t.$style(),t.$role()].$compact(),_=' class="'+r(u," ")+'"',a["$<<"]("<div"+s+_+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||a["$<<"]('<div class="title">'+t.$title()+"</div>"),(n=t.$document()["$attr?"]("icons"))===c||null==n||n.$$is_boolean&&1!=n?(a["$<<"]("<ol>"),d(t.$items(),"each",[],(o=function(e){o.$$s;return null==e&&(e=c),a["$<<"]("<li>\n<p>"+e.$text()+"</p>\n</li>")},o.$$s=i,o.$$arity=1,o)),a["$<<"]("</ol>")):(a["$<<"]("<table>"),f=t.$document()["$attr?"]("icons","font"),d(t.$items(),"each_with_index",[],($=function(e,n){var r=$.$$s||this,o=c,i=c;return null==r.void_element_slash&&(r.void_element_slash=c),null==e&&(e=c),null==n&&(n=c),o=l(n,1),i=function(){return f!==!1&&f!==c&&null!=f?'<i class="conum" data-value="'+o+'"></i><b>'+o+"</b>":'<img src="'+t.$icon_uri("callouts/"+o)+'" alt="'+o+'"'+r.void_element_slash+">"}(),a["$<<"]("<tr>\n<td>"+i+"</td>\n<td>"+e.$text()+"</td>\n</tr>")},$.$$s=i,$.$$arity=2,$)),a["$<<"]("</table>")),a["$<<"]("</div>"),r(a,e.const_get(oe,"EOL",!0,!0))},x.$$arity=1),e.defn(ne,"$dlist",k=function(t){var n,$,o,i,l,a=this,s=c,u=c,_=c,f=c,p=c,h=c,g=c,b=c;return s=[],u=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),_=function(){return f=t.$style(),"qanda"["$==="](f)?["qlist","qanda",t.$role()]:"horizontal"["$==="](f)?["hdlist",t.$role()]:["dlist",t.$style(),t.$role()]}().$compact(),p=' class="'+r(_," ")+'"',s["$<<"]("<div"+u+p+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||s["$<<"]('<div class="title">'+t.$title()+"</div>"),f=t.$style(),"qanda"["$==="](f)?(s["$<<"]("<ol>"),d(t.$items(),"each",[],($=function(t,n){var r,o,i=$.$$s||this;return null==t&&(t=c),null==n&&(n=c),s["$<<"]("<li>"),d([].concat(e.to_a(t)),"each",[],(r=function(e){r.$$s;return null==e&&(e=c),s["$<<"]("<p><em>"+e.$text()+"</em></p>")},r.$$s=i,r.$$arity=1,r)),n!==!1&&n!==c&&null!=n&&((o=n["$text?"]())===c||null==o||o.$$is_boolean&&1!=o||s["$<<"]("<p>"+n.$text()+"</p>"),(o=n["$blocks?"]())===c||null==o||o.$$is_boolean&&1!=o||s["$<<"](n.$content())),s["$<<"]("</li>")},$.$$s=a,$.$$arity=2,$)),s["$<<"]("</ol>")):"horizontal"["$==="](f)?(h=a.void_element_slash,s["$<<"]("<table>"),(n=(o=t["$attr?"]("labelwidth"))!==!1&&o!==c&&null!=o?o:t["$attr?"]("itemwidth"))===c||null==n||n.$$is_boolean&&1!=n||(s["$<<"]("<colgroup>"),g=function(){return(n=t["$attr?"]("labelwidth"))===c||null==n||n.$$is_boolean&&1!=n?c:' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"'}(),s["$<<"]("<col"+g+h+">"),g=function(){return(n=t["$attr?"]("itemwidth"))===c||null==n||n.$$is_boolean&&1!=n?c:' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"'}(),s["$<<"]("<col"+g+h+">"),s["$<<"]("</colgroup>")),d(t.$items(),"each",[],(i=function(n,r){var $,o,l=i.$$s||this,a=c,u=c;return null==n&&(n=c),null==r&&(r=c),s["$<<"]("<tr>"),s["$<<"]('<td class="hdlist1'+function(){return($=t["$option?"]("strong"))===c||null==$||$.$$is_boolean&&1!=$?c:" strong"}()+'">'),a=[].concat(e.to_a(n)),u=a["$[]"](-1),d(a,"each",[],(o=function(e){var t;o.$$s;return null==e&&(e=c),s["$<<"](e.$text()),(t=e["$!="](u))===c||null==t||t.$$is_boolean&&1!=t?c:s["$<<"]("<br"+h+">")},o.$$s=l,o.$$arity=1,o)),s["$<<"]("</td>"),s["$<<"]('<td class="hdlist2">'),r!==!1&&r!==c&&null!=r&&(($=r["$text?"]())===c||null==$||$.$$is_boolean&&1!=$||s["$<<"]("<p>"+r.$text()+"</p>"),($=r["$blocks?"]())===c||null==$||$.$$is_boolean&&1!=$||s["$<<"](r.$content())),s["$<<"]("</td>"),s["$<<"]("</tr>")},i.$$s=a,i.$$arity=2,i)),s["$<<"]("</table>")):(s["$<<"]("<dl>"),b=function(){return(n=t.$style())===c||null==n||n.$$is_boolean&&1!=n?' class="hdlist1"':c}(),d(t.$items(),"each",[],(l=function(t,n){var r,$,o=l.$$s||this;return null==t&&(t=c),null==n&&(n=c),d([].concat(e.to_a(t)),"each",[],(r=function(e){r.$$s;return null==e&&(e=c),s["$<<"]("<dt"+b+">"+e.$text()+"</dt>")},r.$$s=o,r.$$arity=1,r)),n!==!1&&n!==c&&null!=n?(s["$<<"]("<dd>"),($=n["$text?"]())===c||null==$||$.$$is_boolean&&1!=$||s["$<<"]("<p>"+n.$text()+"</p>"),($=n["$blocks?"]())===c||null==$||$.$$is_boolean&&1!=$||s["$<<"](n.$content()),s["$<<"]("</dd>")):c},l.$$s=a,l.$$arity=2,l)),s["$<<"]("</dl>")),s["$<<"]("</div>"),r(s,e.const_get(oe,"EOL",!0,!0))},k.$$arity=1),e.defn(ne,"$example",O=function(e){var t,n=c,$=c,o=c;return n=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),$=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+n+' class="'+function(){return(t=o=e.$role())===c||null==t||t.$$is_boolean&&1!=t?"exampleblock":r(["exampleblock",o]," ")}()+'">\n'+$+'<div class="content">\n'+e.$content()+"\n</div>\n</div>"},O.$$arity=1),e.defn(ne,"$floating_title",E=function(e){var t,n=c,$=c,o=c;return n="h"+l(e.$level(),1),$=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),o=[e.$style(),e.$role()].$compact(),"<"+n+$+' class="'+r(o," ")+'">'+e.$title()+"</"+n+">"},E.$$arity=1),e.defn(ne,"$image",A=function(t){var n,$,o,l,a=this,s=c,u=c,_=c,d=c,f=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c;return s=t.$attr("target"),u=function(){return(n=t["$attr?"]("width"))===c||null==n||n.$$is_boolean&&1!=n?c:' width="'+t.$attr("width")+'"'}(),_=function(){return(n=t["$attr?"]("height"))===c||null==n||n.$$is_boolean&&1!=n?c:' height="'+t.$attr("height")+'"'}(),o=(l=t["$attr?"]("format","svg",!1))!==!1&&l!==c&&null!=l?l:s["$include?"](".svg"),$=o!==!1&&o!==c&&null!=o?i(t.$document().$safe(),e.const_get([e.const_get(oe,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):o,(n=$!==!1&&$!==c&&null!=$?(o=d=t["$option?"]("inline"))!==!1&&o!==c&&null!=o?o:f=t["$option?"]("interactive"):$)===c||null==n||n.$$is_boolean&&1!=n||(d!==!1&&d!==c&&null!=d?p=(n=a.$read_svg_contents(t,s))!==!1&&n!==c&&null!=n?n:'<span class="alt">'+t.$attr("alt")+"</span>":f!==!1&&f!==c&&null!=f&&(h=function(){return(n=t["$attr?"]("fallback"))===c||null==n||n.$$is_boolean&&1!=n?'<span class="alt">'+t.$attr("alt")+"</span>":'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+t.$attr("alt")+'"'+u+_+a.void_element_slash+">"}(),p='<object type="image/svg+xml" data="'+t.$image_uri(s)+'"'+u+_+">"+h+"</object>")),(n=p)!==!1&&n!==c&&null!=n||(p='<img src="'+t.$image_uri(s)+'" alt="'+t.$attr("alt")+'"'+u+_+a.void_element_slash+">"),(n=g=t.$attr("link"))===c||null==n||n.$$is_boolean&&1!=n||(p='<a class="image" href="'+g+'">'+p+"</a>"),b=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),m=["imageblock",t.$role()].$compact(),y=' class="'+r(m," ")+'"',v=[],(n=t["$attr?"]("align"))===c||null==n||n.$$is_boolean&&1!=n||v["$<<"]("text-align: "+t.$attr("align")),(n=t["$attr?"]("float"))===c||null==n||n.$$is_boolean&&1!=n||v["$<<"]("float: "+t.$attr("float")),w=function(){return(n=v["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?' style="'+r(v,";")+'"':c}(),x=function(){return(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n?c:'\n<div class="title">'+t.$captioned_title()+"</div>"}(),"<div"+b+y+w+'>\n<div class="content">\n'+p+"\n</div>"+x+"\n</div>"},A.$$arity=1),e.defn(ne,"$listing",S=function(e){var t,n=c,r=c,$=c,o=c,i=c,l=c,a=c,s=c,u=c,_=c;return n=(t=e.$document()["$attr?"]("prewrap")["$!"]())!==!1&&t!==c&&null!=t?t:e["$option?"]("nowrap"),e.$style()["$=="]("source")?($=(t=r=e.$attr("language",c,!1))===c||null==t||t.$$is_boolean&&1!=t?c:' data-lang="'+r+'"',o=e.$document().$attr("source-highlighter"),"coderay"["$==="](o)?i=' class="CodeRay highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"':"pygments"["$==="](o)?i=' class="pygments highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"':"highlightjs"["$==="](o)||"highlight.js"["$==="](o)?(i=' class="highlightjs highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"',r!==!1&&r!==c&&null!=r&&($=' class="language-'+r+'"'+$)):"prettify"["$==="](o)?(i=' class="prettyprint highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+function(){return(t=e["$attr?"]("linenums"))===c||null==t||t.$$is_boolean&&1!=t?c:" linenums"}()+'"',r!==!1&&r!==c&&null!=r&&($=' class="language-'+r+'"'+$)):"html-pipeline"["$==="](o)?(i=function(){return r!==!1&&r!==c&&null!=r?' lang="'+r+'"':c}(),$=c):(i=' class="highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"',r!==!1&&r!==c&&null!=r&&($=' class="language-'+r+'"'+$)),l="<pre"+i+"><code"+$+">",a="</code></pre>"):(l="<pre"+function(){return n!==!1&&n!==c&&null!=n?' class="nowrap"':c}()+">",a="</pre>"),s=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),u=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+s+' class="listingblock'+(t=_=e.$role(),t!==!1&&t!==c&&null!=t?" "+_:t)+'">\n'+u+'<div class="content">\n'+l+e.$content()+a+"\n</div>\n</div>"},S.$$arity=1),e.defn(ne,"$literal",R=function(e){var t,n=c,r=c,$=c,o=c;return n=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),r=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),$=(t=e.$document()["$attr?"]("prewrap")["$!"]())!==!1&&t!==c&&null!=t?t:e["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(t=o=e.$role(),t!==!1&&t!==c&&null!=t?" "+o:t)+'">\n'+r+'<div class="content">\n<pre'+function(){return $!==!1&&$!==c&&null!=$?' class="nowrap"':c}()+">"+e.$content()+"</pre>\n</div>\n</div>"},R.$$arity=1),e.defn(ne,"$stem",M=function(t){var n,$,o=c,i=c,l=c,a=c,s=c,u=c;return o=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),i=function(){return(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n?c:'<div class="title">'+t.$title()+"</div>\n"}(),$=e.const_get(oe,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"](t.$style().$to_sym()),n=e.to_ary($),l=null==n[0]?c:n[0],a=null==n[1]?c:n[1],$=(s=t.$content())["$start_with?"](l),((n=$!==!1&&$!==c&&null!=$?s["$end_with?"](a):$)===c||null==n||n.$$is_boolean&&1!=n)&&(s=""+l+s+a),"<div"+o+' class="'+function(){return(n=u=t.$role())===c||null==n||n.$$is_boolean&&1!=n?"stemblock":r(["stemblock",u]," ")}()+'">\n'+i+'<div class="content">\n'+s+"\n</div>\n</div>"},M.$$arity=1),e.defn(ne,"$olist",T=function(t){var n,$,o=this,i=c,l=c,a=c,s=c,u=c,_=c,f=c,p=c;return i=[],l=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),a=["olist",t.$style(),t.$role()].$compact(),s=' class="'+r(a," ")+'"',i["$<<"]("<div"+l+s+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||i["$<<"]('<div class="title">'+t.$title()+"</div>"),u=function(){return(n=_=t.$list_marker_keyword())===c||null==n||n.$$is_boolean&&1!=n?c:' type="'+_+'"'}(),f=function(){return(n=t["$attr?"]("start"))===c||null==n||n.$$is_boolean&&1!=n?c:' start="'+t.$attr("start")+'"'}(),p=function(){return(n=t["$option?"]("reversed"))===c||null==n||n.$$is_boolean&&1!=n?c:o.$append_boolean_attribute("reversed",o.xml_mode)}(),i["$<<"]('<ol class="'+t.$style()+'"'+u+f+p+">"),d(t.$items(),"each",[],($=function(e){var t;$.$$s;return null==e&&(e=c),i["$<<"]("<li>"),i["$<<"]("<p>"+e.$text()+"</p>"),(t=e["$blocks?"]())===c||null==t||t.$$is_boolean&&1!=t||i["$<<"](e.$content()),i["$<<"]("</li>")},$.$$s=o,$.$$arity=1,$)),i["$<<"]("</ol>"),i["$<<"]("</div>"),r(i,e.const_get(oe,"EOL",!0,!0))},T.$$arity=1),e.defn(ne,"$open",I=function(e){var t,n,r,o,i=this,l=c,a=c,s=c,u=c;return(l=e.$style())["$=="]("abstract")?(t=(n=e.$parent()["$=="](e.$document()))?e.$document().$doctype()["$=="]("book"):e.$parent()["$=="](e.$document()))===c||null==t||t.$$is_boolean&&1!=t?(a=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),s=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+a+' class="quoteblock abstract'+(t=u=e.$role(),t!==!1&&t!==c&&null!=t?" "+u:t)+'">\n'+s+"<blockquote>\n"+e.$content()+"\n</blockquote>\n</div>"):(i.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(t=(n=l["$=="]("partintro"))?(r=(o=$(e.$level(),0))!==!1&&o!==c&&null!=o?o:e.$parent().$context()["$!="]("section"))!==!1&&r!==c&&null!=r?r:e.$document().$doctype()["$!="]("book"):l["$=="]("partintro"))===c||null==t||t.$$is_boolean&&1!=t?(a=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),s=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+a+' class="openblock'+function(){return(t=(n=l!==!1&&l!==c&&null!=l)?l["$!="]("open"):l)===c||null==t||t.$$is_boolean&&1!=t?"":" "+l}()+(t=u=e.$role(),t!==!1&&t!==c&&null!=t?" "+u:t)+'">\n'+s+'<div class="content">\n'+e.$content()+"\n</div>\n</div>"):(i.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"")},I.$$arity=1),e.defn(ne,"$page_break",C=function(e){return'<div style="page-break-after: always;"></div>'},C.$$arity=1),e.defn(ne,"$paragraph",N=function(e){var t,n=c,r=c;return n=function(){return(t=e.$role())===c||null==t||t.$$is_boolean&&1!=t?'class="paragraph"':'class="paragraph '+e.$role()+'"'}(),r=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?n:'id="'+e.$id()+'" '+n}(),(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?"<div "+r+">\n<p>"+e.$content()+"</p>\n</div>":"<div "+r+'>\n<div class="title">'+e.$title()+"</div>\n<p>"+e.$content()+"</p>\n</div>"},N.$$arity=1),e.defn(ne,"$preamble",j=function(e){var t,n,r,$=this,o=c,i=c;return r=(o=e.$document())["$attr?"]("toc-placement","preamble"),n=r!==!1&&r!==c&&null!=r?o["$sections?"]():r,i=(t=n!==!1&&n!==c&&null!=n?o["$attr?"]("toc"):n)===c||null==t||t.$$is_boolean&&1!=t?c:'\n<div id="toc" class="'+o.$attr("toc-class","toc")+'">\n<div id="toctitle">'+o.$attr("toc-title")+"</div>\n"+$.$outline(o)+"\n</div>",'<div id="preamble">\n<div class="sectionbody">\n'+e.$content()+"\n</div>"+i+"\n</div>"},j.$$arity=1),e.defn(ne,"$quote",L=function(e){var t,n,$=this,o=c,i=c,l=c,a=c,s=c,u=c,_=c,d=c,f=c;return o=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),i=["quoteblock",e.$role()].$compact(),l=' class="'+r(i," ")+'"',a=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'\n<div class="title">'+e.$title()+"</div>"}(),s=function(){return(t=e["$attr?"]("attribution"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("attribution")}(),u=function(){return(t=e["$attr?"]("citetitle"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("citetitle")}(),(t=(n=s)!==!1&&n!==c&&null!=n?n:u)===c||null==t||t.$$is_boolean&&1!=t?f=c:(_=function(){return u!==!1&&u!==c&&null!=u?"<cite>"+u+"</cite>":c}(),d=function(){return s!==!1&&s!==c&&null!=s?"&#8212; "+s+function(){return u!==!1&&u!==c&&null!=u?"<br"+$.void_element_slash+">\n":c}():c}(),f='\n<div class="attribution">\n'+d+_+"\n</div>"),"<div"+o+l+">"+a+"\n<blockquote>\n"+e.$content()+"\n</blockquote>"+f+"\n</div>"},L.$$arity=1),e.defn(ne,"$thematic_break",z=function(e){return"<hr"+this.void_element_slash+">"},z.$$arity=1),e.defn(ne,"$sidebar",P=function(e){var t,n=c,$=c,o=c;return n=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),$=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+n+' class="'+function(){return(t=o=e.$role())===c||null==t||t.$$is_boolean&&1!=t?"sidebarblock":r(["sidebarblock",o]," ")}()+'">\n<div class="content">\n'+$+e.$content()+"\n</div>\n</div>"},P.$$arity=1),e.defn(ne,"$table",D=function(t){var n,o,i,l,a,s,u=this,_=c,f=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c;return _=[],f=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),p=["tableblock","frame-"+t.$attr("frame","all"),"grid-"+t.$attr("grid","all")],h=[],o=t["$option?"]("autowidth"),((n=o!==!1&&o!==c&&null!=o?t["$attr?"]("width",c,!1)["$!"]():o)===c||null==n||n.$$is_boolean&&1!=n)&&((n=t["$attr?"]("tablepcwidth",100))===c||null==n||n.$$is_boolean&&1!=n?h["$<<"]("width: "+t.$attr("tablepcwidth")+"%;"):p["$<<"]("spread")),(n=g=t.$role())===c||null==n||n.$$is_boolean&&1!=n||p["$<<"](g),b=' class="'+r(p," ")+'"',(n=t["$attr?"]("float"))===c||null==n||n.$$is_boolean&&1!=n||h["$<<"]("float: "+t.$attr("float")+";"),m=function(){return(n=h["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?' style="'+r(h," ")+'"':c}(),_["$<<"]("<table"+f+b+m+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||_["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),(n=$(t.$attr("rowcount"),0))===c||null==n||n.$$is_boolean&&1!=n||(y=u.void_element_slash,_["$<<"]("<colgroup>"),(n=t["$option?"]("autowidth"))===c||null==n||n.$$is_boolean&&1!=n?d(t.$columns(),"each",[],(l=function(e){l.$$s;return null==e&&(e=c),_["$<<"]('<col style="width: '+e.$attr("colpcwidth")+'%;"'+y+">")},l.$$s=u,l.$$arity=1,l)):(v="<col"+y+">",d(t.$columns().$size(),"times",[],(i=function(){i.$$s;return _["$<<"](v)},i.$$s=u,i.$$arity=0,i))),_["$<<"]("</colgroup>"),d(d(["head","foot","body"],"select",[],(a=function(e){a.$$s;return null==e&&(e=c),t.$rows()["$[]"](e)["$empty?"]()["$!"]()},a.$$s=u,a.$$arity=1,a)),"each",[],(s=function(n){var $,o=s.$$s||this;return null==n&&(n=c),_["$<<"]("<t"+n+">"),d(t.$rows()["$[]"](n),"each",[],($=function(o){var i,l=$.$$s||this;return null==o&&(o=c),_["$<<"]("<tr>"),d(o,"each",[],(i=function($){var o,l,a,s=i.$$s||this,u=c,f=c,p=c,h=c,g=c,b=c,m=c;return null==$&&($=c),n["$=="]("head")?u=$.$text():(f=$.$style(),u="asciidoc"["$==="](f)?"<div>"+$.$content()+"</div>":"verse"["$==="](f)?'<div class="verse">'+$.$text()+"</div>":"literal"["$==="](f)?'<div class="literal"><pre>'+$.$text()+"</pre></div>":r(d($.$content(),"map",[],(o=function(e){o.$$s;return null==e&&(e=c),'<p class="tableblock">'+e+"</p>"},o.$$s=s,o.$$arity=1,o)),e.const_get(oe,"EOL",!0,!0))),p=function(){return(l=(a=n["$=="]("head"))!==!1&&a!==c&&null!=a?a:$.$style()["$=="]("header"))===c||null==l||l.$$is_boolean&&1!=l?"td":"th"}(),h=' class="tableblock halign-'+$.$attr("halign")+" valign-"+$.$attr("valign")+'"',g=function(){return(l=$.$colspan())===c||null==l||l.$$is_boolean&&1!=l?c:' colspan="'+$.$colspan()+'"'}(),b=function(){return(l=$.$rowspan())===c||null==l||l.$$is_boolean&&1!=l?c:' rowspan="'+$.$rowspan()+'"'}(),m=function(){return(l=t.$document()["$attr?"]("cellbgcolor"))===c||null==l||l.$$is_boolean&&1!=l?c:' style="background-color: '+t.$document().$attr("cellbgcolor")+';"'}(),_["$<<"]("<"+p+h+g+b+m+">"+u+"</"+p+">")},i.$$s=l,i.$$arity=1,i)),_["$<<"]("</tr>")},$.$$s=o,$.$$arity=1,$)),_["$<<"]("</t"+n+">")},s.$$s=u,s.$$arity=1,s))),_["$<<"]("</table>"),r(_,e.const_get(oe,"EOL",!0,!0))},D.$$arity=1),e.defn(ne,"$toc",B=function(e){var t,n,r,$=this,o=c,i=c,l=c,a=c,s=c,u=c;return r=(o=e.$document())["$attr?"]("toc-placement","macro"),n=r!==!1&&r!==c&&null!=r?o["$sections?"]():r,(t=n!==!1&&n!==c&&null!=n?o["$attr?"]("toc"):n)===c||null==t||t.$$is_boolean&&1!=t?"<!-- toc disabled -->":((t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?(i=' id="toc"',l=' id="toctitle"'):(i=' id="'+e.$id()+'"',l=' id="'+e.$id()+'title"'),a=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?o.$attr("toc-title"):e.$title()}(),s=function(){return(t=e["$attr?"]("levels"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("levels").$to_i()}(),u=function(){return(t=e["$role?"]())===c||null==t||t.$$is_boolean&&1!=t?o.$attr("toc-class","toc"):e.$role()}(),"<div"+i+' class="'+u+'">\n<div'+l+' class="title">'+a+"</div>\n"+$.$outline(o,f(["toclevels"],{toclevels:s}))+"\n</div>")},B.$$arity=1),e.defn(ne,"$ulist",q=function(t){var n,$,o=this,i=c,l=c,a=c,s=c,u=c,_=c,f=c;return i=[],l=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),a=["ulist",t.$style(),t.$role()].$compact(),s=c,u=c,(n=_=t["$option?"]("checklist"))===c||null==n||n.$$is_boolean&&1!=n?f=function(){return(n=t.$style())===c||null==n||n.$$is_boolean&&1!=n?c:' class="'+t.$style()+'"'}():(a.$unshift(a.$shift(),"checklist"),f=' class="checklist"',(n=t["$option?"]("interactive"))===c||null==n||n.$$is_boolean&&1!=n?(n=t.$document()["$attr?"]("icons","font"))===c||null==n||n.$$is_boolean&&1!=n?(s="&#10003; ",u="&#10063; "):(s='<i class="fa fa-check-square-o"></i> ',u='<i class="fa fa-square-o"></i> '):(n=o.xml_mode)===c||null==n||n.$$is_boolean&&1!=n?(s='<input type="checkbox" data-item-complete="1" checked> ',u='<input type="checkbox" data-item-complete="0"> '):(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',u='<input type="checkbox" data-item-complete="0"/> ')),i["$<<"]("<div"+l+' class="'+r(a," ")+'">'),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||i["$<<"]('<div class="title">'+t.$title()+"</div>"),i["$<<"]("<ul"+f+">"),d(t.$items(),"each",[],($=function(e){var t;$.$$s;return null==e&&(e=c),i["$<<"]("<li>"),(t=_!==!1&&_!==c&&null!=_?e["$attr?"]("checkbox"):_)===c||null==t||t.$$is_boolean&&1!=t?i["$<<"]("<p>"+e.$text()+"</p>"):i["$<<"]("<p>"+function(){return(t=e["$attr?"]("checked"))===c||null==t||t.$$is_boolean&&1!=t?u:s}()+e.$text()+"</p>"),(t=e["$blocks?"]())===c||null==t||t.$$is_boolean&&1!=t||i["$<<"](e.$content()),i["$<<"]("</li>")},$.$$s=o,$.$$arity=1,$)),i["$<<"]("</ul>"),i["$<<"]("</div>"),r(i,e.const_get(oe,"EOL",!0,!0))},q.$$arity=1),e.defn(ne,"$verse",U=function(e){var t,n,$=this,o=c,i=c,l=c,a=c,s=c,u=c,_=c,d=c,f=c;return o=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),i=["verseblock",e.$role()].$compact(),l=' class="'+r(i," ")+'"',a=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'\n<div class="title">'+e.$title()+"</div>"}(),s=function(){return(t=e["$attr?"]("attribution"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("attribution")}(),u=function(){return(t=e["$attr?"]("citetitle"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("citetitle")}(),(t=(n=s)!==!1&&n!==c&&null!=n?n:u)===c||null==t||t.$$is_boolean&&1!=t?f=c:(_=function(){return u!==!1&&u!==c&&null!=u?"<cite>"+u+"</cite>":c}(),d=function(){return s!==!1&&s!==c&&null!=s?"&#8212; "+s+function(){return u!==!1&&u!==c&&null!=u?"<br"+$.void_element_slash+">\n":c}():c}(),f='\n<div class="attribution">\n'+d+_+"\n</div>"),"<div"+o+l+">"+a+'\n<pre class="content">'+e.$content()+"</pre>"+f+"\n</div>"},U.$$arity=1),e.defn(ne,"$video",F=function(t){var n,$,o=this,i=c,l=c,a=c,s=c,u=c,_=c,d=c,f=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c,I=c,C=c,N=c,j=c,L=c,z=c,P=c;return i=o.xml_mode,l=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),a=["videoblock",t.$role()].$compact(),s=' class="'+r(a," ")+'"',u=function(){return(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n?c:'\n<div class="title">'+t.$captioned_title()+"</div>"}(),_=function(){return(n=t["$attr?"]("width"))===c||null==n||n.$$is_boolean&&1!=n?c:' width="'+t.$attr("width")+'"'}(),d=function(){return(n=t["$attr?"]("height"))===c||null==n||n.$$is_boolean&&1!=n?c:' height="'+t.$attr("height")+'"'}(),function(){return f=t.$attr("poster"),"vimeo"["$==="](f)?(((n=(p=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n)&&(p+=":"),h=function(){return(n=t["$attr?"]("start",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"#at="+t.$attr("start")}(),g="?",b=function(){return(n=t["$option?"]("autoplay"))===c||null==n||n.$$is_boolean&&1!=n?c:g+"autoplay=1"}(),b!==!1&&b!==c&&null!=b&&(g="&amp;"),m=function(){return(n=t["$option?"]("loop"))===c||null==n||n.$$is_boolean&&1!=n?c:g+"loop=1"}(),"<div"+l+s+">"+u+'\n<div class="content">\n<iframe'+_+d+' src="'+p+"//player.vimeo.com/video/"+t.$attr("target")+h+b+m+'" frameborder="0"'+function(){return(n=t["$option?"]("nofullscreen"))===c||null==n||n.$$is_boolean&&1!=n?o.$append_boolean_attribute("allowfullscreen",i):c}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](f)?(((n=(p=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n)&&(p+=":"),y=function(){return(n=t["$option?"]("related"))===c||null==n||n.$$is_boolean&&1!=n?0:1}(),v=function(){return(n=t["$attr?"]("start",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;start="+t.$attr("start")}(),w=function(){return(n=t["$attr?"]("end",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;end="+t.$attr("end")}(),b=function(){return(n=t["$option?"]("autoplay"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;autoplay=1"}(),m=function(){return(n=t["$option?"]("loop"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;loop=1"}(),x=function(){return(n=t["$option?"]("nocontrols"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;controls=0"}(),(n=t["$option?"]("nofullscreen"))===c||null==n||n.$$is_boolean&&1!=n?(k=c,O=o.$append_boolean_attribute("allowfullscreen",i)):(k="&amp;fs=0",O=c),E=function(){return(n=t["$option?"]("modest"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;modestbranding=1"}(),A=function(){return(n=t["$attr?"]("theme",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;theme="+t.$attr("theme")}(),S=function(){return(n=t["$attr?"]("lang"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;hl="+t.$attr("lang")}(),$=t.$attr("target").$split("/",2),n=e.to_ary($),R=null==n[0]?c:n[0],M=null==n[1]?c:n[1],(n=($=M)!==!1&&$!==c&&null!=$?$:M=t.$attr("list",c,!1))===c||null==n||n.$$is_boolean&&1!=n?($=R.$split(",",2),n=e.to_ary($),R=null==n[0]?c:n[0],I=null==n[1]?c:n[1],T=(n=($=I)!==!1&&$!==c&&null!=$?$:I=t.$attr("playlist",c,!1))===c||null==n||n.$$is_boolean&&1!=n?function(){return m!==!1&&m!==c&&null!=m?"&amp;playlist="+R:c}():"&amp;playlist="+I):T="&amp;list="+M,"<div"+l+s+">"+u+'\n<div class="content">\n<iframe'+_+d+' src="'+p+"//www.youtube.com/embed/"+R+"?rel="+y+v+w+b+m+x+T+k+E+A+S+'" frameborder="0"'+O+"></iframe>\n</div>\n</div>"):(C=function(){return(n=(N=t.$attr("poster",c,!1))["$nil_or_empty?"]())===c||null==n||n.$$is_boolean&&1!=n?' poster="'+t.$media_uri(N)+'"':c}(),j=function(){return(n=(N=t.$attr("preload",c,!1))["$nil_or_empty?"]())===c||null==n||n.$$is_boolean&&1!=n?' preload="'+N+'"':c}(),L=t.$attr("start",c,!1),z=t.$attr("end",c,!1),P=function(){return(n=($=L)!==!1&&$!==c&&null!=$?$:z)===c||null==n||n.$$is_boolean&&1!=n?c:"#t="+L+function(){return z!==!1&&z!==c&&null!=z?",":c}()+z}(),"<div"+l+s+">"+u+'\n<div class="content">\n<video src="'+t.$media_uri(t.$attr("target"))+P+'"'+_+d+C+function(){return(n=t["$option?"]("autoplay"))===c||null==n||n.$$is_boolean&&1!=n?c:o.$append_boolean_attribute("autoplay",i)}()+function(){return(n=t["$option?"]("nocontrols"))===c||null==n||n.$$is_boolean&&1!=n?o.$append_boolean_attribute("controls",i):c}()+function(){return(n=t["$option?"]("loop"))===c||null==n||n.$$is_boolean&&1!=n?c:o.$append_boolean_attribute("loop",i)}()+j+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},F.$$arity=1),e.defn(ne,"$inline_anchor",G=function(e){var t,n,r=this,$=c,o=c,i=c,l=c,a=c,s=c;return $=e.$target(),function(){return o=e.$type(),"xref"["$==="](o)?(i=(t=e.$attributes()["$[]"]("refid"))!==!1&&t!==c&&null!=t?t:$,l=(t=(n=e.$text())!==!1&&n!==c&&null!=n?n:e.$document().$references()["$[]"]("ids")["$[]"](i))!==!1&&t!==c&&null!=t?t:"["+i+"]",'<a href="'+$+'">'+l+"</a>"):"ref"["$==="](o)?'<a id="'+$+'"></a>':"link"["$==="](o)?(a=[],(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' id="'+e.$id()+'"'),(t=s=e.$role())===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' class="'+s+'"'),(t=e["$attr?"]("title",c,!1))===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' title="'+e.$attr("title")+'"'),(t=e["$attr?"]("window",c,!1))===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' target="'+e.$attr("window")+'"'),'<a href="'+$+'"'+a.$join()+">"+e.$text()+"</a>"):"bibref"["$==="](o)?'<a id="'+$+'"></a>['+$+"]":r.$warn("asciidoctor: WARNING: unknown anchor type: "+e.$type().$inspect())}()},G.$$arity=1),e.defn(ne,"$inline_break",H=function(e){var t=this;return e.$text()+"<br"+t.void_element_slash+">"},H.$$arity=1),e.defn(ne,"$inline_button",Y=function(e){return'<b class="button">'+e.$text()+"</b>"},Y.$$arity=1),
e.defn(ne,"$inline_callout",K=function(e){var t,n=this;return(t=e.$document()["$attr?"]("icons","font"))===c||null==t||t.$$is_boolean&&1!=t?(t=e.$document()["$attr?"]("icons"))===c||null==t||t.$$is_boolean&&1!=t?'<b class="conum">('+e.$text()+")</b>":'<img src="'+e.$icon_uri("callouts/"+e.$text())+'" alt="'+e.$text()+'"'+n.void_element_slash+">":'<i class="conum" data-value="'+e.$text()+'"></i><b>('+e.$text()+")</b>"},K.$$arity=1),e.defn(ne,"$inline_footnote",W=function(e){var t,n=c;return(t=n=e.$attr("index"))===c||null==t||t.$$is_boolean&&1!=t?e.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+e.$text()+"]</sup>":c:e.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>":'<sup class="footnote"'+function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="_footnote_'+e.$id()+'"'}()+'>[<a id="_footnoteref_'+n+'" class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>"},W.$$arity=1),e.defn(ne,"$inline_image",X=function(t){var n,r,$,o,l,a,s,u=this,_=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,x=c,k=c,O=c;return(n=(r=(_=t.$type())["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(_=t.$type())["$=="]("icon"))===c||null==n||n.$$is_boolean&&1!=n?(n=(r=_["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():_["$=="]("icon"))===c||null==n||n.$$is_boolean&&1!=n?(b=t.$target(),m=d(["width","height","title"],"map",[],(o=function(e){var n;o.$$s;return null==e&&(e=c),(n=t["$attr?"](e))===c||null==n||n.$$is_boolean&&1!=n?c:" "+e+'="'+t.$attr(e)+'"'},o.$$s=u,o.$$arity=1,o)).$join(),a=_["$!="]("icon"),l=a!==!1&&a!==c&&null!=a?(s=t["$attr?"]("format","svg",!1))!==!1&&s!==c&&null!=s?s:b["$include?"](".svg"):a,r=l!==!1&&l!==c&&null!=l?i(t.$document().$safe(),e.const_get([e.const_get(oe,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):l,(n=r!==!1&&r!==c&&null!=r?(l=y=t["$option?"]("inline"))!==!1&&l!==c&&null!=l?l:v=t["$option?"]("interactive"):r)===c||null==n||n.$$is_boolean&&1!=n||(y!==!1&&y!==c&&null!=y?g=(n=u.$read_svg_contents(t,b))!==!1&&n!==c&&null!=n?n:'<span class="alt">'+t.$attr("alt")+"</span>":v!==!1&&v!==c&&null!=v&&(w=function(){return(n=t["$attr?"]("fallback"))===c||null==n||n.$$is_boolean&&1!=n?'<span class="alt">'+t.$attr("alt")+"</span>":'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+t.$attr("alt")+'"'+m+u.void_element_slash+">"}(),g='<object type="image/svg+xml" data="'+t.$image_uri(b)+'"'+m+">"+w+"</object>")),(n=g)!==!1&&n!==c&&null!=n||(g='<img src="'+function(){return _["$=="]("icon")?t.$icon_uri(b):t.$image_uri(b)}()+'" alt="'+t.$attr("alt")+'"'+m+u.void_element_slash+">")):g="["+t.$attr("alt")+"]":(p="fa fa-"+t.$target(),d(f(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],($=function(e,n){var r;$.$$s;return null==e&&(e=c),null==n&&(n=c),(r=t["$attr?"](e))===c||null==r||r.$$is_boolean&&1!=r?c:p=p+" "+n+t.$attr(e)},$.$$s=u,$.$$arity=2,$)),h=function(){return(n=t["$attr?"]("title"))===c||null==n||n.$$is_boolean&&1!=n?c:' title="'+t.$attr("title")+'"'}(),g='<i class="'+p+'"'+h+"></i>"),(n=t["$attr?"]("link"))===c||null==n||n.$$is_boolean&&1!=n||(x=function(){return(n=t["$attr?"]("window"))===c||null==n||n.$$is_boolean&&1!=n?c:' target="'+t.$attr("window")+'"'}(),g='<a class="image" href="'+t.$attr("link")+'"'+x+">"+g+"</a>"),p=function(){return(n=k=t.$role())===c||null==n||n.$$is_boolean&&1!=n?_:_+" "+k}(),O=function(){return(n=t["$attr?"]("float"))===c||null==n||n.$$is_boolean&&1!=n?c:' style="float: '+t.$attr("float")+'"'}(),'<span class="'+p+'"'+O+">"+g+"</span>"},X.$$arity=1),e.defn(ne,"$inline_indexterm",V=function(e){return e.$type()["$=="]("visible")?e.$text():""},V.$$arity=1),e.defn(ne,"$inline_kbd",J=function(e){var t,n=this,r=c;return(r=e.$attr("keys")).$size()["$=="](1)?"<kbd>"+r["$[]"](0)+"</kbd>":'<span class="keyseq">'+d(r,"map",[],(t=function(e){t.$$s;return null==e&&(e=c),"<kbd>"+e+"</kbd>+"},t.$$s=n,t.$$arity=1,t)).$join().$chop()+"</span>"},J.$$arity=1),e.defn(ne,"$inline_menu",Z=function(e){var t,n,r=this,$=c,o=c,i=c,l=c;return $=e.$attr("menu"),(t=(o=e.$attr("submenus"))["$empty?"]()["$!"]())===c||null==t||t.$$is_boolean&&1!=t?(t=l=e.$attr("menuitem"))===c||null==t||t.$$is_boolean&&1!=t?'<span class="menu">'+$+"</span>":'<span class="menuseq"><span class="menu">'+$+'</span>&#160;&#9656; <span class="menuitem">'+l+"</span></span>":(i=d(o,"map",[],(n=function(e){n.$$s;return null==e&&(e=c),'<span class="submenu">'+e+"</span>&#160;&#9656; "},n.$$s=r,n.$$arity=1,n)).$join().$chop(),'<span class="menuseq"><span class="menu">'+$+"</span>&#160;&#9656; "+i+' <span class="menuitem">'+e.$attr("menuitem")+"</span></span>")},Z.$$arity=1),e.defn(ne,"$inline_quoted",Q=function(t){var n,r,$=c,o=c,i=c,l=c;return r=e.const_get(oe,"QUOTE_TAGS",!0,!0)["$[]"](t.$type()),n=e.to_ary(r),$=null==n[0]?c:n[0],o=null==n[1]?c:n[1],i=null==n[2]?c:n[2],l=(n=t.$role())===c||null==n||n.$$is_boolean&&1!=n?""+$+t.$text()+o:i!==!1&&i!==c&&null!=i?$.$chop()+' class="'+t.$role()+'">'+t.$text()+o:'<span class="'+t.$role()+'">'+$+t.$text()+o+"</span>",(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?l:'<a id="'+t.$id()+'"></a>'+l},Q.$$arity=1),e.defn(ne,"$append_boolean_attribute",ee=function(e,t){return t!==!1&&t!==c&&null!=t?" "+e+'="'+e+'"':" "+e},ee.$$arity=2),e.defn(ne,"$read_svg_contents",te=function(t,n){var r,$,o=this,i=c,l=c,a=c;return(r=i=t.$read_contents(n,f(["start","normalize","label"],{start:t.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===c||null==r||r.$$is_boolean&&1!=r||(((r=i["$start_with?"]("<svg"))===c||null==r||r.$$is_boolean&&1!=r)&&(i=i.$sub(e.const_get(oe,"SvgPreambleRx",!0,!0),"")),l=a=c,d(["width","height"],"each",[],($=function(n){var r;$.$$s;return null==n&&(n=c),(r=t["$attr?"](n))===c||null==r||r.$$is_boolean&&1!=r?c:(a!==!1&&a!==c&&null!=a||(a=(l=i.$match(e.const_get(oe,"SvgStartTagRx",!0,!0))["$[]"](0)).$gsub(e.const_get(oe,"DimensionAttributeRx",!0,!0),"")),a=a.$chop()+" "+n+'="'+t.$attr(n)+'px">')},$.$$s=o,$.$$arity=1,$)),a!==!1&&a!==c&&null!=a&&(i=""+a+i["$[]"](e.Range.$new(l.$length(),-1,!1)))),i},te.$$arity=2)}(e.const_get(b,"Converter",!0,!0),e.const_get([e.const_get(b,"Converter",!0,!0).$$scope],"BuiltIn",!0,!0),b)}(a.base,s)},Opal.modules["asciidoctor/extensions"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.send,_=e.hash;return e.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$delete","$new","$[]","$fetch","$attr?","$title=","$nil?","$generate_id","$title","$attributes","$id=","$create_block","$===","$has_more_lines?","$next_block","$dup","$<<","$each","$define_method","$unshift","$shift","$send","$call","$attr_accessor","$option","$to_set","$flatten","$resolve_regexp","$==","$method","$register","$+","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$!","$any?","$select","$add_syntax_processor","$to_sym","$include?","$private","$tr","$to_s","$join","$map","$split","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$class_for_name","$<","$update_config","$push","$as_symbol","$name=","$pop","$>","$size","$-@","$next_auto_id","$generate_name","$empty?","$const_defined?"]),function(o,i){var d,f=d=a(o,"Asciidoctor"),p=(f.$$proto,f.$$scope),h=i.slice().concat(p);!function(o,i){var d,f=d=a(o,"Extensions"),p=(f.$$proto,f.$$scope),h=i.slice().concat(p);!function(n,r,$){function o(){}var i,a,_,d,f,p,h,g,b,m=o=s(n,null,"Processor",o),y=m.$$proto,v=m.$$scope,w=$.slice().concat(v);y.config=l,function(n,r){var $,o,i;n.$$proto,n.$$scope,r.slice().concat(n);e.defn(n,"$config",$=function(){var e,t=this;return null==t.config&&(t.config=l),(e=t.config)!==!1&&e!==l&&null!=e?e:t.config=c([],{})},$.$$arity=0),e.defn(n,"$option",o=function(n,r){var $=this,o=l;return o=[n,r],u($.$config(),"[]=",e.to_a(o)),o[t(o.length,1)]},o.$$arity=2),e.defn(n,"$use_dsl",i=function(){var e,t=this;return(e=t.$name()["$nil_or_empty?"]())===l||null==e||e.$$is_boolean&&1!=e?(e=t.$constants().$grep("DSL"))===l||null==e||e.$$is_boolean&&1!=e?l:t.$extend(t.$const_get("DSL")):(e=t.$constants().$grep("DSL"))===l||null==e||e.$$is_boolean&&1!=e?l:t.$include(t.$const_get("DSL"))},i.$$arity=0),e.alias(n,"extend_dsl","use_dsl"),e.alias(n,"include_dsl","use_dsl")}(e.get_singleton_class(m),w),m.$attr_reader("config"),e.defn(m,"$initialize",i=function(e){var t=this;return null==e&&(e=c([],{})),t.config=t.$class().$config().$merge(e)},i.$$arity=-1),e.defn(m,"$update_config",a=function(e){return this.config.$update(e)},a.$$arity=1),e.defn(m,"$process",_=function(t){var n,r=this,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<$;i++)n[i-0]=arguments[i];return r.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Processor subclass must implement #process method")},_.$$arity=-1),e.defn(m,"$create_section",d=function(n,r,$,o){var i,a,s=l,_=l,d=l,f=l;return null==o&&(o=c([],{})),s=n.$document(),_=$.$delete("id"),d=e.const_get(w,"Section",!0,!0).$new(n,o["$[]"]("level"),o.$fetch("numbered",s["$attr?"]("sectnums")),c(["attributes"],{attributes:$}).$merge(o)),f=[r],u(d,"title=",e.to_a(f)),f[t(f.length,1)],f=[(f=["id",(i=_)!==!1&&i!==l&&null!=i?i:function(){return(a=_["$nil?"]())===l||null==a||a.$$is_boolean&&1!=a?l:e.const_get(w,"Section",!0,!0).$generate_id(d.$title(),s)}()],u(d.$attributes(),"[]=",e.to_a(f)),f[t(f.length,1)])],u(d,"id=",e.to_a(f)),f[t(f.length,1)],d},d.$$arity=-4),e.defn(m,"$create_block",f=function(t,n,r,$,o){return null==o&&(o=c([],{})),e.const_get(w,"Block",!0,!0).$new(t,n,c(["source","attributes"],{source:r,attributes:$}).$merge(o))},f.$$arity=-5),e.defn(m,"$create_image_block",p=function(e,t,n){var r=this;return null==n&&(n=c([],{})),r.$create_block(e,"image",l,t,n)},p.$$arity=-3),e.defn(m,"$create_inline",h=function(t,n,r,$){return null==$&&($=c([],{})),e.const_get(w,"Inline",!0,!0).$new(t,n,r,$)},h.$$arity=-4),e.defn(m,"$parse_content",g=function(t,n,r){var $,o,i=l,a=l;for(null==r&&(r=l),i=function(){return($=e.const_get(w,"Reader",!0,!0)["$==="](n))===l||null==$||$.$$is_boolean&&1!=$?e.const_get(w,"Reader",!0,!0).$new(n):n}();(o=i["$has_more_lines?"]())!==l&&null!=o&&(!o.$$is_boolean||1==o);)(a=e.const_get(w,"Parser",!0,!0).$next_block(i,t,function(){return r!==!1&&r!==l&&null!=r?r.$dup():c([],{})}()))!==!1&&a!==l&&null!=a&&t["$<<"](a);return t},g.$$arity=-3),u([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(b=function(t,n,r){var $,o=b.$$s||this;return null==t&&(t=l),null==n&&(n=l),null==r&&(r=l),u(o,"define_method",[t],($=function(t){var o,i=$.$$s||this,l=arguments.length,a=l-0;a<0&&(a=0),o=new Array(a);for(var s=0;s<l;s++)o[s-0]=arguments[s];return o.$unshift(o.$shift(),r),u(i,"send",[n].concat(e.to_a(o)))},$.$$s=o,$.$$arity=-1,$))},b.$$s=m,b.$$arity=3,b))}(p.base,0,h),function(n,r){var $,o,i,s,c=$=a(n,"ProcessorDsl"),_=(c.$$proto,c.$$scope);r.slice().concat(_);e.defn(c,"$option",o=function(n,r){var $=this,o=l;return o=[n,r],u($.$config(),"[]=",e.to_a(o)),o[t(o.length,1)]},o.$$arity=2),e.defn(c,"$process",i=function(t){var n,r,$=this,o=i.$$p,a=o||l;null==$.process_block&&($.process_block=l);var s=arguments.length,c=s-0;c<0&&(c=0),r=new Array(c);for(var _=0;_<s;_++)r[_-0]=arguments[_];return o&&(i.$$p=null),a!==l?$.process_block=a:(n=$.process_block)===l||null==n||n.$$is_boolean&&1!=n?$.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0)):u($.process_block,"call",e.to_a(r))},i.$$arity=-1),e.defn(c,"$process_block_given?",s=function(){var e;return null!=(e=this.process_block)&&e!==l?"instance-variable":l},s.$$arity=0)}(p.base,h),function(t,n,r){function $(){}var o,i=$=s(t,n,"Preprocessor",$),l=(i.$$proto,i.$$scope);r.slice().concat(l);e.defn(i,"$process",o=function(t,n){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},o.$$arity=2)}(p.base,e.const_get(h,"Processor",!0,!0),h),e.casgn(e.const_get(h,"Preprocessor",!0,!0),"DSL",e.const_get(h,"ProcessorDsl",!0,!0)),function(t,n,r){function $(){}var o,i=$=s(t,n,"Treeprocessor",$),l=(i.$$proto,i.$$scope);r.slice().concat(l);e.defn(i,"$process",o=function(t){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Treeprocessor subclass must implement #process method")},o.$$arity=1)}(p.base,e.const_get(h,"Processor",!0,!0),h),e.casgn(e.const_get(h,"Treeprocessor",!0,!0),"DSL",e.const_get(h,"ProcessorDsl",!0,!0)),function(t,n,r){function $(){}var o,i=$=s(t,n,"Postprocessor",$),l=(i.$$proto,i.$$scope);r.slice().concat(l);e.defn(i,"$process",o=function(t,n){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},o.$$arity=2)}(p.base,e.const_get(h,"Processor",!0,!0),h),e.casgn(e.const_get(h,"Postprocessor",!0,!0),"DSL",e.const_get(h,"ProcessorDsl",!0,!0)),function(t,n,r){function $(){}var o,i,l=$=s(t,n,"IncludeProcessor",$),a=(l.$$proto,l.$$scope);r.slice().concat(a);e.defn(l,"$process",o=function(t,n,r,$){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},o.$$arity=4),e.defn(l,"$handles?",i=function(e){return!0},i.$$arity=1)}(p.base,e.const_get(h,"Processor",!0,!0),h),e.casgn(e.const_get(h,"IncludeProcessor",!0,!0),"DSL",e.const_get(h,"ProcessorDsl",!0,!0)),function(t,n,r){function $(){}var o,i,a=$=s(t,n,"DocinfoProcessor",$),_=a.$$proto,d=a.$$scope;r.slice().concat(d);_.config=l,a.$attr_accessor("location"),e.defn(a,"$initialize",o=function(t){var n,r,$,i=this,a=o.$$p;return null==t&&(t=c([],{})),a&&(o.$$p=null),u(i,e.find_super_dispatcher(i,"initialize",o,!1),[t],null),n="location",r=i.config,($=r["$[]"](n))!==!1&&$!==l&&null!=$?$:r["$[]="](n,"head")},o.$$arity=-1),e.defn(a,"$process",i=function(t){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},i.$$arity=1)}(p.base,e.const_get(h,"Processor",!0,!0),h),function(t,n){var r,$,o=r=a(t,"DocinfoProcessorDsl"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);o.$include(e.const_get(l,"ProcessorDsl",!0,!0)),e.defn(o,"$at_location",$=function(e){return this.$option("location",e)},$.$$arity=1)}(p.base,h),e.casgn(e.const_get(h,"DocinfoProcessor",!0,!0),"DSL",e.const_get(h,"DocinfoProcessorDsl",!0,!0)),function(n,r,$){function o(){}var i,a,_=o=s(n,r,"BlockProcessor",o),d=_.$$proto,f=_.$$scope;$.slice().concat(f);d.config=l,_.$attr_accessor("name"),e.defn(_,"$initialize",i=function(n,r){var $,o,a,s=this,_=i.$$p,d=l,f=l;return null==n&&(n=l),null==r&&(r=c([],{})),_&&(i.$$p=null),u(s,e.find_super_dispatcher(s,"initialize",i,!1),[r],null),s.name=($=n)!==!1&&$!==l&&null!=$?$:s.config["$[]"]("name"),d=s.config["$[]"]("contexts"),e.const_get([e.Object.$$scope],"NilClass",!0,!0)["$==="](d)?($="contexts",o=s.config,(a=o["$[]"]($))!==!1&&a!==l&&null!=a||o["$[]="]($,["open","paragraph"].$to_set())):e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](d)?(f=["contexts",[s.config["$[]"]("contexts")].$to_set()],u(s.config,"[]=",e.to_a(f)),f[t(f.length,1)]):(f=["contexts",s.config["$[]"]("contexts").$to_set()],u(s.config,"[]=",e.to_a(f)),f[t(f.length,1)]),$="content_model",o=s.config,(a=o["$[]"]($))!==!1&&a!==l&&null!=a?a:o["$[]="]($,"compound")},i.$$arity=-1),e.defn(_,"$process",a=function(t,n,r){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},a.$$arity=3)}(p.base,e.const_get(h,"Processor",!0,!0),h),function(t,n){var r,$,o,i,s,c,u=r=a(t,"BlockProcessorDsl"),_=(u.$$proto,u.$$scope),d=n.slice().concat(_);u.$include(e.const_get(d,"ProcessorDsl",!0,!0)),e.defn(u,"$named",$=function(t){var n,r=this;return(n=e.const_get(d,"Processor",!0,!0)["$==="](r))===l||null==n||n.$$is_boolean&&1!=n?r.$option("name",t):r.name=t},$.$$arity=1),e.alias(u,"match_name","named"),e.alias(u,"bind_to","named"),e.defn(u,"$contexts",o=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return n.$option("contexts",t.$flatten())},o.$$arity=-1),e.alias(u,"on_contexts","contexts"),e.alias(u,"on_context","contexts"),e.defn(u,"$content_model",i=function(e){return this.$option("content_model",e)},i.$$arity=1),e.alias(u,"parse_content_as","content_model"),e.defn(u,"$positional_attributes",s=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return n.$option("pos_attrs",t.$flatten())},s.$$arity=-1),e.alias(u,"pos_attrs","positional_attributes"),e.alias(u,"name_attributes","positional_attributes"),e.alias(u,"name_positional_attributes","positional_attributes"),e.defn(u,"$default_attrs",c=function(e){return this.$option("default_attrs",e)},c.$$arity=1),e.alias(u,"seed_attributes_with","default_attrs")}(p.base,h),e.casgn(e.const_get(h,"BlockProcessor",!0,!0),"DSL",e.const_get(h,"BlockProcessorDsl",!0,!0)),function(t,n,r){function $(){}var o,i,a=$=s(t,n,"MacroProcessor",$),_=a.$$proto,d=a.$$scope;r.slice().concat(d);_.config=l,a.$attr_accessor("name"),e.defn(a,"$initialize",o=function(t,n){var r,$,i,a=this,s=o.$$p;return null==t&&(t=l),null==n&&(n=c([],{})),s&&(o.$$p=null),u(a,e.find_super_dispatcher(a,"initialize",o,!1),[n],null),a.name=(r=t)!==!1&&r!==l&&null!=r?r:a.config["$[]"]("name"),r="content_model",$=a.config,(i=$["$[]"](r))!==!1&&i!==l&&null!=i?i:$["$[]="](r,"attributes")},o.$$arity=-1),e.defn(a,"$process",i=function(t,n,r){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},i.$$arity=3)}(p.base,e.const_get(h,"Processor",!0,!0),h),function(t,n){var r,$,o,i,s,c=r=a(t,"MacroProcessorDsl"),u=(c.$$proto,c.$$scope),_=n.slice().concat(u);c.$include(e.const_get(_,"ProcessorDsl",!0,!0)),e.defn(c,"$named",$=function(t){var n,r=this;return(n=e.const_get(_,"Processor",!0,!0)["$==="](r))===l||null==n||n.$$is_boolean&&1!=n?r.$option("name",t):r.name=t},$.$$arity=1),e.alias(c,"match_name","named"),e.alias(c,"bind_to","named"),e.defn(c,"$content_model",o=function(e){return this.$option("content_model",e)},o.$$arity=1),e.alias(c,"parse_content_as","content_model"),e.defn(c,"$positional_attributes",i=function(e){var t,n=this,r=arguments.length,$=r-0;$<0&&($=0),t=new Array($);for(var o=0;o<r;o++)t[o-0]=arguments[o];return n.$option("pos_attrs",t.$flatten())},i.$$arity=-1),e.alias(c,"pos_attrs","positional_attributes"),e.alias(c,"name_attributes","positional_attributes"),e.alias(c,"name_positional_attributes","positional_attributes"),e.defn(c,"$default_attrs",s=function(e){return this.$option("default_attrs",e)},s.$$arity=1),e.alias(c,"seed_attributes_with","default_attrs")}(p.base,h),function(e,t,n){function r(){}var $=r=s(e,t,"BlockMacroProcessor",r),o=($.$$proto,$.$$scope);n.slice().concat(o)}(p.base,e.const_get(h,"MacroProcessor",!0,!0),h),e.casgn(e.const_get(h,"BlockMacroProcessor",!0,!0),"DSL",e.const_get(h,"MacroProcessorDsl",!0,!0)),function(t,n,r){function $(){}var o,i,a=$=s(t,n,"InlineMacroProcessor",$),c=a.$$proto,u=a.$$scope;r.slice().concat(u);c.config=c.name=l,e.defn(a,"$regexp",o=function(){var e,t,n,r=this;return e="regexp",t=r.config,(n=t["$[]"](e))!==!1&&n!==l&&null!=n?n:t["$[]="](e,r.$resolve_regexp(r.name,r.config["$[]"]("format")))},o.$$arity=0),e.defn(a,"$resolve_regexp",i=function(e,t){return t["$=="]("short")?new RegExp("\\\\?"+e+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+e+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},i.$$arity=2)}(p.base,e.const_get(h,"MacroProcessor",!0,!0),h),function(t,n){var r,$,o,i=r=a(t,"InlineMacroProcessorDsl"),l=(i.$$proto,i.$$scope),s=n.slice().concat(l);i.$include(e.const_get(s,"MacroProcessorDsl",!0,!0)),e.defn(i,"$using_format",$=function(e){return this.$option("format",e)},$.$$arity=1),e.defn(i,"$match",o=function(e){return this.$option("regexp",e)},o.$$arity=1)}(p.base,h),e.casgn(e.const_get(h,"InlineMacroProcessor",!0,!0),"DSL",e.const_get(h,"InlineMacroProcessorDsl",!0,!0)),function(t,n,r){function $(){}var o,i=$=s(t,null,"Extension",$),l=(i.$$proto,i.$$scope);r.slice().concat(l);i.$attr_reader("kind"),i.$attr_reader("config"),i.$attr_reader("instance"),e.defn(i,"$initialize",o=function(e,t,n){var r=this;return r.kind=e,r.instance=t,r.config=n},o.$$arity=3)}(p.base,0,h),function(t,n,r){function $(){}var o,i=$=s(t,n,"ProcessorExtension",$),a=(i.$$proto,i.$$scope);r.slice().concat(a);i.$attr_reader("process_method"),e.defn(i,"$initialize",o=function(t,n,r){var $,i=this,a=o.$$p;return null==r&&(r=l),a&&(o.$$p=null),u(i,e.find_super_dispatcher(i,"initialize",o,!1),[t,n,n.$config()],null),i.process_method=($=r)!==!1&&$!==l&&null!=$?$:n.$method("process")},o.$$arity=-3)}(p.base,e.const_get(h,"Extension",!0,!0),h),function(t,n,r){function $(){}var o,i=$=s(t,null,"Group",$),a=(i.$$proto,i.$$scope),c=r.slice().concat(a);(function(t,n){var r,$=(t.$$proto,t.$$scope,n.slice().concat(t));e.defn(t,"$register",r=function(t){var n=this;return null==t&&(t=l),e.const_get($,"Extensions",!0,!0).$register(t,n)},r.$$arity=-1)})(e.get_singleton_class(i),c),e.defn(i,"$activate",o=function(t){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},o.$$arity=1)}(p.base,0,h),function(o,i,a){function _(){}var d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K=_=s(o,null,"Registry",_),W=K.$$proto,X=K.$$scope,V=a.slice().concat(X);W.groups=W.preprocessor_extensions=W.treeprocessor_extensions=W.postprocessor_extensions=W.include_processor_extensions=W.docinfo_processor_extensions=W.block_extensions=W.block_macro_extensions=W.inline_macro_extensions=l,K.$attr_reader("document"),K.$attr_reader("groups"),e.defn(K,"$initialize",d=function(e){var t=this;return null==e&&(e=c([],{})),t.groups=e,t.preprocessor_extensions=t.treeprocessor_extensions=t.postprocessor_extensions=t.include_processor_extensions=t.docinfo_processor_extensions=l,t.block_extensions=t.block_macro_extensions=t.inline_macro_extensions=l,t.document=l},d.$$arity=-1),e.defn(K,"$activate",f=function(t){var r,$=this;return $.document=t,u(n(e.const_get(V,"Extensions",!0,!0).$groups().$values(),$.groups.$values()),"each",[],(r=function(t){var n=r.$$s||this,$=l;return null==t&&(t=l),function(){return $=t,e.const_get([e.Object.$$scope],"Proc",!0,!0)["$==="]($)?function(){return $=t.$arity(),(0)["$==="]($)||(-1)["$==="]($)?u(n,"instance_exec",[],t.$to_proc()):1["$==="]($)?t.$call(n):l}():e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="]($)?t.$new().$activate(n):t.$activate(n)}()},r.$$s=$,r.$$arity=1,r)),$},f.$$arity=1),e.defn(K,"$preprocessor",p=function(e){var t,n=this,r=p.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(p.$$p=null),u(n,"add_document_processor",["preprocessor",t],$.$to_proc())},p.$$arity=-1),e.defn(K,"$preprocessors?",h=function(){return this.preprocessor_extensions["$!"]()["$!"]()},h.$$arity=0),e.defn(K,"$preprocessors",g=function(){return this.preprocessor_extensions},g.$$arity=0),e.defn(K,"$treeprocessor",b=function(e){var t,n=this,r=b.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(b.$$p=null),u(n,"add_document_processor",["treeprocessor",t],$.$to_proc())},b.$$arity=-1),e.defn(K,"$treeprocessors?",m=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},m.$$arity=0),e.defn(K,"$treeprocessors",y=function(){return this.treeprocessor_extensions},y.$$arity=0),e.defn(K,"$postprocessor",v=function(e){var t,n=this,r=v.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(v.$$p=null),u(n,"add_document_processor",["postprocessor",t],$.$to_proc())},v.$$arity=-1),e.defn(K,"$postprocessors?",w=function(){return this.postprocessor_extensions["$!"]()["$!"]()},w.$$arity=0),e.defn(K,"$postprocessors",x=function(){return this.postprocessor_extensions},x.$$arity=0),e.defn(K,"$include_processor",k=function(e){var t,n=this,r=k.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(k.$$p=null),u(n,"add_document_processor",["include_processor",t],$.$to_proc())},k.$$arity=-1),e.defn(K,"$include_processors?",O=function(){return this.include_processor_extensions["$!"]()["$!"]()},O.$$arity=0),e.defn(K,"$include_processors",E=function(){return this.include_processor_extensions},E.$$arity=0),e.defn(K,"$docinfo_processor",A=function(e){var t,n=this,r=A.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(A.$$p=null),u(n,"add_document_processor",["docinfo_processor",t],$.$to_proc())},A.$$arity=-1),e.defn(K,"$docinfo_processors?",S=function(e){var t,n,r=this;return null==e&&(e=l),!((t=r.docinfo_processor_extensions)===l||null==t||t.$$is_boolean&&1!=t)&&(e===!1||e===l||null==e||u(r.docinfo_processor_extensions,"any?",[],(n=function(t){n.$$s;return null==t&&(t=l),t.$config()["$[]"]("location")["$=="](e)},n.$$s=r,n.$$arity=1,n)))},S.$$arity=-1),e.defn(K,"$docinfo_processors",R=function(e){var t,n,r=this;return null==e&&(e=l),(t=r.docinfo_processor_extensions)===l||null==t||t.$$is_boolean&&1!=t?l:e!==!1&&e!==l&&null!=e?u(r.docinfo_processor_extensions,"select",[],(n=function(t){n.$$s;return null==t&&(t=l),t.$config()["$[]"]("location")["$=="](e)},n.$$s=r,n.$$arity=1,n)):r.docinfo_processor_extensions},R.$$arity=-1),e.defn(K,"$block",M=function(e){var t,n=this,r=M.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(M.$$p=null),u(n,"add_syntax_processor",["block",t],$.$to_proc())},M.$$arity=-1),e.defn(K,"$blocks?",T=function(){return this.block_extensions["$!"]()["$!"]()},T.$$arity=0),e.defn(K,"$registered_for_block?",I=function(e,t){var n,r=this,$=l;return!((n=$=r.block_extensions["$[]"](e.$to_sym()))===l||null==n||n.$$is_boolean&&1!=n)&&(!((n=$.$config()["$[]"]("contexts")["$include?"](t))===l||null==n||n.$$is_boolean&&1!=n)&&$)},I.$$arity=2),e.defn(K,"$find_block_extension",C=function(e){return this.block_extensions["$[]"](e.$to_sym())},C.$$arity=1),e.defn(K,"$block_macro",N=function(e){var t,n=this,r=N.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(N.$$p=null),u(n,"add_syntax_processor",["block_macro",t],$.$to_proc())},N.$$arity=-1),e.defn(K,"$block_macros?",j=function(){return this.block_macro_extensions["$!"]()["$!"]()},j.$$arity=0),e.defn(K,"$registered_for_block_macro?",L=function(e){var t,n=this,r=l;return!((t=r=n.block_macro_extensions["$[]"](e.$to_sym()))===l||null==t||t.$$is_boolean&&1!=t)&&r},L.$$arity=1),e.defn(K,"$find_block_macro_extension",z=function(e){return this.block_macro_extensions["$[]"](e.$to_sym())},z.$$arity=1),e.defn(K,"$inline_macro",P=function(e){var t,n=this,r=P.$$p,$=r||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return r&&(P.$$p=null),u(n,"add_syntax_processor",["inline_macro",t],$.$to_proc())},P.$$arity=-1),e.defn(K,"$inline_macros?",D=function(){return this.inline_macro_extensions["$!"]()["$!"]()},D.$$arity=0),e.defn(K,"$registered_for_inline_macro?",B=function(e){var t,n=this,r=l;return!((t=r=n.inline_macro_extensions["$[]"](e.$to_sym()))===l||null==t||t.$$is_boolean&&1!=t)&&r},B.$$arity=1),e.defn(K,"$find_inline_macro_extension",q=function(e){return this.inline_macro_extensions["$[]"](e.$to_sym())},q.$$arity=1),e.defn(K,"$inline_macros",U=function(){return this.inline_macro_extensions.$values()},U.$$arity=0),K.$private(),e.defn(K,"$add_document_processor",F=function(t,n){var $,o,i,a,s=this,c=F.$$p,_=c||l,d=l,f=l,p=l,h=l,g=l,b=l,m=l,y=l,v=l;return c&&(F.$$p=null),d=t.$to_s().$tr("_"," "),f=u(d.$split(),"map",[],"capitalize".$to_proc()).$join().$to_sym(),p=e.const_get(V,"Extensions",!0,!0).$const_get(f),h=function(){return($=(o=e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!1))?"constant":l)===l||null==$||$.$$is_boolean&&1!=$?l:e.const_get([e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(f)}(),g=($=s.$instance_variable_get(("@"+t+"_extensions").$to_sym()))!==!1&&$!==l&&null!=$?$:s.$instance_variable_set(("@"+t+"_extensions").$to_sym(),[]),b=function(){return _!==l?(m=s.$resolve_args(n,1),y=p.$new(m),($=p.$constants().$grep("DSL"))===l||null==$||$.$$is_boolean&&1!=$||y.$extend(p.$const_get("DSL")),u(y,"instance_exec",[],_.$to_proc()),y.$freeze(),(($=y["$process_block_given?"]())===l||null==$||$.$$is_boolean&&1!=$)&&s.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"No block specified to process "+d+" extension at "+_.$source_location()),e.const_get(V,"ProcessorExtension",!0,!0).$new(t,y)):(i=s.$resolve_args(n,2),$=e.to_ary(i),y=null==$[0]?l:$[0],m=null==$[1]?l:$[1],($=(i=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](y))!==!1&&i!==l&&null!=i?i:(a=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](y),a!==!1&&a!==l&&null!=a?y=e.const_get(V,"Extensions",!0,!0).$class_for_name(y):a))===l||null==$||$.$$is_boolean&&1!=$?($=(i=p["$==="](y))!==!1&&i!==l&&null!=i?i:(a=h!==!1&&h!==l&&null!=h)?h["$==="](y):h)===l||null==$||$.$$is_boolean&&1!=$?s.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Invalid arguments specified for registering "+d+" extension: "+n):(y.$update_config(m),y.$freeze(),e.const_get(V,"ProcessorExtension",!0,!0).$new(t,y)):((($=(i=r(y,p))!==!1&&i!==l&&null!=i?i:(a=h!==!1&&h!==l&&null!=h)?r(y,h):h)===l||null==$||$.$$is_boolean&&1!=$)&&s.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Invalid type for "+d+" extension: "+y),v=y.$new(m),v.$freeze(),e.const_get(V,"ProcessorExtension",!0,!0).$new(t,v)))}(),b.$config()["$[]"]("position")["$=="](">>")?g.$unshift(b):g["$<<"](b)},F.$$arity=2),e.defn(K,"$add_syntax_processor",G=function(n,$){var o,i,a,s,_=this,d=G.$$p,f=d||l,p=l,h=l,g=l,b=l,m=l,y=l,v=l,w=l,x=l,k=l;return d&&(G.$$p=null),p=n.$to_s().$tr("_"," "),h=u(p.$split(),"map",[],"capitalize".$to_proc()).$push("Processor").$join().$to_sym(),g=e.const_get(V,"Extensions",!0,!0).$const_get(h),b=function(){return(o=(i=e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!1))?"constant":l)===l||null==o||o.$$is_boolean&&1!=o?l:e.const_get([e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(h)}(),m=(o=_.$instance_variable_get(("@"+n+"_extensions").$to_sym()))!==!1&&o!==l&&null!=o?o:_.$instance_variable_set(("@"+n+"_extensions").$to_sym(),c([],{})),f!==l?(a=_.$resolve_args($,2),o=e.to_ary(a),y=null==o[0]?l:o[0],v=null==o[1]?l:o[1],w=g.$new(_.$as_symbol(y),v),(o=g.$constants().$grep("DSL"))===l||null==o||o.$$is_boolean&&1!=o||w.$extend(g.$const_get("DSL")),f.$arity()["$=="](1)?e.yield1(f,w):u(w,"instance_exec",[],f.$to_proc()),((o=y=_.$as_symbol(w.$name()))===l||null==o||o.$$is_boolean&&1!=o)&&_.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"No name specified for "+p+" extension at "+f.$source_location()),
((o=w["$process_block_given?"]())===l||null==o||o.$$is_boolean&&1!=o)&&_.$raise(e.const_get([e.Object.$$scope],"NoMethodError",!0,!0),"No block specified to process "+p+" extension at "+f.$source_location()),w.$freeze(),x=[y,e.const_get(V,"ProcessorExtension",!0,!0).$new(n,w)],u(m,"[]=",e.to_a(x)),x[t(x.length,1)]):(a=_.$resolve_args($,3),o=e.to_ary(a),w=null==o[0]?l:o[0],y=null==o[1]?l:o[1],v=null==o[2]?l:o[2],(o=(a=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](w))!==!1&&a!==l&&null!=a?a:(s=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](w),s!==!1&&s!==l&&null!=s?w=e.const_get(V,"Extensions",!0,!0).$class_for_name(w):s))===l||null==o||o.$$is_boolean&&1!=o?(o=(a=g["$==="](w))!==!1&&a!==l&&null!=a?a:(s=b!==!1&&b!==l&&null!=b)?b["$==="](w):b)===l||null==o||o.$$is_boolean&&1!=o?_.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Invalid arguments specified for registering "+p+" extension: "+$):(w.$update_config(v),((o=y=function(){return y!==!1&&y!==l&&null!=y?(x=[_.$as_symbol(y)],u(w,"name=",e.to_a(x)),x[t(x.length,1)]):_.$as_symbol(w.$name())}())===l||null==o||o.$$is_boolean&&1!=o)&&_.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"No name specified for "+p+" extension: "+w),w.$freeze(),x=[y,e.const_get(V,"ProcessorExtension",!0,!0).$new(n,w)],u(m,"[]=",e.to_a(x)),x[t(x.length,1)]):(((o=(a=r(w,g))!==!1&&a!==l&&null!=a?a:(s=b!==!1&&b!==l&&null!=b)?r(w,b):b)===l||null==o||o.$$is_boolean&&1!=o)&&_.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Class specified for "+p+" extension does not inherit from "+g+": "+w),k=w.$new(_.$as_symbol(y),v),((o=y=_.$as_symbol(k.$name()))===l||null==o||o.$$is_boolean&&1!=o)&&_.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"No name specified for "+p+" extension: "+w),w.$freeze(),x=[y,e.const_get(V,"ProcessorExtension",!0,!0).$new(n,k)],u(m,"[]=",e.to_a(x)),x[t(x.length,1)]))},G.$$arity=2),e.defn(K,"$resolve_args",H=function(o,i){var a,s=l,u=l;return s=function(){return(a=e.const_get([e.Object.$$scope],"Hash",!0,!0)["$==="](o["$[]"](-1)))===l||null==a||a.$$is_boolean&&1!=a?c([],{}):o.$pop()}(),i["$=="](1)?s:((a=$(u=t(t(i,1),o.$size()),0))===l||null==a||a.$$is_boolean&&1!=a?(a=r(u,0))===l||null==a||a.$$is_boolean&&1!=a||o.$pop(u["$-@"]()):o=n(o,e.const_get([e.Object.$$scope],"Array",!0,!0).$new(u)),o["$<<"](s),o)},H.$$arity=2),e.defn(K,"$as_symbol",Y=function(e){return e!==!1&&e!==l&&null!=e?e.$to_sym():l},Y.$$arity=1)}(p.base,0,h),function(r,$){var o,i,a,s,d,f,p,h,g=(r.$$proto,r.$$scope,$.slice().concat(r));e.defn(r,"$generate_name",o=function(){return"extgrp"+this.$next_auto_id()},o.$$arity=0),e.defn(r,"$next_auto_id",i=function(){var e,t=this;return null==t.auto_id&&(t.auto_id=l),(e=t.auto_id)!==!1&&e!==l&&null!=e||(t.auto_id=-1),t.auto_id=n(t.auto_id,1)},i.$$arity=0),e.defn(r,"$groups",a=function(){var e,t=this;return null==t.groups&&(t.groups=l),(e=t.groups)!==!1&&e!==l&&null!=e?e:t.groups=c([],{})},a.$$arity=0),e.defn(r,"$build_registry",s=function(t){var n,r=this,$=s.$$p,o=$||l;return null==t&&(t=l),$&&(s.$$p=null),o!==l?((n=t)!==!1&&n!==l&&null!=n||(t=r.$generate_name()),e.const_get(g,"Registry",!0,!0).$new(_(t,o))):e.const_get(g,"Registry",!0,!0).$new()},s.$$arity=-1),e.defn(r,"$register",d=function(n){var r,$,o=this,i=d.$$p,a=i||l,s=l,c=l,_=l,f=l,p=l,h=l,g=arguments.length,b=g-0;b<0&&(b=0),$=new Array(b);for(var m=0;m<g;m++)$[m-0]=arguments[m];return i&&(d.$$p=null),s=$.$size(),c=function(){return a!==l?a:(r=(_=$.$pop())["$!"]())===l||null==r||r.$$is_boolean&&1!=r?function(){return f=_,e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](f)?_:e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](f)?o.$class_for_name(_):e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](f)?o.$class_for_name(_.$to_s()):_}():o.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Extension group to register not specified")}(),p=(r=$.$pop())!==!1&&r!==l&&null!=r?r:o.$generate_name(),((r=$["$empty?"]())===l||null==r||r.$$is_boolean&&1!=r)&&o.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Wrong number of arguments ("+s+" for 1..2)"),h=[p,c],u(o.$groups(),"[]=",e.to_a(h)),h[t(h.length,1)]},d.$$arity=-1),e.defn(r,"$unregister_all",f=function(){return this.groups=c([],{})},f.$$arity=0),e.defn(r,"$resolve_class",p=function(t){var n,r=this;return(n=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](t))===l||null==n||n.$$is_boolean&&1!=n?r.$class_for_name(t.$to_s()):t},p.$$arity=1),e.defn(r,"$class_for_name",h=function(t){var n,r=this,$=l;return $=e.const_get([e.Object.$$scope],"Object",!0,!0),u(t.$split("::"),"each",[],(n=function(r){var o,i=n.$$s||this;return null==r&&(r=l),(o=r["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o?(o=$["$const_defined?"](r))===l||null==o||o.$$is_boolean&&1!=o?i.$raise(e.const_get([e.Object.$$scope],"NameError",!0,!0),"Could not resolve class for name: "+t):$=$.$const_get(r):l},n.$$s=r,n.$$arity=1,n)),$},h.$$arity=1)}(e.get_singleton_class(f),h)}(p.base,h)}(o.base,i)},Opal.modules["asciidoctor/js/postscript"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("asciidoctor/converter"),t.$require("asciidoctor/converter/composite"),t.$require("asciidoctor/converter/html5"),t.$require("asciidoctor/extensions")},function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var o,i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.gvars),u=e.module,_=e.hash2,d=e.send,f=e.hash;null==c[":"]&&(c[":"]=s),e.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$*","$to_a","$dup","$insert","$start","$===","$inject","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$nil?","$read_asset","$write_coderay_stylesheet","$write_pygments_stylesheet"]),((o=e.const_get([l],"RUBY_ENGINE",!0,!1)?"constant":s)===s||null==o||o.$$is_boolean&&1!=o)&&e.cdecl(l,"RUBY_ENGINE","unknown"),e.cdecl(l,"RUBY_ENGINE_OPAL",e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")),e.cdecl(l,"RUBY_ENGINE_JRUBY",e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("jruby")),e.cdecl(l,"RUBY_MIN_VERSION_1_9",t(e.const_get(a,"RUBY_VERSION",!0,!0),"1.9")),e.cdecl(l,"RUBY_MIN_VERSION_2",t(e.const_get(a,"RUBY_VERSION",!0,!0),"2")),i.$require("set"),e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&i.$require("asciidoctor/js"),c[":"].$unshift(e.const_get(a,"File",!0,!0).$dirname("asciidoctor")),function(o,i){var l,a,c,p=l=u(o,"Asciidoctor"),h=(p.$$proto,p.$$scope),g=i.slice().concat(h),b=s,m=s,y=s;e.cdecl(h,"RUBY_ENGINE",e.const_get([e.Object.$$scope],"RUBY_ENGINE",!0,!0)),function(t,r){var $,o,i,l,a,c=$=u(t,"SafeMode"),f=(c.$$proto,c.$$scope),p=(r.slice().concat(f),s);e.cdecl(f,"UNSAFE",0),e.cdecl(f,"SAFE",1),e.cdecl(f,"SERVER",10),e.cdecl(f,"SECURE",20),p=_([],{}),d(c.$constants(),"each",[],(o=function(t){var r=o.$$s||this,$=s;return null==t&&(t=s),$=[r.$const_get(t),t.$to_s().$downcase()],d(p,"[]=",e.to_a($)),$[n($.length,1)]},o.$$s=c,o.$$arity=1,o)),c.names_by_value=p,e.defs(c,"$value_for_name",i=function(e){return this.$const_get(e.$upcase())},i.$$arity=1),e.defs(c,"$name_for_value",l=function(e){var t=this;return null==t.names_by_value&&(t.names_by_value=s),t.names_by_value["$[]"](e)},l.$$arity=1),e.defs(c,"$names",a=function(){var e=this;return null==e.names_by_value&&(e.names_by_value=s),e.names_by_value.$values()},a.$$arity=0)}(h.base,g),function(t,n){var r,$,o=r=u(t,"Compliance"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);o.keys=e.const_get([e.Object.$$scope],"Set",!0,!0).$new(),function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);e.$attr_reader("keys")}(e.get_singleton_class(o),l),e.defs(o,"$define",$=function(t,n){var r=this;return null==r.keys&&(r.keys=s),r.$instance_variable_set("@"+t,n),function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);return e}(e.get_singleton_class(r),l).$send("attr_accessor",t),r.keys["$<<"](t),s},$.$$arity=2),o.$define("block_terminates_paragraph",!0),o.$define("strict_verbatim_paragraphs",!0),o.$define("underline_style_section_titles",!0),o.$define("unwrap_standalone_preamble",!0),o.$define("attribute_missing","skip"),o.$define("attribute_undefined","drop-line"),o.$define("shorthand_property_syntax",!0),o.$define("unique_id_start_index",2),o.$define("markdown_syntax",!0)}(h.base,g),e.cdecl(h,"ROOT_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path("asciidoctor")))),e.cdecl(h,"LIB_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(g,"ROOT_PATH",!0,!0),"lib")),e.cdecl(h,"DATA_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(g,"ROOT_PATH",!0,!0),"data"));try{e.cdecl(h,"USER_HOME",e.const_get([e.Object.$$scope],"Dir",!0,!0).$home())}catch(t){if(!e.rescue(t,[e.const_get(g,"StandardError",!0,!0)]))throw t;try{e.cdecl(h,"USER_HOME",(a=e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("HOME"))!==!1&&a!==s&&null!=a?a:e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd())}finally{e.pop_exception()}}e.cdecl(h,"COERCE_ENCODING",(a=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"](),a!==!1&&a!==s&&null!=a?e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0):a)),e.cdecl(h,"FORCE_ENCODING",(a=e.const_get(g,"COERCE_ENCODING",!0,!0),a!==!1&&a!==s&&null!=a?e.const_get([e.Object.$$scope],"Encoding",!0,!0).$default_external()["$!="](e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0)):a)),e.cdecl(h,"BOM_BYTES_UTF_8",[239,187,191]),e.cdecl(h,"BOM_BYTES_UTF_16LE",[255,254]),e.cdecl(h,"BOM_BYTES_UTF_16BE",[254,255]),e.cdecl(h,"FORCE_UNICODE_LINE_LENGTH",e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0)["$!"]()),e.cdecl(h,"EOL","\n"),e.cdecl(h,"NULL","\0"),e.cdecl(h,"TAB","\t"),e.cdecl(h,"DEFAULT_DOCTYPE","article"),e.cdecl(h,"DEFAULT_BACKEND","html5"),e.cdecl(h,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),e.cdecl(h,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.cdecl(h,"BACKEND_ALIASES",_(["html","docbook"],{html:"html5",docbook:"docbook5"})),e.cdecl(h,"DEFAULT_PAGE_WIDTHS",_(["docbook"],{docbook:425})),e.cdecl(h,"DEFAULT_EXTENSIONS",_(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),e.cdecl(h,"ASCIIDOC_EXTENSIONS",_([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),e.cdecl(h,"SETEXT_SECTION_LEVELS",_(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),e.cdecl(h,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),e.cdecl(h,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),e.cdecl(h,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),e.cdecl(h,"DELIMITED_BLOCKS",_(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],",===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],":===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],"!===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],"////":["comment",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],"```":["fenced_code",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()]})),e.cdecl(h,"DELIMITED_BLOCK_LEADERS",d(e.const_get(g,"DELIMITED_BLOCKS",!0,!0).$keys(),"map",[],(c=function(e){c.$$s;return null==e&&(e=s),e["$[]"](0,2)},c.$$s=p,c.$$arity=1,c)).$to_set()),e.cdecl(h,"LAYOUT_BREAK_LINES",_(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),e.cdecl(h,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),e.cdecl(h,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),e.cdecl(h,"ORDERED_LIST_KEYWORDS",_(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),e.cdecl(h,"LIST_CONTINUATION","+"),e.cdecl(h,"LINE_BREAK"," +"),e.cdecl(h,"LINE_CONTINUATION"," \\"),e.cdecl(h,"LINE_CONTINUATION_LEGACY"," +"),e.cdecl(h,"BLOCK_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),e.cdecl(h,"INLINE_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),e.cdecl(h,"FLEXIBLE_ATTRIBUTES",["sectnums"]),e.const_get(g,"RUBY_ENGINE",!0,!0)["$=="]("opal"),e.cdecl(h,"AuthorInfoLineRx",new RegExp("^("+e.const_get(g,"CG_WORD",!0,!0)+"["+e.const_get(g,"CC_WORD",!0,!0)+"\\-'.]*)(?: +("+e.const_get(g,"CG_WORD",!0,!0)+"["+e.const_get(g,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +("+e.const_get(g,"CG_WORD",!0,!0)+"["+e.const_get(g,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +<([^>]+)>)?$")),e.cdecl(h,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),e.cdecl(h,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),e.cdecl(h,"ManpageNamePurposeRx",new RegExp("^(.*?)"+e.const_get(g,"CG_BLANK",!0,!0)+"+-"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(h,"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),e.cdecl(h,"EvalExpressionRx",new RegExp("^(\\S.*?)"+e.const_get(g,"CG_BLANK",!0,!0)+"*(==|!=|<=|>=|<|>)"+e.const_get(g,"CG_BLANK",!0,!0)+"*(\\S.*)$")),e.cdecl(h,"IncludeDirectiveRx",/^(\\)?include::([^\[]+)\[(.*?)\]$/),e.cdecl(h,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),e.cdecl(h,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*))?$")),e.cdecl(h,"InvalidAttributeNameCharsRx",/[^\w\-]/),e.cdecl(h,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),e.cdecl(h,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),e.cdecl(h,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+e.const_get(g,"CC_ALPHA",!0,!0)+":_]["+e.const_get(g,"CC_WORD",!0,!0)+":.-]*)(?:,"+e.const_get(g,"CG_BLANK",!0,!0)+"*(\\S.*))?)\\]\\]$")),e.cdecl(h,"BlockAttributeListRx",new RegExp("^\\[(|"+e.const_get(g,"CG_BLANK",!0,!0)+"*["+e.const_get(g,"CC_WORD",!0,!0)+"\\{,.#\"'%].*)\\]$")),e.cdecl(h,"BlockAttributeLineRx",new RegExp("^\\[(|"+e.const_get(g,"CG_BLANK",!0,!0)+"*["+e.const_get(g,"CC_WORD",!0,!0)+"\\{,.#\"'%].*|\\[(?:|["+e.const_get(g,"CC_ALPHA",!0,!0)+":_]["+e.const_get(g,"CC_WORD",!0,!0)+":.-]*(?:,"+e.const_get(g,"CG_BLANK",!0,!0)+"*\\S.*)?)\\])\\]$")),e.cdecl(h,"BlockTitleRx",/^\.([^\s.].*)$/),e.cdecl(h,"AdmonitionParagraphRx",new RegExp("^("+r(e.const_get(g,"ADMONITION_STYLES",!0,!0).$to_a(),"|")+"):"+e.const_get(g,"CG_BLANK",!0,!0))),e.cdecl(h,"LiteralParagraphRx",new RegExp("^("+e.const_get(g,"CG_BLANK",!0,!0)+"+.*)$")),e.cdecl(h,"CommentBlockRx",/^\/{4,}$/),e.cdecl(h,"CommentLineRx",/^\/\/(?=[^\/]|$)/),e.cdecl(h,"AtxSectionRx",new RegExp("^(={1,6}|\\#{1,6})"+e.const_get(g,"CG_BLANK",!0,!0)+"+(\\S.*?)(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"+\\1)?$")),e.cdecl(h,"SetextSectionTitleRx",new RegExp("^((?=.*"+e.const_get(g,"CG_WORD",!0,!0)+"+.*)[^.].*?)$")),e.cdecl(h,"InlineSectionAnchorRx",new RegExp("^(.*?)"+e.const_get(g,"CG_BLANK",!0,!0)+"+(\\\\)?\\[\\[(["+e.const_get(g,"CC_ALPHA",!0,!0)+":_]["+e.const_get(g,"CC_WORD",!0,!0)+":.-]*)(?:,"+e.const_get(g,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]$")),e.cdecl(h,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+e.const_get(g,"CC_WORD",!0,!0)+"]+?")),e.cdecl(h,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),e.cdecl(h,"AnyListRx",new RegExp("^(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.const_get(g,"CG_BLANK",!0,!0)+"|"+e.const_get(g,"CG_BLANK",!0,!0)+"*.*?(?::{2,4}|;;)(?:$|"+e.const_get(g,"CG_BLANK",!0,!0)+")|<?\\d+>"+e.const_get(g,"CG_BLANK",!0,!0)+")")),e.cdecl(h,"UnorderedListRx",new RegExp("^"+e.const_get(g,"CG_BLANK",!0,!0)+"*(-|\\*{1,5}|\\u2022{1,5})"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(h,"OrderedListRx",new RegExp("^"+e.const_get(g,"CG_BLANK",!0,!0)+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(h,"OrderedListMarkerRxMap",_(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),e.cdecl(h,"DescriptionListRx",new RegExp("^(?!//)"+e.const_get(g,"CG_BLANK",!0,!0)+"*(.*?)(:{2,4}|;;)(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*))?$")),e.cdecl(h,"DescriptionListSiblingRx",_(["::",":::","::::",";;"],{"::":new RegExp("^(?!//)"+e.const_get(g,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::)(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*))?$"),":::":new RegExp("^(?!//)"+e.const_get(g,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(:::)(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*))?$"),"::::":new RegExp("^(?!//)"+e.const_get(g,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::::)(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*))?$"),";;":new RegExp("^(?!//)"+e.const_get(g,"CG_BLANK",!0,!0)+"*(.*)(;;)(?:"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*))?$")})),e.cdecl(h,"CalloutListRx",new RegExp("^<?(\\d+)>"+e.const_get(g,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(h,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),e.cdecl(h,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),e.cdecl(h,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+e.const_get(g,"CC_EOL",!0,!0)+")")),e.cdecl(h,"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+e.const_get(g,"CC_EOL",!0,!0)+")")),e.cdecl(h,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+e.const_get(g,"CC_EOL",!0,!0)+")"),e.cdecl(h,"ListRxMap",_(["ulist","olist","dlist","colist"],{ulist:e.const_get(g,"UnorderedListRx",!0,!0),olist:e.const_get(g,"OrderedListRx",!0,!0),dlist:e.const_get(g,"DescriptionListRx",!0,!0),colist:e.const_get(g,"CalloutListRx",!0,!0)})),e.cdecl(h,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),e.cdecl(h,"CellSpecStartRx",new RegExp("^"+e.const_get(g,"CG_BLANK",!0,!0)+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),e.cdecl(h,"CellSpecEndRx",new RegExp(e.const_get(g,"CG_BLANK",!0,!0)+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),e.cdecl(h,"GenericBlockMacroRx",new RegExp("^("+e.const_get(g,"CG_WORD",!0,!0)+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),e.cdecl(h,"MediaBlockMacroRx",/^(image|video|audio)::(.+?)\[((?:\\\]|[^\]])*?)\]$/),e.cdecl(h,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),e.cdecl(h,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+e.const_get(g,"CC_ALPHA",!0,!0)+":_]["+e.const_get(g,"CC_WORD",!0,!0)+":.-]*)(?:,"+e.const_get(g,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),e.cdecl(h,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+e.const_get(g,"CC_WORD",!0,!0)+":]["+e.const_get(g,"CC_WORD",!0,!0)+":.-]*?)\\]\\]\\]")),e.cdecl(h,"EmailInlineMacroRx",new RegExp("([\\\\>:/])?"+e.const_get(g,"CG_WORD",!0,!0)+"["+e.const_get(g,"CC_WORD",!0,!0)+".%+-]*@"+e.const_get(g,"CG_ALNUM",!0,!0)+"["+e.const_get(g,"CC_ALNUM",!0,!0)+".-]*\\."+e.const_get(g,"CG_ALPHA",!0,!0)+"{2,4}\\b")),e.cdecl(h,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+e.const_get(g,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m")),e.cdecl(h,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),e.cdecl(h,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+e.const_get(g,"CC_ALL",!0,!0)+"*?[^\\\\])\\]|\\(\\(("+e.const_get(g,"CC_ALL",!0,!0)+"+?)\\)\\)(?!\\)))","m")),e.cdecl(h,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),e.cdecl(h,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+e.const_get(g,"CG_BLANK",!0,!0)+"*[^\\1])")),e.cdecl(h,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),e.cdecl(h,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),e.cdecl(h,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+e.const_get(g,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m")),e.cdecl(h,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+e.const_get(g,"CG_WORD",!0,!0)+"|"+e.const_get(g,"CG_WORD",!0,!0)+".*?\\S)\\["+e.const_get(g,"CG_BLANK",!0,!0)+"*(.+?)?\\]")),e.cdecl(h,"MenuInlineRx",new RegExp('\\\\?"('+e.const_get(g,"CG_WORD",!0,!0)+'[^"]*?'+e.const_get(g,"CG_BLANK",!0,!0)+"*&gt;"+e.const_get(g,"CG_BLANK",!0,!0)+'*[^" \\t][^"]*)"')),e.cdecl(h,"PassInlineRx",f(!1,["+","`",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)\\4)(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")],!0,["`",s,new RegExp("(^|[^`"+e.const_get(g,"CC_WORD",!0,!0)+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)\\4)(?![`"+e.const_get(g,"CC_WORD",!0,!0)+"])","m")])),e.cdecl(h,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\$\\$)("+e.const_get(g,"CC_ALL",!0,!0)+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+e.const_get(g,"CC_ALL",!0,!0)+"*?[^\\\\])\\])","m")),e.cdecl(h,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+e.const_get(g,"CC_WORD",!0,!0)+'":./]'+e.const_get(g,"CC_ALL",!0,!0)+"*?)&gt;&gt;|xref:(["+e.const_get(g,"CC_WORD",!0,!0)+'":./]'+e.const_get(g,"CC_ALL",!0,!0)+"*?)\\[("+e.const_get(g,"CC_ALL",!0,!0)+"*?)\\])","m")),e.const_get(g,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&e.cdecl(h,"LineBreakRx",/^(.*) \+$/m),e.cdecl(h,"LayoutBreakLineRx",/^('|<){3,}$/),e.cdecl(h,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-*_])( *)\1\2\1$/),e.cdecl(h,"BlankLineRx",/\n{2,}/),e.cdecl(h,"DataDelimiterRx",/[,;]/),e.cdecl(h,"DoubleQuotedMultiRx",new RegExp('^("|)('+e.const_get(g,"CC_ALL",!0,!0)+"*)\\1$","m")),e.cdecl(h,"TrailingDigitsRx",/\d+$/),e.cdecl(h,"EscapedSpaceRx",new RegExp("\\\\("+e.const_get(g,"CG_BLANK",!0,!0)+")")),e.cdecl(h,"SpaceDelimiterRx",new RegExp("([^\\\\])"+e.const_get(g,"CG_BLANK",!0,!0)+"+")),e.cdecl(h,"SubModifierSniffRx",/[+-]/),e.const_get(g,"RUBY_ENGINE",!0,!0)["$=="]("opal"),e.cdecl(h,"UriSniffRx",new RegExp("^"+e.const_get(g,"CG_ALPHA",!0,!0)+"["+e.const_get(g,"CC_ALNUM",!0,!0)+".+-]+:/{0,2}")),e.cdecl(h,"UriTerminatorRx",/[);:]$/),e.cdecl(h,"XmlSanitizeRx",/<[^>]+>/),e.cdecl(h,"INTRINSIC_ATTRIBUTES",_(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),b=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+e.const_get(g,"CC_ALL",!0,!0)+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)\\*(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")],["double","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+e.const_get(g,"CC_ALL",!0,!0)+'*?\\S)`"(?!'+e.const_get(g,"CG_WORD",!0,!0)+")","m")],["single","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)`'(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+e.const_get(g,"CC_ALL",!0,!0)+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)`(?!["+e.const_get(g,"CC_WORD",!0,!0)+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+e.const_get(g,"CC_ALL",!0,!0)+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)_(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+e.const_get(g,"CC_ALL",!0,!0)+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)#(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]],m=b.$dup(),y=[2,["double","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)''(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")]],d(m,"[]=",e.to_a(y)),y[n(y.length,1)],y=[3,["single","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)'(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")]],d(m,"[]=",e.to_a(y)),y[n(y.length,1)],y=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+e.const_get(g,"CC_ALL",!0,!0)+"+?)\\+\\+","m")]],d(m,"[]=",e.to_a(y)),y[n(y.length,1)],y=[5,["monospaced","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)\\+(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")]],d(m,"[]=",e.to_a(y)),y[n(y.length,1)],m.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+e.const_get(g,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+e.const_get(g,"CC_ALL",!0,!0)+"*?\\S)'(?!"+e.const_get(g,"CG_WORD",!0,!0)+")","m")]),e.cdecl(h,"QUOTE_SUBS",f(!1,b,!0,m)),b=s,m=s,e.cdecl(h,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+e.const_get(g,"CG_WORD",!0,!0)+")\\\\?--(?="+e.const_get(g,"CG_WORD",!0,!0)+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+e.const_get(g,"CG_ALNUM",!0,!0)+")\\\\?'(?="+e.const_get(g,"CG_ALPHA",!0,!0)+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,"","bounding"]]),function(r,o){var i,l,a,c,u=(r.$$proto,r.$$scope,o.slice().concat(r));e.defn(r,"$load",i=function(t,r){var $,o,i,l,a,c,f=this,p=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,x=s,k=s,O=s,E=s,A=s,S=s,R=s;null==r&&(r=_([],{}));try{if(r=r.$dup(),($=p=r["$[]"]("timings"))===s||null==$||$.$$is_boolean&&1!=$||p.$start("read"),g=["attributes",function(){return($=(b=r["$[]"]("attributes"))["$!"]())===s||null==$||$.$$is_boolean&&1!=$?($=(o=e.const_get([e.Object.$$scope],"Hash",!0,!0)["$==="](b))!==!1&&o!==s&&null!=o?o:(i=e.const_get([e.Object.$$scope],"RUBY_ENGINE_JRUBY",!0,!0),i!==!1&&i!==s&&null!=i?e.const_get([e.const_get([e.const_get([e.Object.$$scope],"Java",!0,!0).$$scope],"JavaUtil",!0,!0).$$scope],"Map",!0,!0)["$==="](b):i))===s||null==$||$.$$is_boolean&&1!=$?($=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](b))===s||null==$||$.$$is_boolean&&1!=$?($=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](b))===s||null==$||$.$$is_boolean&&1!=$?(o=b["$respond_to?"]("keys"),($=o!==!1&&o!==s&&null!=o?b["$respond_to?"]("[]"):o)===s||null==$||$.$$is_boolean&&1!=$?f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"illegal type for attributes option: "+b.$class().$ancestors()):(y=b,b=_([],{}),d(y.$keys(),"each",[],(c=function(t){c.$$s;return null==t&&(t=s),g=[t,y["$[]"](t)],d(b,"[]=",e.to_a(g)),g[n(g.length,1)]},c.$$s=f,c.$$arity=1,c)),b)):(m="\\1",b=b.$gsub(e.const_get(u,"SpaceDelimiterRx",!0,!0),""+m+e.const_get(u,"NULL",!0,!0)).$gsub(e.const_get(u,"EscapedSpaceRx",!0,!0),m),d(b.$split(e.const_get(u,"NULL",!0,!0)),"inject",[_([],{})],(a=function(t,r){var $,o,i=(a.$$s,s),l=s;return null==t&&(t=s),null==r&&(r=s),o=r.$split("=",2),$=e.to_ary(o),i=null==$[0]?s:$[0],l=null==$[1]?s:$[1],g=[i,($=l)!==!1&&$!==s&&null!=$?$:""],d(t,"[]=",e.to_a(g)),g[n(g.length,1)],t},a.$$s=f,a.$$arity=2,a))):d(b,"inject",[_([],{})],(l=function(t,r){var $,o,i=(l.$$s,s),a=s;return null==t&&(t=s),null==r&&(r=s),o=r.$split("=",2),$=e.to_ary(o),i=null==$[0]?s:$[0],a=null==$[1]?s:$[1],g=[i,($=a)!==!1&&$!==s&&null!=$?$:""],d(t,"[]=",e.to_a(g)),g[n(g.length,1)],t},l.$$s=f,l.$$arity=2,l)):b.$dup():_([],{})}()],d(r,"[]=",e.to_a(g)),h=g[n(g.length,1)],v=s,($=e.const_get([e.Object.$$scope],"File",!0,!0)["$==="](t))===s||null==$||$.$$is_boolean&&1!=$)if(($=t["$respond_to?"]("readlines"))===s||null==$||$.$$is_boolean&&1!=$)($=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](t))===s||null==$||$.$$is_boolean&&1!=$?($=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](t))===s||null==$||$.$$is_boolean&&1!=$?f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"unsupported input type: "+t.$class()):v=t.$dup():v=function(){return($=e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_2",!0,!0))===s||null==$||$.$$is_boolean&&1!=$?t.$each_line().$to_a():t.$lines()}();else{try{t.$rewind()}catch(t){if(!e.rescue(t,[e.const_get(u,"StandardError",!0,!0)]))throw t;e.pop_exception()}v=t.$readlines()}else w=e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(t.$path()),x=function(){return($=e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===s||null==$||$.$$is_boolean&&1!=$?t.$mtime():e.const_get([e.Object.$$scope],"Time",!0,!0).$at(f.$Integer(e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))).$utc()}(),v=t.$readlines(),g=["docfile",w],d(h,"[]=",e.to_a(g)),g[n(g.length,1)],g=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(w)],d(h,"[]=",e.to_a(g)),g[n(g.length,1)],g=["docname",e.const_get(u,"Helpers",!0,!0).$basename(w,(g=["docfilesuffix",e.const_get([e.Object.$$scope],"File",!0,!0).$extname(w)],d(h,"[]=",e.to_a(g)),g[n(g.length,1)]))],d(h,"[]=",e.to_a(g)),g[n(g.length,1)],($=k=h["$[]"]("docdate"))===s||null==$||$.$$is_boolean&&1!=$?(g=["docdate",x.$strftime("%Y-%m-%d")],d(h,"[]=",e.to_a(g)),k=g[n(g.length,1)],$="docyear",o=h,(i=o["$[]"]($))!==!1&&i!==s&&null!=i||o["$[]="]($,x.$year().$to_s())):($="docyear",o=h,
(i=o["$[]"]($))!==!1&&i!==s&&null!=i||o["$[]="]($,function(){return k.$index("-")["$=="](4)?k["$[]"](0,4):s}())),$="doctime",o=h,O=(i=o["$[]"]($))!==!1&&i!==s&&null!=i?i:o["$[]="]($,x.$strftime("%H:%M:%S %Z")),g=["docdatetime",k+" "+O],d(h,"[]=",e.to_a(g)),g[n(g.length,1)];return p!==!1&&p!==s&&null!=p&&(p.$record("read"),p.$start("parse")),E=r["$[]"]("parse")["$=="](!1)?e.const_get(u,"Document",!0,!0).$new(v,r):e.const_get(u,"Document",!0,!0).$new(v,r).$parse(),p!==!1&&p!==s&&null!=p&&p.$record("parse"),E}catch(t){if(!e.rescue(t,[e.const_get(u,"StandardError",!0,!0)]))throw t;A=t;try{try{S="asciidoctor: FAILED: "+(($=h["$[]"]("docfile"))!==!1&&$!==s&&null!=$?$:"<stdin>")+": Failed to load AsciiDoc document",($=A["$respond_to?"]("exception"))===s||null==$||$.$$is_boolean&&1!=$?(R=A.$class().$new(S,A),g=[A.$stack_trace()],d(R,"stack_trace=",e.to_a(g)),g[n(g.length,1)]):(R=A.$exception(S+" - "+A.$message()),R.$set_backtrace(A.$backtrace()))}catch(t){if(!e.rescue(t,[e.const_get(u,"StandardError",!0,!0)]))throw t;try{R=A}finally{e.pop_exception()}}return f.$raise(R)}finally{e.pop_exception()}}},i.$$arity=-2),e.defn(r,"$load_file",l=function(t,n){var r,$=this;return null==n&&(n=_([],{})),d(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[t],(r=function(e){var t=r.$$s||this;return null==e&&(e=s),t.$load(e,n)},r.$$s=$,r.$$arity=1,r))},l.$$arity=-2),e.defn(r,"$convert",a=function(r,o){var i,l,a,c,f,p,h,g=this,b=s,m=s,y=s,v=s,w=s,x=s,k=s,O=s,E=s,A=s,S=s,R=s,M=s,T=s,I=s,C=s,N=s,j=s,L=s,z=s,P=s,D=s,B=s,q=s,U=s,F=s,G=s;if(null==o&&(o=_([],{})),o=o.$dup(),o.$delete("parse"),b=o.$delete("to_file"),m=o.$delete("to_dir"),y=(i=o.$delete("mkdirs"))!==!1&&i!==s&&null!=i&&i,v=o["$[]"]("timings"),w=b,(!0)["$==="](w)||s["$==="](w))i=m["$!"](),x=i!==!1&&i!==s&&null!=i?e.const_get([e.Object.$$scope],"File",!0,!0)["$==="](r):i,k=!1,O=m,b=s;else if((!1)["$==="](w))x=!1,k=!1,O=!1,b=s;else{if("/dev/null"["$==="](w))return g.$load(r,o);x=!1,O=function(){return!!((i=k=b["$respond_to?"]("write"))===s||null==i||i.$$is_boolean&&1!=i)&&b}()}return((i=o["$key?"]("header_footer"))===s||null==i||i.$$is_boolean&&1!=i)&&((i=(l=x)!==!1&&l!==s&&null!=l?l:O)===s||null==i||i.$$is_boolean&&1!=i||(E=["header_footer",!0],d(o,"[]=",e.to_a(E)),E[n(E.length,1)])),x!==!1&&x!==s&&null!=x?(A=e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(r.$path()),E=["to_dir",S=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(A)],d(o,"[]=",e.to_a(E)),E[n(E.length,1)]):O!==!1&&O!==s&&null!=O?m!==!1&&m!==s&&null!=m?b!==!1&&b!==s&&null!=b?(E=["to_dir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"File",!0,!0).$join(m,b,".."))],d(o,"[]=",e.to_a(E)),E[n(E.length,1)]):(E=["to_dir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(m)],d(o,"[]=",e.to_a(E)),E[n(E.length,1)]):b!==!1&&b!==s&&null!=b&&(E=["to_dir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(b,"..")],d(o,"[]=",e.to_a(E)),E[n(E.length,1)]):(E=["to_dir",s],d(o,"[]=",e.to_a(E)),E[n(E.length,1)]),R=g.$load(r,o),x!==!1&&x!==s&&null!=x?(M=e.const_get([e.Object.$$scope],"File",!0,!0).$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix()),M["$=="](A)&&g.$raise(e.const_get([e.Object.$$scope],"IOError",!0,!0),"input file and output file cannot be the same: "+M)):O!==!1&&O!==s&&null!=O?(T=function(){return(i=o["$key?"]("base_dir"))===s||null==i||i.$$is_boolean&&1!=i?e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd()):e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(o["$[]"]("base_dir"))}(),I=function(){return(i=t(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===s||null==i||i.$$is_boolean&&1!=i?s:T}(),m!==!1&&m!==s&&null!=m?(S=R.$normalize_system_path(m,T,I,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),b!==!1&&b!==s&&null!=b?(M=R.$normalize_system_path(b,S,s,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(M)):M=e.const_get([e.Object.$$scope],"File",!0,!0).$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix())):b!==!1&&b!==s&&null!=b&&(M=R.$normalize_system_path(b,T,I,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(M)),l=e.const_get([e.Object.$$scope],"File",!0,!0)["$==="](r),(i=l!==!1&&l!==s&&null!=l?M["$=="](e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(r.$path())):l)===s||null==i||i.$$is_boolean&&1!=i||g.$raise(e.const_get([e.Object.$$scope],"IOError",!0,!0),"input file and output file cannot be the same: "+M),((i=e.const_get([e.Object.$$scope],"File",!0,!0)["$directory?"](S))===s||null==i||i.$$is_boolean&&1!=i)&&(y!==!1&&y!==s&&null!=y?e.const_get(u,"Helpers",!0,!0).$mkdir_p(S):g.$raise(e.const_get([e.Object.$$scope],"IOError",!0,!0),"target directory does not exist: "+m))):(M=b,S=s),v!==!1&&v!==s&&null!=v&&v.$start("convert"),C=function(){return(i=(l=M!==!1&&M!==s&&null!=M)?k["$!"]():M)===s||null==i||i.$$is_boolean&&1!=i?_([],{}):_(["outfile","outdir"],{outfile:M,outdir:S})}(),N=R.$convert(C),v!==!1&&v!==s&&null!=v&&v.$record("convert"),M!==!1&&M!==s&&null!=M?(v!==!1&&v!==s&&null!=v&&v.$start("write"),R.$write(N,M),v!==!1&&v!==s&&null!=v&&v.$record("write"),p=k["$!"](),f=p!==!1&&p!==s&&null!=p?$(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):p,c=f!==!1&&f!==s&&null!=f?R["$attr?"]("linkcss"):f,a=c!==!1&&c!==s&&null!=c?R["$attr?"]("copycss"):c,l=a!==!1&&a!==s&&null!=a?R["$attr?"]("basebackend-html"):a,(i=l!==!1&&l!==s&&null!=l?(a=j=R.$attr("stylesdir"),a!==!1&&a!==s&&null!=a?e.const_get(u,"Helpers",!0,!0)["$uriish?"](j):a)["$!"]():l)===s||null==i||i.$$is_boolean&&1!=i||(L=!1,z=!1,(i=P=R.$attr("stylesheet"))===s||null==i||i.$$is_boolean&&1!=i||((i=e.const_get(u,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](P))===s||null==i||i.$$is_boolean&&1!=i?(i=e.const_get(u,"Helpers",!0,!0)["$uriish?"](P)["$!"]())===s||null==i||i.$$is_boolean&&1!=i||(z=!0):L=!0),i=R["$attr?"]("source-highlighter","coderay"),D=i!==!1&&i!==s&&null!=i?R.$attr("coderay-css","class")["$=="]("class"):i,i=R["$attr?"]("source-highlighter","pygments"),B=i!==!1&&i!==s&&null!=i?R.$attr("pygments-css","class")["$=="]("class"):i,(i=(l=(a=(c=L)!==!1&&c!==s&&null!=c?c:z)!==!1&&a!==s&&null!=a?a:D)!==!1&&l!==s&&null!=l?l:B)===s||null==i||i.$$is_boolean&&1!=i||(q=R.$normalize_system_path(j,S,function(){return(i=t(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===s||null==i||i.$$is_boolean&&1!=i?s:S}()),y!==!1&&y!==s&&null!=y&&e.const_get(u,"Helpers",!0,!0).$mkdir_p(q),L!==!1&&L!==s&&null!=L?e.const_get(u,"Stylesheets",!0,!0).$instance().$write_primary_stylesheet(q):z!==!1&&z!==s&&null!=z&&(U=(i=(U=R.$attr("copycss"))["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i?R.$normalize_system_path(U):R.$normalize_system_path(P),F=R.$normalize_system_path(P,q,function(){return(i=t(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===s||null==i||i.$$is_boolean&&1!=i?s:S}()),((i=(l=U["$=="](F))!==!1&&l!==s&&null!=l?l:(G=R.$read_asset(U))["$nil?"]())===s||null==i||i.$$is_boolean&&1!=i)&&d(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[F,"w"],(h=function(e){h.$$s;return null==e&&(e=s),e.$write(G)},h.$$s=g,h.$$arity=1,h))),D!==!1&&D!==s&&null!=D?e.const_get(u,"Stylesheets",!0,!0).$instance().$write_coderay_stylesheet(q):B!==!1&&B!==s&&null!=B&&e.const_get(u,"Stylesheets",!0,!0).$instance().$write_pygments_stylesheet(q,R.$attr("pygments-style")))),R):N},a.$$arity=-2),e.alias(r,"render","convert"),e.defn(r,"$convert_file",c=function(t,n){var r,$=this;return null==n&&(n=_([],{})),d(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[t],(r=function(e){var t=r.$$s||this;return null==e&&(e=s),t.$convert(e,n)},r.$$s=$,r.$$arity=1,r))},c.$$arity=-2),e.alias(r,"render_file","convert_file")}(e.get_singleton_class(p),g),e.const_get(g,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(p.$require("asciidoctor/version"),p.$require("asciidoctor/timings"))}(l.base,a),i.$require("asciidoctor/core_ext"),i.$require("asciidoctor/helpers"),i.$require("asciidoctor/substitutors"),i.$require("asciidoctor/abstract_node"),i.$require("asciidoctor/abstract_block"),i.$require("asciidoctor/attribute_list"),i.$require("asciidoctor/block"),i.$require("asciidoctor/callouts"),i.$require("asciidoctor/converter"),i.$require("asciidoctor/document"),i.$require("asciidoctor/inline"),i.$require("asciidoctor/list"),i.$require("asciidoctor/parser"),i.$require("asciidoctor/path_resolver"),i.$require("asciidoctor/reader"),i.$require("asciidoctor/section"),i.$require("asciidoctor/stylesheets"),i.$require("asciidoctor/table"),e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&i.$require("asciidoctor/js/postscript")}(Opal);var t=function(e){return e&&!e.smap?Opal.hash(e):e},n=function(e){if(e=t(e)){var n=e["$[]"]("attributes");n&&"object"==typeof n&&"Object"===n.constructor.name&&(e=e.$dup(),e["$[]="]("attributes",t(n)))}return e};Opal.Asciidoctor.$$class.$$proto.convert=function(e,t){"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8"));var r=this.$convert(e,n(t));return r===Opal.nil?"":r},Opal.Asciidoctor.$$class.$$proto.convertFile=function(e,t){return this.$convert_file(e,n(t))},Opal.Asciidoctor.$$class.$$proto.load=function(e,t){return"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8")),this.$load(e,n(t))},Opal.Asciidoctor.$$class.$$proto.loadFile=function(e,t){return this.$load_file(e,n(t))},Opal.Asciidoctor.AbstractBlock.$$proto.getTitle=function(){var e=this.title;return e===Opal.nil?"":e},Opal.Asciidoctor.AbstractBlock.$$proto.getStyle=function(){return this.style},Opal.Asciidoctor.AbstractBlock.$$proto.getCaption=function(){return this.caption},Opal.Asciidoctor.AbstractBlock.$$proto.getLevel=function(){return this.level},Opal.Asciidoctor.AbstractBlock.$$proto.getBlocks=function(){return this.blocks},Opal.Asciidoctor.AbstractBlock.$$proto.getContent=function(){return this.$content()},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractBlock.$$proto.findBy=function(e,n){return void 0===n&&"function"==typeof e?Opal.send(this,"find_by",null,e):"function"==typeof n?Opal.send(this,"find_by",[t(e)],n):this.$find_by(t(e))},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractNode.$$proto.getAttributes=function(){for(var e,t={},n=this.attributes,r=0,$=n.$$keys,o=n.$$smap,i=$.length;r<i;r++)e=$[r],t[e]=o[e];return t},Opal.Asciidoctor.AbstractNode.$$proto.getAttribute=function(e,t,n){var r=this.$attr(e,t,n);if(r!==Opal.nil)return r},Opal.Asciidoctor.AbstractNode.$$proto.isAttribute=function(e,t,n){var r=this["$attr?"](e,t,n);if(r!==Opal.nil)return r},Opal.Asciidoctor.AbstractNode.$$proto.setAttribute=function(e,t,n){return void 0===n&&(n=!0),this.$set_attribute(e,t,n)},Opal.Asciidoctor.AbstractNode.$$proto.isInline=function(){return this["$inline?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isBlock=function(){return this["$block?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isRole=function(e){return this["$role?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.getRole=function(){return this.$role()},Opal.Asciidoctor.AbstractNode.$$proto.hasRole=function(e){return this["$has_role?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.getRoles=function(){return this.$roles()},Opal.Asciidoctor.AbstractNode.$$proto.addRole=function(e){return this.$add_role(e)},Opal.Asciidoctor.AbstractNode.$$proto.removeRole=function(e){return this.$remove_role(e)},Opal.Asciidoctor.AbstractNode.$$proto.isReftext=function(){return this["$reftext?"]()},Opal.Asciidoctor.AbstractNode.$$proto.getReftext=function(){return this.$reftext()},Opal.Asciidoctor.AbstractNode.$$proto.getContext=function(){var e=this.context;return e&&"function"==typeof e.$to_s?e.$to_s():e},Opal.Asciidoctor.AbstractNode.$$proto.getId=function(){return this.id},Opal.Asciidoctor.AbstractNode.$$proto.isOption=function(e){return this["$option?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.setOption=function(e){return this.$set_option(e)},Opal.Asciidoctor.AbstractNode.$$proto.getIconUri=function(e){return this.$icon_uri(e)},Opal.Asciidoctor.AbstractNode.$$proto.getMediaUri=function(e,t){return this.$media_uri(e,t)},Opal.Asciidoctor.AbstractNode.$$proto.getImageUri=function(e,t){return this.$image_uri(e,t)},Opal.Asciidoctor.AbstractNode.$$proto.getConverter=function(){return this.$converter()},Opal.Asciidoctor.AbstractNode.$$proto.readContents=function(e,n){return this.$read_contents(e,t(n))},Opal.Asciidoctor.AbstractNode.$$proto.readAsset=function(e,n){return this.$read_asset(e,t(n))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeWebPath=function(e,t,n){return this.$normalize_web_path(e,t,n)},Opal.Asciidoctor.AbstractNode.$$proto.normalizeSystemPath=function(e,n,r,$){return this.$normalize_system_path(e,n,r,t($))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeAssetPath=function(e,t,n){return this.$normalize_asset_path(e,t,n)},Opal.Asciidoctor.Document.$$proto.getHeader=function(){return this.header},Opal.Asciidoctor.Document.$$proto.setAttribute=function(e,t){return this.$set_attribute(e,t)},Opal.Asciidoctor.Document.$$proto.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},Opal.Asciidoctor.Document.$$proto.convert=function(e){var n=this.$convert(t(e));return n===Opal.nil?"":n},Opal.Asciidoctor.Document.$$proto.write=function(e,t){return this.$write(e,t)},Opal.Asciidoctor.Document.$$proto.getAuthor=function(){return this.$author()},Opal.Asciidoctor.Document.$$proto.getSource=function(){return this.$source()},Opal.Asciidoctor.Document.$$proto.getSourceLines=function(){return this.$source_lines()},Opal.Asciidoctor.Document.$$proto.isNested=function(){return this["$nested?"]()},Opal.Asciidoctor.Document.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},Opal.Asciidoctor.Document.$$proto.getFootnotes=function(){return this.$footnotes()},Opal.Asciidoctor.Document.$$proto.isEmbedded=function(){return this["$embedded?"]()},Opal.Asciidoctor.Document.$$proto.hasExtensions=function(){return this["$extensions?"]()},Opal.Asciidoctor.Document.$$proto.getDoctype=function(){return this.$doctype()},Opal.Asciidoctor.Document.$$proto.getBackend=function(){return this.$backend()},Opal.Asciidoctor.Document.$$proto.isBasebackend=function(e){return this["$basebackend?"](e)},Opal.Asciidoctor.Document.$$proto.getTitle=function(){return this.$title()},Opal.Asciidoctor.Document.$$proto.setTitle=function(e){return this["$title="](e)},Opal.Asciidoctor.Document.$$proto.getDoctitle=Opal.Asciidoctor.Document.$$proto.getDocumentTitle=function(e){return this.$doctitle(t(e))},Opal.Asciidoctor.Document.$$proto.getRevdate=Opal.Asciidoctor.Document.$$proto.getRevisionDate=function(){return this.$revdate()},Opal.Asciidoctor.Document.$$proto.getNotitle=function(){return this.$notitle()},Opal.Asciidoctor.Document.$$proto.getNoheader=function(){return this.$noheader()},Opal.Asciidoctor.Document.$$proto.getNofooter=function(){return this.$nofooter()},Opal.Asciidoctor.Document.$$proto.hasHeader=function(){return this["$header?"]()},Opal.Asciidoctor.Document.$$proto.deleteAttribute=function(e){return this.$delete_attribute(e)},Opal.Asciidoctor.Document.$$proto.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},Opal.Asciidoctor.Document.$$proto.parse=function(e){return this.$parse(e)},Opal.Asciidoctor.Document.$$proto.getDocinfo=function(e,t){return this.$docinfo(e,t)},Opal.Asciidoctor.Document.$$proto.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},Opal.Asciidoctor.Document.$$proto.counterIncrement=function(e,t){return this.$counter_increment(e,t)},Opal.Asciidoctor.Document.$$proto.counter=function(e,t){return this.$counter(e,t)},Opal.Asciidoctor.Document.$$proto.getSafe=function(){return this.$safe},Opal.Asciidoctor.Document.$$proto.getCompatMode=function(){return this.$compat_mode},Opal.Asciidoctor.Document.$$proto.getSourcemap=function(){return this.$sourcemap},Opal.Asciidoctor.Document.$$proto.getReferences=function(){return this.$references},Opal.Asciidoctor.Document.$$proto.getCounters=function(){return this.$counters},Opal.Asciidoctor.Document.$$proto.getCallouts=function(){return this.$callouts},Opal.Asciidoctor.Document.$$proto.getBaseDir=function(){return this.$base_dir},Opal.Asciidoctor.Document.$$proto.getOptions=function(){return this.$options},Opal.Asciidoctor.Document.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix},Opal.Asciidoctor.Document.$$proto.getParentDocument=function(){return this.$parent_document},Opal.Asciidoctor.Document.$$proto.getReader=function(){return this.$reader},Opal.Asciidoctor.Document.$$proto.getConverter=function(){return this.$converter},Opal.Asciidoctor.Document.$$proto.getExtensions=function(){return this.$extensions},Opal.Asciidoctor.Document.Title.$$proto.getMain=function(){return this.main},Opal.Asciidoctor.Document.Title.$$proto.getCombined=function(){return this.combined},Opal.Asciidoctor.Document.Title.$$proto.getSubtitle=function(){return this.subtitle},Opal.Asciidoctor.Document.Title.$$proto.isSanitized=function(){var e=this["$sanitized?"]();return e!==Opal.nil&&e},Opal.Asciidoctor.Document.Title.$$proto.hasSubtitle=function(){return this["$subtitle?"]()},Opal.Asciidoctor.Inline.$$proto.convert=function(){return this.$convert()};var r=function(e){return e.$$arity=e.length,e},$=Opal.Asciidoctor.$$scope.Extensions;return $.register=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"register",null,r(e)):Opal.send(this,"register",[e],r(t))},$.Registry.$$proto.block=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"block",null,r(e)):Opal.send(this,"block",[e],r(t))},$.Registry.$$proto.inlineMacro=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"inline_macro",null,r(e)):Opal.send(this,"inline_macro",[e],r(t))},$.Processor.$$proto.process=function(e){return Opal.send(this,"process",null,r(e))},$.Processor.$$proto.createBlock=function(e,n,r,$,o){return this.$create_block(e,n,r,t($),t(o))},$.Processor.$$proto.createInline=function(e,n,r,$){return this.$create_inline(e,n,r,t($))},$.Processor.$$proto.parseContent=function(e,t,n){return this.$parse_content(e,t,n)},$.BlockProcessor.$$proto.named=function(e){return this.$named(e)},$.BlockProcessor.$$proto.onContext=function(e){return this.$on_context(e)},Opal.Asciidoctor});
//# sourceMappingURL=asciidoctor.min.js.map