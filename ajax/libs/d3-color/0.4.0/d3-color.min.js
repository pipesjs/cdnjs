!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3_color={})}(this,function(t){"use strict";function e(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=v.exec(t))?(e=parseInt(e[1],16),new a(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e)):(e=M.exec(t))?n(parseInt(e[1],16)):(e=N.exec(t))?new a(e[1],e[2],e[3]):(e=x.exec(t))?new a(255*e[1]/100,255*e[2]/100,255*e[3]/100):(e=q.exec(t))?new a(e[1],e[2],e[3],e[4]):(e=$.exec(t))?new a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=I.exec(t))?new o(e[1],e[2]/100,e[3]/100):(e=P.exec(t))?new o(e[1],e[2]/100,e[3]/100,e[4]):j.hasOwnProperty(t)?n(j[t]):"transparent"===t?new a(0,0,0,0):null}function n(t){return new a(t>>16&255,t>>8&255,255&t)}function r(t,n,r,s){return 1===arguments.length&&(t instanceof e||(t=i(t)),t?(t=t.rgb(),s=t.opacity,r=t.b,n=t.g,t=t.r):t=NaN),new a(t,n,r,s)}function a(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=null==n?1:+n}function s(t,n,r,a){if(1===arguments.length)if(t instanceof o)a=t.opacity,r=t.l,n=t.s,t=t.h;else if(t instanceof e||(t=i(t)),t){if(t instanceof o)return t;t=t.rgb(),a=t.opacity;var s=t.r/255,h=t.g/255,l=t.b/255,u=Math.min(s,h,l),c=Math.max(s,h,l),d=c-u;r=(c+u)/2,d?(n=.5>r?d/(c+u):d/(2-c-u),t=s===c?(h-l)/d+6*(l>h):h===c?(l-s)/d+2:(s-h)/d+4,t*=60):(t=NaN,n=r>0&&1>r?0:t)}else t=NaN;return new o(t,n,r,a)}function o(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=null==n?1:+n}function h(t,e,i){return 255*(60>t?e+(i-e)*t/60:180>t?i:240>t?e+(i-e)*(240-t)/60:e)}function l(t,e,i,n){if(1===arguments.length)if(t instanceof u)n=t.opacity,i=t.b,e=t.a,t=t.l;else if(t instanceof b){var s=t.h*C;n=t.opacity,i=Math.sin(s)*t.c,e=Math.cos(s)*t.c,t=t.l}else{t instanceof a||(t=r(t)),n=t.opacity,i=p(t.r),e=p(t.g),t=p(t.b);var o=c((.4124564*i+.3575761*e+.1804375*t)/_),h=c((.2126729*i+.7151522*e+.072175*t)/A),l=c((.0193339*i+.119192*e+.9503041*t)/B);i=200*(h-l),e=500*(o-h),t=116*h-16}return new u(t,e,i,n)}function u(t,e,i,n){this.l=+t,this.a=+e,this.b=+i,this.opacity=null==n?1:+n}function c(t){return t>G?Math.pow(t,1/3):t/F+D}function d(t){return t>E?t*t*t:F*(t-D)}function g(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function p(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function y(t,e,i,n){return 1===arguments.length&&(t instanceof b?(n=t.opacity,i=t.l,e=t.c,t=t.h):(t instanceof u||(t=l(t)),n=t.opacity,i=t.l,e=Math.sqrt(t.a*t.a+t.b*t.b),t=Math.atan2(t.b,t.a)*L,0>t&&(t+=360))),new b(t,e,i,n)}function b(t,e,i,n){this.h=+t,this.c=+e,this.l=+i,this.opacity=null==n?1:+n}function f(t,e,i,n){if(1===arguments.length)if(t instanceof w)n=t.opacity,i=t.l,e=t.s,t=t.h;else{t instanceof a||(t=r(t)),n=t.opacity;var s=t.r/255,o=t.g/255,h=t.b/255;i=(X*h+V*s-W*o)/(X+V-W);var l=h-i,u=(U*(o-i)-R*l)/T;e=Math.sqrt(u*u+l*l)/(U*i*(1-i)),t=e?Math.atan2(u,l)*L-120:NaN,0>t&&(t+=360)}return new w(t,e,i,n)}function w(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=null==n?1:+n}var m=.7,k=1/m,v=/^#([0-9a-f]{3})$/,M=/^#([0-9a-f]{6})$/,N=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,x=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,q=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,$=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,I=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,P=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,j={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i.prototype=e.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var S=r.prototype=a.prototype=new e;S.brighter=function(t){return t=null==t?k:Math.pow(k,t),new a(this.r*t,this.g*t,this.b*t,this.opacity)},S.darker=function(t){return t=null==t?m:Math.pow(m,t),new a(this.r*t,this.g*t,this.b*t,this.opacity)},S.rgb=function(){return this},S.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},S.toString=function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")};var z=s.prototype=o.prototype=new e;z.brighter=function(t){return t=null==t?k:Math.pow(k,t),new o(this.h,this.s,this.l*t,this.opacity)},z.darker=function(t){return t=null==t?m:Math.pow(m,t),new o(this.h,this.s,this.l*t,this.opacity)},z.rgb=function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(.5>i?i:1-i)*e,r=2*i-n;return new a(h(t>=240?t-240:t+120,r,n),h(t,r,n),h(120>t?t+240:t-120,r,n),this.opacity)},z.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1};var C=Math.PI/180,L=180/Math.PI,O=18,_=.95047,A=1,B=1.08883,D=4/29,E=6/29,F=3*E*E,G=E*E*E,H=l.prototype=u.prototype=new e;H.brighter=function(t){return new u(this.l+O*(null==t?1:t),this.a,this.b,this.opacity)},H.darker=function(t){return new u(this.l-O*(null==t?1:t),this.a,this.b,this.opacity)},H.rgb=function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return t=A*d(t),e=_*d(e),i=B*d(i),new a(g(3.2404542*e-1.5371385*t-.4985314*i),g(-.969266*e+1.8760108*t+.041556*i),g(.0556434*e-.2040259*t+1.0572252*i),this.opacity)};var J=y.prototype=b.prototype=new e;J.brighter=function(t){return new b(this.h,this.c,this.l+O*(null==t?1:t),this.opacity)},J.darker=function(t){return new b(this.h,this.c,this.l-O*(null==t?1:t),this.opacity)},J.rgb=function(){return l(this).rgb()};var K=-.14861,Q=1.78277,R=-.29227,T=-.90649,U=1.97294,V=U*T,W=U*Q,X=Q*R-T*K,Y=f.prototype=w.prototype=new e;Y.brighter=function(t){return t=null==t?k:Math.pow(k,t),new w(this.h,this.s,this.l*t,this.opacity)},Y.darker=function(t){return t=null==t?m:Math.pow(m,t),new w(this.h,this.s,this.l*t,this.opacity)},Y.rgb=function(){var t=isNaN(this.h)?0:(this.h+120)*C,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new a(255*(e+i*(K*n+Q*r)),255*(e+i*(R*n+T*r)),255*(e+i*(U*n)),this.opacity)};var Z="0.4.0";t.version=Z,t.color=i,t.rgb=r,t.hsl=s,t.lab=l,t.hcl=y,t.cubehelix=f});