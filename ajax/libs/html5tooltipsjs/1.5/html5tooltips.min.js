!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.html5tooltips=e()}(this,function(){"use strict";function t(t,e){function i(t){var e=r(t).map(function(t){return typeof t}),i={};if("object"===e[0])i=t[0];else if("string"===e[0]){var o=t[0].split(" ");for(var n in o)i[o[n]]=t[1]}else"function"===e[0]&&(i={"":t[0]});return i}function o(t,e){for(var i,n=0;n<t.length;n++){for(var r=0;r<t[n].attributes.length;r++)e[i=t[n].attributes.item(r).name.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})]=e[i]||[],e[i].push(t[n]);o(t[n].children,e)}}function n(t){clearTimeout(m[t]),m[t]=setTimeout(function(){for(var e in d[t])d[t][e](u[t]);if(d[""])for(var e in d[""])d[""][e]()})}function r(t,e){return Array.prototype.slice.call(t,e)}var s=[],l={},a=[],c={},d={},u={},m={};if(e){var f=document.createElement("div");f.innerHTML=e,o(a=r(f.children),s)}return l.anchors=s,l.components=t.components={},l.elements=t.elements=a,l.model=t.model=u,l.assignModel=t.assignModel=function(e){l.model=t.model=u=e;for(var i in u)n(i)},l.destroy=t.destroy=function(){for(var t in l.components)l.components[t].destroy&&l.components[t].destroy();for(var e=a.length;e--;)a[e].parentNode&&a[e].parentNode.removeChild(a[e])},l.dispatch=function(e){var i=r(arguments,1);setTimeout(function(){for(var o in c[e])c[e][o].apply(t,i)})},l.on=t.on=function(){var t=i(arguments);for(var e in t)c[e]=c[e]||[],c[e].push(t[e])},l.onModelUpdate=function(){var t=i(arguments);for(var e in t)u[e]=u[e]||null,d[e]=d[e]||[],d[e].push(t[e]),n(e)},l.set=t.set=function(){var t=i(arguments);for(var e in t)u[e]=t[e],n(e)},l}function e(){function e(t,e){m.disableAnimation?e():(t.getBoundingClientRect(),t.classList.add("animating"),e&&e(),setTimeout(function(){t.classList.remove("animating")},m.animateDuration))}function i(t,e,i,o){m.disableAnimation?o&&o():(t.classList.add(e),t.getBoundingClientRect(),t.classList.add("animating"),t.classList.remove(e),t.classList.add(i),o&&o(),setTimeout(function(){t.classList.remove("animating"),t.classList.remove(i)},m.animateDuration))}function o(){return"collapse"!==u.style.visibility&&(u.style.visibility="collapse"),u.style.left="-9999px",u.style.top="-9999px","none"!==l.style.display&&(l.style.display="none",l.style.visibility="collapse",l.style.height="auto"),this}function n(){var t,e;if(r.model.target&&"visible"===u.style.visibility){u.style.width="auto",e=u.getBoundingClientRect();var i=parseInt(m.maxWidth);switch(i&&(u.style.width=e.width>i?i+"px":"auto"),t=r.model.target.getBoundingClientRect(),e=u.getBoundingClientRect(),m.stickTo){case c.stickTo.bottom:u.style.left=t.left+parseInt((t.width-e.width)/2)+"px",u.style.top=t.top+t.height+parseInt(m.stickDistance)+"px";break;case c.stickTo.left:u.style.left=t.left-e.width-parseInt(m.stickDistance)+"px",u.style.top=t.top+(t.height-e.height)/2+"px";break;case c.stickTo.right:u.style.left=t.left+t.width+parseInt(m.stickDistance)+"px",u.style.top=t.top+(t.height-e.height)/2+"px";break;case c.stickTo.top:u.style.left=t.left+(t.width-e.width)/2+"px",u.style.top=t.top-e.height-parseInt(m.stickDistance)+"px"}}}var r=new t(this,a),s=r.anchors.box[0],l=(r.anchors.text[0],r.anchors.more[0]),u=(r.anchors.moreText[0],r.elements[0]);o(),"undefined"!=typeof window&&window.addEventListener("scroll",n,!1),r.set(d);var m=r.model;r.onModelUpdate({color:function(t){c.color[t]&&(t="rgb("+(t=c.color[t]).r+", "+t.g+", "+t.b+")"),s.style.backgroundColor=t},contentText:function(t){r.anchors.text[0].innerHTML=t},contentMore:function(t){r.anchors.moreText[0].innerHTML=t},stickTo:function(t){r.elements[0].className="html5tooltip-"+t}}),this.hide=o,this.show=function(){return"visible"!==u.style.visibility&&(u.style.visibility="visible",setTimeout(function(){n(),i(s,m.animateFunction+"-from",m.animateFunction+"-to")})),this},this.showMore=function(){if("visible"!==u.style.visibility)u.style.visibility="visible",i(s,m.animateFunction+"-from",m.animateFunction+"-to"),m.contentMore&&(l.style.display="block",l.style.visibility="visible"),n();else if("block"!==l.style.display&&m.contentMore){l.style.display="block",e(u),n();var t=l.getBoundingClientRect().height;l.style.visibility="visible",l.style.height="0px",e(l,function(){l.style.height=t>0?t+"px":"auto"})}return this}}function i(t,i,o){for(var n,r=o.length;r--;)if(o[r].model.target===t){n=o[r];break}n||(n=new e,o.push(n)),n.set(i),n.set("target",t);var s,l;t.addEventListener("mouseenter",function(){this!==s&&this!==l&&(s=this,document.body.appendChild(n.elements[0]),setTimeout(function(){this===s&&n.show()}.bind(this),n.model.delay))}),t.addEventListener("mouseleave",function(){s=null,this!==l&&(n.hide(),n.elements[0].parentNode&&n.elements[0].parentNode.removeChild(n.elements[0]))}),t.addEventListener("focus",function(){-1===["INPUT","TEXTAREA"].indexOf(this.tagName)&&null===this.getAttribute("contenteditable")||(l=this,document.body.appendChild(n.elements[0]),n.showMore())}),t.addEventListener("blur",function(){l=null,n.hide(),n.elements[0].parentNode&&n.elements[0].parentNode.removeChild(n.elements[0])})}function o(t,e){for(var i,o=(e||document).getElementsByTagName("*"),n=[],r=0;i=o[r];r++)i.getAttribute(t)&&n.push(i);return n}function n(){o("data-tooltip").forEach(function(t){i(t,{animateFunction:t.getAttribute("data-tooltip-animate-function")||d.animateFunction,color:t.getAttribute("data-tooltip-color")||"",contentMore:t.getAttribute("data-tooltip-more")||"",contentText:t.getAttribute("data-tooltip")||"",delay:t.getAttribute("data-tooltip-delay")||d.delay,maxWidth:t.getAttribute("data-tooltip-maxwidth")||"auto",stickTo:t.getAttribute("data-tooltip-stickto")||d.stickTo},m)})}function r(t,e){var i=[];try{i=Array.prototype.slice.call((e||document).querySelectorAll(t))}catch(t){}return i}function s(t){t.forEach(function(t){var e=[];t.targetSelector&&(e=r(t.targetSelector)),e.forEach(function(e){i(e,t,u)})})}function l(){document.removeEventListener("DOMContentLoaded",l,!1),window.removeEventListener("load",l,!1),f.refresh()}var a='<div class="html5tooltip" style="box-sizing:border-box;position:fixed;">  <div class="html5tooltip-box" box>    <div class="html5tooltip-text" text></div>      <div class="html5tooltip-more" style="overflow:hidden;" more>        <div class="html5tooltip-text" more-text></div>      </div>    </div></div>',c={animateFunction:{fadeIn:"fadein",foldIn:"foldin",foldOut:"foldout",roll:"roll",scaleIn:"scalein",slideIn:"slidein",spin:"spin"},color:{daffodil:{r:255,g:230,b:23},daisy:{r:250,g:211,b:28},mustard:{r:253,g:183,b:23},"citrus zest":{r:250,g:170,b:33},pumpkin:{r:241,g:117,b:63},tangerine:{r:237,g:87,b:36},salmon:{r:240,g:70,b:57},persimmon:{r:234,g:40,b:48},rouge:{r:188,g:35,b:38},scarlet:{r:140,g:12,b:3},"hot pink":{r:229,g:24,b:93},princess:{r:243,g:132,b:174},petal:{r:250,g:198,b:210},lilac:{r:178,g:150,b:199},lavender:{r:123,g:103,b:174},violet:{r:95,g:53,b:119},cloud:{r:195,g:222,b:241},dream:{r:85,g:190,b:237},gulf:{r:49,g:168,b:224},turquoise:{r:35,g:138,b:204},sky:{r:13,g:96,b:174},indigo:{r:20,g:59,b:134},navy:{r:0,g:27,b:74},"sea foam":{r:125,g:205,b:194},teal:{r:0,g:168,b:168},peacock:{r:18,g:149,b:159},ceadon:{r:193,g:209,b:138},olive:{r:121,g:145,b:85},bamboo:{r:128,g:188,b:66},grass:{r:74,g:160,b:63},kelly:{r:22,g:136,b:74},forrest:{r:0,g:63,b:46},chocolate:{r:56,g:30,b:17},"terra cotta":{r:192,g:92,b:32},camel:{r:191,g:155,b:107},linen:{r:233,g:212,b:167},stone:{r:231,g:230,b:225},smoke:{r:207,g:208,b:210},steel:{r:138,g:139,b:143},slate:{r:119,g:133,b:144},charcoal:{r:71,g:77,b:77},black:{r:5,g:6,b:8},white:{r:255,g:255,b:255},"metalic silver":{r:152,g:162,b:171},"metalic gold":{r:159,g:135,b:89},"metalic copper":{r:140,g:102,b:65}},stickTo:{bottom:"bottom",left:"left",right:"right",top:"top"}},d={animateDuration:300,animateFunction:c.animateFunction.fadeIn,delay:500,disableAnimation:!1,stickTo:c.stickTo.bottom,stickDistance:10},u=[],m=[],f=function(t){Array.isArray(t)||(t=[t]),s(t)};return f.autoinit=f.refresh=function(){n()},f.getTooltipByTarget=function(t){for(e=u.length;e--;)if(u[e].model.target===t)return u[e];for(var e=m.length;e--;)if(m[e].model.target===t)return m[e]},"undefined"!=typeof window&&("complete"===document.readyState?l():(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)),window.html5tooltipsPredefined||(window.html5tooltipsPredefined=c,window.HTML5TooltipUIComponent=e)),f});