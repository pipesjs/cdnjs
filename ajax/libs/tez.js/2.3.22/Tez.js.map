{"version":3,"sources":["webpack:///webpack/bootstrap 27ef4ddb8f6e92416d35","webpack:///./src/index.js"],"names":["Tez","ROOT","MAX_WORKER_THREAD","CURRENT_WORKER_THREAD","LIST_WORKER_THREAD","ARRAY_SLICE","slice","FUNC_STR","Function","toString","WORKER_SUPPORT","Worker","undefined","setWorker","force","_force","_worker","_id","p","prototype","createBlob","fn","window","URL","createObjectURL","Blob","call","type","shift","close","_fnc","push","get","_val","done","curr","addEventListener","e","data","run","args","arguments","postMessage","destroy","console","log","RAF_CALLS","RAF_UPDATE","win","requestAnimationFrame","setTimeout","cancelAnimationFrame","clearTimeout","_run","_tick","update","i","length","raf","loop","render","rendered","_destroy","splice","add","item","_item","message","last","old","self","apply","match","concat","filter","item2","indexOf","setRAF","_raf","setFn","_fn","_oldFn","a","FunctionManager","fnc","mode","_mode","m","PluginManager","extend","b","onMessage","c","plugin","plug","fnMgr","CompositeManager","draw","LogicManager","CallManager","DOMManager","node","TweenManager","_isFunc","_isArray","_isObj","_isNum","_isStr","_obj","_arr","_num","t","map","v2","DiffManager","_rdh","nodeType","_keys","Object","keys","_keysA","_diff","_len","_extract","getNode","logic","_logic","logicArg","arg","logicMsg","getLogic","composite","_composite","bind","compositeArg","compositeMsg","getComposite","attrs","_a","attributes","atr","len","name","value","JSON","stringify","_getItem","_giw","parent","isEqualNode","childs","children","_match","_parentWhile","_matchInsideWhile","matched","matchParent","replaceChildrenByDiff","_rchd","_attrs","_vattrs","_childs","_childs2","substore","_store","_attrs1","_attrs2","_max","Math","max","pi","ni","_tmp","index","diff","virtual","real","vr","rr","insertBefore","appendChild","remove","innerHTML","style","cssText","tagName","parentNode","replaceChild","parse","setAttribute","_tmpDiv","document","createElement","_parseString","str","_makeNode","opts","tag","css","content","attr","_tag","XHR","_xhr","XMLHttpRequest","xhr","load","on","url","request","method","async","send","params","events","event","callback","ev","withCredentials","state","off","removeEventListener","open","hashURL","_prefix","prefix","_hashTags","_changed","getHash","hash","getLocationHash","location","substr","getChanged","setHash","set","URLComponent","prefixURL","loadRealLink","then","__self__","__self__hash__","__eventFunc__","onlyURLChanged","domClass","vars","_vars","quickRender","_opts","_opt","_node","querySelector","_vnode","cloneNode","_nodeElem","_quickRender","_appendStore","props","_listOfNodes","styling","appendStore","setProps","setEvent","find","eventName","eventFunc","createFunction","vnode","append","idx","setNode","setAttrs","nattr","_attr","setStyling","setContent","contents","outerHTML","rel","includes","charAt","_getParsed","_find","tezClass","_self","lets","lets2","_lets","tweenable","setInitLets","setTweenableLets","mountedNodes","getDecPow","d","pow","tez","_minVal","_maxVal","dom","now","Date","round","roundLets","limitDec","limitLetsDecimals","start","startTime","dur","duration","tween","elapsed","min","timeElapsed","curve","dv","v","initState","leaveLet","dm","mountNode","querySelectorAll","nodeOn","nodeOff","unshift","dispatch","custom","timestamp","target"],"mappings":"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","file":"Tez.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 27ef4ddb8f6e92416d35","/*!\r\n * @name Tez.js\r\n * @description Lightweight, Flexible, Fast, Memory and Power Effecient Animation, Function and Class Manager\r\n * @author @dalisoft (https://github.com/dalisoft/tez)\r\n * @license Apache 2.0\r\n */\r\n\r\nvar Tez = {};\r\n\r\n/*\r\n@constructor Worker\r\n@description Use worker\r\n */\r\nlet ROOT = this;\r\n\r\nlet MAX_WORKER_THREAD = 2;\r\nlet CURRENT_WORKER_THREAD = 0;\r\nlet LIST_WORKER_THREAD = [];\r\nlet ARRAY_SLICE = [].slice;\r\nlet FUNC_STR = Function.toString;\r\nlet WORKER_SUPPORT = ROOT.Worker !== undefined;\r\n\r\nconst setWorker = function( force ) {\r\n\tthis._force = force;\r\n\tthis._worker = null;\r\n\tthis._id = 0;\r\n\treturn this;\r\n};\r\nif ( WORKER_SUPPORT ) {\r\n\tvar p = setWorker.prototype = {\r\n\t\tcreateBlob( fn ) {\r\n\t\t\treturn new Worker(\r\n\t\t\t\twindow.URL.createObjectURL(\r\n\t\t\t\t\tnew Blob( [\r\n`self.onmessage = function(wrk) {var f = ${FUNC_STR.call(fn)};self.postMessage(f.apply(this, wrk.data));};`\r\n\t\t\t\t\t\t\t\t], {\r\n\t\t\t\t\t\ttype: 'text/javascript'\r\n\t\t\t\t\t} ) ) )\r\n\t\t}\r\n\t\t, call( fn ) {\r\n\t\t\tif ( this._id >= MAX_WORKER_THREAD && this._force ) {\r\n\t\t\t\tLIST_WORKER_THREAD.shift()\r\n\t\t\t\t\t.close();\r\n\t\t\t}\r\n\t\t\tthis._fnc = fn;\r\n\t\t\tthis._worker = this.createBlob( fn );\r\n\t\t\tthis._id++;\r\n\t\t\tLIST_WORKER_THREAD.push( this );\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t, get() {\r\n\t\t\treturn this._val;\r\n\t\t}\r\n\t\t, done( fn ) {\r\n\t\t\tconst curr = this;\r\n\t\t\tthis._worker.addEventListener( 'message', e => {\r\n\t\t\t\tif ( e.data === undefined )\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcurr._val = fn.call( curr._worker, {\r\n\t\t\t\t\tdata: e.data\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t}\r\n\t\t, run() {\r\n\t\t\tconst args = ARRAY_SLICE.call( arguments );\r\n\t\t\tthis._worker.postMessage( args );\r\n\t\t\tthis._val = args[ 0 ];\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t, close() {\r\n\t\t\tthis._worker && this._worker.destroy();\r\n\t\t\treturn this;\r\n\t\t}\r\n\t};\r\n} else {\r\n\tconsole.log( 'Tez [FunctionManager]: Worker isn\\'t supported' );\r\n}\r\n\r\n/*\r\n@constructor RAF\r\n@description Use RAF\r\n */\r\nconst RAF_CALLS = [];\r\n\r\nconst RAF_UPDATE = ( ( win => {\r\n\t\twin.requestAnimationFrame = win.requestAnimationFrame || ( fn => win.setTimeout( fn, 50 / 3 ) );\r\n\t\twin.cancelAnimationFrame = win.cancelAnimationFrame || ( fn => win.clearTimeout( fn ) );\r\n\t\tconst _run = \"RUNNING\";\r\n\t\tlet _tick;\r\n\t\t_tick = function update() {\r\n\t\t\tlet i = 0;\r\n\t\t\twhile ( i < RAF_CALLS.length ) {\r\n\t\t\t\tconst raf = RAF_CALLS[ i ];\r\n\t\t\t\tif ( raf.loop ) {\r\n\t\t\t\t\traf._val = raf.args ? raf.render( ...raf.args ) : raf.render.call( raf );\r\n\t\t\t\t\traf.loop = raf._val === _run;\r\n\t\t\t\t} else if ( raf.run && ( !raf.rendered && !raf._destroy ) ) {\r\n\t\t\t\t\tif ( raf.args ) {\r\n\t\t\t\t\t\traf._val = raf.render( ...raf.args );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\traf._val = raf.render.call( raf );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( raf._val === _run ) {\r\n\t\t\t\t\t\traf.loop = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\traf.rendered = true;\r\n\t\t\t\t} else if ( raf.run ) {\r\n\t\t\t\t\tRAF_CALLS.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\t\t\tif ( RAF_CALLS.length ) {\r\n\t\t\t\t_tick = win.requestAnimationFrame( update );\r\n\t\t\t} else {\r\n\t\t\t\twin.cancelAnimationFrame( _tick );\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn {\r\n\t\t\tadd( item ) {\r\n\t\t\t\tconst _item = {\r\n\t\t\t\t\t_destroy: false\r\n\t\t\t\t\t, message( last ) {\r\n\t\t\t\t\t\tconst old = this.render\r\n\t\t\t\t\t\t\t, curr = this\r\n\t\t\t\t\t\t\t, self = this.self;\r\n\t\t\t\t\t\tthis.render = function() {\r\n\t\t\t\t\t\t\treturn ( curr._val = last.call( curr, {\r\n\t\t\t\t\t\t\t\tdata: ( curr._val = old.apply( curr, ARRAY_SLICE.call( arguments ) ) )\r\n\t\t\t\t\t\t\t} ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t, get() {\r\n\t\t\t\t\t\treturn this._val || this.args && this.args[ 0 ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t, destroy() {\r\n\t\t\t\t\t\tthis._destroy = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t, args: null\r\n\t\t\t\t\t, rendered: false\r\n\t\t\t\t\t, render: item\r\n\t\t\t\t\t, run: false\r\n\t\t\t\t};\r\n\t\t\t\tRAF_CALLS.push( _item );\r\n\t\t\t\twin.requestAnimationFrame( _tick );\r\n\t\t\t\treturn _item;\r\n\t\t\t}\r\n\t\t\t, destroy( item ) {\r\n\t\t\t\tconst match = [].concat( RAF_CALLS )\r\n\t\t\t\t\t.filter( item2 => item2.render === item );\r\n\t\t\t\tif ( !match )\r\n\t\t\t\t\treturn;\r\n\t\t\t\tconst i = RAF_CALLS.indexOf( match[ 0 ] );\r\n\t\t\t\tif ( i > -1 ) {\r\n\t\t\t\t\tRAF_CALLS.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t} )\r\n\t( this ) );\r\n\r\nconst setRAF = function() {\r\n\tthis._raf = null;\r\n\treturn this;\r\n};\r\nvar p = setRAF.prototype = {\r\n\tcall( fn ) {\r\n\t\tthis._raf = RAF_UPDATE.add( fn );\r\n\t\tthis._raf.self = this;\r\n\t\tthis._val = this._raf._val;\r\n\t\treturn this;\r\n\t}\r\n\t, get() {\r\n\t\treturn this._raf.get();\r\n\t}\r\n\t, done( fn ) {\r\n\t\tthis._raf.message( fn );\r\n\t\tthis._val = this._raf._val;\r\n\t\treturn this;\r\n\t}\r\n\t, run() {\r\n\t\tthis._raf.args = ARRAY_SLICE.call( arguments );\r\n\t\tthis._raf.run = true;\r\n\t\tthis._val = this._raf._val;\r\n\t\treturn this;\r\n\t}\r\n\t, close() {\r\n\t\tRAF_UPDATE.destroy( this._raf );\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\nconst setFn = function() {\r\n\tthis._fn = null;\r\n\treturn this;\r\n};\r\nvar p = setFn.prototype = {\r\n\tcall( fn ) {\r\n\t\tthis._fn = fn;\r\n\t\treturn this;\r\n\t}\r\n\t, get() {\r\n\t\treturn this._val;\r\n\t}\r\n\t, done( fn ) {\r\n\t\tconst _oldFn = this._fn;\r\n\t\tconst curr = this;\r\n\t\tthis._fn = function() {\r\n\t\t\tconst args = ARRAY_SLICE.call( arguments );\r\n\t\t\treturn fn.call( curr, {\r\n\t\t\t\tdata: ( curr._val = _oldFn.apply( curr, args ) )\r\n\t\t\t} );\r\n\t\t};\r\n\t\treturn this;\r\n\t}\r\n\t, run( a ) {\r\n\t\tconst args = a !== undefined ? ARRAY_SLICE.call( arguments ) : [];\r\n\t\tthis._val = args.length ? this._fn( ...args ) : this._fn.call( this );\r\n\t\treturn this;\r\n\t}\r\n\t, close() {\r\n\t\tthis._fn = null;\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\n/*\r\n@constructor Tez\r\n@description Main function\r\n */\r\nvar Tez = {\r\n\tFunctionManager( fnc, mode ) {\r\n\t\tthis._mode = ( mode === \"Worker\" && WORKER_SUPPORT ) ? new setWorker( true ) : mode === \"raf\" ? new setRAF( true ) : new setFn( true );\r\n\t\tthis.m = this._mode.call( fnc );\r\n\t\treturn this;\r\n\t}\r\n\t, PluginManager: {}\r\n\t, extend( a = {}, b = {} ) {\r\n\t\tfor ( const p in b ) {\r\n\t\t\tif ( a[ p ] === undefined && b[ p ] !== undefined ) {\r\n\t\t\t\ta[ p ] = b[ p ];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n};\r\nTez.FunctionManager.prototype = {\r\n\tonMessage( fn ) {\r\n\t\tconst c = this;\r\n\t\tthis.m.done( e => fn.call( c.m, e.data ) );\r\n\t\treturn this;\r\n\t}\r\n\t, plugin( plug ) {\r\n\t\tif ( typeof plug === \"string\" && Tez.PluginManager[ plug ] !== undefined && Tez.PluginManager[ plug ].fnMgr !== undefined ) {\r\n\t\t\tthis.m = Tez.PluginManager[ plug ].fnMgr.call( this, this.m );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, get() {\r\n\t\treturn this.m.get();\r\n\t}\r\n\t, run( a ) {\r\n\t\tconst args = a !== undefined ? ARRAY_SLICE.call( arguments ) : [];\r\n\t\tif ( !args.length )\r\n\t\t\treturn this;\r\n\t\tthis.m.run( ...args );\r\n\t\treturn this;\r\n\t}\r\n};\r\nTez.CompositeManager = ( draw, args ) => new Tez.FunctionManager( draw, \"raf\" )\r\n\t.run( args );\r\nTez.LogicManager = ( fn, args ) => new Tez.FunctionManager( fn, \"Worker\" )\r\n\t.run( args );\r\nTez.CallManager = ( fn, args ) => new Tez.FunctionManager( fn )\r\n\t.run( args );\r\nTez.DOMManager = function( node ) {\r\n\tthis.node = node;\r\n\treturn this;\r\n};\r\nTez.TweenManager = ( a, b ) => {\r\n\tconst _isFunc = typeof( b ) === \"function\";\r\n\tconst _isArray = b && b.push && b.slice;\r\n\tconst _isObj = ( !_isArray && typeof( b ) === \"object\" );\r\n\tconst _isNum = ( !_isArray && !_isObj ) && typeof( b ) === \"number\";\r\n\tconst _isStr = !_isNum && typeof( b ) === \"string\";\r\n\tconst _obj = {};\r\n\tlet _arr = [];\r\n\tconst _num = 0;\r\n\treturn t => {\r\n\t\tif ( _isFunc ) {\r\n\t\t\treturn b( t );\r\n\t\t} else if ( _isArray ) {\r\n\t\t\treturn ( _arr = b.map( ( v2, i ) => {\r\n\t\t\t\tif ( typeof v2 === \"number\" ) {\r\n\t\t\t\t\treturn a[ i ] + ( v2 - a[ i ] ) * t;\r\n\t\t\t\t} else if ( typeof v2 === \"function\" ) {\r\n\t\t\t\t\treturn v2( t );\r\n\t\t\t\t}\r\n\t\t\t} ) );\r\n\t\t} else if ( _isObj ) {\r\n\t\t\tfor ( const p in b ) {\r\n\t\t\t\tif ( typeof b[ p ] === \"number\" ) {\r\n\t\t\t\t\t_obj[ p ] = a[ p ] + ( b[ p ] - a[ p ] ) * t;\r\n\t\t\t\t} else if ( typeof b[ p ] === \"function\" ) {\r\n\t\t\t\t\t_obj[ p ] = b[ p ]( t );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _obj;\r\n\t\t} else if ( _isNum ) {\r\n\t\t\treturn a + ( b - a ) * t;\r\n\t\t}\r\n\t}\r\n};\r\nTez.DiffManager = function _rdh( a, b ) {\r\n\tif ( ( a && b ) && ( !a.nodeType && !b.nodeType ) && typeof a === \"object\" && typeof b === \"object\" ) {\r\n\t\tconst _keys = ( b && b.push && b.slice ? b : b && Object.keys( b ) ) || [];\r\n\t\tconst _keysA = ( a && a.push && a.slice ? a : a && Object.keys( a ) ) || [];\r\n\t\tlet i = 1;\r\n\t\tconst _diff = {};\r\n\t\tconst _len = _keys && _keys.length;\r\n\t\tconst _extract = ( ( a && _keys.length || 0 ) > ( b && _keysA.length || 0 ) ? b : a ) || _diff;\r\n\t\tif ( _keys.length || _keysA.length ) {\r\n\t\t\tfor ( const p in _extract ) {\r\n\t\t\t\tif ( _rdh( a[ p ], b[ p ] ) ) {\r\n\t\t\t\t\t_diff[ p ] = [ a[ p ], b[ p ] ];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Object.keys( _diff )\r\n\t\t\t.length ? _diff : i > 1;\r\n\t} else {\r\n\t\treturn a !== b && [ a, b ];\r\n\t}\r\n};\r\nTez.DOMManager.prototype = {\r\n\tgetNode() {\r\n\t\treturn this.node;\r\n\t}\r\n\t, logic( fn ) {\r\n\t\tthis._logic = new Tez.LogicManager( fn );\r\n\t\treturn this;\r\n\t}\r\n\t, logicArg( arg ) {\r\n\t\tthis._logic.run.call( this._logic, arg );\r\n\t\treturn this;\r\n\t}\r\n\t, logicMsg( fn ) {\r\n\t\tthis._logic && this._logic.onMessage( fn.call( this, this.node ) );\r\n\t\treturn this;\r\n\t}\r\n\t, getLogic() {\r\n\t\treturn this._logic;\r\n\t}\r\n\t, composite( fn ) {\r\n\t\tthis._composite = new Tez.CompositeManager( fn.bind( this ) );\r\n\t\treturn this;\r\n\t}\r\n\t, compositeArg( arg ) {\r\n\t\tthis._composite.run.call( this._composite, arg );\r\n\t\treturn this;\r\n\t}\r\n\t, compositeMsg( fn ) {\r\n\t\tthis._composite && this._composite.onMessage( fn.call( this, this.node ) );\r\n\t\treturn this;\r\n\t}\r\n\t, getComposite() {\r\n\t\treturn this._composite;\r\n\t}\r\n};\r\nconst attrs = a => {\r\n\tif ( !a )\r\n\t\treturn {};\r\n\tconst _a = {};\r\n\tconst attributes = a.attributes;\r\n\tfor ( let i = 0, atr, len = attributes.length; i < len; i++ ) {\r\n\t\tatr = attributes[ i ];\r\n\t\t_a[ atr.name ] = atr.value;\r\n\t}\r\n\treturn JSON.stringify( _a );\r\n};\r\nconst _getItem = function _giw( item, parent ) {\r\n\tif ( item.isEqualNode( parent ) ) {\r\n\t\treturn item;\r\n\t}\r\n\tconst childs = ARRAY_SLICE.call( parent.children );\r\n\tlet i = 0;\r\n\tlet _match;\r\n\tlet _parentWhile;\r\n\tlet _matchInsideWhile;\r\n\tif ( childs.length ) {\r\n\t\twhile ( i < childs.length ) {\r\n\t\t\tif ( childs[ i ] && childs[ i ].isEqualNode( item ) ) {\r\n\t\t\t\t_match = childs[ i ];\r\n\t\t\t\t_parentWhile = parent;\r\n\t\t\t\tbreak;\r\n\t\t\t} else if ( _matchInsideWhile = _giw( item, _parentWhile = childs[ i ] ) ) {\r\n\t\t\t\t_match = _matchInsideWhile;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ti++\r\n\t\t}\r\n\t} else if ( item.isEqualNode( parent ) ) {\r\n\t\t_match = parent;\r\n\t}\r\n\tif ( _match ) {\r\n\t\treturn {\r\n\t\t\tmatched: _match\r\n\t\t\t, matchParent: _parentWhile\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\nconst replaceChildrenByDiff = function _rchd( _attrs, _vattrs, _childs, _childs2, substore ) {\r\n\tconst _store = ( substore || [] )\r\n\t\t.concat( [] );\r\n\tconst _attrs1 = attrs( _attrs );\r\n\tconst _attrs2 = attrs( _vattrs );\r\n\tif ( substore ) {\r\n\t\tsubstore.splice( 0, substore.length );\r\n\t}\r\n\tlet i = 0;\r\n\tconst _max = Math.max( _childs.length, _childs2.length );\r\n\tlet item;\r\n\tvar pi;\r\n\tvar ni;\r\n\tvar _tmp;\r\n\tlet len;\r\n\tif ( _max ) {\r\n\t\twhile ( i < _max ) {\r\n\t\t\tif ( _childs[ i ] && !_childs2[ i ] ) {\r\n\t\t\t\t_store.push( {\r\n\t\t\t\t\tindex: i\r\n\t\t\t\t\t, diff: false\r\n\t\t\t\t\t, virtual: _childs[ i ]\r\n\t\t\t\t\t, real: 'append'\r\n\t\t\t\t} );\r\n\t\t\t} else if ( _childs2[ i ] && !_childs[ i ] ) {\r\n\t\t\t\t_store.push( {\r\n\t\t\t\t\tindex: i\r\n\t\t\t\t\t, diff: false\r\n\t\t\t\t\t, virtual: 'append'\r\n\t\t\t\t\t, real: _childs2[ i ]\r\n\t\t\t\t} );\r\n\t\t\t} else if ( _childs[ i ] && _childs[ i ].isEqualNode( _childs2[ i ] ) ) {\r\n\t\t\t\t_store.push( {\r\n\t\t\t\t\tindex: i\r\n\t\t\t\t\t, diff: true\r\n\t\t\t\t\t, virtual: _childs[ i ]\r\n\t\t\t\t\t, real: _childs2[ i ]\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n\tif ( _store.length ) {\r\n\t\tlet a = 0;\r\n\t\tlen = _store.length;\r\n\t\twhile ( a < len ) {\r\n\t\t\titem = _store[ a ]\r\n\t\t\t\t, i = item.index;\r\n\t\t\tlet _tmp;\r\n\t\t\tconst pi = i - 1;\r\n\t\t\tconst ni = i + 1;\r\n\t\t\tconst vr = item.virtual;\r\n\t\t\tconst rr = item.real;\r\n\t\t\tif ( !item.diff && rr === 'append' ) {\r\n\t\t\t\t_tmp = _childs2[ ni ];\r\n\t\t\t\tif ( _tmp ) {\r\n\t\t\t\t\t_attrs.insertBefore( vr, _tmp );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_attrs.appendChild( vr );\r\n\t\t\t\t}\r\n\t\t\t} else if ( !item.diff && vr === 'append' ) {\r\n\t\t\t\trr.remove();\r\n\t\t\t} else if ( item.diff ) {\r\n\t\t\t\t_tmp = rr;\r\n\t\t\t\t_rchd( rr, vr, vr.children, rr.children );\r\n\t\t\t}\r\n\t\t\ta++;\r\n\t\t}\r\n\t} else if ( _attrs.innerHTML !== _vattrs.innerHTML ) {\r\n\t\t_attrs.innerHTML = _vattrs.innerHTML;\r\n\t} else if ( _attrs.style.cssText !== _vattrs.style.cssText ) {\r\n\t\t_attrs.style.cssText = _vattrs.style.cssText;\r\n\t} else if ( _attrs.tagName !== _vattrs.tagName ) {\r\n\t\t_attrs.parentNode.replaceChild( _vattrs, _attrs );\r\n\t} else if ( _attrs1 !== _attrs2 ) {\r\n\t\tconst _diff = JSON.parse( _attrs );\r\n\t\tfor ( const p in _diff ) {\r\n\t\t\t_attrs.setAttribute( p, _diff[ p ] );\r\n\t\t}\r\n\t}\r\n};\r\nconst _tmpDiv = document.createElement( \"div\" );\r\nconst _parseString = str => {\r\n\tif ( !str ) {\r\n\t\treturn [];\r\n\t};\r\n\t_tmpDiv.innerHTML = str;\r\n\treturn ARRAY_SLICE.call( _tmpDiv.children );\r\n};\r\nconst _makeNode = opts => {\r\n\tif ( !opts || !opts.tag )\r\n\t\treturn;\r\n\tconst {\r\n\t\ttag\r\n\t\t, css\r\n\t\t, content\r\n\t\t, attr\r\n\t} = opts;\r\n\tconst _tag = document.createElement( tag );\r\n\tif ( css ) {\r\n\t\t_tag.style.cssText = css;\r\n\t}\r\n\tif ( content ) {\r\n\t\t_tag.innerHTML = content;\r\n\t}\r\n\tif ( attr ) {\r\n\t\tfor ( let p in attr ) {\r\n\t\t\t_tag.setAttribute( p, attr[ p ] );\r\n\t\t}\r\n\t}\r\n\treturn _tag;\r\n};\r\nTez.createElement = _makeNode;\r\n\r\nvar p = Tez.XHR = function( opts = {} ) {\r\n\tthis._xhr = new XMLHttpRequest();\r\n\tconst xhr = this;\r\n\tif ( opts.load ) {\r\n\t\txhr.on( 'load', opts.load );\r\n\t}\r\n\tif ( opts.url ) {\r\n\t\txhr.request( opts.method || \"GET\", opts.url, opts.async );\r\n\t\txhr.send( opts.params );\r\n\t}\r\n\tif ( opts.events ) {\r\n\t\topts.events.map( event => {\r\n\t\t\txhr.on( event.name, event.callback );\r\n\t\t} );\r\n\t}\r\n\treturn this;\r\n};\r\np.prototype = {\r\n\ton( ev, fn ) {\r\n\t\tthis._xhr.addEventListener( ev, fn );\r\n\t\treturn this;\r\n\t}\r\n\t, withCredentials( state ) {\r\n\t\tthis._xhr.withCredentials = state !== undefined ? state : false;\r\n\t\treturn this;\r\n\t}\r\n\t, off( ev, fn ) {\r\n\t\tthis._xhr.removeEventListener( ev, fn );\r\n\t\treturn this;\r\n\t}\r\n\t, request( method, url, async ) {\r\n\t\tthis._xhr.open( method, url, async );\r\n\t\treturn this;\r\n\t}\r\n\t, send( params ) {\r\n\t\tif ( params ) {\r\n\t\t\tthis._xhr.send( params );\r\n\t\t} else {\r\n\t\t\tthis._xhr.send();\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n};\r\np = Tez.hashURL = function( opts = {} ) {\r\n\tthis._prefix = opts.prefix || \"!/#\";\r\n\tthis._hashTags = true;\r\n\tthis._changed = false;\r\n\treturn this;\r\n};\r\np.prototype = {\r\n\tgetHash( hash ) {\r\n\t\treturn this._prefix + hash;\r\n\t}\r\n\t, getLocationHash() {\r\n\t\treturn window.location.hash.substr( 1 );\r\n\t}\r\n\t, getChanged() {\r\n\t\treturn this._changed;\r\n\t}\r\n\t, setHash( hash ) {\r\n\t\tif ( this.getHash( hash ) !== this.getLocationHash() ) {\r\n\t\t\twindow.location.hash = this.getHash( hash );\r\n\t\t\tthis._changed = true;\r\n\t\t} else {\r\n\t\t\tthis._changed = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, set( url ) {\r\n\t\treturn this.setHash( url );\r\n\t}\r\n};\r\np = Tez.URLComponent = function( opts = {} ) {\r\n\tthis.hash = new Tez.hashURL( {\r\n\t\tprefix: opts.prefixURL\r\n\t} );\r\n\tthis.async = opts.async !== undefined ? opts.async : true;\r\n\tthis.xhr = new Tez.XHR();\r\n\tthis.loadRealLink = opts.loadRealLink !== undefined ? opts.loadRealLink : true;\r\n\treturn this;\r\n};\r\np.prototype = {\r\n\trequest( url, method, withCredentials ) {\r\n\t\tthis.hash.set( url );\r\n\t\tif ( this.loadRealLink ) {\r\n\t\t\tthis.xhr.request( method || \"GET\", url, this.async );\r\n\t\t\tthis.xhr.withCredentials( withCredentials );\r\n\t\t\tthis.xhr.send();\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, then( fn ) {\r\n\t\tif ( this.loadRealLink && this.hash.getChanged() ) {\r\n\t\t\tconst __self__ = this.xhr;\r\n\t\t\tconst __self__hash__ = this.hash;\r\n\t\t\tlet __eventFunc__;\r\n\t\t\tthis.xhr.on( 'load', __eventFunc__ = function() {\r\n\t\t\t\tconst args = ARRAY_SLICE.call( arguments );\r\n\t\t\t\tif ( __self__hash__.getChanged() ) {\r\n\t\t\t\t\tfn.apply( this, args );\r\n\t\t\t\t\t__self__.off( 'load', __eventFunc__ );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} else if ( this.hash.getChanged() ) {\r\n\t\t\tfn.call( this, {\r\n\t\t\t\tonlyURLChanged: true\r\n\t\t\t} );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n};\r\nTez.domClass = function( node, vars ) {\r\n\tthis._vars = vars = vars || {};\r\n\tif ( vars.quickRender === undefined ) {\r\n\t\tvars.quickRender = true;\r\n\t}\r\n\tconst _opts = this._opt = {};\r\n\tthis._node = typeof( node ) === \"string\" ? document.querySelector( node ) : node.length && node[ 0 ].nodeType ? node[ 0 ] : node;\r\n\tthis._vnode = this._node.cloneNode( true );\r\n\tthis._nodeElem = this._vnode;\r\n\tthis._quickRender = vars.quickRender;\r\n\tthis._appendStore = [];\r\n\tthis.props = {};\r\n\tthis._listOfNodes = [];\r\n\tif ( vars.styling === undefined ) {\r\n\t\tvars.styling = this._vnode.style.cssText;\r\n\t}\r\n\tif ( vars.attrs === undefined ) {\r\n\t\tvars.attrs = attrs( this._vnode );\r\n\t}\r\n\tif ( vars.content === undefined ) {\r\n\t\tvars.content = this._vnode.innerHTML;\r\n\t}\r\n\treturn this.render();\r\n};\r\nTez.domClass.prototype = {\r\n\tcreateElement( opts ) {\r\n\t\tlet item;\r\n\t\tconst appendStore = this._appendStore;\r\n\t\tconst len = appendStore.length;\r\n\t\tappendStore[ len ] = {\r\n\t\t\treal: 'append'\r\n\t\t\t, virtual: ( item = _makeNode( opts ) )\r\n\t\t\t, diff: false\r\n\t\t\t, index: len\r\n\t\t};\r\n\t\treturn item;\r\n\t}\r\n\t, setProps( props ) {\r\n\t\tfor ( const p in props ) {\r\n\t\t\tthis.props[ p ] = props[ p ];\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, setEvent( find, eventName, eventFunc ) {\r\n\t\tconst __self__ = this;\r\n\r\n\t\tconst __eventFunc__ = function( e ) {\r\n\t\t\teventFunc.call( __self__, this, e )\r\n\t\t};\r\n\r\n\t\tif ( eventFunc && find === null ) {\r\n\t\t\tthis._node.addEventListener( eventName, __eventFunc__ );\r\n\t\t} else if ( eventFunc ) {\r\n\t\t\tfind = this._node.querySelector( find );\r\n\t\t\tfind.addEventListener( eventName, __eventFunc__ );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, createFunction( fn ) {\r\n\t\tfn.call( this );\r\n\t\treturn this;\r\n\t}\r\n\t, render() {\r\n\t\tconst vars = this._vars;\r\n\t\tconst node = this._node;\r\n\t\tconst vnode = this._vnode;\r\n\t\tconst append = this._appendStore;\r\n\t\tconst _listOfNodes = this._listOfNodes;\r\n\t\tlet _vattrs = vars.attrs;\r\n\t\tlet _attrs = attrs( node );\r\n\t\tlet _diff;\r\n\t\tif ( _attrs !== _vattrs ) {\r\n\t\t\t_diff = JSON.parse( _vattrs );\r\n\t\t\tfor ( const p in _diff ) {\r\n\t\t\t\tnode.setAttribute( p, _diff[ p ] );\r\n\t\t\t}\r\n\t\t\tvars.attrs = attrs( vnode );\r\n\t\t}\r\n\t\t_vattrs = vars.styling;\r\n\t\t_attrs = node.style.cssText;\r\n\t\tif ( _vattrs !== _attrs ) {\r\n\t\t\tthis._node.style.cssText = _vattrs;\r\n\t\t\tvars.styling = node.style.cssText;\r\n\t\t}\r\n\t\t_vattrs = vars.content;\r\n\t\t_attrs = node.innerHTML;\r\n\t\tfor ( let i = 0, len = _listOfNodes.length; i < len; i++ ) {\r\n\t\t\tconst idx = append.length;\r\n\t\t\tappend[ idx ] = {\r\n\t\t\t\tvirtual: _listOfNodes[ i ]\r\n\t\t\t\t, real: 'append'\r\n\t\t\t\t, diff: false\r\n\t\t\t\t, index: idx\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( append.length || _attrs !== _vattrs ) {\r\n\t\t\tconst _childs = _parseString( _vattrs );\r\n\t\t\tconst _childs2 = _parseString( _attrs );\r\n\t\t\treplaceChildrenByDiff( node, vnode, _childs, _childs2, append );\r\n\t\t\tvars.content = vnode.innerHTML;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, setNode( node ) {\r\n\t\tthis._listOfNodes.push( node );\r\n\t\treturn this._quickRender ? this.render() : this;\r\n\t}\r\n\t, setAttrs( _attrs ) {\r\n\t\tlet attr;\r\n\t\tconst nattr = {};\r\n\t\tconst _attr = JSON.parse( this._vars.attrs );\r\n\t\tfor ( var p in _attr ) {\r\n\t\t\tif ( _attr[ p ] !== undefined ) {\r\n\t\t\t\tnattr[ p ] = _attr[ p ];\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor ( var p in _attrs ) {\r\n\t\t\tif ( _attrs[ p ] !== undefined ) {\r\n\t\t\t\tnattr[ p ] = _attrs[ p ];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._vars.attrs = JSON.stringify( nattr );\r\n\t\treturn this._quickRender ? this.render() : this;\r\n\t}\r\n\t, setStyling( cssText ) {\r\n\t\tconst styling = this._vars.styling;\r\n\t\tconst style = this._vnode.style;\r\n\t\tstyle.cssText = styling;\r\n\t\tfor ( const p in cssText ) {\r\n\t\t\tstyle[ p ] = cssText[ p ];\r\n\t\t}\r\n\t\tthis._vars.styling = style.cssText;\r\n\t\treturn this._quickRender ? this.render() : this;\r\n\t}\r\n\t, setContent( contents ) {\r\n\t\tlet content = this._vars.content;\r\n\t\tif ( !contents ) {\r\n\t\t\treturn this._quickRender ? this.render() : this;\r\n\t\t}\r\n\t\tcontents = typeof( contents ) === \"string\" ? contents : contents.nodeType ? contents.outerHTML : contents;\r\n\t\tconst rel = contents.includes( \"=\" ) ? contents.charAt( 0 ) === \"+\" ? 1 : contents.charAt( 0 ) === \"-\" ? -1 : 0 : 0;\r\n\r\n\t\tif ( rel === 0 ) {\r\n\t\t\tcontent = contents;\r\n\t\t} else if ( rel === 1 ) {\r\n\t\t\tcontent += contents.substr( 2 );\r\n\t\t} else if ( rel === -1 ) {\r\n\t\t\tconst _getParsed = _parseString( contents.substr( 2 ) )[ 0 ];\r\n\t\t\tconst _find = _getItem( _getParsed, this._node );\r\n\t\t\tif ( _find && _find.matched ) {\r\n\t\t\t\tthis._appendStore.push( {\r\n\t\t\t\t\tvirtual: _find.matched\r\n\t\t\t\t\t, real: 'append'\r\n\t\t\t\t\t, remove: true\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._vars.content = content;\r\n\t\treturn this._quickRender ? this.render() : this;\r\n\t}\r\n};\r\nTez.tezClass = function( opts ) {\r\n\tconst _self = this;\r\n\tthis.events = {};\r\n\topts = Tez.extend( opts || {}, {\r\n\t\tlets: {}\r\n\t\t, lets2: {}\r\n\t\t, _lets: {}\r\n\t\t, tweenable: {}\r\n\t\t, state: 0\r\n\t\t, render: null\r\n\t} );\r\n\r\n\topts.setInitLets && opts.setInitLets.call( opts );\r\n\topts.setTweenableLets && opts.setTweenableLets.call( opts );\r\n\r\n\tthis.mountedNodes = [];\r\n\r\n\tthis.opts = opts;\r\n\r\n\tthis.lets = opts.lets;\r\n\tthis.lets2 = opts.lets2;\r\n\treturn this;\r\n};\r\nconst getDecPow = ( d = 4 ) => Math.pow( 10, d );\r\nTez.tezClass.prototype = {\r\n\tplugin( plug ) {\r\n\t\tif ( typeof plug === \"string\" && Tez.PluginManager[ plug ] !== undefined && Tez.PluginManager[ plug ].tez !== undefined ) {\r\n\t\t\tTez.PluginManager[ plug ].tez.call( this, this.lets, this.opts );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, apply() {\r\n\t\tconst {\r\n\t\t\topts\r\n\t\t} = this;\r\n\t\tconst {\r\n\t\t\tlets\r\n\t\t\t, lets2\r\n\t\t} = opts;\r\n\t\tlet _lets = opts._lets;\r\n\t\tconst _minVal = 0.001;\r\n\t\tconst _maxVal = 1;\r\n\t\tthis.mountedNodes.map( ( node, index ) => {\r\n\t\t\tconst dom = new Tez.DOMManager( node );\r\n\t\t\tconst now = Date.now();\r\n\t\t\tconst {\r\n\t\t\t\trender\r\n\t\t\t\t, tweenable\r\n\t\t\t} = opts;\r\n\t\t\tconst round = tweenable.roundLets;\r\n\t\t\tconst limitDec = tweenable.limitLetsDecimals;\r\n\t\t\tconst start = tweenable && ( typeof( tweenable.startTime ) === \"function\" ? tweenable.startTime.call( _self, node, index ) : tweenable.startTime ) || 0;\r\n\t\t\tconst dur = tweenable && ( typeof( tweenable.duration ) === \"function\" ? tweenable.duration.call( _self, node, index ) : tweenable.duration ) || 1000;\r\n\t\t\tconst tween = Tez.TweenManager( lets, lets2 );\r\n\t\t\tlet diff;\r\n\r\n\t\t\tif ( tweenable ) {\r\n\t\t\t\tdiff = Tez.DiffManager( lets, lets2 );\r\n\t\t\t\tdom.composite( e => {\r\n\t\t\t\t\t\tif ( !diff )\r\n\t\t\t\t\t\t\treturn e.state;\r\n\t\t\t\t\t\tlet elapsed = Math.max( 0, Math.min( ( ( Date.now() - now ) - start ) / dur, 1 ) );\r\n\t\t\t\t\t\tlet timeElapsed = elapsed;\r\n\t\t\t\t\t\tif ( tweenable.curve ) {\r\n\t\t\t\t\t\t\telapsed = tweenable.curve( timeElapsed );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_lets = tween( elapsed );\r\n\t\t\t\t\t\tfor ( let p in _lets ) {\r\n\t\t\t\t\t\t\tif ( round && round[ p ] ) {\r\n\t\t\t\t\t\t\t\t_lets[ p ] = typeof( _lets[ p ] ) === \"number\" ? ( _lets[ p ] | 0 ) : _lets[ p ] !== undefined && _lets[ p ].push && _lets[ p ].slice ? _lets[ p ].map( Math.round ) : _lets[ p ];\r\n\t\t\t\t\t\t\t} else if ( limitDec && limitDec[ p ] ) {\r\n\t\t\t\t\t\t\t\tlet dv = getDecPow( limitDec[ p ] );\r\n\t\t\t\t\t\t\t\t_lets[ p ] = typeof( _lets[ p ] ) === \"number\" ? ( ( ( _lets[ p ] * dv ) | 0 ) / dv ) : _lets[ p ] !== undefined && _lets[ p ].push && _lets[ p ].slice ? _lets[ p ].map( v => ( ( v * dv ) | 0 ) / dv ) : _lets[ p ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( timeElapsed > _minVal ) {\r\n\t\t\t\t\t\t\trender.call( _self, node, _lets, opts, index, elapsed );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn timeElapsed < _maxVal ? e.state : 0;\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.compositeArg( {\r\n\t\t\t\t\t\tstate: opts.state || \"RUNNING\"\r\n\t\t\t\t\t} );\r\n\t\t\t} else if ( opts.initState ) {\r\n\t\t\t\trender.call( _self, node, lets, opts, index, elapsed );\r\n\t\t\t}\r\n\t\t} );\r\n\t\treturn this;\r\n\t}\r\n\t, render( _lets, leaveLet ) {\r\n\t\tconst _self = this;\r\n\t\tconst opts = this.opts;\r\n\t\t_lets = _lets || opts.lets;\r\n\t\tconst dm = Tez.DiffManager( opts.lets, _lets );\r\n\t\tif ( !dm )\r\n\t\t\treturn this;\r\n\t\tthis.mountedNodes.map( ( node, index ) => {\r\n\t\t\topts.render.call( _self, node, _lets || opts.lets, opts, index );\r\n\t\t} );\r\n\t\tif ( !leaveLet ) {\r\n\t\t\topts.lets = _lets;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, mountNode( node ) {\r\n\t\tnode = ARRAY_SLICE.call( typeof( node ) === \"string\" ? document.querySelectorAll( node ) : node.length ? node : [ node ] );\r\n\t\tthis.mountedNodes = this.mountedNodes.concat( node );\r\n\t\treturn this;\r\n\t}\r\n\t, nodeOn( event, on ) {\r\n\t\tthis.mountedNodes.map( node => {\r\n\t\t\tthis.node = node;\r\n\t\t\tnode.addEventListener( event, e => {\r\n\t\t\t\ton.call( this, e );\r\n\t\t\t} );\r\n\t\t} );\r\n\t\treturn this;\r\n\t}\r\n\t, nodeOff( event, off ) {\r\n\t\tthis.mountedNodes.map( node => {\r\n\t\t\tthis.node = node;\r\n\t\t\tnode.removeEventListener( event, e => {\r\n\t\t\t\toff.call( this, e );\r\n\t\t\t} );\r\n\t\t} );\r\n\t\treturn this;\r\n\t}\r\n\t, on( event, callback, unshift ) {\r\n\t\tif ( !this.events[ event ] ) {\r\n\t\t\tthis.events[ event ] = [];\r\n\t\t}\r\n\t\tthis.events[ event ][ unshift ? 'unshift' : 'push' ]( callback );\r\n\t\treturn this;\r\n\t}\r\n\t, off( event, callback ) {\r\n\t\tif ( !this.events[ event ].length ) {\r\n\t\t\tdelete this.events[ event ];\r\n\t\t}\r\n\t\tlet i = 0;\r\n\t\twhile ( i < this.events[ event ].length ) {\r\n\t\t\tif ( this.events[ event ][ i ] === callback ) {\r\n\t\t\t\tthis.events[ event ].splice( i, 1 );\r\n\t\t\t} else {\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\t, dispatch( event, custom = {} ) {\r\n\t\tif ( !this.events[ event ] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst {\r\n\t\t\topts\r\n\t\t} = this;\r\n\t\tthis.events[ event ].map( event => {\r\n\t\t\tevent.call( this, Tez.extend( custom, {\r\n\t\t\t\topts\r\n\t\t\t\t, timestamp: Date.now()\r\n\t\t\t\t, type: event\r\n\t\t\t\t, target: this\r\n\t\t\t} ) );\r\n\t\t} );\r\n\t\treturn this;\r\n\t}\r\n};\r\nexport default Tez;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}