!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Tez=t():e.Tez=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(17),u=r(s),f=["set","clear","delete"],l=Map.prototype;f.map(function(e){var t=l[e];l[e]=function(){if(u.isFrozen(this))return this;for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this].concat(n)),this}});var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),this.data=e.toMap(t),this.freeze()}return a(e,null,[{key:"toMap",value:function(t){var n=new Map;for(var r in t)"object"!==o(t[r])||Array.isArray(t[r])||void 0!==t[r].size?n.set(r,t[r]):n.set(r,e.toMap(t[r]));return n}},{key:"createValue",value:function(t,n){return"object"===("undefined"==typeof t?"undefined":o(t))?e.toMap(t):"string"==typeof t&&void 0!==n?(new Map).set(t,n):void 0}}]),a(e,[{key:"createValue",value:function(t,n){return e.createValue(t,n)}},{key:"recursiveMatch",value:function(e,t){var n=e.pop();if("object"===("undefined"==typeof e?"undefined":o(e))){var r=u.findObjByProp(this.data,n);return r&&void 0!==t?r.set(n,t):r}return this.data.get(e)}},{key:"free",value:function(){return u.defrost(this.data,!0),this}},{key:"freeze",value:function(){return u.freeze(this.data,!0),this}},{key:"set",value:function(e,t){return this.free(),"string"==typeof e?this.data.set(e,t):Array.isArray(e)&&this.recursiveMatch(e,t),this.freeze(),this}},{key:"get",value:function(e){return"object"===("undefined"==typeof e?"undefined":o(e))?this.recursiveMatch(e):this.data.get(e)}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"size",get:function(){return this.data.size}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){if(!e||!e.attributes)return"{}";for(var t,n={},r=e.attributes,i=0,o=r.length;i<o;i++)t=r[i],t.value&&(n[t.name]=t.value);return JSON.stringify(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.attrs=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0,r=2,i=0,o=[],a=[].slice,s=Function.toString,u=void 0!==n.Worker;t.MAX_WORKER_THREAD=r,t.CURRENT_WORKER_THREAD=i,t.LIST_WORKER_THREAD=o,t.ARRAY_SLICE=a,t.FUNC_STR=s,t.WORKER_SUPPORT=u,t.ROOT=n}).call(t,n(12))},function(e,t,n){"use strict";function r(e,t){if(e.isEqualNode(t))return e;var n=i.ARRAY_SLICE.call(t.children),o=0,a=void 0,s=void 0,u=void 0;if(n.length)for(;o<n.length;){if(n[o]&&n[o].isEqualNode(e)){a=n[o],s=t;break}if(u=r(e,s=n[o])){a=u;break}o++}else e.isEqualNode(t)&&(a=t);return a?{matched:a,matchParent:s}:null}Object.defineProperty(t,"__esModule",{value:!0}),t._getItem=r;var i=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e||"string"!=typeof e)throw new Error("tagName has to be defined, non-empty string");r=r||[],t=t||[];var o=document.createElement(e),a=Object.keys(t);return a.map(function(e){var n=t[e];o.setAttribute(e,n)}),r.map(function(e){e instanceof HTMLElement?o.appendChild(e):"string"!=typeof e&&"number"!=typeof e||o.appendChild(document.createTextNode(e))}),o};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=n(16),u=n(15),f=n(14),l=n(3),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,e),this._vars=n,void 0===n.quickRender&&(n.quickRender=!0),this._opt={},this._node="string"==typeof t?document.querySelector(t):t.length&&t[0].nodeType?t[0]:t,this._vnode=this._node.cloneNode(!0),this._quickRender=n.quickRender,this._appendStore=[],this.props={},this._listOfNodes=[],void 0===n.styling&&(n.styling=this._vnode.style.cssText),void 0===n.attrs&&(n.attrs=(0,a.attrs)(this._vnode)),void 0===n.content&&(n.content=this._vnode.innerHTML),this.render()}return o(e,[{key:"createElement",value:function(e){var t=void 0,n=this._appendStore,r=n.length;return n[r]={real:"append",virtual:t=(0,f._makeNode)(e),diff:!1,index:r},t}},{key:"sync",value:function(e){var t=e.props,n=e.content,r=e.styling,i=e.attrs;return t&&(this.props=t),n&&(this.vars.content=n),r&&(this.vars.styling=r),i&&(this.vars.attrs=i),this}},{key:"setProps",value:function(e){for(var t in e)this.props[t]=e[t];return this._quickRender?this.render():this}},{key:"setEvent",value:function(e,t,n){var r=this,i=this._node;void 0===n&&"function"==typeof t&&(n=t,t=e,e=null);var o=function(e){n.call(r,this,e)};return n&&null===e?i.addEventListener(t,o):n&&(e=i.querySelector(e),e.addEventListener(t,o)),this._quickRender?this.render():this}},{key:"createFunction",value:function(e){return e.call(this),this._quickRender?this.render():this}},{key:"render",value:function(){var e=this._vars,t=this._node,n=this._vnode,r=this._appendStore,i=this._listOfNodes,o=e.attrs,s=(0,a.attrs)(t),f=void 0,l=void 0;if(s!==o){f=JSON.parse(o),l=JSON.parse(s);for(var c in f)t.setAttribute(c,f[c]);for(var d in l)void 0===f[d]&&t.removeAttribute(d);e.attrs=(0,a.attrs)(n)}o=e.styling,s=t.style.cssText,o!==s&&(this._node.style.cssText=o,e.styling=t.style.cssText),o=e.content,s=t.innerHTML;for(var h,v=0,p=i.length;v<p;v++)h=r.length,r[h]={virtual:i[v],real:"append",diff:!1,index:h};return(r.length||s!==o)&&(n.innerHTML=o,(0,u.replaceChildrenByDiff)(t,n,n.childNodes,t.childNodes,r),e.content=n.innerHTML),this}},{key:"setNode",value:function(e){return this._listOfNodes.push(e),this._quickRender?this.render():this}},{key:"setAttrs",value:function(e){var t={},n=JSON.parse(this._vars.attrs);for(var r in n)void 0!==n[r]&&(t[r]=n[r]);for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return this._vars.attrs=JSON.stringify(t),this._quickRender?this.render():this}},{key:"setStyling",value:function(e){var t=this._vars.styling,n=this._vnode.style;n.cssText=t;for(var r in e)n[r]=e[r];return this._vars.styling=n.cssText,this._quickRender?this.render():this}},{key:"setView",value:function(t,n){var r=e.parseComponent(t,!1,n,this);return r&&r.nodeType&&(this._vars.content=r.innerHTML,this._vars.styling=r.style.cssText,this._vars.attrs=(0,a.attrs)(r)),this._quickRender?this.render():this}},{key:"setContent",value:function(t,n){var r=this._vars.content;if(!t)return this._quickRender?this.render():this;t=e.getComponentRendered("string"==typeof t?t:t.nodeType?t.outerHTML:t,n,this),t=t.nodeType?t.outerHTML:t;var i=t.includes("=")?"+"===t.charAt(0)?1:"-"===t.charAt(0)?-1:0:0;if(0===i)r=t;else if(1===i)r+=t.substr(2);else if(i===-1){var o=(0,s._parseString)(t.substr(2))[0],a=(0,l._getItem)(o,this._node);a&&a.matched&&this._appendStore.push({virtual:a.matched,real:"append",remove:!0})}return this._vars.content=r,this._quickRender?this.render():this}}],[{key:"getComponentRendered",value:function(e,t,n){var r=Object.assign({},n?n.props:{},t);if(n&&(n.props=r),"string"==typeof e||"number"==typeof e)return e;if(void 0===e||null===e)return"";if("function"==typeof e||"object"===("undefined"==typeof e?"undefined":i(e))){var o=e;e="function"==typeof e?n&&!e.initted?new e(n):e(n):e,e.props=r,e.Render||e.render||(e=o),n&&(e.super=n),e&&!e.initted&&"function"==typeof e.init&&(e.init(),e.initted=!0);var a=e.Render?"Render":"render",s=e&&(e.Render||e.render);return!(!s||!e[a])&&e[a]()}return""}},{key:"parseComponent",value:function(t,n,r,o){var a=void 0;if(t&&t.nodeType)a=t;else if("string"==typeof t){var u=t.includes("</")||t.includes("/>");a=u?(0,s._parseString)(t):[document.createElement(t)]}else if("function"==typeof t||"object"===("undefined"==typeof t?"undefined":i(t))){var l=e.getComponentRendered(t,r,o);a=l?(0,s._parseString)(l):[(0,f._makeNode)("function"==typeof t?t():t)]}return n?a:a[0]}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),this._prefix=t.prefix||"!/#",this._hashTags=!0,this._changed=!1,this}return i(e,[{key:"getHash",value:function(e){return this._prefix+e}},{key:"getLocationHash",value:function(){return window.location.hash.substr(1)}},{key:"getChanged",value:function(){return this._changed}},{key:"setHash",value:function(e){return this.getHash(e)!==this.getLocationHash()?(window.location.hash=this.getHash(e),this._changed=!0):this._changed=!1,this}},{key:"set",value:function(e){return this.setHash(e)}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=r(a),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),this.state=new s.default(t),this}return o(e,[{key:"setState",value:function(e,t){return"function"==typeof e?e(this.state):("string"==typeof e||Array.isArray(e))&&this.state.set(e,"function"==typeof t?t(this.state.get(e)):t),this}},{key:"getState",value:function(e){return e?this.state.get(e):this.state}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),this.hash=new Tez.hashURL({prefix:t.prefixURL}),this.async=void 0===t.async||t.async,this.xhr=new Tez.XHR,this.loadRealLink=void 0===t.loadRealLink||t.loadRealLink,this}return i(e,[{key:"request",value:function(e,t,n){return this.hash.set(e),this.loadRealLink&&(this.xhr.request(t||"GET",e,this.async),this.xhr.withCredentials(n),this.xhr.send()),this}},{key:"then",value:function(e){if(this.loadRealLink&&this.hash.getChanged()){var t=this.xhr,n=this.hash,r=void 0;this.xhr.on("load",r=function(){var i=ARRAY_SLICE.call(arguments);n.getChanged()&&(e.apply(this,i),t.off("load",r))})}else this.hash.getChanged()&&e.call(this,{onlyURLChanged:!0});return this}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this._xhr=new XMLHttpRequest;var n=this;return t.load&&n.on("load",t.load),t.url&&(n.request(t.method||"GET",t.url,t.async),n.send(t.params)),t.events&&t.events.map(function(e){n.on(e.name,e.callback)}),this}return i(e,[{key:"on",value:function(e,t){return this._xhr.addEventListener(e,t),this}},{key:"withCredentials",value:function(e){return this._xhr.withCredentials=void 0!==e&&e,this}},{key:"off",value:function(e,t){return this._xhr.removeEventListener(e,t),this}},{key:"request",value:function(e,t,n){return this._xhr.open(e,t,n),this}},{key:"send",value:function(e){return e?this._xhr.send(e):this._xhr.send(),this}}]),e}();t.default=o},function(e,t,n){"use strict";if(!Array.from){var r=[].slice;Array.from=function(e){return r.call(e)}}},function(e,t,n){"use strict";String.prototype.includes||(String.prototype.includes=function(e){return this.indexOf(e)>-1})},function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)void 0===e[n]&&void 0!==t[n]&&(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.tag){var t=e.tag,n=e.css,r=e.content,i=e.attr,o=document.createElement(t);if(n&&(o.style.cssText=n),r&&(o.innerHTML=r),i)for(var a in i)o.setAttribute(a,i[a]);return o}},i=r;t.createElement=i,t.makeNode=r},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!e||!t)return null;var f=(0,i.attrs)(e),l=(0,i.attrs)(t),c=0,d=Math.max(n.length,s.length),h=e.tagName,v=t.tagName,p=e.nodeType,y=t.nodeType,g=3===p,_=3===y,b=e&&e.style&&e.style.cssText,m=t&&t.style&&t.style.cssText,k=e.innerHTML,R=t.innerHTML,T=k===R,x=b===m,O=h===v,S=x&&O,w=g===!0&&g===_,M=e===l,j=void 0,C=void 0,N=void 0;if(d)for(;c<d;)N=n[c],C=s[c],N&&!C?u.push({index:c,diff:!1,virtual:N,real:"append"}):C&&!n[c]?u.push({index:c,diff:!1,virtual:"append",real:C}):N&&N.isEqualNode(C)===!1&&u.push({index:c,diff:!0,virtual:N,real:C}),c++;if(u.length)for(var E=void 0;j=u.shift();){c=j.index;var L=c+1,A=j.virtual,P=j.real;j.diff||"append"!==P?j.diff||"append"!==A?j.diff&&(void 0===P.tagName||void 0===A.tagName||P.tagName!==A.tagName?e.replaceChild(A,P):r(P,A,A.childNodes,P.childNodes)):void 0!==P.remove?P.remove():e.removeChild(P):(E=s[L],E?e.insertBefore(A,E):e.appendChild(A))}else if(w&&e.value!==t.value)e.value=t.value;else if(!O&&null!==e.parentNode&&t&&t.nodeType)e.parentNode.replaceChild(t,e);else if(!M&&S&&T){var H=(0,o.extend)(JSON.parse(l),JSON.parse(f));for(var q in H)"style"!==q&&e.setAttribute(q,H[q])}else a.test(R)&&k!==R?e.childNodes&&e.childNodes.length?r(e,t,t.childNodes,e.childNodes):e.isEqualNode(t)?e.innerHTML=t.innerHTML:e.parentNode.replaceChild(t,e):e.textContent?e.textContent=t.textContent:e.innerText=t.innerText;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceChildrenByDiff=r;var i=n(1),o=n(13),a=(n(3),new RegExp("&lt;|&gt;|/>|<|>","g"))},function(e,t,n){"use strict";function r(e){return e&&a?(a.innerHTML=e,i.ARRAY_SLICE.call(a.children)):[]}Object.defineProperty(t,"__esModule",{value:!0}),t._parseString=r;var i=n(2),o=i.ROOT.document,a=void 0!==o&&o.createElement("div")},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return f[e]}function o(e,t,n){return t&&Object.getOwnPropertyNames(e).map(function(e){var r=obj[e];"object"!=("undefined"==typeof r?"undefined":u(r))||i(r)||(console.log(r),o(r,t,n))}),f[e]=!n}function a(e,t){return o(e,t,!0)}function s(e,t){var n=null,i=[].concat(r(new Map(e).keys()));return i.map(function(r){var o=e.get(r);return void 0!==o&&void 0!==o.get(t)?n=o.get(t):void 0!==o&&r===t&&(n=o),i}),n}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isFrozen=i,t.freeze=o,t.defrost=a,t.findObjByProp=s;var f={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.URLComponent=t.hashURL=t.XHR=t.domClass=t.Data=t.State=t.createElement=void 0,n(11),n(10);var i=n(5),o=r(i),a=n(9),s=r(a),u=n(6),f=r(u),l=n(8),c=r(l),d=n(0),h=r(d),v=n(7),p=r(v),y=n(4),g=r(y);t.createElement=g.default,t.State=p.default,t.Data=h.default,t.domClass=o.default,t.XHR=s.default,t.hashURL=f.default,t.URLComponent=c.default}])});