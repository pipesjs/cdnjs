!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Tez=e.Tez||{})}(this,function(e){"use strict";function t(e){if(!e||!e.attributes)return"{}";for(var t={},n=e.attributes,r=0,i=void 0,s=n.length;r<s;r++)i=n[r],i.value&&(t[i.name]=i.value);return JSON.stringify(t)}function n(e){return e&&u?(u.innerHTML=e,a.call(u.children)):[]}function r(e,t){void 0===e&&(e={}),void 0===t&&(t={});for(var n in t)void 0===e[n]&&void 0!==t[n]&&(e[n]=t[n]);return e}function i(e,t){if(e.isEqualNode(t))return e;var n,r,s,o=a.call(t.children),d=0;if(o.length)for(;d<o.length;){if(o[d]&&o[d].isEqualNode(e)){n=o[d],r=t;break}if(s=i(e,r=o[d])){n=s;break}d++}else e.isEqualNode(t)&&(n=t);return n?{matched:n,matchParent:r}:null}function s(e,n,i,o,d){if(void 0===i&&(i=[]),void 0===o&&(o=[]),void 0===d&&(d=[]),!e||!n)return null;var a,l,u,f=t(e),c=t(n),h=0,v=Math.max(i.length,o.length),y=e.tagName,g=n.tagName,_=e.nodeType,m=n.nodeType,N=3===_,T=3===m,x=e&&e.style&&e.style.cssText,b=n&&n.style&&n.style.cssText,R=e.innerHTML,q=n.innerHTML,S=R===q,k=x===b,C=y===g,E=k&&C,L=N===!0&&N===T,M=e===c;if(v)for(;h<v;)u=i[h],l=o[h],u&&!l?d.push({index:h,diff:!1,virtual:u,real:"append"}):l&&!i[h]?d.push({index:h,diff:!1,virtual:"append",real:l}):u&&u.isEqualNode(l)===!1&&d.push({index:h,diff:!0,virtual:u,real:l}),h++;if(d.length)for(var O;a=d.shift();){h=a.index;var H=h+1,w=a.virtual,A=a.real;a.diff||"append"!==A?a.diff||"append"!==w?a.diff&&(void 0===A.tagName||void 0===w.tagName||A.tagName!==w.tagName?e.replaceChild(w,A):s(A,w,w.childNodes,A.childNodes)):void 0!==A.remove?A.remove():e.removeChild(A):(O=o[H],O?e.insertBefore(w,O):e.appendChild(w))}else if(L&&e.value!==n.value)e.value=n.value;else if(!C&&null!==e.parentNode&&n&&n.nodeType)e.parentNode.replaceChild(n,e);else if(!M&&E&&S){var j=r(JSON.parse(c),JSON.parse(f));for(var J in j)"style"!==J&&e.setAttribute(J,j[J])}else p.test(q)&&R!==q?e.childNodes&&e.childNodes.length?s(e,n,n.childNodes,e.childNodes):e.isEqualNode(n)?e.innerHTML=n.innerHTML:e.parentNode.replaceChild(n,e):e.textContent?e.textContent=n.textContent:e.innerText=n.innerText;return e}if(String.prototype.includes||(String.prototype.includes=function(e){return this.indexOf(e)>-1}),!Array.from){var o=[].slice;Array.from=function(e){return o.call(e)}}var d="undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a=[].slice,l=d.document,u=void 0!==l&&l.createElement("div"),p=new RegExp("&lt;|&gt;|/>|<|>","g"),f=function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!e||"string"!=typeof e)throw new Error("tagName has to be defined, non-empty string");n=n||[],t=t||[];var i=document.createElement(e),s=Object.keys(t);return s.map(function(e){var n=t[e];i.setAttribute(e,n)}),n.map(function(e){e instanceof HTMLElement?i.appendChild(e):"string"!=typeof e&&"number"!=typeof e||i.appendChild(document.createTextNode(e))}),i},c=function(e,n){return void 0===n&&(n={}),this._vars=n,n.quickRender||(n.quickRender=!0),this._opt={},this._node="string"==typeof e?document.querySelector(e):e.length&&e[0].nodeType?e[0]:e,this._vnode=this._node.cloneNode(!0),this._quickRender=n.quickRender,this._disableSafeParse=n.disableSafeParse,this._appendStore=[],this.props={},this._listOfNodes=[],void 0===n.styling&&(n.styling=this._vnode.style.cssText),void 0===n.attrs&&(n.attrs=t(this._vnode)),void 0===n.content&&(n.content=this._vnode.innerHTML),this.render()};c.getComponentRendered=function(e,t,n){var r=Object.assign({},n?n.props:{},t);if(n&&(n.props=r),"string"==typeof e||"number"==typeof e)return e;if(void 0===e||null===e)return"";if("function"==typeof e||"object"==typeof e){var i=e;e="function"==typeof e?n&&!e.initted?new e(n):e(n):e,e.props=r,e.Render||e.render||(e=i),n&&(e.super=n),e&&!e.initted&&"function"==typeof e.init&&(e.init(),e.initted=!0);var s=e.Render?"Render":"render",o=e&&(e.Render||e.render);return!(!o||!e[s])&&e[s]()}return""},c.parseComponent=function(e,t,r,i){var s;if(e&&e.nodeType)s=e;else if("string"==typeof e){var o=e.includes("</")||e.includes("/>");s=o?n(e):[document.createElement(e)]}else if("function"==typeof e||"object"==typeof e){var d=c.getComponentRendered(e,r,i);s=d?n(d):[_makeNode("function"==typeof e?e():e)]}return t?s:s[0]},c.prototype.createElement=function(e){var t,n=this._appendStore,r=n.length;return n[r]={real:"append",virtual:t=_makeNode(e),diff:!1,index:r},t},c.prototype.sync=function(e){var t=e.props,n=e.content,r=e.styling,i=e.attrs;return t&&(this.props=t),n&&(this.vars.content=n),r&&(this.vars.styling=r),i&&(this.vars.attrs=i),this},c.prototype.setProps=function(e){var t=this;for(var n in e)t.props[n]=e[n];return this._quickRender?this.render():this},c.prototype.setEvent=function(e,t,n){var r=this,i=this,s=i._node;void 0===n&&"function"==typeof t&&(n=t,t=e,e=null);var o=function(e){n.call(r,this,e)};return n&&null===e?s.addEventListener(t,o):n&&(e=s.querySelector(e),e.addEventListener(t,o)),this._quickRender?this.render():this},c.prototype.createFunction=function(e){return e.call(this),this._quickRender?this.render():this},c.prototype.render=function(){var e,n,r=this,i=r._vars,o=r._node,d=r._vnode,a=r._appendStore,l=r._listOfNodes,u=r._disableSafeParse,p=i.attrs,f=t(o);if(f!==p){e=JSON.parse(p),n=JSON.parse(f);for(var c in e)o.setAttribute(c,e[c]);for(var h in n)void 0===e[h]&&o.removeAttribute(h);i.attrs=t(d)}p=i.styling,f=o.style.cssText,p!==f&&(this._node.style.cssText=p,i.styling=o.style.cssText),p=i.content,f=o.innerHTML,u||(p=p.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var v=0,y=void 0,g=l.length;v<g;v++)y=a.length,a[y]={virtual:l[v],real:"append",diff:!1,index:y};return(a.length||f!==p)&&(d.innerHTML=p,s(o,d,d.childNodes,o.childNodes,a),i.content=d.innerHTML),this},c.prototype.setNode=function(e){return this._listOfNodes.push(e),this._quickRender?this.render():this},c.prototype.setAttrs=function(e){var t={},n=JSON.parse(this._vars.attrs);for(var r in n)void 0!==n[r]&&(t[r]=n[r]);for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return this._vars.attrs=JSON.stringify(t),this._quickRender?this.render():this},c.prototype.setStyling=function(e){var t=this._vars.styling,n=this._vnode.style;n.cssText=t;for(var r in e)n[r]=e[r];return this._vars.styling=n.cssText,this._quickRender?this.render():this},c.prototype.setView=function(e,n){var r=c.parseComponent(e,!1,n,this);return r&&r.nodeType&&(this._vars.content=r.innerHTML,this._vars.styling=r.style.cssText,this._vars.attrs=t(r)),this._quickRender?this.render():this},c.prototype.setContent=function(e,t){var r=this._vars.content;if(!e)return this._quickRender?this.render():this;e=c.getComponentRendered("string"==typeof e?e:e.nodeType?e.outerHTML:e,t,this),e=e.nodeType?e.outerHTML:e;var s=e.includes("=")?"+"===e.charAt(0)?1:"-"===e.charAt(0)?-1:0:0;if(0===s)r=e;else if(1===s)r+=e.substr(2);else if(s===-1){var o=n(e.substr(2))[0],d=i(o,this._node);d&&d.matched&&this._appendStore.push({virtual:d.matched,real:"append",remove:!0})}return this._vars.content=r,this._quickRender?this.render():this};var h=Object.assign(c,{createElement:f});e.Tez=h,Object.defineProperty(e,"__esModule",{value:!0})});
