!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Tez=e():t.Tez=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=22)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof window?window:e,i=2,s=0,o=[],a=[].slice,u=Function.toString,l=void 0!==r.Worker;e.MAX_WORKER_THREAD=i,e.CURRENT_WORKER_THREAD=s,e.LIST_WORKER_THREAD=o,e.ARRAY_SLICE=a,e.FUNC_STR=u,e.WORKER_SUPPORT=l,e.ROOT=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};e.PluginManager=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.tag){var e=t.tag,n=t.css,r=t.content,i=t.attr,s=document.createElement(e);if(n&&(s.style.cssText=n),r&&(s.innerHTML=r),i)for(var o in i)s.setAttribute(o,i[o]);return s}},i=r;e.createElement=i,e.makeNode=r},function(t,e,n){"use strict";function r(t){if(!t)return{};for(var e,n={},r=t.attributes,i=0,s=r.length;i<s;i++)e=r[i],n[e.name]=e.value;return JSON.stringify(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.attrs=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return this.node=t,this};r.prototype={getNode:function(){return this.node},logic:function(t){return this._logic=new Tez.LogicManager(t),this},logicArg:function(t){return this._logic.run.call(this._logic,t),this},logicMsg:function(t){return this._logic&&this._logic.onMessage(t.call(this,this.node)),this},getLogic:function(){return this._logic},composite:function(t){return this._composite=new Tez.CompositeManager(t.bind(this)),this},compositeArg:function(t){return this._composite.run.call(this._composite,t),this},compositeMsg:function(t){return this._composite&&this._composite.onMessage(t.call(this,this.node)),this},getComposite:function(){return this._composite}},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function t(e,n){if(e&&n&&!e.nodeType&&!n.nodeType&&"object"===("undefined"==typeof e?"undefined":r(e))&&"object"===("undefined"==typeof n?"undefined":r(n))){var i=(n&&n.push&&n.slice?n:n&&Object.keys(n))||[],s=(e&&e.push&&e.slice?e:e&&Object.keys(e))||[],o=1,a={},u=(i&&i.length,((e&&i.length||0)>(n&&s.length||0)?n:e)||a);if(i.length||s.length)for(var l in u)t(e[l],n[l])&&(a[l]=[e[l],n[l]],o++);return Object.keys(a).length?a:o>1}return e!==n&&[e,n]};e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),o=n(20),a=r(o),u=n(19),l=r(u),c=n(18),f=r(c),h=n(1),d=r(h),p=function(t,e){return this._mode="Worker"===e&&WORKER_SUPPORT?new a.default(!0):"raf"===e?new l.default(!0):new f.default(!0),this.m=this._mode.call(t),this};p.prototype={onMessage:function(t){var e=this;return this.m.done(function(n){return t.call(e.m,n.data)}),this},plugin:function(t){return"string"==typeof t&&void 0!==d.default[t]&&void 0!==d.default[t].fnMgr&&(this.m=d.default[t].fnMgr.call(this,this.m)),this},get:function(){return this.m.get()},run:function(t){var e,n=void 0!==t?s.ARRAY_SLICE.call(arguments):[];return n.length?((e=this.m).run.apply(e,i(n)),this):this}},e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return new Tez.FunctionManager(t,"raf").run(e)},i=function(t,e){return new Tez.FunctionManager(t,"Worker").run(e)},s=function(t,e){return new Tez.FunctionManager(t).run(e)};e.CompositeManager=r,e.LogicManager=i,e.CallManager=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){var n="function"==typeof e,i=e&&e.push&&e.slice,s=!i&&"object"===("undefined"==typeof e?"undefined":r(e)),o=!i&&!s&&"number"==typeof e,a={},u=[];return function(r){if(n)return e(r);if(i)return u=e.map(function(e,n){return"number"==typeof e?t[n]+(e-t[n])*r:"function"==typeof e?e(r):void 0});if(s){for(var l in e)"number"==typeof e[l]?a[l]=t[l]+(e[l]-t[l])*r:"function"==typeof e[l]&&(a[l]=e[l](r));return a}return o?t+(e-t)*r:void 0}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(21),s=n(17),o=n(2),a=n(16),u=function(t,e){this._vars=e=e||{},void 0===e.quickRender&&(e.quickRender=!0);this._opt={};return this._node="string"==typeof t?document.querySelector(t):t.length&&t[0].nodeType?t[0]:t,this._vnode=this._node.cloneNode(!0),this._nodeElem=this._vnode,this._quickRender=e.quickRender,this._appendStore=[],this.props={},this._listOfNodes=[],void 0===e.styling&&(e.styling=this._vnode.style.cssText),void 0===e.attrs&&(e.attrs=(0,r.attrs)(this._vnode)),void 0===e.content&&(e.content=this._vnode.innerHTML),this.render()};u.prototype={createElement:function(t){var e=void 0,n=this._appendStore,r=n.length;return n[r]={real:"append",virtual:e=(0,o._makeNode)(t),diff:!1,index:r},e},setProps:function(t){for(var e in t)this.props[e]=t[e];return this},setEvent:function(t,e,n){var r=this,i=function(t){n.call(r,this,t)};return n&&null===t?this._node.addEventListener(e,i):n&&(t=this._node.querySelector(t),t.addEventListener(e,i)),this},createFunction:function(t){return t.call(this),this},render:function(){var t=this._vars,e=this._node,n=this._vnode,o=this._appendStore,a=this._listOfNodes,u=t.attrs,l=(0,r.attrs)(e),c=void 0;if(l!==u){c=JSON.parse(u);for(var f in c)e.setAttribute(f,c[f]);t.attrs=(0,r.attrs)(n)}u=t.styling,l=e.style.cssText,u!==l&&(this._node.style.cssText=u,t.styling=e.style.cssText),u=t.content,l=e.innerHTML;for(var h=0,d=a.length;h<d;h++){var p=o.length;o[p]={virtual:a[h],real:"append",diff:!1,index:p}}if(o.length||l!==u){var v=(0,i._parseString)(u),_=(0,i._parseString)(l);(0,s.replaceChildrenByDiff)(e,n,v,_,o),t.content=n.innerHTML}return this},setNode:function(t){return this._listOfNodes.push(t),this._quickRender?this.render():this},setAttrs:function(t){var e={},n=JSON.parse(this._vars.attrs);for(var r in n)void 0!==n[r]&&(e[r]=n[r]);for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return this._vars.attrs=JSON.stringify(e),this._quickRender?this.render():this},setStyling:function(t){var e=this._vars.styling,n=this._vnode.style;n.cssText=e;for(var r in t)n[r]=t[r];return this._vars.styling=n.cssText,this._quickRender?this.render():this},setContent:function(t){var e=this._vars.content;if(!t)return this._quickRender?this.render():this;t="string"==typeof t?t:t.nodeType?t.outerHTML:t;var n=t.includes("=")?"+"===t.charAt(0)?1:"-"===t.charAt(0)?-1:0:0;if(0===n)e=t;else if(1===n)e+=t.substr(2);else if(n===-1){var r=(0,i._parseString)(t.substr(2))[0],s=(0,a._getItem)(r,this._node);s&&s.matched&&this._appendStore.push({virtual:s.matched,real:"append",remove:!0})}return this._vars.content=e,this._quickRender?this.render():this}},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._prefix=t.prefix||"!/#",this._hashTags=!0,this._changed=!1,this};r.prototype={getHash:function(t){return this._prefix+t},getLocationHash:function(){return window.location.hash.substr(1)},getChanged:function(){return this._changed},setHash:function(t){return this.getHash(t)!==this.getLocationHash()?(window.location.hash=this.getHash(t),this._changed=!0):this._changed=!1,this},set:function(t){return this.setHash(t)}},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),i=n(0),s=n(14),o=function(t){return this.events={},t=(0,s.extend)(t||{},{lets:{},lets2:{},_lets:{},tweenable:{},state:0,render:null}),t.setInitLets&&t.setInitLets.call(t),t.setTweenableLets&&t.setTweenableLets.call(t),this.mountedNodes=[],this.opts=t,this.lets=t.lets,this.lets2=t.lets2,this};o.prototype={plugin:function(t){return"string"==typeof t&&void 0!==Tez.PluginManager[t]&&void 0!==Tez.PluginManager[t].tez&&Tez.PluginManager[t].tez.call(this,this.lets,this.opts),this},apply:function(){var t=this,e=this.opts,n=e.lets,i=e.lets2,s=e._lets,o=.001,a=1;return this.mountedNodes.map(function(u,l){var c=new Tez.DOMManager(u),f=Date.now(),h=e.render,d=e.tweenable,p=d.roundLets,v=d.limitLetsDecimals,_=d&&("function"==typeof d.startTime?d.startTime.call(t,u,l):d.startTime)||0,g=d&&("function"==typeof d.duration?d.duration.call(t,u,l):d.duration)||1e3,y=Tez.TweenManager(n,i),m=void 0;d?(m=Tez.DiffManager(n,i),c.composite(function(n){if(!m)return n.state;var i=Math.max(0,Math.min((Date.now()-f-_)/g,1)),c=i;d.curve&&(i=d.curve(c)),s=y(i);for(var M in s)p&&p[M]?s[M]="number"==typeof s[M]?0|s[M]:void 0!==s[M]&&s[M].push&&s[M].slice?s[M].map(Math.round):s[M]:v&&v[M]&&!function(){var t=(0,r.getDecPow)(v[M]);s[M]="number"==typeof s[M]?(s[M]*t|0)/t:void 0!==s[M]&&s[M].push&&s[M].slice?s[M].map(function(e){return(e*t|0)/t}):s[M]}();return c>o&&h.call(t,u,s,e,l,i),c<a?n.state:0}).compositeArg({state:e.state||"RUNNING"})):e.initState&&h.call(t,u,n,e,l,elapsed)}),this},render:function(t,e){var n=this,r=this.opts;t=t||r.lets;var i=Tez.DiffManager(r.lets,t);return i?(this.mountedNodes.map(function(e,i){r.render.call(n,e,t||r.lets,r,i)}),e||(r.lets=t),this):this},mountNode:function(t){return t=i.ARRAY_SLICE.call("string"==typeof t?document.querySelectorAll(t):t.length?t:[t]),this.mountedNodes=this.mountedNodes.concat(t),this},nodeOn:function(t,e){var n=this;return this.mountedNodes.map(function(r){n.node=r,r.addEventListener(t,function(t){e.call(n,t)})}),this},nodeOff:function(t,e){var n=this;return this.mountedNodes.map(function(r){n.node=r,r.removeEventListener(t,function(t){e.call(n,t)})}),this},on:function(t,e,n){return this.events[t]||(this.events[t]=[]),this.events[t][n?"unshift":"push"](e),this},off:function(t,e){this.events[t].length||delete this.events[t];for(var n=0;n<this.events[t].length;)this.events[t][n]===e?this.events[t].splice(n,1):n++;return this},dispatch:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.events[t]){var r=this.opts;return this.events[t].map(function(t){t.call(e,(0,s.extend)(n,{opts:r,timestamp:Date.now(),type:t,target:e}))}),this}}},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.hash=new Tez.hashURL({prefix:t.prefixURL}),this.async=void 0===t.async||t.async,this.xhr=new Tez.XHR,this.loadRealLink=void 0===t.loadRealLink||t.loadRealLink,this};r.prototype={request:function(t,e,n){return this.hash.set(t),this.loadRealLink&&(this.xhr.request(e||"GET",t,this.async),this.xhr.withCredentials(n),this.xhr.send()),this},then:function(t){if(this.loadRealLink&&this.hash.getChanged()){var e=this.xhr,n=this.hash,r=void 0;this.xhr.on("load",r=function(){var i=ARRAY_SLICE.call(arguments);n.getChanged()&&(t.apply(this,i),e.off("load",r))})}else this.hash.getChanged()&&t.call(this,{onlyURLChanged:!0});return this}},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._xhr=new XMLHttpRequest;var e=this;return t.load&&e.on("load",t.load),t.url&&(e.request(t.method||"GET",t.url,t.async),e.send(t.params)),t.events&&t.events.map(function(t){e.on(t.name,t.callback)}),this};r.prototype={on:function(t,e){return this._xhr.addEventListener(t,e),this},withCredentials:function(t){return this._xhr.withCredentials=void 0!==t&&t,this},off:function(t,e){return this._xhr.removeEventListener(t,e),this},request:function(t,e,n){return this._xhr.open(t,e,n),this},send:function(t){return t?this._xhr.send(t):this._xhr.send(),this}},e.default=r},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)void 0===t[n]&&void 0!==e[n]&&(t[n]=e[n]);return t}Object.defineProperty(e,"__esModule",{value:!0}),e.extend=r},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return Math.pow(10,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getDecPow=r},function(t,e,n){"use strict";function r(t,e){if(t.isEqualNode(e))return t;var n=i.ARRAY_SLICE.call(e.children),s=0,o=void 0,a=void 0,u=void 0;if(n.length)for(;s<n.length;){if(n[s]&&n[s].isEqualNode(t)){o=n[s],a=e;break}if(u=r(t,a=n[s])){o=u;break}s++}else t.isEqualNode(e)&&(o=e);return o?{matched:o,matchParent:a}:null}Object.defineProperty(e,"__esModule",{value:!0}),e._getItem=r;var i=n(0)},function(t,e,n){"use strict";function r(t,e,n,s,o){var a=(o||[]).concat([]),u=(0,i.attrs)(t),l=(0,i.attrs)(e);o&&o.splice(0,o.length);var c=0,f=Math.max(n.length,s.length),h=void 0,d=void 0;if(f)for(;c<f;)n[c]&&!s[c]?a.push({index:c,diff:!1,virtual:n[c],real:"append"}):s[c]&&!n[c]?a.push({index:c,diff:!1,virtual:"append",real:s[c]}):n[c]&&n[c].isEqualNode(s[c])&&a.push({index:c,diff:!0,virtual:n[c],real:s[c]}),c++;if(a.length){var p=0;for(d=a.length;p<d;){h=a[p],c=h.index;var v=void 0,_=c+1,g=h.virtual,y=h.real;h.diff||"append"!==y?h.diff||"append"!==g?h.diff&&(v=y,r(y,g,g.children,y.children)):y.remove():(v=s[_],v?t.insertBefore(g,v):t.appendChild(g)),p++}}else if(t.innerHTML!==e.innerHTML)t.innerHTML=e.innerHTML;else if(t.style.cssText!==e.style.cssText)t.style.cssText=e.style.cssText;else if(t.tagName!==e.tagName)t.parentNode.replaceChild(e,t);else if(u!==l){var m=JSON.parse(t);for(var M in m)t.setAttribute(M,m[M])}}Object.defineProperty(e,"__esModule",{value:!0}),e.replaceChildrenByDiff=r;var i=n(3)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),s=function(){return this._fn=null,this};s.prototype={call:function(t){return this._fn=t,this},get:function(){return this._val},done:function(t){var e=this._fn,n=this;return this._fn=function(){var r=i.ARRAY_SLICE.call(arguments);return t.call(n,{data:n._val=e.apply(n,r)})},this},run:function(t){var e=void 0!==t?i.ARRAY_SLICE.call(arguments):[];return this._val=e.length?this._fn.apply(this,r(e)):this._fn.call(this),this},close:function(){return this._fn=null,this}};e.default=s},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),s=[],o=function(t){t.requestAnimationFrame=t.requestAnimationFrame||function(e){return t.setTimeout(e,50/3)},t.cancelAnimationFrame=t.cancelAnimationFrame||function(e){return t.clearTimeout(e)};var e="RUNNING",n=void 0;return n=function i(){for(var o=0;o<s.length;){var a=s[o];a.loop?(a._val=a.args?a.render.apply(a,r(a.args)):a.render.call(a),a.loop=a._val===e):!a.run||a.rendered||a._destroy?a.run&&s.splice(o,1):(a.args?a._val=a.render.apply(a,r(a.args)):a._val=a.render.call(a),a._val===e&&(a.loop=!0),a.rendered=!0),o++}s.length?n=t.requestAnimationFrame(i):t.cancelAnimationFrame(n)},{add:function(e){var r={_destroy:!1,message:function(t){var e=this.render,n=this;this.self;this.render=function(){return n._val=t.call(n,{data:n._val=e.apply(n,i.ARRAY_SLICE.call(arguments))})}},get:function(){return this._val||this.args&&this.args[0]},destroy:function(){this._destroy=!0},args:null,rendered:!1,render:e,run:!1};return s.push(r),t.requestAnimationFrame(n),r},destroy:function(t){var e=[].concat(s).filter(function(e){return e.render===t});if(e){var n=s.indexOf(e[0]);n>-1&&s.splice(n,1)}}}}(i.ROOT),a=function(){return this._raf=null,this};a.prototype={call:function(t){return this._raf=o.add(t),this._raf.self=this,this._val=this._raf._val,this},get:function(){return this._raf.get()},done:function(t){return this._raf.message(t),this._val=this._raf._val,this},run:function(){return this._raf.args=i.ARRAY_SLICE.call(arguments),this._raf.run=!0,this._val=this._raf._val,this},close:function(){return o.destroy(this._raf),this}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(t){return this._force=t,this._worker=null,this._id=0,this};if(r.WORKER_SUPPORT){i.prototype={createBlob:function(t){return new Worker(window.URL.createObjectURL(new Blob(["self.onmessage = function(wrk) {var f = "+r.FUNC_STR.call(t)+";self.postMessage(f.apply(this, wrk.data));};"],{type:"text/javascript"})))},call:function(t){return this._id>=r.MAX_WORKER_THREAD&&this._force&&r.LIST_WORKER_THREAD.shift().close(),this._fnc=t,this._worker=this.createBlob(t),this._id++,r.LIST_WORKER_THREAD.push(this),this},get:function(){return this._val},done:function(t){var e=this;this._worker.addEventListener("message",function(n){void 0!==n.data&&(e._val=t.call(e._worker,{data:n.data}))})},run:function(){var t=r.ARRAY_SLICE.call(arguments);return this._worker.postMessage(t),this._val=t[0],this},close:function(){return this._worker&&this._worker.destroy(),this}}}e.default=i},function(t,e,n){"use strict";function r(t){return t?(s.innerHTML=t,i.ARRAY_SLICE.call(s.children)):[]}Object.defineProperty(e,"__esModule",{value:!0}),e._parseString=r;var i=n(0),s=document.createElement("div")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.tezClass=e.URLComponent=e.hashURL=e.XHR=e.domClass=e.DOMManager=e.TweenManager=e.CallManager=e.LogicManager=e.CompositeManager=e.DiffManager=e.FunctionManager=e.PluginManager=e.createElement=void 0;var i=n(1),s=n(6),o=r(s),a=n(5),u=r(a),l=n(7),c=n(8),f=r(c),h=n(4),d=r(h),p=n(9),v=r(p),_=n(13),g=r(_),y=n(10),m=r(y),M=n(2),R=n(12),b=r(R),T=n(11),L=r(T);e.createElement=M.createElement,e.PluginManager=i.PluginManager,e.FunctionManager=o.default,e.DiffManager=u.default,e.CompositeManager=l.CompositeManager,e.LogicManager=l.LogicManager,e.CallManager=l.CallManager,e.TweenManager=f.default,e.DOMManager=d.default,e.domClass=v.default,e.XHR=g.default,e.hashURL=m.default,e.URLComponent=b.default,e.tezClass=L.default}])});