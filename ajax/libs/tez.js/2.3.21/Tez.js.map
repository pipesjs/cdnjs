{"version":3,"sources":["webpack:///webpack/bootstrap 797f5bb49223d29bf623","webpack:///./src/index.js"],"names":["root","factory","define","call","module","exports","Tez","undefined","ROOT","MAX_WORKER_THREAD","CURRENT_WORKER_THREAD","LIST_WORKER_THREAD","ARRAY_SLICE","slice","FUNC_STR","Function","toString","WORKER_SUPPORT","Worker","setWorker","force","_force","_worker","_id","p","prototype","createBlob","fn","window","URL","createObjectURL","Blob","type","shift","close","_fnc","push","get","_val","done","curr","addEventListener","e","data","run","args","arguments","postMessage","destroy","console","log","RAF_CALLS","RAF_UPDATE","win","requestAnimationFrame","setTimeout","cancelAnimationFrame","clearTimeout","_run","_tick","update","i","length","raf","loop","render","rendered","_destroy","splice","add","item","_item","message","last","old","self","apply","match","concat","filter","item2","indexOf","setRAF","_raf","setFn","_fn","_oldFn","a","FunctionManager","fnc","mode","_mode","m","PluginManager","extend","b","onMessage","c","plugin","plug","fnMgr","CompositeManager","draw","LogicManager","CallManager","DOMManager","node","TweenManager","_isFunc","_isArray","_isObj","_isNum","_isStr","_obj","_arr","_num","t","map","v2","DiffManager","_rdh","nodeType","_keys","Object","keys","_keysA","_diff","_len","_extract","getNode","logic","_logic","logicArg","arg","logicMsg","getLogic","composite","_composite","bind","compositeArg","compositeMsg","getComposite","attrs","_a","attributes","atr","len","name","value","JSON","stringify","_getItem","_giw","parent","isEqualNode","childs","children","_match","_parentWhile","_matchInsideWhile","matched","matchParent","replaceChildrenByDiff","_rchd","_attrs","_vattrs","_childs","_childs2","substore","_store","_attrs1","_attrs2","_max","Math","max","pi","ni","_tmp","index","diff","virtual","real","vr","rr","insertBefore","appendChild","remove","innerHTML","style","cssText","tagName","parentNode","replaceChild","parse","setAttribute","_tmpDiv","document","createElement","_parseString","str","_makeNode","opts","tag","css","content","attr","_tag","XHR","_xhr","XMLHttpRequest","xhr","load","on","url","request","method","async","send","params","events","event","callback","ev","withCredentials","state","off","removeEventListener","open","hashURL","_prefix","prefix","_hashTags","_changed","getHash","hash","getLocationHash","location","substr","getChanged","setHash","set","URLComponent","prefixURL","loadRealLink","then","__self__","__self__hash__","__eventFunc__","onlyURLChanged","domClass","vars","_vars","quickRender","_opts","_opt","_node","querySelector","_vnode","cloneNode","_nodeElem","_quickRender","_appendStore","props","_listOfNodes","styling","appendStore","setProps","setEvent","find","eventName","eventFunc","createFunction","vnode","append","idx","setNode","setAttrs","nattr","_attr","setStyling","setContent","contents","outerHTML","rel","includes","charAt","_getParsed","_find","tezClass","_self","lets","lets2","_lets","tweenable","setInitLets","setTweenableLets","mountedNodes","getDecPow","d","pow","tez","_minVal","_maxVal","dom","now","Date","round","roundLets","limitDec","limitLetsDecimals","start","startTime","dur","duration","tween","elapsed","min","timeElapsed","curve","dv","v","initState","leaveLet","dm","mountNode","querySelectorAll","nodeOn","nodeOff","unshift","dispatch","custom","timestamp","target"],"mappings":"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","file":"Tez.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 797f5bb49223d29bf623","/*!\r\n * @name Tez.js\r\n * @description Lightweight, Flexible, Fast, Memory and Power Effecient Animation, Function and Class Manager\r\n * @author @dalisoft (https://github.com/dalisoft/tez)\r\n * @license Apache 2.0\r\n */\r\n\r\n(((root, factory) => {\r\n\t\tif (typeof define === \"function\") {\r\n\t\t\tdefine([], () => factory.call(root));\r\n\t\t} else if (typeof module !== \"undefined\") {\r\n\t\t\tmodule.exports = factory.call(root);\r\n\t\t} else {\r\n\t\t\troot.Tez = factory.call(root);\r\n\t\t}\r\n\t})\r\n\t(this, function (undefined) {\r\n\t\tvar Tez = {};\r\n\r\n\t\t/*\r\n\t\t@constructor Worker\r\n\t\t@description Use worker\r\n\t\t */\r\n\t\tlet ROOT = this;\r\n\r\n\t\tlet MAX_WORKER_THREAD = 2;\r\n\t\tlet CURRENT_WORKER_THREAD = 0;\r\n\t\tlet LIST_WORKER_THREAD = [];\r\n\t\tlet ARRAY_SLICE = [].slice;\r\n\t\tlet FUNC_STR = Function.toString;\r\n\t\tlet WORKER_SUPPORT = ROOT.Worker !== undefined;\r\n\r\n\t\tconst setWorker = function (force) {\r\n\t\t\tthis._force = force;\r\n\t\t\tthis._worker = null;\r\n\t\t\tthis._id = 0;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tif (WORKER_SUPPORT) {\r\n\t\t\tvar p = setWorker.prototype = {\r\n\t\t\t\tcreateBlob(fn) {\r\n\t\t\t\t\treturn new Worker(\r\n\t\t\t\t\t\twindow.URL.createObjectURL(\r\n\t\t\t\t\t\t\tnew Blob([\r\n`self.onmessage = function(wrk) {var f = ${FUNC_STR.call(fn)};self.postMessage(f.apply(this, wrk.data));};`\r\n\t\t\t\t\t\t\t\t], {\r\n\t\t\t\t\t\t\t\ttype: 'text/javascript'\r\n\t\t\t\t\t\t\t})))\r\n\t\t\t\t},\r\n\t\t\t\tcall(fn) {\r\n\t\t\t\t\tif (this._id >= MAX_WORKER_THREAD && this._force) {\r\n\t\t\t\t\t\tLIST_WORKER_THREAD.shift()\r\n\t\t\t\t\t\t.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._fnc = fn;\r\n\t\t\t\t\tthis._worker = this.createBlob(fn);\r\n\t\t\t\t\tthis._id++;\r\n\t\t\t\t\tLIST_WORKER_THREAD.push(this);\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn this._val;\r\n\t\t\t\t},\r\n\t\t\t\tdone(fn) {\r\n\t\t\t\t\tconst curr = this;\r\n\t\t\t\t\tthis._worker.addEventListener('message', e => {\r\n\t\t\t\t\t\tif (e.data === undefined)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tcurr._val = fn.call(curr._worker, {\r\n\t\t\t\t\t\t\t\tdata: e.data\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\trun() {\r\n\t\t\t\t\tconst args = ARRAY_SLICE.call(arguments);\r\n\t\t\t\t\tthis._worker.postMessage(args);\r\n\t\t\t\t\tthis._val = args[0];\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t\tclose() {\r\n\t\t\t\t\tthis._worker && this._worker.destroy();\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tconsole.log('Tez [FunctionManager]: Worker isn\\'t supported');\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t@constructor RAF\r\n\t\t@description Use RAF\r\n\t\t */\r\n\t\tconst RAF_CALLS = [];\r\n\r\n\t\tconst RAF_UPDATE = ((win => {\r\n\t\t\t\twin.requestAnimationFrame = win.requestAnimationFrame || (fn => win.setTimeout(fn, 50 / 3));\r\n\t\t\t\twin.cancelAnimationFrame = win.cancelAnimationFrame || (fn => win.clearTimeout(fn));\r\n\t\t\t\tconst _run = \"RUNNING\";\r\n\t\t\t\tlet _tick;\r\n\t\t\t\t_tick = function update() {\r\n\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\twhile (i < RAF_CALLS.length) {\r\n\t\t\t\t\t\tconst raf = RAF_CALLS[i];\r\n\t\t\t\t\t\tif (raf.loop) {\r\n\t\t\t\t\t\t\traf._val = raf.args ? raf.render(...raf.args) : raf.render.call(raf);\r\n\t\t\t\t\t\t\traf.loop = raf._val === _run;\r\n\t\t\t\t\t\t} else if (raf.run && (!raf.rendered && !raf._destroy)) {\r\n\t\t\t\t\t\t\tif (raf.args) {\r\n\t\t\t\t\t\t\t\traf._val = raf.render(...raf.args);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\traf._val = raf.render.call(raf);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (raf._val === _run) {\r\n\t\t\t\t\t\t\t\traf.loop = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\traf.rendered = true;\r\n\t\t\t\t\t\t} else if (raf.run) {\r\n\t\t\t\t\t\t\tRAF_CALLS.splice(i, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (RAF_CALLS.length) {\r\n\t\t\t\t\t\t_tick = win.requestAnimationFrame(update);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twin.cancelAnimationFrame(_tick);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\treturn {\r\n\t\t\t\t\tadd(item) {\r\n\t\t\t\t\t\tconst _item = {\r\n\t\t\t\t\t\t\t_destroy: false,\r\n\t\t\t\t\t\t\tmessage(last) {\r\n\t\t\t\t\t\t\t\tconst old = this.render,\r\n\t\t\t\t\t\t\t\tcurr = this,\r\n\t\t\t\t\t\t\t\tself = this.self;\r\n\t\t\t\t\t\t\t\tthis.render = function () {\r\n\t\t\t\t\t\t\t\t\treturn (curr._val = last.call(curr, {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata: (curr._val = old.apply(curr, ARRAY_SLICE.call(arguments)))\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tget() {\r\n\t\t\t\t\t\t\t\treturn this._val || this.args && this.args[0];\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdestroy() {\r\n\t\t\t\t\t\t\t\tthis._destroy = true;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\targs: null,\r\n\t\t\t\t\t\t\trendered: false,\r\n\t\t\t\t\t\t\trender: item,\r\n\t\t\t\t\t\t\trun: false\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tRAF_CALLS.push(_item);\r\n\t\t\t\t\t\twin.requestAnimationFrame(_tick);\r\n\t\t\t\t\t\treturn _item;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdestroy(item) {\r\n\t\t\t\t\t\tconst match = [].concat(RAF_CALLS)\r\n\t\t\t\t\t\t.filter(item2 => item2.render === item);\r\n\t\t\t\t\t\tif (!match)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tconst i = RAF_CALLS.indexOf(match[0]);\r\n\t\t\t\t\t\tif (i > -1) {\r\n\t\t\t\t\t\t\tRAF_CALLS.splice(i, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t\t(this));\r\n\r\n\t\tconst setRAF = function () {\r\n\t\t\tthis._raf = null;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tvar p = setRAF.prototype = {\r\n\t\t\tcall(fn) {\r\n\t\t\t\tthis._raf = RAF_UPDATE.add(fn);\r\n\t\t\t\tthis._raf.self = this;\r\n\t\t\t\tthis._val = this._raf._val;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tget() {\r\n\t\t\t\treturn this._raf.get();\r\n\t\t\t},\r\n\t\t\tdone(fn) {\r\n\t\t\t\tthis._raf.message(fn);\r\n\t\t\t\tthis._val = this._raf._val;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\trun() {\r\n\t\t\t\tthis._raf.args = ARRAY_SLICE.call(arguments);\r\n\t\t\t\tthis._raf.run = true;\r\n\t\t\t\tthis._val = this._raf._val;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tRAF_UPDATE.destroy(this._raf);\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst setFn = function () {\r\n\t\t\tthis._fn = null;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tvar p = setFn.prototype = {\r\n\t\t\tcall(fn) {\r\n\t\t\t\tthis._fn = fn;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tget() {\r\n\t\t\t\treturn this._val;\r\n\t\t\t},\r\n\t\t\tdone(fn) {\r\n\t\t\t\tconst _oldFn = this._fn;\r\n\t\t\t\tconst curr = this;\r\n\t\t\t\tthis._fn = function () {\r\n\t\t\t\t\tconst args = ARRAY_SLICE.call(arguments);\r\n\t\t\t\t\treturn fn.call(curr, {\r\n\t\t\t\t\t\tdata: (curr._val = _oldFn.apply(curr, args))\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\trun(a) {\r\n\t\t\t\tconst args = a !== undefined ? ARRAY_SLICE.call(arguments) : [];\r\n\t\t\t\tthis._val = args.length ? this._fn(...args) : this._fn.call(this);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis._fn = null;\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/*\r\n\t\t@constructor Tez\r\n\t\t@description Main function\r\n\t\t */\r\n\t\tvar Tez = {\r\n\t\t\tFunctionManager(fnc, mode) {\r\n\t\t\t\tthis._mode = (mode === \"Worker\" && WORKER_SUPPORT) ? new setWorker(true) : mode === \"raf\" ? new setRAF(true) : new setFn(true);\r\n\t\t\t\tthis.m = this._mode.call(fnc);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tPluginManager: {},\r\n\t\t\textend(a = {}, b = {}) {\r\n\t\t\t\tfor (const p in b) {\r\n\t\t\t\t\tif (a[p] === undefined && b[p] !== undefined) {\r\n\t\t\t\t\t\ta[p] = b[p];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn a;\r\n\t\t\t}\r\n\t\t};\r\n\t\tTez.FunctionManager.prototype = {\r\n\t\t\tonMessage(fn) {\r\n\t\t\t\tconst c = this;\r\n\t\t\t\tthis.m.done(e => fn.call(c.m, e.data));\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tplugin(plug) {\r\n\t\t\t\tif (typeof plug === \"string\" && Tez.PluginManager[plug] !== undefined && Tez.PluginManager[plug].fnMgr !== undefined) {\r\n\t\t\t\t\tthis.m = Tez.PluginManager[plug].fnMgr.call(this, this.m);\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tget() {\r\n\t\t\t\treturn this.m.get();\r\n\t\t\t},\r\n\t\t\trun(a) {\r\n\t\t\t\tconst args = a !== undefined ? ARRAY_SLICE.call(arguments) : [];\r\n\t\t\t\tif (!args.length)\r\n\t\t\t\t\treturn this;\r\n\t\t\t\tthis.m.run(...args);\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\t\tTez.CompositeManager = (draw, args) => new Tez.FunctionManager(draw, \"raf\")\r\n\t\t.run(args);\r\n\t\tTez.LogicManager = (fn, args) => new Tez.FunctionManager(fn, \"Worker\")\r\n\t\t.run(args);\r\n\t\tTez.CallManager = (fn, args) => new Tez.FunctionManager(fn)\r\n\t\t.run(args);\r\n\t\tTez.DOMManager = function (node) {\r\n\t\t\tthis.node = node;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tTez.TweenManager = (a, b) => {\r\n\t\t\tconst _isFunc = typeof(b) === \"function\";\r\n\t\t\tconst _isArray = b && b.push && b.slice;\r\n\t\t\tconst _isObj = (!_isArray && typeof(b) === \"object\");\r\n\t\t\tconst _isNum = (!_isArray && !_isObj) && typeof(b) === \"number\";\r\n\t\t\tconst _isStr = !_isNum && typeof(b) === \"string\";\r\n\t\t\tconst _obj = {};\r\n\t\t\tlet _arr = [];\r\n\t\t\tconst _num = 0;\r\n\t\t\treturn t => {\r\n\t\t\t\tif (_isFunc) {\r\n\t\t\t\t\treturn b(t);\r\n\t\t\t\t} else if (_isArray) {\r\n\t\t\t\t\treturn (_arr = b.map((v2, i) => {\r\n\t\t\t\t\t\t\t\tif (typeof v2 === \"number\") {\r\n\t\t\t\t\t\t\t\t\treturn a[i] + (v2 - a[i]) * t;\r\n\t\t\t\t\t\t\t\t} else if (typeof v2 === \"function\") {\r\n\t\t\t\t\t\t\t\t\treturn v2(t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t} else if (_isObj) {\r\n\t\t\t\t\tfor (const p in b) {\r\n\t\t\t\t\t\tif (typeof b[p] === \"number\") {\r\n\t\t\t\t\t\t\t_obj[p] = a[p] + (b[p] - a[p]) * t;\r\n\t\t\t\t\t\t} else if (typeof b[p] === \"function\") {\r\n\t\t\t\t\t\t\t_obj[p] = b[p](t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn _obj;\r\n\t\t\t\t} else if (_isNum) {\r\n\t\t\t\t\treturn a + (b - a) * t;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tTez.DiffManager = function _rdh(a, b) {\r\n\t\t\tif ((a && b) && (!a.nodeType && !b.nodeType) && typeof a === \"object\" && typeof b === \"object\") {\r\n\t\t\t\tconst _keys = (b && b.push && b.slice ? b : b && Object.keys(b)) || [];\r\n\t\t\t\tconst _keysA = (a && a.push && a.slice ? a : a && Object.keys(a)) || [];\r\n\t\t\t\tlet i = 1;\r\n\t\t\t\tconst _diff = {};\r\n\t\t\t\tconst _len = _keys && _keys.length;\r\n\t\t\t\tconst _extract = ((a && _keys.length || 0) > (b && _keysA.length || 0) ? b : a) || _diff;\r\n\t\t\t\tif (_keys.length || _keysA.length) {\r\n\t\t\t\t\tfor (const p in _extract) {\r\n\t\t\t\t\t\tif (_rdh(a[p], b[p])) {\r\n\t\t\t\t\t\t\t_diff[p] = [a[p], b[p]];\r\n\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn Object.keys(_diff)\r\n\t\t\t\t.length ? _diff : i > 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn a !== b && [a, b];\r\n\t\t\t}\r\n\t\t};\r\n\t\tTez.DOMManager.prototype = {\r\n\t\t\tgetNode() {\r\n\t\t\t\treturn this.node;\r\n\t\t\t},\r\n\t\t\tlogic(fn) {\r\n\t\t\t\tthis._logic = new Tez.LogicManager(fn);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tlogicArg(arg) {\r\n\t\t\t\tthis._logic.run.call(this._logic, arg);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tlogicMsg(fn) {\r\n\t\t\t\tthis._logic && this._logic.onMessage(fn.call(this, this.node));\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tgetLogic() {\r\n\t\t\t\treturn this._logic;\r\n\t\t\t},\r\n\t\t\tcomposite(fn) {\r\n\t\t\t\tthis._composite = new Tez.CompositeManager(fn.bind(this));\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tcompositeArg(arg) {\r\n\t\t\t\tthis._composite.run.call(this._composite, arg);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tcompositeMsg(fn) {\r\n\t\t\t\tthis._composite && this._composite.onMessage(fn.call(this, this.node));\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tgetComposite() {\r\n\t\t\t\treturn this._composite;\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst attrs = a => {\r\n\t\t\tif (!a)\r\n\t\t\t\treturn {};\r\n\t\t\tconst _a = {};\r\n\t\t\tconst attributes = a.attributes;\r\n\t\t\tfor (let i = 0, atr, len = attributes.length; i < len; i++) {\r\n\t\t\t\tatr = attributes[i];\r\n\t\t\t\t_a[atr.name] = atr.value;\r\n\t\t\t}\r\n\t\t\treturn JSON.stringify(_a);\r\n\t\t};\r\n\t\tconst _getItem = function _giw(item, parent) {\r\n\t\t\tif (item.isEqualNode(parent)) {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t\tconst childs = ARRAY_SLICE.call(parent.children);\r\n\t\t\tlet i = 0;\r\n\t\t\tlet _match;\r\n\t\t\tlet _parentWhile;\r\n\t\t\tlet _matchInsideWhile;\r\n\t\t\tif (childs.length) {\r\n\t\t\t\twhile (i < childs.length) {\r\n\t\t\t\t\tif (childs[i] && childs[i].isEqualNode(item)) {\r\n\t\t\t\t\t\t_match = childs[i];\r\n\t\t\t\t\t\t_parentWhile = parent;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} else if (_matchInsideWhile = _giw(item, _parentWhile = childs[i])) {\r\n\t\t\t\t\t\t_match = _matchInsideWhile;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++\r\n\t\t\t\t}\r\n\t\t\t} else if (item.isEqualNode(parent)) {\r\n\t\t\t\t_match = parent;\r\n\t\t\t}\r\n\t\t\tif (_match) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tmatched: _match,\r\n\t\t\t\t\tmatchParent: _parentWhile\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\tconst replaceChildrenByDiff = function _rchd(_attrs, _vattrs, _childs, _childs2, substore) {\r\n\t\t\tconst _store = (substore || []).concat([]);\r\n\t\t\tconst _attrs1 = attrs(_attrs);\r\n\t\t\tconst _attrs2 = attrs(_vattrs);\r\n\t\t\tif (substore) {\r\n\t\t\t\tsubstore.splice(0, substore.length);\r\n\t\t\t}\r\n\t\t\tlet i = 0;\r\n\t\t\tconst _max = Math.max(_childs.length, _childs2.length);\r\n\t\t\tlet item;\r\n\t\t\tvar pi;\r\n\t\t\tvar ni;\r\n\t\t\tvar _tmp;\r\n\t\t\tlet len;\r\n\t\t\tif (_max) {\r\n\t\t\t\twhile (i < _max) {\r\n\t\t\t\t\tif (_childs[i] && !_childs2[i]) {\r\n\t\t\t\t\t\t_store.push({\r\n\t\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\t\tdiff: false,\r\n\t\t\t\t\t\t\tvirtual: _childs[i],\r\n\t\t\t\t\t\t\treal: 'append'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (_childs2[i] && !_childs[i]) {\r\n\t\t\t\t\t\t_store.push({\r\n\t\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\t\tdiff: false,\r\n\t\t\t\t\t\t\tvirtual: 'append',\r\n\t\t\t\t\t\t\treal: _childs2[i]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (_childs[i] && _childs[i].isEqualNode(_childs2[i])) {\r\n\t\t\t\t\t\t_store.push({\r\n\t\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\t\tdiff: true,\r\n\t\t\t\t\t\t\tvirtual: _childs[i],\r\n\t\t\t\t\t\t\treal: _childs2[i]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (_store.length) {\r\n\t\t\t\tlet a = 0;\r\n\t\t\t\tlen = _store.length;\r\n\t\t\t\twhile (a < len) {\r\n\t\t\t\t\titem = _store[a],\r\n\t\t\t\t\ti = item.index;\r\n\t\t\t\t\tlet _tmp;\r\n\t\t\t\t\tconst pi = i - 1;\r\n\t\t\t\t\tconst ni = i + 1;\r\n\t\t\t\t\tconst vr = item.virtual;\r\n\t\t\t\t\tconst rr = item.real;\r\n\t\t\t\t\tif (!item.diff && rr === 'append') {\r\n\t\t\t\t\t\t_tmp = _childs2[ni];\r\n\t\t\t\t\t\tif (_tmp) {\r\n\t\t\t\t\t\t\t_attrs.insertBefore(vr, _tmp);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_attrs.appendChild(vr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (!item.diff && vr === 'append') {\r\n\t\t\t\t\t\trr.remove();\r\n\t\t\t\t\t} else if (item.diff) {\r\n\t\t\t\t\t\t_tmp = rr;\r\n\t\t\t\t\t\t_rchd(rr, vr, vr.children, rr.children);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ta++;\r\n\t\t\t\t}\r\n\t\t\t} else if (_attrs.innerHTML !== _vattrs.innerHTML) {\r\n\t\t\t\t_attrs.innerHTML = _vattrs.innerHTML;\r\n\t\t\t} else if (_attrs.style.cssText !== _vattrs.style.cssText) {\r\n\t\t\t\t_attrs.style.cssText = _vattrs.style.cssText;\r\n\t\t\t} else if (_attrs.tagName !== _vattrs.tagName) {\r\n\t\t\t\t_attrs.parentNode.replaceChild(_vattrs, _attrs);\r\n\t\t\t} else if (_attrs1 !== _attrs2) {\r\n\t\t\t\tconst _diff = JSON.parse(_attrs);\r\n\t\t\t\tfor (const p in _diff) {\r\n\t\t\t\t\t_attrs.setAttribute(p, _diff[p]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst _tmpDiv = document.createElement(\"div\");\r\n\t\tconst _parseString = str => {\r\n\t\t\tif (!str) {\r\n\t\t\t\treturn [];\r\n\t\t\t};\r\n\t\t\t_tmpDiv.innerHTML = str;\r\n\t\t\treturn ARRAY_SLICE.call(_tmpDiv.children);\r\n\t\t};\r\n\t\tconst _makeNode = opts => {\r\n\t\t\tif (!opts || !opts.tag)\r\n\t\t\t\treturn;\r\n\t\t\tconst {\r\n\t\t\t\ttag,\r\n\t\t\t\tcss,\r\n\t\t\t\tcontent,\r\n\t\t\t\tattr\r\n\t\t\t} = opts;\r\n\t\t\tconst _tag = document.createElement(tag);\r\n\t\t\tif (css) {\r\n\t\t\t\t_tag.style.cssText = css;\r\n\t\t\t}\r\n\t\t\tif (content) {\r\n\t\t\t\t_tag.innerHTML = content;\r\n\t\t\t}\r\n\t\t\tif (attr) {\r\n\t\t\t\tfor (let p in attr) {\r\n\t\t\t\t\t_tag.setAttribute(p, attr[p]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn _tag;\r\n\t\t};\r\n\t\tTez.createElement = _makeNode;\r\n\r\n\t\tvar p = Tez.XHR = function (opts = {}) {\r\n\t\t\tthis._xhr = new XMLHttpRequest();\r\n\t\t\tconst xhr = this;\r\n\t\t\tif (opts.load) {\r\n\t\t\t\txhr.on('load', opts.load);\r\n\t\t\t}\r\n\t\t\tif (opts.url) {\r\n\t\t\t\txhr.request(opts.method || \"GET\", opts.url, opts.async);\r\n\t\t\t\txhr.send(opts.params);\r\n\t\t\t}\r\n\t\t\tif (opts.events) {\r\n\t\t\t\topts.events.map(event => {\r\n\t\t\t\t\txhr.on(event.name, event.callback);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tp.prototype = {\r\n\t\t\ton(ev, fn) {\r\n\t\t\t\tthis._xhr.addEventListener(ev, fn);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\twithCredentials(state) {\r\n\t\t\t\tthis._xhr.withCredentials = state !== undefined ? state : false;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\toff(ev, fn) {\r\n\t\t\t\tthis._xhr.removeEventListener(ev, fn);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\trequest(method, url, async) {\r\n\t\t\t\tthis._xhr.open(method, url, async);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tsend(params) {\r\n\t\t\t\tif (params) {\r\n\t\t\t\t\tthis._xhr.send(params);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._xhr.send();\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\t\tp = Tez.hashURL = function (opts = {}) {\r\n\t\t\tthis._prefix = opts.prefix || \"!/#\";\r\n\t\t\tthis._hashTags = true;\r\n\t\t\tthis._changed = false;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tp.prototype = {\r\n\t\t\tgetHash(hash) {\r\n\t\t\t\treturn this._prefix + hash;\r\n\t\t\t},\r\n\t\t\tgetLocationHash() {\r\n\t\t\t\treturn window.location.hash.substr(1);\r\n\t\t\t},\r\n\t\t\tgetChanged() {\r\n\t\t\t\treturn this._changed;\r\n\t\t\t},\r\n\t\t\tsetHash(hash) {\r\n\t\t\t\tif (this.getHash(hash) !== this.getLocationHash()) {\r\n\t\t\t\t\twindow.location.hash = this.getHash(hash);\r\n\t\t\t\t\tthis._changed = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._changed = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tset(url) {\r\n\t\t\t\treturn this.setHash(url);\r\n\t\t\t}\r\n\t\t};\r\n\t\tp = Tez.URLComponent = function (opts = {}) {\r\n\t\t\tthis.hash = new Tez.hashURL({\r\n\t\t\t\t\tprefix: opts.prefixURL\r\n\t\t\t\t});\r\n\t\t\tthis.async = opts.async !== undefined ? opts.async : true;\r\n\t\t\tthis.xhr = new Tez.XHR();\r\n\t\t\tthis.loadRealLink = opts.loadRealLink !== undefined ? opts.loadRealLink : true;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tp.prototype = {\r\n\t\t\trequest(url, method, withCredentials) {\r\n\t\t\t\tthis.hash.set(url);\r\n\t\t\t\tif (this.loadRealLink) {\r\n\t\t\t\t\tthis.xhr.request(method || \"GET\", url, this.async);\r\n\t\t\t\t\tthis.xhr.withCredentials(withCredentials);\r\n\t\t\t\t\tthis.xhr.send();\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tthen(fn) {\r\n\t\t\t\tif (this.loadRealLink && this.hash.getChanged()) {\r\n\t\t\t\t\tconst __self__ = this.xhr;\r\n\t\t\t\t\tconst __self__hash__ = this.hash;\r\n\t\t\t\t\tlet __eventFunc__;\r\n\t\t\t\t\tthis.xhr.on('load', __eventFunc__ = function () {\r\n\t\t\t\t\t\tconst args = ARRAY_SLICE.call(arguments);\r\n\t\t\t\t\t\tif (__self__hash__.getChanged()) {\r\n\t\t\t\t\t\t\tfn.apply(this, args);\r\n\t\t\t\t\t\t\t__self__.off('load', __eventFunc__);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (this.hash.getChanged()) {\r\n\t\t\t\t\tfn.call(this, {\r\n\t\t\t\t\t\tonlyURLChanged: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\t\tTez.domClass = function (node, vars) {\r\n\t\t\tthis._vars = vars = vars || {};\r\n\t\t\tif (vars.quickRender === undefined) {\r\n\t\t\t\tvars.quickRender = true;\r\n\t\t\t}\r\n\t\t\tconst _opts = this._opt = {};\r\n\t\t\tthis._node = typeof(node) === \"string\" ? document.querySelector(node) : node.length && node[0].nodeType ? node[0] : node;\r\n\t\t\tthis._vnode = this._node.cloneNode(true);\r\n\t\t\tthis._nodeElem = this._vnode;\r\n\t\t\tthis._quickRender = vars.quickRender;\r\n\t\t\tthis._appendStore = [];\r\n\t\t\tthis.props = {};\r\n\t\t\tthis._listOfNodes = [];\r\n\t\t\tif (vars.styling === undefined) {\r\n\t\t\t\tvars.styling = this._vnode.style.cssText;\r\n\t\t\t}\r\n\t\t\tif (vars.attrs === undefined) {\r\n\t\t\t\tvars.attrs = attrs(this._vnode);\r\n\t\t\t}\r\n\t\t\tif (vars.content === undefined) {\r\n\t\t\t\tvars.content = this._vnode.innerHTML;\r\n\t\t\t}\r\n\t\t\treturn this.render();\r\n\t\t};\r\n\t\tTez.domClass.prototype = {\r\n\t\t\tcreateElement(opts) {\r\n\t\t\t\tlet item;\r\n\t\t\t\tconst appendStore = this._appendStore;\r\n\t\t\t\tconst len = appendStore.length;\r\n\t\t\t\tappendStore[len] = {\r\n\t\t\t\t\treal: 'append',\r\n\t\t\t\t\tvirtual: (item = _makeNode(opts)),\r\n\t\t\t\t\tdiff: false,\r\n\t\t\t\t\tindex: len\r\n\t\t\t\t};\r\n\t\t\t\treturn item;\r\n\t\t\t},\r\n\t\t\tsetProps(props) {\r\n\t\t\t\tfor (const p in props) {\r\n\t\t\t\t\tthis.props[p] = props[p];\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tsetEvent(find, eventName, eventFunc) {\r\n\t\t\t\tconst __self__ = this;\r\n\r\n\t\t\t\tconst __eventFunc__ = function (e) {\r\n\t\t\t\t\teventFunc.call(__self__, this, e)\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (eventFunc && find === null) {\r\n\t\t\t\t\tthis._node.addEventListener(eventName, __eventFunc__);\r\n\t\t\t\t} else if (eventFunc) {\r\n\t\t\t\t\tfind = this._node.querySelector(find);\r\n\t\t\t\t\tfind.addEventListener(eventName, __eventFunc__);\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tcreateFunction(fn) {\r\n\t\t\t\tfn.call(this);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\trender() {\r\n\t\t\t\tconst vars = this._vars;\r\n\t\t\t\tconst node = this._node;\r\n\t\t\t\tconst vnode = this._vnode;\r\n\t\t\t\tconst append = this._appendStore;\r\n\t\t\t\tconst _listOfNodes = this._listOfNodes;\r\n\t\t\t\tlet _vattrs = vars.attrs;\r\n\t\t\t\tlet _attrs = attrs(node);\r\n\t\t\t\tlet _diff;\r\n\t\t\t\tif (_attrs !== _vattrs) {\r\n\t\t\t\t\t_diff = JSON.parse(_vattrs);\r\n\t\t\t\t\tfor (const p in _diff) {\r\n\t\t\t\t\t\tnode.setAttribute(p, _diff[p]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvars.attrs = attrs(vnode);\r\n\t\t\t\t}\r\n\t\t\t\t_vattrs = vars.styling;\r\n\t\t\t\t_attrs = node.style.cssText;\r\n\t\t\t\tif (_vattrs !== _attrs) {\r\n\t\t\t\t\tthis._node.style.cssText = _vattrs;\r\n\t\t\t\t\tvars.styling = node.style.cssText;\r\n\t\t\t\t}\r\n\t\t\t\t_vattrs = vars.content;\r\n\t\t\t\t_attrs = node.innerHTML;\r\n\t\t\t\tfor (let i = 0, len = _listOfNodes.length; i < len; i++) {\r\n\t\t\t\t\tconst idx = append.length;\r\n\t\t\t\t\tappend[idx] = {\r\n\t\t\t\t\t\tvirtual: _listOfNodes[i],\r\n\t\t\t\t\t\treal: 'append',\r\n\t\t\t\t\t\tdiff: false,\r\n\t\t\t\t\t\tindex: idx\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (append.length || _attrs !== _vattrs) {\r\n\t\t\t\t\tconst _childs = _parseString(_vattrs);\r\n\t\t\t\t\tconst _childs2 = _parseString(_attrs);\r\n\t\t\t\t\treplaceChildrenByDiff(node, vnode, _childs, _childs2, append);\r\n\t\t\t\t\tvars.content = vnode.innerHTML;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tsetNode(node) {\r\n\t\t\t\tthis._listOfNodes.push(node);\r\n\t\t\t\treturn this._quickRender ? this.render() : this;\r\n\t\t\t},\r\n\t\t\tsetAttrs(_attrs) {\r\n\t\t\t\tlet attr;\r\n\t\t\t\tconst nattr = {};\r\n\t\t\t\tconst _attr = JSON.parse(this._vars.attrs);\r\n\t\t\t\tfor (var p in _attr) {\r\n\t\t\t\t\tif (_attr[p] !== undefined) {\r\n\t\t\t\t\t\tnattr[p] = _attr[p];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (var p in _attrs) {\r\n\t\t\t\t\tif (_attrs[p] !== undefined) {\r\n\t\t\t\t\t\tnattr[p] = _attrs[p];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._vars.attrs = JSON.stringify(nattr);\r\n\t\t\t\treturn this._quickRender ? this.render() : this;\r\n\t\t\t},\r\n\t\t\tsetStyling(cssText) {\r\n\t\t\t\tconst styling = this._vars.styling;\r\n\t\t\t\tconst style = this._vnode.style;\r\n\t\t\t\tstyle.cssText = styling;\r\n\t\t\t\tfor (const p in cssText) {\r\n\t\t\t\t\tstyle[p] = cssText[p];\r\n\t\t\t\t}\r\n\t\t\t\tthis._vars.styling = style.cssText;\r\n\t\t\t\treturn this._quickRender ? this.render() : this;\r\n\t\t\t},\r\n\t\t\tsetContent(contents) {\r\n\t\t\t\tlet content = this._vars.content;\r\n\t\t\t\tif (!contents) {\r\n\t\t\t\t\treturn this._quickRender ? this.render() : this;\r\n\t\t\t\t}\r\n\t\t\t\tcontents = typeof(contents) === \"string\" ? contents : contents.nodeType ? contents.outerHTML : contents;\r\n\t\t\t\tconst rel = contents.includes(\"=\") ? contents.charAt(0) === \"+\" ? 1 : contents.charAt(0) === \"-\" ? -1 : 0 : 0;\r\n\r\n\t\t\t\tif (rel === 0) {\r\n\t\t\t\t\tcontent = contents;\r\n\t\t\t\t} else if (rel === 1) {\r\n\t\t\t\t\tcontent += contents.substr(2);\r\n\t\t\t\t} else if (rel === -1) {\r\n\t\t\t\t\tconst _getParsed = _parseString(contents.substr(2))[0];\r\n\t\t\t\t\tconst _find = _getItem(_getParsed, this._node);\r\n\t\t\t\t\tif (_find && _find.matched) {\r\n\t\t\t\t\t\tthis._appendStore.push({\r\n\t\t\t\t\t\t\tvirtual: _find.matched,\r\n\t\t\t\t\t\t\treal: 'append',\r\n\t\t\t\t\t\t\tremove: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._vars.content = content;\r\n\t\t\t\treturn this._quickRender ? this.render() : this;\r\n\t\t\t}\r\n\t\t};\r\n\t\tTez.tezClass = function (opts) {\r\n\t\t\tconst _self = this;\r\n\t\t\tthis.events = {};\r\n\t\t\topts = Tez.extend(opts || {}, {\r\n\t\t\t\t\tlets: {},\r\n\t\t\t\t\tlets2: {},\r\n\t\t\t\t\t_lets: {},\r\n\t\t\t\t\ttweenable: {},\r\n\t\t\t\t\tstate: 0,\r\n\t\t\t\t\trender: null\r\n\t\t\t\t});\r\n\r\n\t\t\topts.setInitLets && opts.setInitLets.call(opts);\r\n\t\t\topts.setTweenableLets && opts.setTweenableLets.call(opts);\r\n\r\n\t\t\tthis.mountedNodes = [];\r\n\r\n\t\t\tthis.opts = opts;\r\n\r\n\t\t\tthis.lets = opts.lets;\r\n\t\t\tthis.lets2 = opts.lets2;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tconst getDecPow = (d = 4) => Math.pow(10, d);\r\n\t\tTez.tezClass.prototype = {\r\n\t\t\tplugin(plug) {\r\n\t\t\t\tif (typeof plug === \"string\" && Tez.PluginManager[plug] !== undefined && Tez.PluginManager[plug].tez !== undefined) {\r\n\t\t\t\t\tTez.PluginManager[plug].tez.call(this, this.lets, this.opts);\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tapply() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\topts\r\n\t\t\t\t} = this;\r\n\t\t\t\tconst {\r\n\t\t\t\t\tlets,\r\n\t\t\t\t\tlets2\r\n\t\t\t\t} = opts;\r\n\t\t\t\tlet _lets = opts._lets;\r\n\t\t\t\tconst _minVal = 0.001;\r\n\t\t\t\tconst _maxVal = 1;\r\n\t\t\t\tthis.mountedNodes.map((node, index) => {\r\n\t\t\t\t\tconst dom = new Tez.DOMManager(node);\r\n\t\t\t\t\tconst now = Date.now();\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\trender,\r\n\t\t\t\t\t\ttweenable\r\n\t\t\t\t\t} = opts;\r\n\t\t\t\t\tconst round = tweenable.roundLets;\r\n\t\t\t\t\tconst limitDec = tweenable.limitLetsDecimals;\r\n\t\t\t\t\tconst start = tweenable && (typeof(tweenable.startTime) === \"function\" ? tweenable.startTime.call(_self, node, index) : tweenable.startTime) || 0;\r\n\t\t\t\t\tconst dur = tweenable && (typeof(tweenable.duration) === \"function\" ? tweenable.duration.call(_self, node, index) : tweenable.duration) || 1000;\r\n\t\t\t\t\tconst tween = Tez.TweenManager(lets, lets2);\r\n\t\t\t\t\tlet diff;\r\n\r\n\t\t\t\t\tif (tweenable) {\r\n\t\t\t\t\t\tdiff = Tez.DiffManager(lets, lets2);\r\n\t\t\t\t\t\tdom.composite(e => {\r\n\t\t\t\t\t\t\tif (!diff)\r\n\t\t\t\t\t\t\t\treturn e.state;\r\n\t\t\t\t\t\t\tlet elapsed = Math.max(0, Math.min(((Date.now() - now) - start) / dur, 1));\r\n\t\t\t\t\t\t\tlet timeElapsed = elapsed;\r\n\t\t\t\t\t\t\tif (tweenable.curve) {\r\n\t\t\t\t\t\t\t\telapsed = tweenable.curve(timeElapsed);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_lets = tween(elapsed);\r\n\t\t\t\t\t\t\tfor (let p in _lets) {\r\n\t\t\t\t\t\t\t\tif (round && round[p]) {\r\n\t\t\t\t\t\t\t\t\t_lets[p] = typeof(_lets[p]) === \"number\" ? (_lets[p] | 0) : _lets[p] !== undefined && _lets[p].push && _lets[p].slice ? _lets[p].map(Math.round) : _lets[p];\r\n\t\t\t\t\t\t\t\t} else if (limitDec && limitDec[p]) {\r\n\t\t\t\t\t\t\t\t\tlet dv = getDecPow(limitDec[p]);\r\n\t\t\t\t\t\t\t\t\t_lets[p] = typeof(_lets[p]) === \"number\" ? (((_lets[p] * dv) | 0) / dv) : _lets[p] !== undefined && _lets[p].push && _lets[p].slice ? _lets[p].map(v => ((v * dv) | 0) / dv) : _lets[p];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (timeElapsed > _minVal) {\r\n\t\t\t\t\t\t\t\trender.call(_self, node, _lets, opts, index, elapsed);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn timeElapsed < _maxVal ? e.state : 0;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.compositeArg({\r\n\t\t\t\t\t\t\tstate: opts.state || \"RUNNING\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (opts.initState) {\r\n\t\t\t\t\t\trender.call(_self, node, lets, opts, index, elapsed);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\trender(_lets, leaveLet) {\r\n\t\t\t\tconst _self = this;\r\n\t\t\t\tconst opts = this.opts;\r\n\t\t\t\t_lets = _lets || opts.lets;\r\n\t\t\t\tconst dm = Tez.DiffManager(opts.lets, _lets);\r\n\t\t\t\tif (!dm)\r\n\t\t\t\t\treturn this;\r\n\t\t\t\tthis.mountedNodes.map((node, index) => {\r\n\t\t\t\t\topts.render.call(_self, node, _lets || opts.lets, opts, index);\r\n\t\t\t\t});\r\n\t\t\t\tif (!leaveLet) {\r\n\t\t\t\t\topts.lets = _lets;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tmountNode(node) {\r\n\t\t\t\tnode = ARRAY_SLICE.call(typeof(node) === \"string\" ? document.querySelectorAll(node) : node.length ? node : [node]);\r\n\t\t\t\tthis.mountedNodes = this.mountedNodes.concat(node);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tnodeOn(event, on) {\r\n\t\t\t\tthis.mountedNodes.map(node => {\r\n\t\t\t\t\tthis.node = node;\r\n\t\t\t\t\tnode.addEventListener(event, e => {\r\n\t\t\t\t\t\ton.call(this, e);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tnodeOff(event, off) {\r\n\t\t\t\tthis.mountedNodes.map(node => {\r\n\t\t\t\t\tthis.node = node;\r\n\t\t\t\t\tnode.removeEventListener(event, e => {\r\n\t\t\t\t\t\toff.call(this, e);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\ton(event, callback, unshift) {\r\n\t\t\t\tif (!this.events[event]) {\r\n\t\t\t\t\tthis.events[event] = [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.events[event][unshift ? 'unshift' : 'push'](callback);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\toff(event, callback) {\r\n\t\t\t\tif (!this.events[event].length) {\r\n\t\t\t\t\tdelete this.events[event];\r\n\t\t\t\t}\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\twhile (i < this.events[event].length) {\r\n\t\t\t\t\tif (this.events[event][i] === callback) {\r\n\t\t\t\t\t\tthis.events[event].splice(i, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ti++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tdispatch(event, custom) {\r\n\t\t\t\tif (!this.events[event]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcustom = custom || {};\r\n\t\t\t\tconst {\r\n\t\t\t\t\topts\r\n\t\t\t\t} = this;\r\n\t\t\t\tthis.events[event].map(event => {\r\n\t\t\t\t\tevent.call(this, Tez.extend(custom, {\r\n\t\t\t\t\t\t\topts,\r\n\t\t\t\t\t\t\ttimestamp: Date.now(),\r\n\t\t\t\t\t\t\ttype: event,\r\n\t\t\t\t\t\t\ttarget: this\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t});\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn Tez;\r\n\t}));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}