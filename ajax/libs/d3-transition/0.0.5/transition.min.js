!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.transition={})}(this,function(t){"use strict";function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function e(t,n){function e(){return r(this,t,n)}function i(){return r(this,t,n.apply(this,arguments))}return this.each("function"==typeof n?i:e)}function r(t,e,r){var i=n(t),o=i.CustomEvent;o?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function i(t){return t.replace(Dt,"\\$&")}function o(t,n,e){function r(){for(var r=p,i=arguments.length>>1,s=new Array(i);--i>=0;)r=r[arguments[(i<<1)+1]],s[i]=i?r._parent:r;var c=u(n,s,arguments);h&&(c=a(c)),o.call(this),this.addEventListener(t,this[l]=c,c._capture=e),c._listener=n}function o(){var n=this[l];n&&(this.removeEventListener(t,n,n._capture),delete this[l])}function c(){var n,e=new RegExp("^__on([^.]+)"+i(t)+"$");for(var r in this)if(n=r.match(e)){var o=this[r];this.removeEventListener(n[1],o,o._capture),delete this[r]}}var h,f=arguments.length,l="__on"+t,p=this._root;return 2>f?(f=this.node()[l])&&f._listener:(3>f&&(e=!1),(f=t.indexOf("."))>0&&(t=t.slice(0,f)),(h=Ot.hasOwnProperty(t))&&(t=Ot[t]),this.each(n?f?r:s:f?o:c))}function u(t,n,e){return function(r){for(var i=n.length,o=It;--i>=0;)e[i<<1]=n[i].__data__;It=r;try{t.apply(n[0],e)}finally{It=o}}}function a(t){return function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t(n)}}function s(){}function c(t){return arguments.length?this.property("__data__",t):this.node().__data__}function h(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})}function f(t){var n=t.indexOf(":"),e=t;return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Rt.hasOwnProperty(e)?{space:Rt[e],local:t}:t}function l(t){return function(){return this.querySelector(t)}}function p(t,n){function e(){return this.appendChild(t.apply(this,arguments))}function r(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)}return"function"!=typeof t&&(t=_(t)),this.select(arguments.length<2?e:("function"!=typeof n&&(n=l(n)),r))}function _(t){function n(){var n=this.ownerDocument,e=this.namespaceURI;return e?n.createElementNS(e,t):n.createElement(t)}function e(){return this.ownerDocument.createElementNS(t.space,t.local)}return t=f(t),t.local?e:n}function d(t){function n(){this.innerHTML=t}function e(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}return arguments.length?(null==t&&(t=""),this.each("function"==typeof t?e:n)):this.node().innerHTML}function m(t){function n(){this.textContent=t}function e(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}return arguments.length?(null==t&&(t=""),this.each("function"==typeof t?e:n)):this.node().textContent}function v(t,n){function e(){for(var e=-1;++e<i;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<i;)t[e](this,r)}t=(t+"").trim().split(/^|\s+/);var i=t.length;if(arguments.length<2){var o=this.node(),u=-1;if(n=o.classList){for(;++u<i;)if(!n.contains(t[u]))return!1}else for(n=o.getAttribute("class");++u<i;)if(!w(t[u]).test(n))return!1;return!0}return t=t.map(y),this.each("function"==typeof n?r:e)}function y(t){var n;return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);n||(n=w(t));var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",g(i+" "+t))):e.setAttribute("class",g(i.replace(n," ")))}}function g(t){return t.trim().replace(/\s+/g," ")}function w(t){return new RegExp("(?:^|\\s+)"+i(t)+"(?:\\s+|$)","g")}function M(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return arguments.length<2?this.node()[t]:this.each(null==n?e:"function"==typeof n?i:r)}function x(t,e,r){function i(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,r)}function u(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}var a=arguments.length;return 2>a?n(a=this.node()).getComputedStyle(a,null).getPropertyValue(t):(3>a&&(r=""),this.each(null==e?i:"function"==typeof e?u:o))}function b(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function u(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}if(t=f(t),arguments.length<2){var s=this.node();return t.local?s.getAttributeNS(t.space,t.local):s.getAttribute(t)}return this.each(null==n?t.local?r:e:"function"==typeof n?t.local?a:u:t.local?o:i)}function A(t){function n(e,i){var o,u=-1,a=e.length;if(--i)for(var s=2*i,c=s+1;++u<a;)(o=e[u])&&(r[s]=o._parent.__data__,r[c]=u,n(o,i));else for(;++u<a;)(o=e[u])&&(r[0]=o.__data__,r[1]=u,t.apply(o,r))}var e=this._depth,r=new Array(e);return n(this._root,e),this}function E(){return!this.node()}function S(){var t=0;return this.each(function(){++t}),t}function N(){return P(this._root,this._depth)}function P(t,n){var e,r=-1,i=t.length;if(--n){for(;++r<i;)if((e=t[r])&&(e=P(e,n)))return e}else for(;++r<i;)if(e=t[r])return e}function k(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}function q(){var t=arguments[0];return t.apply(arguments[0]=this,arguments),this}function L(t){return t._root=C(t._root,t._depth)}function C(t,n){var e,r=-1,i=t.length;if(--n)for(;++r<i;)(e=t[r])&&(t[r]=C(e,n));else if(!Array.isArray(t)){for(var o=new Array(i);++r<i;)o[r]=t[r];o._parent=t._parent,t=o}return t}function D(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}function e(t,r){if(--r)for(var i,o=-1,u=t.length;++o<u;)(i=t[o])&&e(i,r);else t.sort(n)}return t||(t=O),e(L(this),this._depth),this.order()}function O(t,n){return n>t?-1:t>n?1:t>=n?0:NaN}function I(){return B(this._root,this._depth),this}function B(t,n){var e,r,i=t.length;if(--n)for(;--i>=0;)(e=t[i])&&B(e,n);else for(r=t[--i];--i>=0;)(e=t[i])&&(r&&r!==e.nextSibling&&r.parentNode.insertBefore(e,r),r=e)}function R(t){return new F($(L(t),t._depth),t._depth)}function $(t,n){var e,r=-1,i=t.length,o=new Array(i);if(--n)for(;++r<i;)(e=t[r])&&(o[r]=$(e,n));return o._parent=t._parent,o}function z(){return this._exit||(this._exit=R(this))}function T(){return this._enter||(this._enter=R(this),this._enter._update=this),this._enter}function H(t,n){function e(n,r,i,o){var u,a,h=-1;if(o--){var f=2*o,l=f+1;for(u=n.length;++h<u;)(a=n[h])&&(s[f]=a._parent.__data__,s[l]=h,e(a,r[h],i[h],o))}else{var p,_=0;for(c(n,r,i,t.apply(n._parent,s)),u=n.length;++h<u;)if(p=r[h]){for(h>=_&&(_=h+1);!(a=n[_])&&++_<u;);p._next=a||null}}}function r(t,n,e,r){var i,o=0,u=t.length,a=r.length,s=Math.min(u,a);for(n.length=0,n.length=a,e.length=0,e.length=u;s>o;++o)(i=t[o])?i.__data__=r[o]:n[o]=new U(t._parent,r[o]);for(;a>o;++o)n[o]=new U(t._parent,r[o]);for(;u>o;++o)(i=t[o])&&(e[o]=t[o]);t.length=a}function i(t,e,r,i){var o,u,a,c=i.length,h=t.length,f={},l=new Array(2).concat(s),p=new Array(h);for(e.length=0,e.length=c,r.length=0,r.length=h,o=0;h>o;++o)(u=t[o])&&(l[0]=u.__data__,l[1]=o,p[o]=a=$t+n.apply(u,l),f[a]?r[o]=u:f[a]=u);for(t.length=0,t.length=c,o=0;c>o;++o)l[0]=i[o],l[1]=o,a=$t+n.apply(t._parent,l),(u=f[a])?u!==!0&&(t[o]=u,u.__data__=i[o]):e[o]=new U(t._parent,i[o]),f[a]=!0;for(o=0;h>o;++o)(u=f[p[o]])!==!0&&(r[o]=u)}if(!t){var o=new Array(this.size()),u=-1;return this.each(function(t){o[++u]=t}),o}var a=this._depth-1,s=new Array(2*a),c=n?i:r;return"function"!=typeof t&&(t=V(t)),e(this._root,this.enter()._root,this.exit()._root,a),this}function U(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function V(t){return function(){return t}}function j(t){function n(e,i){var o,u,a=-1,s=e.length;if(--i){var c=2*i,h=c+1;for(u=new Array(s);++a<s;)(o=e[a])&&(r[c]=o._parent.__data__,r[h]=a,u[a]=n(o,i))}else for(u=[];++a<s;)(o=e[a])&&(r[0]=o.__data__,r[1]=a,t.apply(o,r)&&u.push(o));return u._parent=e._parent,u}var e=this._depth,r=new Array(2*e);return"function"!=typeof t&&(t=zt(t)),new F(n(this._root,e),e)}function K(t){function n(e,i){var o,u,a=-1,s=e.length,c=new Array(s);if(--i)for(var h=2*i,f=h+1;++a<s;)(o=e[a])&&(r[h]=o._parent.__data__,r[f]=a,c[a]=n(o,i));else for(;++a<s;)(o=e[a])&&(r[0]=o.__data__,r[1]=a,c[a]=u=t.apply(o,r),u._parent=o);return c._parent=e._parent,c}var e=this._depth,r=new Array(2*e);return"function"!=typeof t&&(t=W(t)),new F(n(this._root,e),e+1)}function W(t){return function(){return this.querySelectorAll(t)}}function X(t){function n(e,i,o){var u,a,s=-1,c=e.length,h=new Array(c);if(--o)for(var f=2*o,l=f+1;++s<c;)(u=e[s])&&(r[f]=u._parent.__data__,r[l]=s,h[s]=n(u,i&&i[s],o));else for(;++s<c;)(u=e[s])&&(r[0]=u.__data__,r[1]=s,(a=t.apply(u,r))&&("__data__"in u&&(a.__data__=u.__data__),i&&(i[s]=a,delete e[s]),h[s]=a));return h._parent=e._parent,h}var e=this._depth,r=new Array(2*e);return"function"!=typeof t&&(t=l(t)),new F(n(this._root,this._update&&this._update._root,e),e)}function F(t,n){this._root=t,this._depth=n,this._enter=this._update=this._exit=null}function G(){return new F([document.documentElement],1)}function J(t){return this.each(function(){})}function Q(t){return new kt(this._root,this._depth,t&&"__transition_ "+t+"_")}function Y(t,n){return null==t||isNaN(t)?n:+t}function Z(t,n){t=Math.max(1,Y(t,1)),n=Y(n,.3)*Ut;var e=n*Math.asin(1/t);return function(r){return t*Math.pow(2,10*--r)*Math.sin((e-r)/n)}}function tt(t,n){t=Math.max(1,Y(t,1)),n=Y(n,.3)*Ut;var e=n*Math.asin(1/t);return function(r){return t*Math.pow(2,-10*r)*Math.sin((r-e)/n)+1}}function nt(t,n){t=Math.max(1,Y(t,1)),n=1.5*Y(n,.3)*Ut;var e=n*Math.asin(1/t);return function(r){return t*((r=2*r-1)<0?Math.pow(2,10*r)*Math.sin((e-r)/n):Math.pow(2,-10*r)*Math.sin((r-e)/n)+2)/2}}function et(t){return t=Y(t,1.70158),function(n){return n*n*((t+1)*n-t)}}function rt(t){return t=Y(t,1.70158),function(n){return--n*n*((t+1)*n+t)+1}}function it(t){return t=1.525*Y(t,1.70158),function(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}}function ot(t){return 1-ut(1-t)}function ut(t){return Vt>t?Yt*t*t:Kt>t?Yt*(t-=jt)*t+Wt:Ft>t?Yt*(t-=Xt)*t+Gt:Yt*(t-=Jt)*t+Qt}function at(t){return((t*=2)<=1?1-ut(1-t):ut(t-1)+1)/2}function st(t){return 1-Math.sqrt(1-t*t)}function ct(t){return Math.sqrt(1- --t*t)}function ht(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function ft(t){return Math.pow(2,10*t-10)}function lt(t){return 1-Math.pow(2,-10*t)}function pt(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function _t(t){return 1-Math.cos(t*tn)}function dt(t){return Math.sin(t*tn)}function mt(t){return(1-Math.cos(Zt*t))/2}function vt(t){return t*t*t}function yt(t){return--t*t*t+1}function gt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function wt(t){return t*t}function Mt(t){return t*(2-t)}function xt(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function bt(t){return+t}function At(t){return t=Y(t,3),function(n){return Math.pow(n,t)}}function Et(t){return t=Y(t,3),function(n){return 1-Math.pow(1-n,t)}}function St(t){return t=Y(t,3),function(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}}function Nt(t,n,e){var r=(t+="").indexOf("-");return 0>r&&(t+="-in"),arguments.length>1&&en.hasOwnProperty(t)?en[t](n,e):nn.hasOwnProperty(t)?nn[t]:bt}function Pt(t,n,e){"function"==typeof t?t:Nt(t,n,e);return this.each(function(){})}function kt(t,n,e,r){this._root=t,this._depth=n,this._key=e||"__transition__",this._id=r||++rn,this.each(Lt(this._key,this._id))}function qt(){return new kt([document.documentElement],1)}function Lt(t,n){return function(){var e=this[t]||(this[t]=new Ct);e.scheduled(n)}}function Ct(){this.active=null,this.pending=[]}var Dt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ot={},It=null;if("undefined"!=typeof document){var Bt=document.documentElement;"onmouseenter"in Bt||(Ot={mouseenter:"mouseover",mouseleave:"mouseout"})}var Rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$t="$";U.prototype={appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n||this._next)}};var zt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Tt=document.documentElement;if(!Tt.matches){var Ht=Tt.webkitMatchesSelector||Tt.msMatchesSelector||Tt.mozMatchesSelector||Tt.oMatchesSelector;zt=function(t){return function(){return Ht.call(this,t)}}}}F.prototype=G.prototype={select:X,selectAll:K,filter:j,data:H,enter:T,exit:z,order:I,sort:D,call:q,nodes:k,node:N,size:S,empty:E,each:A,attr:b,style:x,property:M,"class":v,classed:v,text:m,html:d,append:p,insert:p,remove:h,datum:c,event:o,on:o,dispatch:e};var Ut=1/(2*Math.PI),Vt=4/11,jt=6/11,Kt=8/11,Wt=.75,Xt=9/11,Ft=10/11,Gt=.9375,Jt=21/22,Qt=63/64,Yt=1/Vt/Vt,Zt=Math.PI,tn=Zt/2,nn={"linear-in":bt,"linear-out":bt,"linear-in-out":bt,"quad-in":wt,"quad-out":Mt,"quad-in-out":xt,"cubic-in":vt,"cubic-out":yt,"cubic-in-out":gt,"poly-in":vt,"poly-out":yt,"poly-in-out":gt,"sin-in":_t,"sin-out":dt,"sin-in-out":mt,"exp-in":ft,"exp-out":lt,"exp-in-out":pt,"circle-in":st,"circle-out":ct,"circle-in-out":ht,"bounce-in":ot,"bounce-out":ut,"bounce-in-out":at,"back-in":et(),"back-out":rt(),"back-in-out":it(),"elastic-in":Z(),"elastic-out":tt(),"elastic-in-out":nt()},en={"poly-in":At,"poly-out":Et,"poly-in-out":St,"back-in":et,"back-out":rt,"back-in-out":it,"elastic-in":Z,"elastic-out":tt,"elastic-in-out":nt},rn=("undefined"!=typeof navigator&&/WebKit/.test(navigator.userAgent)?-1:0,0),on=G.prototype;on.interrupt=J,on.transition=Q,kt.prototype=qt.prototype={each:on.each,ease:Pt},Ct.prototype={scheduled:function(t){if(this.active&&this.active.id===t)return!0;for(var n=this.pending,e=n.length;--e>=0;)if(n[e].id===t)return!0;return!1}},t.transition=qt});