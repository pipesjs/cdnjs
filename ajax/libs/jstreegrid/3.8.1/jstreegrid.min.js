!function(e){"function"==typeof define&&define.amd?define(["jquery","jstree"],e):e(jQuery)}(function(e){var t=/^\s*$/g,i=function(e){return(e||"").replace(/[\\:&!^|()\[\]<>@*'+~#";,= \/${}%]/g,"\\$&")},r=!1,s=function(e,t){return"jstree_"+e+"_grid_"+i(t)+"_col"},n=function(t){return e.makeArray(t.map(function(){return this.id}))},d=function(t,i,r){var n,d=e(),a=[].concat(r);return null===i||void 0===i||0===i.length?d="":"string"==typeof i?(n=s(t,i),d=a.map(function(e){return"#"+n+e}).join(", ")):(d=[],i.forEach(function(e,i){var r=s(t,e);d=d.concat(a.map(function(e){return"#"+r+e}))}),d=d.join(", ")),e(d)},a=!1,o=null,l=0,h=0,c=function(t,i,r,s,n){var d,a;if(s.data=e.extend(!0,{},i.data),i&&i.children_d&&n)for(d=0,a=i.children_d.length;d<a;d++)c(t,t.get_node(i.children_d[d]),r,r.get_node(s.children_d[d]),n)},g=function(e,t){var i=e.get_node(t),r=i.children;return!r||r.length<=0||!i.state.opened?t:g(e,r[r.length-1])},u=function(e,t,i){var r,s=e.hasClass("jstree-anchor")?e:e.children("[class~='jstree-anchor']"),n=i.settings.grid.columns[0];r="",n.title&&("_DATA_"===n.title?r=i.get_text(t):t.attr(n.title)&&(r=t.attr(n.title))),(r=r.replace(/<\/?[^>]+>/gi,""))&&s.attr("title",r)},p=function(e,t){return void 0!==e&&null!==e?"function"==typeof e?e(t):null!==t.data&&void 0!==t.data&&void 0!==t.data[e]?t.data[e]:"":""};e.jstree.defaults.grid={width:"auto"},e.jstree.plugins.grid=function(i,f){this._initialize=function(){if(!this._initialized){var t,i,s=this.settings.grid||{},n=this.element,d=this._gridSettings={columns:s.columns||[],treeClass:"jstree-grid-col-0",context:s.contextmenu||!1,columnWidth:s.columnWidth,defaultConf:{"*display":"inline","*+display":"inline"},isThemeroller:!!this._data.themeroller,treeWidthDiff:0,resizable:s.resizable,draggable:s.draggable,stateful:s.stateful,indent:0,sortOrder:"text",sortAsc:!0,fixedHeader:!1!==s.fixedHeader,width:s.width,height:s.height,gridcontextmenu:s.gridcontextmenu,treecol:0,gridcols:[]},a=d.columns,o=0,l=!1;for(!0===d.gridcontextmenu?d.gridcontextmenu=function(e,t,i,r,s,n,d){return{edit:{label:"Edit",action:function(t){var r=n.get_node(i);e._edit(r,s,d)}}}}:!1===d.gridcontextmenu&&(d.gridcontextmenu=!1),i=0;i<s.columns.length;i++)s.columns[i].tree?(o=i,d.treecol=o):d.gridcols.push(i);this.uniq=Math.ceil(1e3*Math.random()),this.rootid=n.attr("id");if(/msie/.test(navigator.userAgent.toLowerCase())){parseFloat(navigator.appVersion.split("MSIE")[1])<8&&(d.defaultConf.display="inline",d.defaultConf.zoom="1")}for(r||(r=!0,t=[".jstree-grid-cell {vertical-align: top; overflow:hidden;margin-left:0;position:relative;width: 100%;padding-left:7px;white-space: nowrap;}",".jstree-grid-cell span {margin-right:0px;margin-right:0px;*display:inline;*+display:inline;white-space: nowrap;}",".jstree-grid-separator {position:absolute; top:0; right:0; height:24px; margin-left: -2px; border-width: 0 2px 0 0; *display:inline; *+display:inline; margin-right:0px;width:0px;}",".jstree-grid-header-cell {overflow: hidden; white-space: nowrap;padding: 1px 3px 2px 5px; cursor: default;}",".jstree-grid-header-themeroller {border: 0; padding: 1px 3px;}",".jstree-grid-header-regular {position:relative; background-color: #EBF3FD; z-index: 1;}",".jstree-grid-resizable-separator {cursor: col-resize; width: 2px;}",".jstree-grid-separator-regular {border-color: #d0d0d0; border-style: solid;}",".jstree-grid-cell-themeroller {border: none !important; background: transparent !important;}",".jstree-grid-wrapper {table-layout: fixed; width: 100%; overflow: auto; position: relative;}",".jstree-grid-midwrapper {display: table-row;}",".jstree-grid-width-auto {width:auto;display:block;}",".jstree-grid-column {display: table-cell; overflow: hidden;}",".jstree-grid-ellipsis {text-overflow: ellipsis;}",".jstree-grid-col-0 {width: 100%;}"],e('<style type="text/css">'+t.join("\n")+"</style>").appendTo("head")),this.gridWrapper=e("<div></div>").addClass("jstree-grid-wrapper").insertAfter(n),this.midWrapper=e("<div></div>").addClass("jstree-grid-midwrapper").appendTo(this.gridWrapper),s.width&&this.gridWrapper.width(s.width),s.height&&this.gridWrapper.height(s.height),i=0;i<a.length;i++)e("<div></div>").addClass("jstree-default jstree-grid-column jstree-grid-column-"+i+" jstree-grid-column-root-"+this.rootid).appendTo(this.midWrapper);this.midWrapper.children("div:eq("+o+")").append(n),n.addClass("jstree-grid-cell"),d.fixedHeader&&this.gridWrapper.scroll(function(){e(this).find(".jstree-grid-header").css("top",e(this).scrollTop())});var h=e.proxy(this.settings.sort,this);if(this.settings.sort=function(e,t){var i,r=this.colrefs;if("text"===d.sortOrder)i=1===h(e,t);else{var s=this.get_node(e),n=this.get_node(t),a=r[d.sortOrder].value;i=("function"==typeof a?a(s):s.data[a])>("function"==typeof a?a(n):n.data[a])}return!1===d.sortAsc&&(i=!i),i?1:-1},d.draggable)if(e.ui&&e.ui.sortable){var c,g;e(this.midWrapper).sortable({axis:"x",handle:".jstree-grid-header",cancel:".jstree-grid-separator",start:function(e,t){c=t.item.index()},stop:function(e,t){g=t.item.index(),d.columns.splice(g,0,d.columns.splice(c,1)[0])}})}else console.warn("[jstree-grid] draggable option requires jQuery UI");for(this.searchColumn=function(e){var t={};if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&i%1==0&&i<a.length&&i>=0&&(t[i]=e[i]);l=t,0!==Object.keys(t).length?this.search("someValue"):this.search(""),l=!1},i=0;i<a.length;i++){var u=a[i];"function"!=typeof u.search_callback&&(u.search_callback=function(t,i,r,s){return new e.vakata.search(t,!0,{caseSensitive:f.case_sensitive,fuzzy:f.fuzzy}).search(i).isMatch})}var f=this.settings.search,v=f.search_callback;v||(v=function(t,i){var r,s,n=new e.vakata.search(t,!0,{caseSensitive:f.case_sensitive,fuzzy:f.fuzzy}),d=n.search(i.text).isMatch;if(!d)for(r=0;r<a.length&&!(o!==r&&(s=a[r],d=n.search(p(s.value,i)).isMatch));r++);return d}),f.search_callback=function(e,t){var i=!1;if(l){for(var r in l)if(l.hasOwnProperty(r)){var s=l[r];if(""==s)continue;var d=a[r];if(!(i=o==r?d.search_callback(s,t.text,t,d):d.search_callback(s,p(d.value,t),t,d)))break}n.trigger("columnSearch_grid.jstree")}else i=v(e,t),n.trigger("omniSearch_grid.jstree");return i},this._initialized=!0}},this.init=function(e,t){f.init.call(this,e,t),this._initialize()},this.bind=function(){f.bind.call(this),this._initialize(),this.element.on("move_node.jstree create_node.jstree clean_node.jstree change_node.jstree",e.proxy(function(e,t){var i=this.get_node(t||"#",!0);this._prepare_grid(i)},this)).on("delete_node.jstree",e.proxy(function(e,t){if(void 0!==t.node.id){var i=(this.gridWrapper,[t.node.id]);t.node&&t.node.children_d&&(i=i.concat(t.node.children_d)),d(this.uniq,i,this._gridSettings.gridcols).remove()}},this)).on("hide_node.jstree",e.proxy(function(e,t){d(this.uniq,t.node.id,this._gridSettings.gridcols).remove(),this._hide_grid(t.node)},this)).on("close_node.jstree",e.proxy(function(e,t){this._hide_grid(t.node)},this)).on("open_node.jstree",e.proxy(function(e,t){},this)).on("load_node.jstree",e.proxy(function(e,t){},this)).on("loaded.jstree",e.proxy(function(e){this._prepare_headers(),this.element.trigger("loaded_grid.jstree")},this)).on("ready.jstree",e.proxy(function(t,i){var r,s=this.element.find("[class~='jstree-anchor']:first").outerHeight(),n=this.element.attr("class")||"";e('<style type="text/css">div.jstree-grid-cell-root-'+this.rootid+" {line-height: "+s+"px; height: "+s+"px;}</style>").appendTo("head"),r=n.split(/\s+/).map(function(e){return e.match(/^jstree(-|$)/)?"":e}),this.gridWrapper.addClass(r.join(" "))},this)).on("move_node.jstree",e.proxy(function(t,i){i.new_instance.element.find("li > a").each(e.proxy(function(e,t){},this))},this)).on("hover_node.jstree",e.proxy(function(e,t,i){var r=t.node.id;null!==this._hover_node&&void 0!==this._hover_node&&d(this.uniq,this._hover_node,this._gridSettings.gridcols).removeClass("jstree-hovered"),this._hover_node=r,d(this.uniq,r,this._gridSettings.gridcols).addClass("jstree-hovered")},this)).on("dehover_node.jstree",e.proxy(function(e,t,i){var r=t.node.id;this._hover_node=null,d(this.uniq,r,this._gridSettings.gridcols).removeClass("jstree-hovered")},this)).on("select_node.jstree",e.proxy(function(e,t,i){var r=t.node.id;d(this.uniq,r,this._gridSettings.gridcols).addClass("jstree-clicked"),this.get_node(t.node.id,!0).children("div.jstree-grid-cell").addClass("jstree-clicked")},this)).on("deselect_node.jstree",e.proxy(function(e,t,i){var r=t.node.id;d(this.uniq,r,this._gridSettings.gridcols).removeClass("jstree-clicked")},this)).on("deselect_all.jstree",e.proxy(function(e,t,i){var r=t.node||[];d(this.uniq,r,this._gridSettings.gridcols).removeClass("jstree-clicked")},this)).on("search.jstree",e.proxy(function(e,t){var i,r,s=this.gridWrapper,a=this,o=(new Date).getTime(),l=n(t.nodes.filter(".jstree-node"));return this.holdingCells={},t.nodes.length&&(this._data.search.som&&(this._data.search.smc&&(i=t.nodes.add(t.nodes.find(".jstree-node"))),i=(i||t.nodes).add(t.nodes.parentsUntil(".jstree")),s.find("div.jstree-grid-cell-regular").hide(),i.filter(".jstree-node").each(function(e,t){var i=t.id;i&&(a._prepare_grid(t),d(a.uniq,i,a._gridSettings.gridcols).show())})),d(a.uniq,l,this._gridSettings.gridcols).addClass("jstree-search"),r=(new Date).getTime(),this.element.trigger("search-complete.jstree-grid",[{time:r-o}])),!0},this)).on("clear_search.jstree",e.proxy(function(e,t){var i=this.gridWrapper,r=n(t.nodes.filter(".jstree-node"));return i.find("div.jstree-grid-cell").show(),d(this.uniq,r,this._gridSettings.gridcols).removeClass("jstree-search"),!0},this)).on("copy_node.jstree",function(e,t){var i=t.new_instance,r=t.old_instance,s=i.get_node(t.node,!0);return c(r,t.original,i,t.node,!0),i._prepare_grid(s),!0}).on("show_ellipsis.jstree",e.proxy(function(e,t){return this.gridWrapper.find(".jstree-grid-cell").add(".jstree-grid-header",this.gridWrapper).addClass("jstree-grid-ellipsis"),!0},this)).on("hide_ellipsis.jstree",e.proxy(function(e,t){return this.gridWrapper.find(".jstree-grid-cell").add(".jstree-grid-header",this.gridWrapper).removeClass("jstree-grid-ellipsis"),!0},this)),this._gridSettings.isThemeroller&&this.element.on("select_node.jstree",e.proxy(function(e,t){t.rslt.obj.children("[class~='jstree-anchor']").nextAll("div").addClass("ui-state-active")},this)).on("deselect_node.jstree deselect_all.jstree",e.proxy(function(e,t){t.rslt.obj.children("[class~='jstree-anchor']").nextAll("div").removeClass("ui-state-active")},this)).on("hover_node.jstree",e.proxy(function(e,t){t.rslt.obj.children("[class~='jstree-anchor']").nextAll("div").addClass("ui-state-hover")},this)).on("dehover_node.jstree",e.proxy(function(e,t){t.rslt.obj.children("[class~='jstree-anchor']").nextAll("div").removeClass("ui-state-hover")},this)),this._gridSettings.stateful&&this.element.on("resize_column.jstree-grid",e.proxy(function(e,t,i){localStorage["jstree-root-"+this.rootid+"-column-"+t]=i},this))},this.teardown=function(){var e=this.gridWrapper,t=this.element,i=e.parent();t.detach(),e.remove(),i.append(t),f.teardown.call(this)},this._clean_grid=function(e,t){var i=this.gridWrapper;e?d(this.uniq,t,this._gridSettings.gridcols).remove():i.find("div.jstree-grid-cell-regular").remove()},this._prepare_headers=function(){var t,i,r,s,n,d,c,g,u,p=this,f=this._gridSettings,v=f.columns||[],m=f.columnWidth,j=f.resizable||!1,_=f.isThemeroller,x=_?"themeroller":"regular",w=!1,y=this.gridparent,C=this.rootid,b=f.defaultConf,S=0,W=0;for(this.parent=y,this.colrefs={},t=0;t<v.length;t++){s=v[t].headerClass||"",n=v[t].columnClass||"",d=v[t].header||"";do{u=String(Math.floor(1e4*Math.random()))}while(void 0!==this.colrefs[u]);c=v[t].value?u:"text",this.colrefs[c]=v[t],d&&(w=!0),r=f.stateful&&localStorage["jstree-root-"+C+"-column-"+t]?localStorage["jstree-root-"+C+"-column-"+t]:v[t].width||m;var k=v[t].minWidth||r,z=v[t].maxWidth||r;S=_?7:10,"auto"!==r&&"string"!=typeof r&&(r-=S),i=this.midWrapper.children("div.jstree-grid-column-"+t),g=e("<div></div>").css(b).addClass("jstree-grid-div-"+this.uniq+"-"+t+" "+(_?"ui-widget-header ":"")+" jstree-grid-header jstree-grid-header-cell jstree-grid-header-"+x+" "+s+" "+n).html(d),g.addClass((_?"ui-widget-header ":"")+"jstree-grid-header jstree-grid-header-"+x),!0===this.settings.core.themes.ellipsis&&g.addClass("jstree-grid-ellipsis"),g.prependTo(i),g.attr("data-jstreegrid-column",c),W+=g.outerWidth(),e("<div class='jstree-grid-separator jstree-grid-separator-"+x+(_?" ui-widget-header":"")+(j?" jstree-grid-resizable-separator":"")+"'>&nbsp;</div>").appendTo(g),i.width(r),i.css("min-width",k),i.css("max-width",z)}g.addClass((_?"ui-widget-header ":"")+"jstree-grid-header jstree-grid-header-last jstree-grid-header-"+x),void 0===v[v.length-1].width&&(W-=r,i.css({width:"auto"}),g.addClass("jstree-grid-width-auto").next(".jstree-grid-separator").remove()),w?f.header=void 0:e("div.jstree-grid-header").hide(),!this.bound&&j&&(this.bound=!0,e(document).mouseup(function(){var t,i,r,s;a&&(s=o.prevAll(".jstree-grid-column").length,r=o.closest(".jstree-grid-wrapper").find(".jstree"),t=e.jstree.reference(r),t.settings.grid.columns,o.parent().children("div.jstree-grid-column"),(isNaN(s)||s<0)&&(t._gridSettings.treeWidthDiff=r.find("ins:eq(0)").width()+r.find("[class~='jstree-anchor']:eq(0)").width()-t._gridSettings.columns[0].width),i=t._gridSettings.columns[s].width=parseFloat(o.css("width")),a=!1,o=null,r.trigger("resize_column.jstree-grid",[s,i]))}).mousemove(function(e){if(a){h=e.pageX;var t,i,r,s=h-l;0!==s&&(t=o.width(),i=parseFloat(o.css("width")),i||(i=o.innerWidth()),s=s<0?Math.max(s,-t):s,r=i+s,(s>0||t>0)&&r>10&&(o.width(r+"px"),o.css("min-width",r+"px"),o.css("max-width",r+"px"),l=h))}}),this.gridWrapper.on("selectstart",".jstree-grid-resizable-separator",function(){return!1}).on("mousedown",".jstree-grid-resizable-separator",function(t){return a=!0,l=t.pageX,o=e(this).closest("div.jstree-grid-column"),!1}).on("dblclick",".jstree-grid-resizable-separator",function(t){var i,r,s=e(this),n=s.closest("div.jstree-grid-column"),d=parseFloat(n.css("width")),a=0,o=n.prevAll(".jstree-grid-column").length,l=n.width();n.find(".jstree-grid-cell").each(function(){var t,i=e(this);i.css("position","absolute"),i.css("width","auto"),t=i.outerWidth(),i.css("position","relative"),t>a&&(a=t)}),i=a-d,i=i<0?Math.max(i,-l):i,r=d+i+"px",n.width(r),n.css("min-width",r),n.css("max-width",r),e(this).closest(".jstree-grid-wrapper").find(".jstree").trigger("resize_column.jstree-grid",[o,r])}).on("click",".jstree-grid-separator",function(e){e.stopPropagation()})),this.gridWrapper.on("click",".jstree-grid-header-cell",function(t){if(p.sort){var i,r=e(this).attr("data-jstreegrid-column");f.sortOrder===r&&!0===f.sortAsc?(f.sortAsc=!1,i="&darr;"):(f.sortOrder=r,f.sortAsc=!0,i="&uarr;"),e(this.closest(".jstree-grid-wrapper")).find(".jstree-grid-sort-icon").remove(),e("<span></span>").addClass("jstree-grid-sort-icon").appendTo(e(this)).html(i);var s=p.get_node("#");p.sort(s,!0),p.redraw_node(s,!0)}})},this.redraw_node=function(e,t,i,r){return e=f.redraw_node.call(this,e,t,i,r),e&&!this.is_hidden(e)&&this._prepare_grid(e),e},this.refresh=function(){return this._clean_grid(),f.refresh.apply(this,arguments)},this.set_id=function(t,i){var r,n=this.uniq;t&&(r=t.id);var a=f.set_id.apply(this,arguments);if(a&&void 0!==r){var o=(this.gridWrapper,[r]);t&&t.children_d&&(o=o.concat(t.children_d)),d(n,o,this._gridSettings.gridcols).attr("data-jstreegrid",t.id).removeClass(s(n,r)).addClass(s(n,t.id)).each(function(i,r){e(r).attr("id",s(n,t.id)+(i+1))})}return a},this._hide_grid=function(e){var t=e&&e.children_d?e.children_d:[];d(this.uniq,t,this._gridSettings.gridcols).remove()},this.holdingCells={},this.popHoldingCells=function(t,i,r){var n,d,a=e(),o=t.children||[],l=this.uniq;for(d=0;d<o.length;d++)n=s(l,o[d])+i,r[n]&&t.state.opened&&(a=a.add(r[n]).add(this.popHoldingCells(this.get_node(o[d]),i,r)),delete r[n]);return a},this._edit=function(t,i,r){if(!t)return!1;if(t.data||(t.data={}),!r)return!1;r=e(r),"div"===r.prop("tagName").toLowerCase()&&(r=r.children("span:first"));var s=this._data.core.rtl,n=this.element.width(),d=t.data[i.value],a=e("<div />",{css:{position:"absolute",top:"-200px",left:s?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),o=e("<input />",{value:d,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(){var e=o.val();""===e||e===d?e=d:(t.data[i.value]=e,this.element.trigger("update_cell.jstree-grid",{node:t,col:i.value,value:e,old:d}),this._prepare_grid(this.get_node(t,!0))),o.remove(),r.show()},this),keydown:function(e){var t=e.which;27===t&&(this.value=d),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){o.width(Math.min(a.text("pW"+this.value).width(),n))},keypress:function(e){if(13===e.which)return!1}}),l={fontFamily:r.css("fontFamily")||"",fontSize:r.css("fontSize")||"",fontWeight:r.css("fontWeight")||"",fontStyle:r.css("fontStyle")||"",fontStretch:r.css("fontStretch")||"",fontVariant:r.css("fontVariant")||"",letterSpacing:r.css("letterSpacing")||"",wordSpacing:r.css("wordSpacing")||""};r.hide(),r.parent().append(o),o.css(l).width(Math.min(a.text("pW"+o[0].value).width(),n))[0].select()},this.grid_hide_column=function(e){this.midWrapper.find(".jstree-grid-column-"+e).hide()},this.grid_show_column=function(e){this.midWrapper.find(".jstree-grid-column-"+e).show()},this._prepare_grid=function(i){var r,n,a,o,l,h,c,f,v,m,j,_,x,w,y,C,b,S,W,k,z,q,A,T,P,M,D,V,F,H=this._gridSettings,O=H.treeClass,N=this,L=H.columns||[],B=H.isThemeroller,E=this.uniq,I=H.treecol,U=this.element,$=this.rootid,Q=B?"themeroller":"regular",X=this.get_node(i),Y=H.columnWidth,G=H.defaultConf,J=this.midWrapper,K=X.id,R=this.get_node(X.parent).children,Z=e.inArray(K,R),ee=this.holdingCells,te=!1;if(r=e(i),v=r.children("[class~='jstree-anchor']"),V=v.hasClass("jstree-search"),F=v.hasClass("jstree-clicked"),1===v.length){!X.state.opened,C=s(E,K),b="#"===X.parent?null:X.parent,v.addClass(O),u(v,r,N),m=v;this.settings.grid;for(o=0;o<L.length;o++)I!==o&&(P=L[o],D=J.children("div:eq("+o+")"),h=P.cellClass||"",c=P.wideCellClass||"",f=P.columnClass||"",D.addClass(f),l=p(P.value,X),"function"==typeof P.format&&(l=P.format(l)),P.images?(a=P.images[l]||P.images.default)&&(M="*"===a[0]?'<span class="'+a.substr(1)+'"></span>':'<img src="'+a+'">'):M=l,(void 0===M||null===M||t.test(M))&&(M="&nbsp;"),j=P.valueClass&&null!==X.data&&void 0!==X.data?X.data[P.valueClass]||"":"",j&&P.valueClassPrefix&&""!==P.valueClassPrefix&&(j=P.valueClassPrefix+j),_=P.wideValueClass&&null!==X.data&&void 0!==X.data?X.data[P.wideValueClass]||"":"",_&&P.wideValueClassPrefix&&""!==P.wideValueClassPrefix&&(_=P.wideValueClassPrefix+_),y=P.title&&null!==X.data&&void 0!==X.data?X.data[P.title]||"":"",y=y.replace(/<\/?[^>]+>/gi,""),w=7,n=P.width||Y,"auto"!==n&&(n-=w),m=d(E,K,o),(!m||m.length<1)&&(m=e("<div></div>"),e("<span></span>").appendTo(m),m.attr("id",C+o),m.addClass(C),m.attr("data-jstreegrid",K),V?m.addClass("jstree-search"):m.removeClass("jstree-search"),F?m.addClass("jstree-clicked"):m.removeClass("jstree-clicked"),!0===this.settings.core.themes.ellipsis&&o!==I&&m.addClass("jstree-grid-ellipsis")),k=Z<=0?X.parent:g(this,R[Z-1]),W=d(E,k,o),q=Z>=R.length-1?"NULL":R[Z+1],z=d(E,q,o),T=X.children&&X.children.length>0?X.children[0]:"NULL",A=d(E,T,o),S=d(E,b,o),b?(S&&S.length>0?(W&&W.length>0?m.insertAfter(W):A&&A.length>0?m.insertBefore(A):z&&z.length>0?m.insertBefore(z):m.insertAfter(S),te=!0):te=!1,ee[C+o]=m):(W&&W.length>0?m.insertAfter(W):A&&A.length>0?m.insertBefore(A):z&&z.length>0?m.insertBefore(z):m.appendTo(D),te=!0),te&&m.after(this.popHoldingCells(X,o,ee)),x=m.children("span"),x.addClass(h+" "+j).html(M),m=m.css(G).addClass("jstree-grid-cell jstree-grid-cell-regular jstree-grid-cell-root-"+$+" jstree-grid-cell-"+Q+" "+c+" "+_+(B?" ui-state-default":"")).addClass("jstree-grid-col-"+o).addClass("jstree-animated"),m.click(function(t,i,r,s,n){return function(n){var d=jQuery.Event("select_cell.jstree-grid");t.trigger(d,[{value:r,column:s.header,node:i,grid:e(this),sourceName:s.value}]),d.isDefaultPrevented()||i.children(".jstree-anchor").trigger("click.jstree",n)}}(U,r,l,P)),m.on("contextmenu",function(t,i,r,s,n){return function(d){H.gridcontextmenu&&(d.preventDefault(),e.vakata.context.show(this,{x:d.pageX,y:d.pageY},H.gridcontextmenu(N,t,i,r,s,n,d.target)))}}(U,r,l,P,this)),m.hover(function(e,t){return function(){t.hover_node(e)}}(r,this),function(e,t){return function(){t.dehover_node(e)}}(r,this)),y&&x.attr("title",y),U.trigger("render_cell.jstree-grid",[{value:l,column:P.header,node:r,sourceName:P.value}]));m.addClass("jstree-grid-cell-last"+(B?" ui-state-default":"")),void 0===L[L.length-1].width&&m.addClass("jstree-grid-width-auto").next(".jstree-grid-separator").remove()}this.element.css({"overflow-y":"auto !important"})},this.holdingCells={}}});
//# sourceMappingURL=jstreegrid.min.js.map