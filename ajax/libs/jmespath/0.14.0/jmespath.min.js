!function(t){"use strict";function e(t){return null!==t&&"[object Array]"===toString.call(t)}function r(t){return null!==t&&"[object Object]"===toString.call(t)}function n(t,i){if(t===i)return!0;var s=toString.call(t);if(s!==toString.call(i))return!1;if(e(t)===!0){if(t.length!==i.length)return!1;for(var a=0;a<t.length;a++)if(n(t[a],i[a])===!1)return!1;return!0}if(r(t)===!0){var u={};for(var o in t)if(hasOwnProperty.call(t,o)){if(n(t[o],i[o])===!1)return!1;u[o]=!0}for(var c in i)if(hasOwnProperty.call(i,c)&&u[c]!==!0)return!1;return!0}return!1}function i(t){if(""===t||t===!1||null===t)return!0;if(e(t)&&0===t.length)return!0;if(r(t)){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}return!1}function s(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;n++)r.push(t[e[n]]);return r}function a(t,e){var r={};for(var n in t)r[n]=t[n];for(var i in e)r[i]=e[i];return r}function u(){}function o(){this.bindingPower={EOF:0,UnquotedIdentifier:0,QuotedIdentifier:0,Rbracket:0,Rparen:0,Comma:0,Rbrace:0,Number:0,Current:0,Expref:0,Pipe:1,Or:2,And:3,EQ:5,GT:5,LT:5,GTE:5,LTE:5,NE:5,Flatten:9,Star:20,Filter:21,Dot:40,Not:45,Lbrace:50,Lbracket:55,Lparen:60}}function c(t){this.runtime=t}function h(t){this.interpreter=t,this.functionTable={abs:{func:this.functionAbs,signature:[{types:["number"]}]},avg:{func:this.functionAvg,signature:[{types:["array-number"]}]},ceil:{func:this.functionCeil,signature:[{types:["number"]}]},contains:{func:this.functionContains,signature:[{types:["string","array"]},{types:["any"]}]},ends_with:{func:this.functionEndsWith,signature:[{types:["string"]},{types:["string"]}]},floor:{func:this.functionFloor,signature:[{types:["number"]}]},length:{func:this.functionLength,signature:[{types:["string","array","object"]}]},map:{func:this.functionMap,signature:[{types:["expref"]},{types:["array"]}]},max:{func:this.functionMax,signature:[{types:["array-number","array-string"]}]},merge:{func:this.functionMerge,signature:[{types:["object"],variadic:!0}]},max_by:{func:this.functionMaxBy,signature:[{types:["array"]},{types:["expref"]}]},sum:{func:this.functionSum,signature:[{types:["array-number"]}]},starts_with:{func:this.functionStartsWith,signature:[{types:["string"]},{types:["string"]}]},min:{func:this.functionMin,signature:[{types:["array-number","array-string"]}]},min_by:{func:this.functionMinBy,signature:[{types:["array"]},{types:["expref"]}]},type:{func:this.functionType,signature:[{types:["any"]}]},keys:{func:this.functionKeys,signature:[{types:["object"]}]},values:{func:this.functionValues,signature:[{types:["object"]}]},sort:{func:this.functionSort,signature:[{types:["array-string","array-number"]}]},sort_by:{func:this.functionSortBy,signature:[{types:["array"]},{types:["expref"]}]},join:{func:this.functionJoin,signature:[{types:["string"]},{types:["array-string"]}]},reverse:{func:this.functionReverse,signature:[{types:["string","array"]}]},to_array:{func:this.functionToArray,signature:[{types:["any"]}]},to_string:{func:this.functionToString,signature:[{types:["any"]}]},to_number:{func:this.functionToNumber,signature:[{types:["any"]}]},not_null:{func:this.functionNotNull,signature:[{types:["any"],variadic:!0}]}}}function l(t){var e=new o,r=e.parse(t);return r}function f(t){var e=new u;return e.tokenize(t)}function p(t,e){var r=new o,n=new h,i=new c(n);n.interpreter=i;var s=r.parse(e);return i.search(s,t)}var d={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},v={a:!0,b:!0,c:!0,d:!0,e:!0,f:!0,g:!0,h:!0,i:!0,j:!0,k:!0,l:!0,m:!0,n:!0,o:!0,p:!0,q:!0,r:!0,s:!0,t:!0,u:!0,v:!0,w:!0,x:!0,y:!0,z:!0,A:!0,B:!0,C:!0,D:!0,E:!0,F:!0,G:!0,H:!0,I:!0,J:!0,K:!0,L:!0,M:!0,N:!0,O:!0,P:!0,Q:!0,R:!0,S:!0,T:!0,U:!0,V:!0,W:!0,X:!0,Y:!0,Z:!0,_:!0},y={"<":!0,">":!0,"=":!0,"!":!0},g={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,"-":!0},m=a(v,g),b={" ":!0,"\t":!0,"\n":!0};u.prototype={tokenize:function(t){var e=[];this.current=0;for(var r,n,i;this.current<t.length;)if(void 0!==v[t[this.current]])r=this.current,n=this.consumeUnquotedIdentifier(t),e.push({type:"UnquotedIdentifier",value:n,start:r});else if(void 0!==d[t[this.current]])e.push({type:d[t[this.current]],value:t[this.current],start:this.current}),this.current++;else if(void 0!==g[t[this.current]])i=this.consumeNumber(t),e.push(i);else if("["===t[this.current])i=this.consumeLBracket(t),e.push(i);else if('"'===t[this.current])r=this.current,n=this.consumeQuotedIdentifier(t),e.push({type:"QuotedIdentifier",value:n,start:r});else if("'"===t[this.current])r=this.current,n=this.consumeRawStringLiteral(t),e.push({type:"Literal",value:n,start:r});else if("`"===t[this.current]){r=this.current;var s=this.consumeLiteral(t);e.push({type:"Literal",value:s,start:r})}else if(void 0!==y[t[this.current]])e.push(this.consumeOperator(t));else if(void 0!==b[t[this.current]])this.current++;else if("&"===t[this.current])r=this.current,this.current++,"&"===t[this.current]?(this.current++,e.push({type:"And",value:"&&",start:r})):e.push({type:"Expref",value:"&",start:r});else{if("|"!==t[this.current]){var a=new Error("Unknown character:"+t[this.current]);throw a.name="LexerError",a}r=this.current,this.current++,"|"===t[this.current]?(this.current++,e.push({type:"Or",value:"||",start:r})):e.push({type:"Pipe",value:"|",start:r})}return e},consumeUnquotedIdentifier:function(t){var e=this.current;for(this.current++;void 0!==m[t[this.current]];)this.current++;return t.slice(e,this.current)},consumeQuotedIdentifier:function(t){var e=this.current;this.current++;for(var r=t.length;'"'!==t[this.current]&&this.current<r;){var n=this.current;"\\"!==t[n]||"\\"!==t[n+1]&&'"'!==t[n+1]?n++:n+=2,this.current=n}return this.current++,JSON.parse(t.slice(e,this.current))},consumeRawStringLiteral:function(t){var e=this.current;this.current++;for(var r=t.length;"'"!==t[this.current]&&this.current<r;){var n=this.current;"\\"!==t[n]||"\\"!==t[n+1]&&"'"!==t[n+1]?n++:n+=2,this.current=n}this.current++;var i=t.slice(e+1,this.current-1);return i.replace("\\'","'")},consumeNumber:function(t){var e=this.current;this.current++;for(var r=t.length;void 0!==g[t[this.current]]&&this.current<r;)this.current++;var n=parseInt(t.slice(e,this.current));return{type:"Number",value:n,start:e}},consumeLBracket:function(t){var e=this.current;return this.current++,"?"===t[this.current]?(this.current++,{type:"Filter",value:"[?",start:e}):"]"===t[this.current]?(this.current++,{type:"Flatten",value:"[]",start:e}):{type:"Lbracket",value:"[",start:e}},consumeOperator:function(t){var e=this.current,r=t[e];return this.current++,"!"===r?"="===t[this.current]?(this.current++,{type:"NE",value:"!=",start:e}):{type:"Not",value:"!",start:e}:"<"===r?"="===t[this.current]?(this.current++,{type:"LTE",value:"<=",start:e}):{type:"LT",value:"<",start:e}:">"===r?"="===t[this.current]?(this.current++,{type:"GTE",value:">=",start:e}):{type:"GT",value:">",start:e}:"="===r&&"="===t[this.current]?(this.current++,{type:"EQ",value:"==",start:e}):void 0},consumeLiteral:function(t){this.current++;for(var e,r=this.current,n=t.length;"`"!==t[this.current]&&this.current<n;){var i=this.current;"\\"!==t[i]||"\\"!==t[i+1]&&"`"!==t[i+1]?i++:i+=2,this.current=i}var s=t.slice(r,this.current).trimLeft();return s=s.replace("\\`","`"),e=this.looksLikeJSON(s)?JSON.parse(s):JSON.parse('"'+s+'"'),this.current++,e},looksLikeJSON:function(t){var e='[{"',r=["true","false","null"],n="-0123456789";if(""===t)return!1;if(e.indexOf(t[0])>=0)return!0;if(r.indexOf(t)>=0)return!0;if(!(n.indexOf(t[0])>=0))return!1;try{return JSON.parse(t),!0}catch(t){return!1}}},o.prototype={parse:function(t){this.loadTokens(t),this.index=0;var e=this.expression(0);if("EOF"!==this.lookahead(0)){var r=this.lookaheadToken(0),n=new Error("Unexpected token type: "+r.type+", value: "+r.value);throw n.name="ParserError",n}return e},loadTokens:function(t){var e=new u,r=e.tokenize(t);r.push({type:"EOF",value:"",start:t.length}),this.tokens=r},expression:function(t){var e=this.lookaheadToken(0);this.advance();for(var r="nud"+e.type,n=this[r]||this.errorToken,i=n.call(this,e),s=this.lookahead(0);t<this.bindingPower[s];){var a=this["led"+s];void 0===a&&this.errorToken(this.lookaheadToken(0)),this.advance(),i=a.call(this,i),s=this.lookahead(0)}return i},lookahead:function(t){return this.tokens[this.index+t].type},lookaheadToken:function(t){return this.tokens[this.index+t]},advance:function(){this.index++},match:function(t){if(this.lookahead(0)!==t){var e=this.lookaheadToken(0),r=new Error("Expected "+t+", got: "+e.type);throw r.name="ParserError",r}this.advance()},errorToken:function(t){var e=new Error("Invalid token ("+t.type+'): "'+t.value+'"');throw e.name="ParserError",e},nudLiteral:function(t){return{type:"Literal",value:t.value}},nudUnquotedIdentifier:function(t){return{type:"Field",name:t.value}},nudExpref:function(){var t=this.expression(this.bindingPower.Expref);return{type:"ExpressionReference",children:[t]}},nudQuotedIdentifier:function(t){var e={type:"Field",name:t.value};if("Lparen"===this.lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return e},nudNot:function(){var t=this.expression(this.bindingPower.Not);return{type:"NotExpression",children:[t]}},ledOr:function(t){var e=this.expression(this.bindingPower.Or);return{type:"OrExpression",children:[t,e]}},ledAnd:function(t){var e=this.expression(this.bindingPower.And);return{type:"AndExpression",children:[t,e]}},ledPipe:function(t){var e=this.expression(this.bindingPower.Pipe);return{type:"Pipe",children:[t,e]}},nudStar:function(){var t={type:"Identity"},e=null;return e="Rbracket"===this.lookahead(0)?{type:"Identity"}:this.parseProjectionRHS(this.bindingPower.Star),{type:"ValueProjection",children:[t,e]}},nudCurrent:function(){return{type:"Current"}},nudLbracket:function(){var t;return"Number"===this.lookahead(0)||"Colon"===this.lookahead(0)?(t=this.parseIndexExpression(),this.projectIfSlice({type:"Identity"},t)):"Star"===this.lookahead(0)&&"Rbracket"===this.lookahead(1)?(this.advance(),this.advance(),t=this.parseProjectionRHS(this.bindingPower.Star),{type:"Projection",children:[{type:"Identity"},t]}):this.parseMultiselectList()},parseIndexExpression:function(){if("Colon"===this.lookahead(0)||"Colon"===this.lookahead(1))return this.parseSliceExpression();var t={type:"Index",value:this.lookaheadToken(0).value};return this.advance(),this.match("Rbracket"),t},projectIfSlice:function(t,e){var r={type:"IndexExpression",children:[t,e]};return"Slice"===e.type?{type:"Projection",children:[r,this.parseProjectionRHS(this.bindingPower.Star)]}:r},parseSliceExpression:function(){for(var t=[null,null,null],e=0,r=this.lookahead(0);"Rbracket"!==r&&e<3;){if("Colon"===r)e++,this.advance();else{if("Number"!==r){var n=this.lookahead(0),i=new Error("Syntax error, unexpected token: "+n.value+"("+n.type+")");throw i.name="Parsererror",i}t[e]=this.lookaheadToken(0).value,this.advance()}r=this.lookahead(0)}return this.match("Rbracket"),{type:"Slice",children:t}},nudLbrace:function(){return this.parseMultiselectHash()},ledDot:function(t){var e,r=this.bindingPower.Dot;return"Star"!==this.lookahead(0)?(e=this.parseDotRHS(r),{type:"Subexpression",children:[t,e]}):(this.advance(),e=this.parseProjectionRHS(r),{type:"ValueProjection",children:[t,e]})},nudFilter:function(){return this.ledFilter({type:"Identity"})},ledFilter:function(t){var e,r=this.expression(0);return this.match("Rbracket"),e="Flatten"===this.lookahead(0)?{type:"Identity"}:this.parseProjectionRHS(this.bindingPower.Filter),{type:"FilterProjection",children:[t,e,r]}},ledEQ:function(t){return this.parseComparator(t,"EQ")},ledNE:function(t){return this.parseComparator(t,"NE")},ledGT:function(t){return this.parseComparator(t,"GT")},ledGTE:function(t){return this.parseComparator(t,"GTE")},ledLT:function(t){return this.parseComparator(t,"LT")},ledLTE:function(t){return this.parseComparator(t,"LTE")},parseComparator:function(t,e){var r=this.expression(this.bindingPower[e]);return{type:"Comparator",name:e,children:[t,r]}},ledLbracket:function(t){var e,r=this.lookaheadToken(0);return"Number"===r.type||"Colon"===r.type?(e=this.parseIndexExpression(),this.projectIfSlice(t,e)):(this.match("Star"),this.match("Rbracket"),e=this.parseProjectionRHS(this.bindingPower.Star),{type:"Projection",children:[t,e]})},nudFlatten:function(){var t={type:"Flatten",children:[{type:"Identity"}]},e=this.parseProjectionRHS(this.bindingPower.Flatten);return{type:"Projection",children:[t,e]}},ledFlatten:function(t){var e={type:"Flatten",children:[t]},r=this.parseProjectionRHS(this.bindingPower.Flatten);return{type:"Projection",children:[e,r]}},nudLparen:function(){for(var t,e=[];"Rparen"!==this.lookahead(0);)"Current"===this.lookahead(0)?(t={type:"Current"},this.advance()):t=this.expression(0),e.push(t);return this.match("Rparen"),e[0]},ledLparen:function(t){for(var e,r,n=t.name,i=[];"Rparen"!==this.lookahead(0);)"Current"===this.lookahead(0)?(e={type:"Current"},this.advance()):e=this.expression(0),"Comma"===this.lookahead(0)&&this.match("Comma"),i.push(e);return this.match("Rparen"),r={type:"Function",name:n,children:i}},parseDotRHS:function(t){var e=this.lookahead(0),r=["UnquotedIdentifier","QuotedIdentifier","Star"];return r.indexOf(e)>=0?this.expression(t):"Lbracket"===e?(this.match("Lbracket"),this.parseMultiselectList()):"Lbrace"===e?(this.match("Lbrace"),this.parseMultiselectHash()):void 0},parseProjectionRHS:function(t){var e;if(this.bindingPower[this.lookahead(0)]<10)e={type:"Identity"};else if("Lbracket"===this.lookahead(0))e=this.expression(t);else if("Filter"===this.lookahead(0))e=this.expression(t);else{if("Dot"!==this.lookahead(0)){var r=this.lookaheadToken(0),n=new Error("Sytanx error, unexpected token: "+r.value+"("+r.type+")");throw n.name="ParserError",n}this.match("Dot"),e=this.parseDotRHS(t)}return e},parseMultiselectList:function(){for(var t=[];"Rbracket"!==this.lookahead(0);){var e=this.expression(0);if(t.push(e),"Comma"===this.lookahead(0)&&(this.match("Comma"),"Rbracket"===this.lookahead(0)))throw new Error("Unexpected token Rbracket")}return this.match("Rbracket"),{type:"MultiSelectList",children:t}},parseMultiselectHash:function(){for(var t,e,r,n,i=[],s=["UnquotedIdentifier","QuotedIdentifier"];;){if(t=this.lookaheadToken(0),s.indexOf(t.type)<0)throw new Error("Expecting an identifier token, got: "+t.type);if(e=t.value,this.advance(),this.match("Colon"),r=this.expression(0),n={type:"KeyValuePair",name:e,value:r},i.push(n),"Comma"===this.lookahead(0))this.match("Comma");else if("Rbrace"===this.lookahead(0)){this.match("Rbrace");break}}return{type:"MultiSelectHash",children:i}}},c.prototype={search:function(t,e){return this.visit(t,e)},visit:function(t,e){var r=this["visit"+t.type];if(void 0===r)throw new Error("Unknown node type: "+t.type);return r.call(this,t,e)},visitField:function(t,e){if(null===e)return null;if(r(e)){var n=e[t.name];return void 0===n?null:n}return null},visitSubexpression:function(t,e){for(var r=this.visit(t.children[0],e),n=1;n<t.children.length;n++)if(r=this.visit(t.children[1],r),null===r)return null;return r},visitIndexExpression:function(t,e){var r=this.visit(t.children[0],e),n=this.visit(t.children[1],r);return n},visitIndex:function(t,r){if(!e(r))return null;var n=t.value;n<0&&(n=r.length+n);var i=r[n];return void 0===i&&(i=null),i},visitSlice:function(t,r){if(!e(r))return null;var n,i=t.children.slice(0),s=this.computeSliceParams(r.length,i),a=s[0],u=s[1],o=s[2],c=[];if(o>0)for(n=a;n<u;n+=o)c.push(r[n]);else for(n=a;n>u;n+=o)c.push(r[n]);return c},computeSliceParams:function(t,e){var r=e[0],n=e[1],i=e[2],s=[null,null,null];if(null===i)i=1;else if(0===i){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var u=i<0;return r=null===r?u?t-1:0:this.capSliceRange(t,r,i),n=null===n?u?-1:t:this.capSliceRange(t,n,i),s[0]=r,s[1]=n,s[2]=i,s},capSliceRange:function(t,e,r){return e<0?(e+=t,e<0&&(e=r<0?-1:0)):e>=t&&(e=r<0?t-1:t),e},visitProjection:function(t,r){var n=this.visit(t.children[0],r);if(!e(n))return null;for(var i=[],s=0;s<n.length;s++){var a=this.visit(t.children[1],n[s]);null!==a&&i.push(a)}return i},visitValueProjection:function(t,e){var n=this.visit(t.children[0],e);if(!r(n))return null;for(var i=[],a=s(n),u=0;u<a.length;u++){var o=this.visit(t.children[1],a[u]);null!==o&&i.push(o)}return i},visitFilterProjection:function(t,r){var n=this.visit(t.children[0],r);if(!e(n))return null;for(var s,a,u=[],o=[],c=0;c<n.length;c++)s=this.visit(t.children[2],n[c]),i(s)||u.push(n[c]);for(var h=0;h<u.length;h++)a=this.visit(t.children[1],u[h]),null!==a&&o.push(a);return o},visitComparator:function(t,e){var r,i=this.visit(t.children[0],e),s=this.visit(t.children[1],e);switch(t.name){case"EQ":r=n(i,s);break;case"NE":r=!n(i,s);break;case"GT":r=i>s;break;case"GTE":r=i>=s;break;case"LT":r=i<s;break;case"LTE":r=i<=s;break;default:throw new Error("Unknown comparator: "+t.name)}return r},visitFlatten:function(t,r){var n=this.visit(t.children[0],r);if(!e(n))return null;for(var i=[],s=0;s<n.length;s++){var a=n[s];e(a)?i.push.apply(i,a):i.push(a)}return i},visitIdentity:function(t,e){return e},visitMultiSelectList:function(t,e){if(null===e)return null;for(var r=[],n=0;n<t.children.length;n++)r.push(this.visit(t.children[n],e));return r},visitMultiSelectHash:function(t,e){if(null===e)return null;for(var r,n={},i=0;i<t.children.length;i++)r=t.children[i],n[r.name]=this.visit(r.value,e);return n},visitOrExpression:function(t,e){var r=this.visit(t.children[0],e);return i(r)&&(r=this.visit(t.children[1],e)),r},visitAndExpression:function(t,e){var r=this.visit(t.children[0],e);return i(r)===!0?r:this.visit(t.children[1],e)},visitNotExpression:function(t,e){var r=this.visit(t.children[0],e);return i(r)},visitLiteral:function(t){return t.value},visitPipe:function(t,e){var r=this.visit(t.children[0],e);return this.visit(t.children[1],r)},visitCurrent:function(t,e){return e},visitFunction:function(t,e){for(var r=[],n=0;n<t.children.length;n++)r.push(this.visit(t.children[n],e));return this.runtime.callFunction(t.name,r)},visitExpressionReference:function(t){var e=t.children[0];return e.jmespathType="Expref",e}},h.prototype={callFunction:function(t,e){var r=this.functionTable[t];if(void 0===r)throw new Error("Unknown function: "+t+"()");return this.validateArgs(t,e,r.signature),r.func.call(this,e)},validateArgs:function(t,e,r){var n;if(r[r.length-1].variadic){if(e.length<r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+t+"() takes at least"+r.length+n+" but received "+e.length)}else if(e.length!==r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+t+"() takes "+r.length+n+" but received "+e.length);for(var i,s,a,u=0;u<r.length;u++){a=!1,i=r[u].types,s=this.getTypeName(e[u]);for(var o=0;o<i.length;o++)if(this.typeMatches(s,i[o],e[u])){a=!0;break}if(!a)throw new Error("TypeError: "+t+"() expected argument "+(u+1)+" to be type "+i+" but received type "+s+" instead.")}},typeMatches:function(t,e,r){if("any"===e)return!0;if(0!==e.indexOf("array"))return t===e;if("array"===e)return 0===t.indexOf("array");if(0===t.indexOf("array")){for(var n=e.split("-")[1],i=0;i<r.length;i++)if(!this.typeMatches(this.getTypeName(r[i]),n,r[i]))return!1;return!0}},getTypeName:function(t){switch(toString.call(t)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Array]":return"array";case"[object Boolean]":return"boolean";case"[object Null]":return"null";case"[object Object]":return"Expref"===t.jmespathType?"expref":"object"}},functionStartsWith:function(t){return 0===t[0].lastIndexOf(t[1])},functionEndsWith:function(t){var e=t[0],r=t[1];return e.indexOf(r,e.length-r.length)!==-1},functionReverse:function(t){var e=this.getTypeName(t[0]);if("string"===e){for(var r=t[0],n="",i=r.length-1;i>=0;i--)n+=r[i];return n}var s=t[0].slice(0);return s.reverse(),s},functionAbs:function(t){return Math.abs(t[0])},functionCeil:function(t){return Math.ceil(t[0])},functionAvg:function(t){for(var e=0,r=t[0],n=0;n<r.length;n++)e+=r[n];return e/r.length},functionContains:function(t){return t[0].indexOf(t[1])>=0},functionFloor:function(t){return Math.floor(t[0])},functionLength:function(t){return r(t[0])?Object.keys(t[0]).length:t[0].length},functionMap:function(t){for(var e=[],r=this.interpreter,n=t[0],i=t[1],s=0;s<i.length;s++)e.push(r.visit(n,i[s]));return e},functionMerge:function(t){for(var e={},r=0;r<t.length;r++){var n=t[r];for(var i in n)e[i]=n[i]}return e},functionMax:function(t){if(t[0].length>0){var e=this.getTypeName(t[0][0]);if("number"===e)return Math.max.apply(Math,t[0]);for(var r=t[0],n=r[0],i=1;i<r.length;i++)n.localeCompare(r[i])<0&&(n=r[i]);return n}return null},functionMin:function(t){if(t[0].length>0){var e=this.getTypeName(t[0][0]);if("number"===e)return Math.min.apply(Math,t[0]);for(var r=t[0],n=r[0],i=1;i<r.length;i++)r[i].localeCompare(n)<0&&(n=r[i]);return n}return null},functionSum:function(t){for(var e=0,r=t[0],n=0;n<r.length;n++)e+=r[n];return e},functionType:function(t){return this.getTypeName(t[0])},functionKeys:function(t){return Object.keys(t[0])},functionValues:function(t){for(var e=t[0],r=Object.keys(e),n=[],i=0;i<r.length;i++)n.push(e[r[i]]);return n},functionJoin:function(t){var e=t[0],r=t[1];return r.join(e)},functionToArray:function(t){return"array"===this.getTypeName(t[0])?t[0]:[t[0]]},functionToString:function(t){return"string"===this.getTypeName(t[0])?t[0]:JSON.stringify(t[0])},functionToNumber:function(t){var e,r=this.getTypeName(t[0]);return"number"===r?t[0]:"string"!==r||(e=+t[0],isNaN(e))?null:e},functionNotNull:function(t){for(var e=0;e<t.length;e++)if("null"!==this.getTypeName(t[e]))return t[e];return null},functionSort:function(t){var e=t[0].slice(0);return e.sort(),e},functionSortBy:function(t){var e=t[0].slice(0);if(0===e.length)return e;var r=this.interpreter,n=t[1],i=this.getTypeName(r.visit(n,e[0]));if(["number","string"].indexOf(i)<0)throw new Error("TypeError");for(var s=this,a=[],u=0;u<e.length;u++)a.push([u,e[u]]);a.sort(function(t,e){var a=r.visit(n,t[1]),u=r.visit(n,e[1]);if(s.getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+s.getTypeName(a));if(s.getTypeName(u)!==i)throw new Error("TypeError: expected "+i+", received "+s.getTypeName(u));return a>u?1:a<u?-1:t[0]-e[0]});for(var o=0;o<a.length;o++)e[o]=a[o][1];return e},functionMaxBy:function(t){for(var e,r,n=t[1],i=t[0],s=this.createKeyFunction(n,["number","string"]),a=-(1/0),u=0;u<i.length;u++)r=s(i[u]),r>a&&(a=r,e=i[u]);return e},functionMinBy:function(t){for(var e,r,n=t[1],i=t[0],s=this.createKeyFunction(n,["number","string"]),a=1/0,u=0;u<i.length;u++)r=s(i[u]),r<a&&(a=r,e=i[u]);return e},createKeyFunction:function(t,e){var r=this,n=this.interpreter,i=function(i){var s=n.visit(t,i);if(e.indexOf(r.getTypeName(s))<0){var a="TypeError: expected one of "+e+", received "+r.getTypeName(s);throw new Error(a)}return s};return i}},t.tokenize=f,t.compile=l,t.search=p,t.Parser=o,t.strictDeepEqual=n}("undefined"==typeof exports?this.jmespath={}:exports);
//# sourceMappingURL=jmespath.min.js.map