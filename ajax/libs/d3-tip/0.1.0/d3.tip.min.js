d3.svg.tip=function(){function t(t,e){this.ownerSVGElement.appendChild(g);var n,a,s,c,f,p,w=l.apply(this,arguments),x=u.apply(this,arguments),m=d3.select(g),B=(d3.select(this.ownerSVGElement),d3.select(this),d3.select(i("rect"))),y=(this.ownerSVGElement.getBoundingClientRect(),this.getBBox());m.text(" ").node().appendChild(B.node());var v=m.append("text").text(x).attr("text-anchor","middle").attr("alignment-baseline","middle"),S=v.node().getBBox();switch(S.width=S.width+2*d,S.height=S.height+2*d,B.attr("width",S.width).attr("height",S.height).attr("rx",o).attr("ry",o),v.attr("dx",S.width/2).attr("dy",S.height/2),c=B.node().getBBox(),s=m.append("path").attr("d",r()),p=s.node().getBBox(),h){case"top":s.attr("transform","translate("+c.width/2+","+c.height+")"),f=m.node().getBBox(),n=y.x+y.width/2-f.width/2+w[0],a=y.y-f.height+w[1];break;case"bottom":s.attr("transform","translate("+c.width/2+","+-p.height/2+")"),f=m.node().getBBox(),n=y.x+y.width/2-f.width/2+w[0],a=y.y+y.height+p.height-w[1]}m.attr("transform","translate("+n+","+a+")")}function e(){return[0,0]}function n(){return" "}function r(){return d3.svg.symbol().type("top"==h?"triangle-down":"triangle-up").size(a)}function i(t){return document.createElementNS(d3.ns.prefix.svg,t)}var h="top",d=5,o=2,a=90,l=e,u=n,g=i("g");return t.attr=function(e,n){return d3.select(g).attr(e,n),t},t.orient=function(e){return arguments.length?(h=e,t):h},t.padding=function(e){return arguments.length?(d=e,t):d},t.cornerRadius=function(e){return arguments.length?(o=e,t):o},t.stemSize=function(e){return arguments.length?(a=e,t):a},t.offset=function(e){return arguments.length?(l=null==e?e:d3.functor(e),t):l},t.text=function(e){return arguments.length?(u=null==e?e:d3.functor(e),t):u},t};