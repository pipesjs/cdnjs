d3.svg.tip=function(){function t(t,e){this.ownerSVGElement.appendChild(s);var n,d,c,u,f,w,p=g.apply(this,arguments),x=l.apply(this,arguments),m=d3.select(s),B=this.tagName.toLowerCase(),y=(d3.select(this.ownerSVGElement),d3.select(this),d3.select(i("rect"))),b=(this.ownerSVGElement.getBoundingClientRect(),this.getBBox());m.text(" ").node().appendChild(y.node());var v=m.append("text").text(x).attr("text-anchor","middle").attr("alignment-baseline","middle"),S=v.node().getBBox();switch(S.width=S.width+2*a,S.height=S.height+2*a,y.attr("width",S.width).attr("height",S.height).attr("rx",o).attr("ry",o),v.attr("dx",S.width/2).attr("dy",S.height/2),u=y.node().getBBox(),c=m.append("path").attr("d",r()),w=c.node().getBBox(),h){case"top":c.attr("transform","translate("+u.width/2+","+u.height+")"),f=m.node().getBBox(),n=b.x+b.width/2-f.width/2+p[0],d=b.y-f.height+p[1];break;case"bottom":c.attr("transform","translate("+u.width/2+","+-w.height/2+")"),f=m.node().getBBox(),n=b.x+b.width/2-f.width/2+p[0],d=b.y+b.height+w.height-p[1];break;case"left":c.attr("transform","translate("+u.width+","+u.height/2+") rotate(-90)"),f=m.node().getBBox(),n=b.x-w.height/2+p[0],d=b.y+p[1],"circle"==B?(n-=b.width+f.width/2,d-=b.height/2):"rect"==B&&(n-=f.width-w.height/2,d-=f.height/2);break;case"right":c.attr("transform","translate("+-w.height/2+","+u.height/2+") rotate(90)"),f=m.node().getBBox(),n=b.x+w.height+p[0],d=b.y+p[1],"circle"==B?(n+=b.width,d-=b.height/2):"rect"==B&&(n+=b.width,d-=f.height/2)}m.attr("transform","translate("+n+","+d+")")}function e(){return[0,0]}function n(){return" "}function r(){return d3.svg.symbol().type("bottom"==h?"triangle-up":"triangle-down").size(d)}function i(t){return document.createElementNS(d3.ns.prefix.svg,t)}var h="top",a=5,o=2,d=50,g=e,l=n,s=i("g");return t.attr=function(e,n){return d3.select(s).attr(e,n),t},t.orient=function(e){return arguments.length?(h=e,t):h},t.padding=function(e){return arguments.length?(a=e,t):a},t.cornerRadius=function(e){return arguments.length?(o=e,t):o},t.stemSize=function(e){return arguments.length?(d=e,t):d},t.offset=function(e){return arguments.length?(g=null==e?e:d3.functor(e),t):g},t.text=function(e){return arguments.length?(l=null==e?e:d3.functor(e),t):l},t};