d3.svg.tip=function(){function t(t,e){this.ownerSVGElement.appendChild(s);var n,d,u,c,f,p,w=g.apply(this,arguments),x=l.apply(this,arguments),m=d3.select(s),B=(d3.select(this.ownerSVGElement),d3.select(this),d3.select(i("rect"))),y=(this.ownerSVGElement.getBoundingClientRect(),this.getBBox());m.text(" ").node().appendChild(B.node());var b=m.append("text").text(x).attr("text-anchor","middle").attr("alignment-baseline","middle"),v=b.node().getBBox();switch(v.width=v.width+2*o,v.height=v.height+2*o,B.attr("width",v.width).attr("height",v.height).attr("rx",a).attr("ry",a),b.attr("dx",v.width/2).attr("dy",v.height/2),c=B.node().getBBox(),u=m.append("path").attr("d",r()),p=u.node().getBBox(),h){case"top":u.attr("transform","translate("+c.width/2+","+c.height+")"),f=m.node().getBBox(),n=y.x+y.width/2-f.width/2+w[0],d=y.y-f.height+w[1];break;case"bottom":u.attr("transform","translate("+c.width/2+","+-p.height/2+")"),f=m.node().getBBox(),n=y.x+y.width/2-f.width/2+w[0],d=y.y+y.height+p.height-w[1];break;case"left":u.attr("transform","translate("+c.width+","+c.height/2+") rotate(-90)"),f=m.node().getBBox(),n=y.x-y.width-f.width/2-p.height/2+w[0],d=y.y-y.height/2+w[1]}m.attr("transform","translate("+n+","+d+")")}function e(){return[0,0]}function n(){return" "}function r(){return d3.svg.symbol().type("bottom"==h?"triangle-up":"triangle-down").size(d)}function i(t){return document.createElementNS(d3.ns.prefix.svg,t)}var h="top",o=5,a=2,d=90,g=e,l=n,s=i("g");return t.attr=function(e,n){return d3.select(s).attr(e,n),t},t.orient=function(e){return arguments.length?(h=e,t):h},t.padding=function(e){return arguments.length?(o=e,t):o},t.cornerRadius=function(e){return arguments.length?(a=e,t):a},t.stemSize=function(e){return arguments.length?(d=e,t):d},t.offset=function(e){return arguments.length?(g=null==e?e:d3.functor(e),t):g},t.text=function(e){return arguments.length?(l=null==e?e:d3.functor(e),t):l},t};