"undefined"==typeof requestAnimationFrame&&(requestAnimationFrame="undefined"!=typeof window&&(window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame)||function(e){return setTimeout(e,17)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.timer={})}(this,function(e){"use strict";function t(){s=0;var e=u();s||(e>24?isFinite(e)&&(clearTimeout(f),f=setTimeout(t,e)):s=requestAnimationFrame(t))}function n(e,t){this.callback=e,this.time=t,this.flush=!1,this.next=null}function i(e,i,o){null==i&&(i=0),null==o&&(o=Date.now());var u=new n(e,o+i);m?m.next=u:a=u,m=u,s||(f=clearTimeout(f),s=requestAnimationFrame(t))}function o(e,t,n){null==t&&(t=0),null==n&&(n=Date.now()),r.callback=e,r.time=n+t}function u(){var e=Date.now(),t=r;for(r=a;r;)e>=r.time&&(r.flush=r.callback(e-r.time,e)),r=r.next;r=t;for(var n,i=a,o=1/0;i;)i.flush?i=n?n.next=i.next:a=i.next:(i.time<o&&(o=i.time),i=(n=i).next);return m=n,o-e}var a,m,r,s,f;e.timer=i,e.timerReplace=o,e.timerFlush=u});