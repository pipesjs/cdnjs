!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3_timer={})}(this,function(t){"use strict";function n(){return p||(y(e),p=h.now())}function e(){p=0}function i(){this._call=this._time=this._next=null}function o(t,n,e){var o=new i;return o.restart(t,n,e),o}function r(t,n,e){var o=new i;return o.restart(function(n){o.stop(),t(n)},n,e),o}function u(){n(),++m;for(var t=a;t;)p>=t._time&&t._call.call(null,p-t._time),t=t._next;--m}function c(t){p=t||h.now(),m=_=0;try{u()}finally{m=0,f(),p=0}}function f(){for(var t,n=a,e=1/0;n;)n._call?(e>n._time&&(e=n._time),n=(t=n)._next):n=t?t._next=n._next:a=n._next;s=t,l(e)}function l(t){if(!m){_&&(_=clearTimeout(_));var n=t-p;n>24?1/0>t&&(_=setTimeout(c,n)):(m=1,y(c))}}var a,s,m=0,_=0,p=0,h="object"==typeof performance?performance:Date,y="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){return setTimeout(t,17)};i.prototype=o.prototype={restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?n():+i)+(null==e?0:+e),this._call||(s?s._next=this:a=this,s=this),this._call=t,this._time=i,l()},stop:function(){this._call&&(this._call=null,this._time=1/0,l())}};var x="0.3.0";t.version=x,t.now=n,t.timer=o,t.timerOnce=r,t.timerFlush=u});