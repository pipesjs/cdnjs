!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","react-dom","prop-types"],t):e.ReactAutocomplete=t(e.React,e.ReactDOM,e.PropTypes)}(this,function(e,t,n){return function(e){return function t(n,o,i){function r(s,u){if(!o[s]){if(!n[s]){var p="function"==typeof e&&e;if(!u&&p)return p(s,!0);if(l)return l(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var f=o[s]={exports:{}};n[s][0].call(f.exports,function(e){var t=n[s][1][e];return r(t||e)},f,f.exports,t,n,o,i)}return o[s].exports}for(var l="function"==typeof e&&e,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){(function(n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("react"),p=e("prop-types"),a=e("react-dom"),f=a.findDOMNode,h=e("dom-scroll-into-view"),c=[],d=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"],m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1,highlightedIndex:null},n.exposeAPI=n.exposeAPI.bind(n),n.handleInputFocus=n.handleInputFocus.bind(n),n.handleInputBlur=n.handleInputBlur.bind(n),n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.handleInputClick=n.handleInputClick.bind(n),n}return r(t,e),s(t,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"componentWillReceiveProps",value:function(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(e,t){(this.state.isOpen&&!t.isOpen||"open"in this.props&&this.props.open&&!e.open)&&this.setMenuPositions(),this.isOpen()&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen),this._ignoreBlur&&this.refs.input.focus()}},{key:"exposeAPI",value:function(e){var t=this;this.refs.input=e,d.forEach(function(n){return t[n]=e&&e[n]&&e[n].bind(e)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&null!==this.state.highlightedIndex){var e=this.refs["item-"+this.state.highlightedIndex],t=this.refs.menu;e&&h(f(e),f(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){t.keyDownHandlers[e.key]?t.keyDownHandlers[e.key].call(this,e):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(e){this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:null}),this.props.onChange(e,e.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter(function(t){return e.props.shouldItemRender(t,e.props.value)})),this.props.sortItems&&t.sort(function(t,n){return e.props.sortItems(t,n,e.props.value)}),t}},{key:"maybeAutoCompleteText",value:function(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}},{key:"setMenuPositions",value:function(){var e=this.refs.input,t=e.getBoundingClientRect(),o=n.window.getComputedStyle(e),i=parseInt(o.marginBottom,10)||0,r=parseInt(o.marginLeft,10)||0,l=parseInt(o.marginRight,10)||0;this.setState({menuTop:t.bottom+i,menuLeft:t.left+r,menuWidth:t.width+r+l})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},function(){t.setIgnoreBlur(!1),t.props.onSelect(n,e)})}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems().map(function(t,n){var o=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return u.cloneElement(o,{onMouseEnter:function(){return e.highlightItemFromMouse(n)},onClick:function(){return e.selectItemFromMouse(t)},ref:function(t){return e.refs["item-"+n]=t}})}),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},o=this.props.renderMenu(t,this.props.value,n);return u.cloneElement(o,{ref:function(t){return e.refs.menu=t},onMouseEnter:function(){return e.setIgnoreBlur(!0)},onMouseLeave:function(){return e.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(e){if(!this._ignoreBlur){this.setState({isOpen:!1,highlightedIndex:null});var t=this.props.inputProps.onBlur;t&&t(e)}}},{key:"handleInputFocus",value:function(e){if(!this._ignoreBlur){this.setState({isOpen:!0});var t=this.props.inputProps.onFocus;t&&t(e)}}},{key:"isInputFocused",value:function(){var e=this.refs.input;return e.ownerDocument&&e===e.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(e,t){return t?function(n){e(n),t(n)}:e}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&c.push({id:c.length,state:this.state});var e=this.props.inputProps,t=this.isOpen();return u.createElement("div",l({style:l({},this.props.wrapperStyle)},this.props.wrapperProps),u.createElement("input",l({},e,{role:"combobox","aria-autocomplete":"list","aria-expanded":t,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,e.onKeyDown),onKeyUp:this.composeEventHandlers(this.handleKeyUp,e.onKeyUp),onClick:this.composeEventHandlers(this.handleInputClick,e.onClick),value:this.props.value})),t&&this.renderMenu(),this.props.debug&&u.createElement("pre",{style:{marginLeft:300}},JSON.stringify(c.slice(c.length-5,c.length),null,2)))}}]),t}(u.Component);m.propTypes={items:p.array.isRequired,value:p.any,onChange:p.func,onSelect:p.func,shouldItemRender:p.func,sortItems:p.func,getItemValue:p.func.isRequired,renderItem:p.func.isRequired,renderMenu:p.func,menuStyle:p.object,inputProps:p.object,wrapperProps:p.object,wrapperStyle:p.object,autoHighlight:p.bool,onMenuVisibilityChange:p.func,open:p.bool,debug:p.bool},m.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){},onSelect:function(){},renderMenu:function(e,t,n){return u.createElement("div",{style:l({},n,this.menuStyle),children:e})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){}},m.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,o=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:o,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,o=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:o,isOpen:!0})}},Enter:function(e){var t=this;if(this.isOpen())if(null==this.state.highlightedIndex)this.setState({isOpen:!1},function(){t.refs.input.select()});else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],o=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},function(){t.refs.input.setSelectionRange(o.length,o.length),t.props.onSelect(o,n)})}},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}},t.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"dom-scroll-into-view":2,"prop-types":"prop-types",react:"react","react-dom":"react-dom"}],2:[function(e,t,n){t.exports=e("./lib/dom-scroll-into-view")},{"./lib/dom-scroll-into-view":3}],3:[function(e,t,n){function o(e,t,n){n=n||{},9===t.nodeType&&(t=i.getWindow(t));var o=n.allowHorizontalScroll,r=n.onlyScrollIfNeeded,l=n.alignWithTop,s=n.alignWithLeft;o=void 0===o||o;var u,p,a,f,h,c,d,m,g,v,y=i.isWindow(t),w=i.offset(e),b=i.outerHeight(e),I=i.outerWidth(e);y?(d=t,v=i.height(d),g=i.width(d),m={left:i.scrollLeft(d),top:i.scrollTop(d)},h={left:w.left-m.left,top:w.top-m.top},c={left:w.left+I-(m.left+g),top:w.top+b-(m.top+v)},f=m):(u=i.offset(t),p=t.clientHeight,a=t.clientWidth,f={left:t.scrollLeft,top:t.scrollTop},h={left:w.left-(u.left+(parseFloat(i.css(t,"borderLeftWidth"))||0)),top:w.top-(u.top+(parseFloat(i.css(t,"borderTopWidth"))||0))},c={left:w.left+I-(u.left+a+(parseFloat(i.css(t,"borderRightWidth"))||0)),top:w.top+b-(u.top+p+(parseFloat(i.css(t,"borderBottomWidth"))||0))}),h.top<0||c.top>0?!0===l?i.scrollTop(t,f.top+h.top):!1===l?i.scrollTop(t,f.top+c.top):h.top<0?i.scrollTop(t,f.top+h.top):i.scrollTop(t,f.top+c.top):r||(l=void 0===l||!!l,l?i.scrollTop(t,f.top+h.top):i.scrollTop(t,f.top+c.top)),o&&(h.left<0||c.left>0?!0===s?i.scrollLeft(t,f.left+h.left):!1===s?i.scrollLeft(t,f.left+c.left):h.left<0?i.scrollLeft(t,f.left+h.left):i.scrollLeft(t,f.left+c.left):r||(s=void 0===s||!!s,s?i.scrollLeft(t,f.left+h.left):i.scrollLeft(t,f.left+c.left)))}var i=e("./util");t.exports=o},{"./util":4}],4:[function(e,t,n){function o(e){var t,n,o,i=e.ownerDocument,r=i.body,l=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,o=t.top,n-=l.clientLeft||r.clientLeft||0,o-=l.clientTop||r.clientTop||0,{left:n,top:o}}function i(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],o="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;n=i.documentElement[o],"number"!=typeof n&&(n=i.body[o])}return n}function r(e){return i(e)}function l(e){return i(e,!0)}function s(e){var t=o(e),n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=r(i),t.top+=l(i),t}function u(e,t,n){var o="",i=e.ownerDocument;return(n=n||i.defaultView.getComputedStyle(e,null))&&(o=n.getPropertyValue(t)||n[t]),o}function p(e,t){var n=e[C]&&e[C][t];if(x.test(n)&&!O.test(t)){var o=e.style,i=o[k],r=e[S][k];e[S][k]=e[C][k],o[k]="fontSize"===t?"1em":n||0,n=o.pixelLeft+T,o[k]=i,e[S][k]=r}return""===n?"auto":n}function a(e,t){"static"===y(e,"position")&&(e.style.position="relative");var n,o,i=s(e),r={};for(o in t)n=parseFloat(y(e,o))||0,r[o]=n+t[o]-i[o];y(e,r)}function f(e,t){for(var n=0;n<e.length;n++)t(e[n])}function h(e){return"border-box"===b(e,"boxSizing")}function c(e,t,n){var o,i={},r=e.style;for(o in t)i[o]=r[o],r[o]=t[o];n.call(e);for(o in t)r[o]=i[o]}function d(e,t,n){var o,i,r,l=0;for(i=0;i<t.length;i++)if(o=t[i])for(r=0;r<n.length;r++){var s;s="border"===o?o+n[r]+"Width":o+n[r],l+=parseFloat(b(e,s))||0}return l}function m(e){return null!=e&&e==e.window}function g(e,t,n){if(m(e))return"width"===t?_.viewportWidth(e):_.viewportHeight(e);if(9===e.nodeType)return"width"===t?_.docWidth(e):_.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,r=b(e),l=h(e,r),s=0;(null==i||i<=0)&&(i=void 0,s=b(e,t),(null==s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=l?F:L);var u=void 0!==i||l,p=i||s;return n===L?u?p-d(e,["border","padding"],o,r):s:u?p+(n===F?0:n===D?-d(e,["border"],o,r):d(e,["margin"],o,r)):s+d(e,E.slice(n),o,r)}function v(e){var t,n=arguments;return 0!==e.offsetWidth?t=g.apply(void 0,n):c(e,M,function(){t=g.apply(void 0,n)}),t}function y(e,t,n){if("object"!=typeof t){if(void 0===n)return b(e,t);"number"==typeof n&&(n+="px"),e.style[t]=n}else for(var o in t)y(e,o,t[o])}function w(e,t){for(var n in t)e[n]=t[n];return e}var b,I=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,x=new RegExp("^("+I+")(?!px)[a-z%]+$","i"),O=/^(top|right|bottom|left)$/,C="currentStyle",S="runtimeStyle",k="left",T="px";"undefined"!=typeof window&&(b=window.getComputedStyle?u:p);var E=["margin","border","padding"],L=-1,D=2,F=1,_={};f(["Width","Height"],function(e){_["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],_["viewport"+e](n))},_["viewport"+e]=function(t){var n="client"+e,o=t.document,i=o.body,r=o.documentElement,l=r[n];return"CSS1Compat"===o.compatMode&&l||i&&i[n]||l}});var M={position:"absolute",visibility:"hidden",display:"block"};f(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);_["outer"+t]=function(t,n){return t&&v(t,e,n?0:F)};var n="width"===e?["Left","Right"]:["Top","Bottom"];_[e]=function(t,o){if(void 0===o)return t&&v(t,e,L);if(t){var i=b(t);return h(t)&&(o+=d(t,["padding","border"],n,i)),y(t,e,o)}}});var W=t.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return s(e);a(e,t)},isWindow:m,each:f,css:y,clone:function(e){var t={};for(var n in e)t[n]=e[n];if(e.overflow)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:w,scrollLeft:function(e,t){if(m(e)){if(void 0===t)return r(e);window.scrollTo(t,l(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(m(e)){if(void 0===t)return l(e);window.scrollTo(r(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)W.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};w(W,_)},{}]},{},[1])(1)}(function(o){if("react"===o)return e;if("react-dom"===o)return t;if("prop-types"===o)return n;if("undefined"!=typeof require)return require(o);var i=new Error("Cannot find module '"+o+"'");throw i.code="MODULE_NOT_FOUND",i})});
//# sourceMappingURL=react-autocomplete.min.js.map
