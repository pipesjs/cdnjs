!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime","./number"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime"),require("./number")):t(e.Globalize)}(this,function(e){function t(e){return void 0!==e.skeleton||void 0!==e.date||void 0!==e.time||void 0!==e.datetime||void 0!==e.raw}var r=e._createErrorUnsupportedFeature,a=e._regexpEscape,u=e._removeLiteralQuotes,n=e._runtimeKey,s=e._stringPad,o=e._validateParameterPresence,i=e._validateParameterType,c=e._validateParameterTypeString,l=function(e,t){i(e,t,void 0===e||e instanceof Date,"Date")},D=function(){function e(e,t,r){Object.defineProperty(e,t,{value:r})}function t(e,t){for(var r=0,a=e.getTime();r<t.length-1&&a>=t[r];)r++;return r}function r(e){var t=this.getTimezoneOffset(),r=e();this.original.setTime(new Date(this.getTime()));var a=this.getTimezoneOffset();return this.original.setMinutes(this.original.getMinutes()+a-t),r}var a=function(t,a){if(e(this,"original",new Date(t.getTime())),e(this,"local",new Date(t.getTime())),e(this,"timeZoneData",a),e(this,"setWrap",r),!(a.untils&&a.offsets&&a.isdsts))throw new Error("Invalid IANA data");this.setTime(this.local.getTime()-60*this.getTimezoneOffset()*1e3)};return a.prototype.clone=function(){return new a(this.original,this.timeZoneData)},a.prototype.getFullYear=function(){return this.local.getUTCFullYear()},a.prototype.getMonth=function(){return this.local.getUTCMonth()},a.prototype.getDate=function(){return this.local.getUTCDate()},a.prototype.getDay=function(){return this.local.getUTCDay()},a.prototype.getHours=function(){return this.local.getUTCHours()},a.prototype.getMinutes=function(){return this.local.getUTCMinutes()},a.prototype.getSeconds=function(){return this.local.getUTCSeconds()},a.prototype.getMilliseconds=function(){return this.local.getUTCMilliseconds()},a.prototype.valueOf=a.prototype.getTime=function(){return this.local.getTime()+60*this.getTimezoneOffset()*1e3},a.prototype.getTimezoneOffset=function(){var e=t(this.original,this.timeZoneData.untils);return this.timeZoneData.offsets[e]},a.prototype.setFullYear=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCFullYear(e)})},a.prototype.setMonth=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMonth(e)})},a.prototype.setDate=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCDate(e)})},a.prototype.setHours=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCHours(e)})},a.prototype.setMinutes=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMinutes(e)})},a.prototype.setSeconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCSeconds(e)})},a.prototype.setMilliseconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMilliseconds(e)})},a.prototype.setTime=function(e){return this.local.setTime(e)},a.prototype.isDST=function(){var e=t(this.original,this.timeZoneData.untils);return Boolean(this.timeZoneData.isdsts[e])},a.prototype.inspect=function(){var e=t(this.original,this.timeZoneData.untils),r=this.timeZoneData.abbrs;return this.local.toISOString().replace(/Z$/,"")+" "+(r&&r[e]+" "||this.getTimezoneOffset()*-1+" ")+(this.isDST()?"(daylight savings)":"")},a}(),f=function(e,t){return(e.getDay()-t+7)%7},m=function(e,t){var r=864e5;return(t.getTime()-e.getTime())/r},p=function(e,t){switch(e=e instanceof D?e.clone():new Date(e.getTime()),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},g=function(e){return Math.floor(m(p(e,"year"),e))},h=function(e,t){return t=t||function(e,t,r){return e[r]=t,e},Object.keys(e).reduce(function(r,a){return t(r,a,e[a])},{})},d=h({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zvVOxX"},function(e,t,r){return r.split("").forEach(function(r){e[r]=t}),e}),F=function(e){return e-p(e,"day")},v=/([a-z])\1*|'([^']|'')+'|''|./gi,y=function(e,t,r,a){var u,n=e.getTimezoneOffset();return u=Math.abs(n),a=a||{1:function(e){return s(e,1)},2:function(e){return s(e,2)}},t.split(";")[n>0?1:0].replace(":",r).replace(/HH?/,function(e){return a[e.length](Math.floor(u/60))}).replace(/mm/,function(){return a[2](u%60)})},b=["sun","mon","tue","wed","thu","fri","sat"],E=function(e,t,r){var a=[],n=r.timeSeparator;return r.timeZoneData&&(e=new D(e,r.timeZoneData())),r.pattern.replace(v,function(s){var o,i,c,l=s.charAt(0),D=s.length;switch("j"===l&&(l=r.preferredTime),"Z"===l&&(D<4?(l="x",D=4):D<5?(l="O",D=4):(l="X",D=5)),"z"===l&&(e.isDST&&(c=e.isDST()?r.daylightTzName:r.standardTzName),c||(l="O",D<4&&(D=1))),l){case"G":c=r.eras[e.getFullYear()<0?0:1];break;case"y":c=e.getFullYear(),2===D&&(c=String(c),c=+c.substr(c.length-2));break;case"Y":c=new Date(e.getTime()),c.setDate(c.getDate()+7-f(e,r.firstDay)-r.firstDay-r.minDays),c=c.getFullYear(),2===D&&(c=String(c),c=+c.substr(c.length-2));break;case"Q":case"q":c=Math.ceil((e.getMonth()+1)/3),D>2&&(c=r.quarters[l][D][c]);break;case"M":case"L":c=e.getMonth()+1,D>2&&(c=r.months[l][D][c]);break;case"w":c=f(p(e,"year"),r.firstDay),c=Math.ceil((g(e)+c)/7)-(7-c>=r.minDays?0:1);break;case"W":c=f(p(e,"month"),r.firstDay),c=Math.ceil((e.getDate()+c)/7)-(7-c>=r.minDays?0:1);break;case"d":c=e.getDate();break;case"D":c=g(e)+1;break;case"F":c=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(D<=2){c=f(e,r.firstDay)+1;break}case"E":c=b[e.getDay()],c=r.days[l][D][c];break;case"a":c=r.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":c=e.getHours()%12||12;break;case"H":c=e.getHours();break;case"K":c=e.getHours()%12;break;case"k":c=e.getHours()||24;break;case"m":c=e.getMinutes();break;case"s":c=e.getSeconds();break;case"S":c=Math.round(e.getMilliseconds()*Math.pow(10,D-3));break;case"A":c=Math.round(F(e)*Math.pow(10,D-3));break;case"z":break;case"v":if(r.genericTzName){c=r.genericTzName;break}case"V":if(r.timeZoneName){c=r.timeZoneName;break}case"O":0===e.getTimezoneOffset()?c=r.gmtZeroFormat:(c=y(e,D<4?"+H;-H":r.tzLongHourFormat,n,t),c=r.gmtFormat.replace(/\{0\}/,c));break;case"X":if(0===e.getTimezoneOffset()){c="Z";break}case"x":c=1===D?"+HH;-HH":D%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm",c=y(e,c,":");break;case":":c=n;break;case"'":c=u(s);break;default:c=s}return"number"==typeof c&&(c=t[D](c)),o=d[l],i=o?o:"literal","literal"===i&&a.length&&"literal"===a[a.length-1].type?void(a[a.length-1].value+=c):void a.push({type:i,value:c})}),a},k=function(e){return function(t){return e(t).map(function(e){return e.value}).join("")}},T=function(e){return 1===new Date(e,1,29).getMonth()},C=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},w=function(e,t){var r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(t<1?1:t<r?t:r)},H=function(e,t){var r=e.getDate();e.setDate(1),e.setMonth(t),w(e,r)},M=function(e,t,r){return e<t||e>r},A=function(e,t,a){var u,n,s,o,i,c,l,f,m,g=0,h=1,d=2,F=3,v=4,y=5,b=6,E=new Date,k=[],w=["year","month","day","hour","minute","second","milliseconds"];if(a.timeZoneData&&(E=new D(E,a.timeZoneData())),!t.length)return null;if(m=t.every(function(e){var t,D,m,p;if("literal"===e.type)return!0;switch(D=e.type.charAt(0),p=e.type.length,"j"===D&&(D=a.preferredTimeData),D){case"G":k.push(g),i=+e.value;break;case"y":if(m=e.value,2===p){if(M(m,0,99))return!1;t=100*Math.floor(E.getFullYear()/100),m+=t,m>E.getFullYear()+20&&(m-=100)}E.setFullYear(m),k.push(g);break;case"Y":throw r({feature:"year pattern `"+D+"`"});case"Q":case"q":break;case"M":case"L":if(m=p<=2?e.value:+e.value,M(m,1,12))return!1;o=m,k.push(h);break;case"w":case"W":break;case"d":n=e.value,k.push(d);break;case"D":s=e.value,k.push(d);break;case"F":break;case"e":case"c":case"E":break;case"a":u=e.value;break;case"h":if(m=e.value,M(m,1,12))return!1;c=l=!0,E.setHours(12===m?0:m),k.push(F);break;case"K":if(m=e.value,M(m,0,11))return!1;c=l=!0,E.setHours(m),k.push(F);break;case"k":if(m=e.value,M(m,1,24))return!1;c=!0,E.setHours(24===m?0:m),k.push(F);break;case"H":if(m=e.value,M(m,0,23))return!1;c=!0,E.setHours(m),k.push(F);break;case"m":if(m=e.value,M(m,0,59))return!1;E.setMinutes(m),k.push(v);break;case"s":if(m=e.value,M(m,0,59))return!1;E.setSeconds(m),k.push(y);break;case"A":E.setHours(0),E.setMinutes(0),E.setSeconds(0);case"S":m=Math.round(e.value*Math.pow(10,3-p)),E.setMilliseconds(m),k.push(b);break;case"z":case"Z":case"O":case"v":case"V":case"X":case"x":"number"==typeof e.value&&(f=e.value)}return!0}),!m)return null;if(c&&!(!u^l))return null;if(0===i&&E.setFullYear(E.getFullYear()*-1+1),void 0!==o&&H(E,o-1),void 0!==n){if(M(n,1,C(E)))return null;E.setDate(n)}else if(void 0!==s){if(M(s,1,T(E.getFullYear())?366:365))return null;E.setMonth(0),E.setDate(s)}return l&&"pm"===u&&E.setHours(E.getHours()+12),void 0!==f&&E.setMinutes(E.getMinutes()+f-E.getTimezoneOffset()),k=Math.max.apply(null,k),E=p(E,w[k]),E instanceof D&&(E=new Date(E.getTime())),E},x=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/,z=function(e,t,r){function n(e){return"("+e.filter(function(e){return e}).reduce(function(e,t){return e+"|"+t})+")"}var s,o=r.timeSeparator,i=[],c=["abbreviated","wide","narrow"];return s=r.pattern.match(v).every(function(s){function l(t,r){var a=e.match(t);return r=r||function(e){return+e},!!a&&(a.length<8?b.value=60*(a[1]?-r(a[1]):r(a[4])):b.value=60*(a[1]?-r(a[1]):r(a[7]))+(a[1]?-r(a[4]):r(a[10])),!0)}function D(e,t,r){var a;return t||(t="{0}"),a=e.replace("+","\\+").replace(/HH|mm/g,"(("+x.source+")("+x.source+"))").replace(/H|m/g,"(("+x.source+")("+x.source+")?)"),r&&(a=a.replace(/:/g,r)),a=a.split(";").map(function(e){return t.replace("{0}",e)}).join("|"),new RegExp(a)}function f(){if(1===F)return v=!0,y=x}function m(){if(1===F)return v=!0,y=new RegExp("("+x.source+"){1,2}")}function p(){if(1===F||2===F)return v=!0,y=new RegExp("("+x.source+"){1,2}")}function g(){if(2===F)return v=!0,y=new RegExp("("+x.source+"){2}")}function h(t){var a,u,n=r[t.join("/")];for(a in n)if(u=new RegExp("^"+n[a]),u.test(e))return b.value=a,y=new RegExp(n[a]);return null}var d,F,v,y,b={};if(b.type=s,d=s.charAt(0),F=s.length,"Z"===d&&(F<4?(d="x",F=4):F<5?(d="O",F=4):(d="X",F=5)),"z"===d){var E=r.standardTzName,k=r.daylightTzName;(E||k)&&(b.value=null,y=new RegExp(n([E,k])))}switch("v"===d&&(r.genericTzName?(b.value=null,y=new RegExp(r.genericTzName)):(d="V",F=4)),"V"===d&&r.timeZoneName&&(b.value=2===F?r.timeZoneName:null,y=new RegExp(r.timeZoneName)),d){case"G":h(["gregorian/eras",F<=3?"eraAbbr":4===F?"eraNames":"eraNarrow"]);break;case"y":case"Y":v=!0,y=1===F?new RegExp("("+x.source+")+"):2===F?new RegExp("("+x.source+"){1,2}"):new RegExp("("+x.source+"){"+F+",}");break;case"Q":case"q":f()||g()||h(["gregorian/quarters","Q"===d?"format":"stand-alone",c[F-3]]);break;case"M":case"L":p()||h(["gregorian/months","M"===d?"format":"stand-alone",c[F-3]]);break;case"D":F<=3&&(v=!0,y=new RegExp("("+x.source+"){"+F+",3}"));break;case"W":case"F":f();break;case"e":case"c":if(F<=2){f()||g();break}case"E":6===F?h(["gregorian/days",["c"===d?"stand-alone":"format"],"short"])||h(["gregorian/days",["c"===d?"stand-alone":"format"],"abbreviated"]):h(["gregorian/days",["c"===d?"stand-alone":"format"],c[F<3?0:F-3]]);break;case"a":h(["gregorian/dayPeriods/format/wide"]);break;case"w":m()||g();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":p();break;case"S":v=!0,y=new RegExp("("+x.source+"){"+F+"}");break;case"A":v=!0,y=new RegExp("("+x.source+"){"+(F+5)+"}");break;case"v":case"V":case"z":if(y&&new RegExp("^"+y.source).test(e))break;"v"===s&&(F=1);case"O":if(e===r["timeZoneNames/gmtZeroFormat"])b.value=0,y=new RegExp(r["timeZoneNames/gmtZeroFormat"]);else if(y=D(F<4?"+H;-H":r["timeZoneNames/hourFormat"],r["timeZoneNames/gmtFormat"],o),!l(y,t))return null;break;case"X":if("Z"===e){b.value=0,y=/Z/;break}case"x":if(y=D(1===F?"+HH;-HH":F%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"),!l(y))return null;break;case"'":b.type="literal",y=new RegExp(a(u(s)));break;default:b.type="literal",y=new RegExp(a(s))}return!!y&&(e=e.replace(new RegExp("^"+y.source),function(e){return b.lexeme=e,v&&(b.value=t(e)),""}),!!b.lexeme&&(i.push(b),!0))}),""!==e&&(s=!1),s?i:[]},Z=function(e,t,r){return function(a){var u;return o(a,"value"),c(a,"value"),u=z(a,e,r),A(a,u,t)||null}},B=function(e,t){return function(r){return o(r,"value"),l(r,"value"),E(r,e,t)}};return e._dateFormat=E,e._dateFormatterFn=k,e._dateParser=A,e._dateParserFn=Z,e._dateTokenizer=z,e._dateToPartsFormatterFn=B,e._validateParameterTypeDate=l,e.dateFormatter=e.prototype.dateFormatter=function(r){return r=r||{},t(r)||(r.skeleton="yMd"),e[n("dateFormatter",this._locale,[r])]},e.dateToPartsFormatter=e.prototype.dateToPartsFormatter=function(r){return r=r||{},t(r)||(r.skeleton="yMd"),e[n("dateToPartsFormatter",this._locale,[r])]},e.dateParser=e.prototype.dateParser=function(r){return r=r||{},t(r)||(r.skeleton="yMd"),e[n("dateParser",this._locale,[r])]},e.formatDate=e.prototype.formatDate=function(e,t){return o(e,"value"),l(e,"value"),this.dateFormatter(t)(e)},e.formatDateToParts=e.prototype.formatDateToParts=function(e,t){return o(e,"value"),l(e,"value"),this.dateToPartsFormatter(t)(e)},e.parseDate=e.prototype.parseDate=function(e,t){return o(e,"value"),c(e,"value"),this.dateParser(t)(e)},e});
//# sourceMappingURL=date.min.js.map