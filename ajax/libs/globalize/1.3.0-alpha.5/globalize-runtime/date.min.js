!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime","./number"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime"),require("./number")):t(e.Globalize)}(this,function(e){function t(e){return void 0!==e.skeleton||void 0!==e.date||void 0!==e.time||void 0!==e.datetime||void 0!==e.raw}var r=e._createErrorUnsupportedFeature,a=e._looseMatching,u=e._regexpEscape,n=e._removeLiteralQuotes,s=e._runtimeKey,o=e._stringPad,i=e._validateParameterPresence,c=e._validateParameterType,l=e._validateParameterTypeString,f=function(e,t){c(e,t,void 0===e||e instanceof Date,"Date")},D=function(){function e(e,t,r){Object.defineProperty(e,t,{value:r})}function t(e,t){for(var r=0,a=e.getTime();r<t.length-1&&a>=t[r];)r++;return r}function r(e){var t=this.getTimezoneOffset(),r=e();this.original.setTime(new Date(this.getTime()));var a=this.getTimezoneOffset();return this.original.setMinutes(this.original.getMinutes()+a-t),r}var a=function(t,a){if(e(this,"original",new Date(t.getTime())),e(this,"local",new Date(t.getTime())),e(this,"timeZoneData",a),e(this,"setWrap",r),!(a.untils&&a.offsets&&a.isdsts))throw new Error("Invalid IANA data");this.setTime(this.local.getTime()-60*this.getTimezoneOffset()*1e3)};return a.prototype.clone=function(){return new a(this.original,this.timeZoneData)},a.prototype.getFullYear=function(){return this.local.getUTCFullYear()},a.prototype.getMonth=function(){return this.local.getUTCMonth()},a.prototype.getDate=function(){return this.local.getUTCDate()},a.prototype.getDay=function(){return this.local.getUTCDay()},a.prototype.getHours=function(){return this.local.getUTCHours()},a.prototype.getMinutes=function(){return this.local.getUTCMinutes()},a.prototype.getSeconds=function(){return this.local.getUTCSeconds()},a.prototype.getMilliseconds=function(){return this.local.getUTCMilliseconds()},a.prototype.valueOf=a.prototype.getTime=function(){return this.local.getTime()+60*this.getTimezoneOffset()*1e3},a.prototype.getTimezoneOffset=function(){var e=t(this.original,this.timeZoneData.untils);return this.timeZoneData.offsets[e]},a.prototype.setFullYear=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCFullYear(e)})},a.prototype.setMonth=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMonth(e)})},a.prototype.setDate=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCDate(e)})},a.prototype.setHours=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCHours(e)})},a.prototype.setMinutes=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMinutes(e)})},a.prototype.setSeconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCSeconds(e)})},a.prototype.setMilliseconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMilliseconds(e)})},a.prototype.setTime=function(e){return this.local.setTime(e)},a.prototype.isDST=function(){var e=t(this.original,this.timeZoneData.untils);return Boolean(this.timeZoneData.isdsts[e])},a.prototype.inspect=function(){var e=t(this.original,this.timeZoneData.untils),r=this.timeZoneData.abbrs;return this.local.toISOString().replace(/Z$/,"")+" "+(r&&r[e]+" "||this.getTimezoneOffset()*-1+" ")+(this.isDST()?"(daylight savings)":"")},a}(),m=function(e,t){return(e.getDay()-t+7)%7},p=function(e,t){var r=864e5;return(t.getTime()-e.getTime())/r},g=function(e,t){switch(e=e instanceof D?e.clone():new Date(e.getTime()),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},h=function(e){return Math.floor(p(g(e,"year"),e))},F=function(e,t){return t=t||function(e,t,r){return e[r]=t,e},Object.keys(e).reduce(function(r,a){return t(r,a,e[a])},{})},d=F({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zvVOxX"},function(e,t,r){return r.split("").forEach(function(r){e[r]=t}),e}),v=function(e){return e-g(e,"day")},y=/([a-z])\1*|'([^']|'')+'|''|./gi,b=function(e,t,r,a){var u,n=e.getTimezoneOffset();return u=Math.abs(n),a=a||{1:function(e){return o(e,1)},2:function(e){return o(e,2)}},t.split(";")[n>0?1:0].replace(":",r).replace(/HH?/,function(e){return a[e.length](Math.floor(u/60))}).replace(/mm/,function(){return a[2](Math.floor(u%60))}).replace(/ss/,function(){return a[2](Math.floor(u%1*60))})},k=["sun","mon","tue","wed","thu","fri","sat"],E=function(e,t,r){var a=[],u=r.timeSeparator;return r.timeZoneData&&(e=new D(e,r.timeZoneData())),r.pattern.replace(y,function(s){var o,i,c,l,f=s.charAt(0),D=s.length;switch("j"===f&&(f=r.preferredTime),"Z"===f&&(D<4?(f="x",D=4):D<5?(f="O",D=4):(f="X",D=5)),"z"===f&&(e.isDST&&(l=e.isDST()?r.daylightTzName:r.standardTzName),l||(f="O",D<4&&(D=1))),f){case"G":l=r.eras[e.getFullYear()<0?0:1];break;case"y":l=e.getFullYear(),2===D&&(l=String(l),l=+l.substr(l.length-2));break;case"Y":l=new Date(e.getTime()),l.setDate(l.getDate()+7-m(e,r.firstDay)-r.firstDay-r.minDays),l=l.getFullYear(),2===D&&(l=String(l),l=+l.substr(l.length-2));break;case"Q":case"q":l=Math.ceil((e.getMonth()+1)/3),D>2&&(l=r.quarters[f][D][l]);break;case"M":case"L":l=e.getMonth()+1,D>2&&(l=r.months[f][D][l]);break;case"w":l=m(g(e,"year"),r.firstDay),l=Math.ceil((h(e)+l)/7)-(7-l>=r.minDays?0:1);break;case"W":l=m(g(e,"month"),r.firstDay),l=Math.ceil((e.getDate()+l)/7)-(7-l>=r.minDays?0:1);break;case"d":l=e.getDate();break;case"D":l=h(e)+1;break;case"F":l=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(D<=2){l=m(e,r.firstDay)+1;break}case"E":l=k[e.getDay()],l=r.days[f][D][l];break;case"a":l=r.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":l=e.getHours()%12||12;break;case"H":l=e.getHours();break;case"K":l=e.getHours()%12;break;case"k":l=e.getHours()||24;break;case"m":l=e.getMinutes();break;case"s":l=e.getSeconds();break;case"S":l=Math.round(e.getMilliseconds()*Math.pow(10,D-3));break;case"A":l=Math.round(v(e)*Math.pow(10,D-3));break;case"z":break;case"v":if(r.genericTzName){l=r.genericTzName;break}case"V":if(r.timeZoneName){l=r.timeZoneName;break}"v"===s&&(D=1);case"O":0===e.getTimezoneOffset()?l=r.gmtZeroFormat:(D<4?(o=e.getTimezoneOffset(),o=r.hourFormat[o%60-o%1===0?0:1]):o=r.hourFormat,l=b(e,o,u,t),l=r.gmtFormat.replace(/\{0\}/,l));break;case"X":if(0===e.getTimezoneOffset()){l="Z";break}case"x":o=e.getTimezoneOffset(),1===D&&o%60-o%1!==0&&(D+=1),4!==D&&5!==D||o%1!==0||(D-=2),l=["+HH;-HH","+HHmm;-HHmm","+HH:mm;-HH:mm","+HHmmss;-HHmmss","+HH:mm:ss;-HH:mm:ss"][D-1],l=b(e,l,":");break;case":":l=u;break;case"'":l=n(s);break;default:l=s}return"number"==typeof l&&(l=t[D](l)),i=d[f],c=i?i:"literal","literal"===c&&a.length&&"literal"===a[a.length-1].type?void(a[a.length-1].value+=l):void a.push({type:c,value:l})}),a},T=function(e){return function(t){return e(t).map(function(e){return e.value}).join("")}},H=function(e){return 1===new Date(e,1,29).getMonth()},C=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},M=function(e,t){var r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(t<1?1:t<r?t:r)},w=function(e,t){var r=e.getDate();e.setDate(1),e.setMonth(t),M(e,r)},A=function(e,t,r){return e<t||e>r},x=function(e,t,a){var u,n,s,o,i,c,l,f,m,p=0,h=1,F=2,d=3,v=4,y=5,b=6,k=new Date,E=[],T=["year","month","day","hour","minute","second","milliseconds"];if(a.timeZoneData&&(k=new D(k,a.timeZoneData())),!t.length)return null;if(m=t.every(function(e){var t,D,m,g;if("literal"===e.type)return!0;switch(D=e.type.charAt(0),g=e.type.length,"j"===D&&(D=a.preferredTimeData),D){case"G":E.push(p),i=+e.value;break;case"y":if(m=e.value,2===g){if(A(m,0,99))return!1;t=100*Math.floor(k.getFullYear()/100),m+=t,m>k.getFullYear()+20&&(m-=100)}k.setFullYear(m),E.push(p);break;case"Y":throw r({feature:"year pattern `"+D+"`"});case"Q":case"q":break;case"M":case"L":if(m=g<=2?e.value:+e.value,A(m,1,12))return!1;o=m,E.push(h);break;case"w":case"W":break;case"d":n=e.value,E.push(F);break;case"D":s=e.value,E.push(F);break;case"F":break;case"e":case"c":case"E":break;case"a":u=e.value;break;case"h":if(m=e.value,A(m,1,12))return!1;c=l=!0,k.setHours(12===m?0:m),E.push(d);break;case"K":if(m=e.value,A(m,0,11))return!1;c=l=!0,k.setHours(m),E.push(d);break;case"k":if(m=e.value,A(m,1,24))return!1;c=!0,k.setHours(24===m?0:m),E.push(d);break;case"H":if(m=e.value,A(m,0,23))return!1;c=!0,k.setHours(m),E.push(d);break;case"m":if(m=e.value,A(m,0,59))return!1;k.setMinutes(m),E.push(v);break;case"s":if(m=e.value,A(m,0,59))return!1;k.setSeconds(m),E.push(y);break;case"A":k.setHours(0),k.setMinutes(0),k.setSeconds(0);case"S":m=Math.round(e.value*Math.pow(10,3-g)),k.setMilliseconds(m),E.push(b);break;case"z":case"Z":case"O":case"v":case"V":case"X":case"x":"number"==typeof e.value&&(f=e.value)}return!0}),!m)return null;if(c&&!(!u^l))return null;if(0===i&&k.setFullYear(k.getFullYear()*-1+1),void 0!==o&&w(k,o-1),void 0!==n){if(A(n,1,C(k)))return null;k.setDate(n)}else if(void 0!==s){if(A(s,1,H(k.getFullYear())?366:365))return null;k.setMonth(0),k.setDate(s)}return l&&"pm"===u&&k.setHours(k.getHours()+12),void 0!==f&&k.setMinutes(k.getMinutes()+f-k.getTimezoneOffset()),E=Math.max.apply(null,E),k=g(k,T[E]),k instanceof D&&(k=new Date(k.getTime())),k},z=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/,Z=function(e,t,r){function s(e){return"("+e.filter(function(e){return e}).reduce(function(e,t){return e+"|"+t})+")"}var o,i=r.timeSeparator,c=[],l=["abbreviated","wide","narrow"];return e=a(e),o=r.pattern.match(y).every(function(a){function o(t,r){var a=e.match(t);return r=r||function(e){return+e},!!a&&(a.length<8?k.value=60*(a[1]?-r(a[1]):r(a[4])):k.value=60*(a[1]?-r(a[1]):r(a[7]))+(a[1]?-r(a[4]):r(a[10])),!0)}function f(e,t,r){var a;return t||(t="{0}"),a=e.replace("+","\\+").replace(/HH|mm/g,"(("+z.source+")("+z.source+"))").replace(/H|m/g,"(("+z.source+")("+z.source+")?)"),r&&(a=a.replace(/:/g,r)),a=a.split(";").map(function(e){return t.replace("{0}",e)}).join("|"),new RegExp(a)}function D(){if(1===v)return y=!0,b=z}function m(){if(1===v)return y=!0,b=new RegExp("("+z.source+"){1,2}")}function p(){if(1===v||2===v)return y=!0,b=new RegExp("("+z.source+"){1,2}")}function g(){if(2===v)return y=!0,b=new RegExp("("+z.source+"){2}")}function h(t){var a=r[t.join("/")];return a?(a.some(function(t){var r=t[1];if(r.test(e))return k.value=t[0],b=t[1],!0}),null):null}var F,d,v,y,b,k={};if(k.type=a,d=a.charAt(0),v=a.length,"Z"===d&&(v<4?(d="x",v=4):v<5?(d="O",v=4):(d="X",v=5)),"z"===d){var E=r.standardTzName,T=r.daylightTzName;(E||T)&&(k.value=null,b=new RegExp(s([E,T])))}switch("v"===d&&(r.genericTzName?(k.value=null,b=new RegExp(r.genericTzName)):(d="V",v=4)),"V"===d&&r.timeZoneName&&(k.value=2===v?r.timeZoneName:null,b=new RegExp(r.timeZoneName)),d){case"G":h(["gregorian/eras",v<=3?"eraAbbr":4===v?"eraNames":"eraNarrow"]);break;case"y":case"Y":y=!0,b=1===v?new RegExp("("+z.source+")+"):2===v?new RegExp("("+z.source+"){1,2}"):new RegExp("("+z.source+"){"+v+",}");break;case"Q":case"q":D()||g()||h(["gregorian/quarters","Q"===d?"format":"stand-alone",l[v-3]]);break;case"M":case"L":p()||h(["gregorian/months","M"===d?"format":"stand-alone",l[v-3]]);break;case"D":v<=3&&(y=!0,b=new RegExp("("+z.source+"){"+v+",3}"));break;case"W":case"F":D();break;case"e":case"c":if(v<=2){D()||g();break}case"E":6===v?h(["gregorian/days",["c"===d?"stand-alone":"format"],"short"])||h(["gregorian/days",["c"===d?"stand-alone":"format"],"abbreviated"]):h(["gregorian/days",["c"===d?"stand-alone":"format"],l[v<3?0:v-3]]);break;case"a":h(["gregorian/dayPeriods/format/wide"]);break;case"w":m()||g();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":p();break;case"S":y=!0,b=new RegExp("("+z.source+"){"+v+"}");break;case"A":y=!0,b=new RegExp("("+z.source+"){"+(v+5)+"}");break;case"v":case"V":case"z":if(b&&new RegExp("^"+b.source).test(e))break;if("V"===d&&2===v)break;case"O":if(e===r["timeZoneNames/gmtZeroFormat"])k.value=0,b=new RegExp(r["timeZoneNames/gmtZeroFormat"]);else if(F=r["timeZoneNames/hourFormat"].some(function(e){if(b=f(e,r["timeZoneNames/gmtFormat"],i),o(b,t))return!0}),!F)return null;break;case"X":if("Z"===e){k.value=0,b=/Z/;break}case"x":if(b=f(1===v?"+HH;-HH":v%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"),!o(b))return null;break;case"'":k.type="literal",b=new RegExp(u(n(a)));break;default:k.type="literal",b=new RegExp(u(a))}return!!b&&(e=e.replace(new RegExp("^"+b.source),function(e){return k.lexeme=e,y&&(k.value=t(e)),""}),!!k.lexeme&&((!y||!isNaN(k.value))&&(c.push(k),!0)))}),""!==e&&(o=!1),o?c:[]},B=function(e,t,r){return function(a){var u;return i(a,"value"),l(a,"value"),u=Z(a,e,r),x(a,u,t)||null}},O=function(e,t){return function(r){return i(r,"value"),f(r,"value"),E(r,e,t)}};return e._dateFormat=E,e._dateFormatterFn=T,e._dateParser=x,e._dateParserFn=B,e._dateTokenizer=Z,e._dateToPartsFormatterFn=O,e._validateParameterTypeDate=f,e.dateFormatter=e.prototype.dateFormatter=function(r){return r=r||{},t(r)||(r.skeleton="yMd"),e[s("dateFormatter",this._locale,[r])]},e.dateToPartsFormatter=e.prototype.dateToPartsFormatter=function(r){return r=r||{},t(r)||(r.skeleton="yMd"),e[s("dateToPartsFormatter",this._locale,[r])]},e.dateParser=e.prototype.dateParser=function(r){return r=r||{},t(r)||(r.skeleton="yMd"),e[s("dateParser",this._locale,[r])]},e.formatDate=e.prototype.formatDate=function(e,t){return i(e,"value"),f(e,"value"),this.dateFormatter(t)(e)},e.formatDateToParts=e.prototype.formatDateToParts=function(e,t){return i(e,"value"),f(e,"value"),this.dateToPartsFormatter(t)(e)},e.parseDate=e.prototype.parseDate=function(e,t){return i(e,"value"),l(e,"value"),this.dateParser(t)(e)},e});
//# sourceMappingURL=date.min.js.map