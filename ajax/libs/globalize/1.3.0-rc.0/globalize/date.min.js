!function(e,t){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","cldr/event","cldr/supplemental"],t):"object"==typeof exports?module.exports=t(require("cldrjs"),require("../globalize")):t(e.Cldr,e.Globalize)}(this,function(e,t){function a(e){return void 0!==e.skeleton||void 0!==e.date||void 0!==e.time||void 0!==e.datetime||void 0!==e.raw}function r(e,t){k(e,t,{skip:[/dates\/calendars\/gregorian\/dateTimeFormats\/availableFormats/,/dates\/calendars\/gregorian\/days\/.*\/short/,/dates\/timeZoneNames\/zone/,/dates\/timeZoneNames\/metazone/,/globalize-iana/,/supplemental\/metaZones/,/supplemental\/timeData\/(?!001)/,/supplemental\/weekData\/(?!001)/]})}function n(e){s("date",e),s("time",e),s("datetime",e)}function s(e,t){var a=t[e];y("E_INVALID_OPTIONS",'Invalid `{{type}: "{value}"}`.',void 0===a||-1!==["short","medium","long","full"].indexOf(a),{type:e,value:a})}function o(e,t){y("E_INVALID_OPTIONS",'Invalid `{skeleton: "{value}"}` based on provided CLDR.',void 0===t||"string"==typeof e&&e,{type:"skeleton",value:t})}function i(e){return function(t,a){/globalize-iana/.test(t)&&y("E_MISSING_IANA_TZ","Missing required IANA timezone content for `{timeZone}`: `{path}`.",a,{path:t.replace(/globalize-iana\//,""),timeZone:e})}}var u=t._createError,c=t._createErrorUnsupportedFeature,l=t._formatMessage,m=t._isPlainObject,f=t._looseMatching,d=t._numberNumberingSystemDigitsMap,g=t._numberSymbol,p=t._regexpEscape,h=t._removeLiteralQuotes,v=t._runtimeBind,b=t._stringPad,y=t._validate,k=t._validateCldr,D=t._validateDefaultLocale,w=t._validateParameterPresence,H=t._validateParameterType,Z=t._validateParameterTypePlainObject,M=t._validateParameterTypeString,T=function(e,t){H(e,t,void 0===e||e instanceof Date,"Date")},z=function(e,t){return u("E_INVALID_PAR_VALUE","Invalid `{name}` value ({value}).",{name:e,value:t})},F="GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx".split("").reduce(function(e,t,a){return e[t]=a,e},{}),N=function(e){var t,a=F;e.replace(/[^GyYuUrQqMLlwWEecdDFghHKkmsSAzZOvVXx]/,function(t){throw u("E_INVALID_OPTIONS","Invalid field `{invalidField}` of skeleton `{value}`",{invalidField:t,type:"skeleton",value:e})}),e.split("").every(function(r){if(a[r]<t)throw u("E_INVALID_OPTIONS","Invalid order `{invalidField}` of skeleton `{value}`",{invalidField:r,type:"skeleton",value:e});return t=a[r],!0})},O=function(e,t){return t=t||function(e,t,a){return e[a]=t,e},Object.keys(e).reduce(function(a,r){return t(a,r,e[r])},{})},E=O({e:"eEc",L:"ML"},function(e,t,a){return a.split("").forEach(function(a){e[a]=t}),e}),x=function(e){return E[e]||e},S=/([a-z])\1*|'([^']|'')+'|''|./gi,A=function(e,t){var a,r="";for(a=0;a<t;a++)r+=e;return r},_=function(e,t){var a,r,n,s,o,i,u=x;for(e=e.match(S),t=t.match(S),a=0;a<t.length;a++)for(n=t[a].charAt(0),s=t[a].length,r=0;r<e.length;r++)o=e[r].charAt(0),i=e[r].length,u(n)===u(o)&&s<i&&(t[a]=A(n,i));return t.join("")},L=function(e,t){var a,r,n,s,o,i,u,c,l,m=x;if(e===t)return 0;if(e=e.match(S),t=t.match(S),e.length!==t.length)return-1;for(n=1,c=0;c<e.length;c++){for(i=m(a=e[c].charAt(0)),u=null,l=0;l<t.length&&(r=t[l].charAt(0),u=m(r),i!==u);l++)u=null;if(null===u)return-1;s=e[c].length,o=t[l].length,n+=Math.abs(s-o),a!==r&&(n+=1),(s<3&&o>=3||s>=3&&o<3)&&(n+=20)}return n},P=function(e,t){var a,r,n,s,o="dates/calendars/gregorian/dateTimeFormats/availableFormats",i=_,u=L;if(r=e.main([o,t]),t&&!r){a=e.main([o]),n=[];for(s in a)n.push({skeleton:s,pattern:a[s],rate:u(t,s)});(n=n.filter(function(e){return e.rate>-1}).sort(function(e,t){return e.rate-t.rate})).length&&(r=i(t,n[0].pattern))}return r},R=function(e,t){function a(e,a,r){return l(t.main(["dates/calendars/gregorian/dateTimeFormats",e]),[r,a])}var r,n,s,o,i,u=P;switch(!0){case"skeleton"in e:if(s=e.skeleton,s=s.replace(/j/g,function(){return t.supplemental.timeData.preferred()}),N(s),n=u(t,s))break;o=s.split(/[^hHKkmsSAzZOvVXx]/).slice(-1)[0],r=s.split(/[^GyYuUrQqMLlwWdDFgEec]/)[0],r=u(t,r),o=u(t,o),i=/(MMMM|LLLL).*[Ec]/.test(r)?"full":/MMMM|LLLL/.test(r)?"long":/MMM|LLL/.test(r)?"medium":"short",n=r&&o?a(i,r,o):r||o;break;case"date"in e:case"time"in e:n=t.main(["dates/calendars/gregorian","date"in e?"dateFormats":"timeFormats",e.date||e.time]);break;case"datetime"in e:n=a(e.datetime,t.main(["dates/calendars/gregorian/dateFormats",e.datetime]),t.main(["dates/calendars/gregorian/timeFormats",e.datetime]));break;case"raw"in e:n=e.raw;break;default:throw z({name:"options",value:e})}return n},I=["sun","mon","tue","wed","thu","fri","sat"],U=function(e){return I.indexOf(e.supplemental.weekData.firstDay())},C=function(e,t,a,r){var n,s;if(a)return(s=r.main(["dates/timeZoneNames/zone",a,e<4?"short":"long",t]))?s:(n=r.supplemental(["metaZones/metazoneInfo/timezone",a,0,"usesMetazone/_mzone"]),r.main(["dates/timeZoneNames/metazone",n,e<4?"short":"long",t]))},Y=function(e){return e.split(";").map(function(e){return e.slice(0,e.indexOf("H")+1)}).join(";")},q=function(e,t){return e.split(";").map(function(e){var a=e.split(/H+/);return a.splice(1,0,t),a.join("")}).join(";")},j=function(e,t){var a=function(){return t};return a.dataCacheKey=e,a},V=function(e,t,a){function r(e){n.numberFormatters[e]=b("",e)}var n={numberFormatters:{},pattern:e,timeSeparator:g("timeSeparator",t)},s=["abbreviated","wide","narrow"];return a&&(n.timeZoneData=j("iana/"+a,{offsets:t.get(["globalize-iana/zoneData",a,"offsets"]),untils:t.get(["globalize-iana/zoneData",a,"untils"]),isdsts:t.get(["globalize-iana/zoneData",a,"isdsts"])})),e.replace(S,function(o){var i,u,m,f,d,g,p;switch(u=o.charAt(0),g=o.length,"j"===u&&(n.preferredTime=u=t.supplemental.timeData.preferred()),"Z"===u&&4===g&&(u="O",g=4),"z"===u&&(p=C(g,"standard",a,t),m=C(g,"daylight",a,t),p&&(n.standardTzName=p),m&&(n.daylightTzName=m),p&&m||(u="O",g<4&&(g=1))),"v"===u&&((d=C(g,"generic",a,t))||(u="V",g=4)),u){case"G":n.eras=t.main(["dates/calendars/gregorian/eras",g<=3?"eraAbbr":4===g?"eraNames":"eraNarrow"]);break;case"y":f=!0;break;case"Y":n.firstDay=U(t),n.minDays=t.supplemental.weekData.minDays(),f=!0;break;case"u":case"U":throw c({feature:"year pattern `"+u+"`"});case"Q":case"q":g>2?(n.quarters||(n.quarters={}),n.quarters[u]||(n.quarters[u]={}),n.quarters[u][g]=t.main(["dates/calendars/gregorian/quarters","Q"===u?"format":"stand-alone",s[g-3]])):f=!0;break;case"M":case"L":g>2?(n.months||(n.months={}),n.months[u]||(n.months[u]={}),n.months[u][g]=t.main(["dates/calendars/gregorian/months","M"===u?"format":"stand-alone",s[g-3]])):f=!0;break;case"w":case"W":n.firstDay=U(t),n.minDays=t.supplemental.weekData.minDays(),f=!0;break;case"d":case"D":case"F":f=!0;break;case"g":throw c({feature:"Julian day pattern `g`"});case"e":case"c":if(g<=2){n.firstDay=U(t),f=!0;break}case"E":n.days||(n.days={}),n.days[u]||(n.days[u]={}),n.days[u][g]=6===g?t.main(["dates/calendars/gregorian/days","c"===u?"stand-alone":"format","short"])||t.main(["dates/calendars/gregorian/days","c"===u?"stand-alone":"format","abbreviated"]):t.main(["dates/calendars/gregorian/days","c"===u?"stand-alone":"format",s[g<3?0:g-3]]);break;case"a":n.dayPeriods={am:t.main("dates/calendars/gregorian/dayPeriods/format/wide/am"),pm:t.main("dates/calendars/gregorian/dayPeriods/format/wide/pm")};break;case"h":case"H":case"K":case"k":case"m":case"s":case"S":case"A":f=!0;break;case"v":if(1!==g&&4!==g)throw c({feature:"timezone pattern `"+e+"`"});n.genericTzName=d;break;case"V":if(1===g)throw c({feature:"timezone pattern `"+e+"`"});if(a){if(2===g){n.timeZoneName=a;break}var h,v=t.main(["dates/timeZoneNames/zone",a,"exemplarCity"]);if(3===g&&(v||(v=t.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),h=v),v&&4===g&&(h=l(t.main("dates/timeZoneNames/regionFormat"),[v])),h){n.timeZoneName=h;break}}"v"===o&&(g=1);case"O":n.gmtFormat=t.main("dates/timeZoneNames/gmtFormat"),n.gmtZeroFormat=t.main("dates/timeZoneNames/gmtZeroFormat"),i=t.main("dates/timeZoneNames/hourFormat"),n.hourFormat=g<4?[Y(i),q(i,"H")]:q(i,"HH");case"Z":case"X":case"x":r(1),r(2)}f&&r(g)}),n},W=function(e){return function(t){return e(t).map(function(e){return e.value}).join("")}},Q=function(e,t){var a={preferredTimeData:e.supplemental.timeData.preferred()};return t&&(a.timeZoneData=j("iana/"+t,{offsets:e.get(["globalize-iana/zoneData",t,"offsets"]),untils:e.get(["globalize-iana/zoneData",t,"untils"]),isdsts:e.get(["globalize-iana/zoneData",t,"isdsts"])})),a},X=function(){function e(e,t,a){Object.defineProperty(e,t,{value:a})}function t(e,t){for(var a=0,r=e.getTime();a<t.length-1&&r>=t[a];)a++;return a}function a(e){var t=this.getTimezoneOffset(),a=e();this.original.setTime(new Date(this.getTime()));var r=this.getTimezoneOffset();return this.original.setMinutes(this.original.getMinutes()+r-t),a}var r=function(t,r){if(e(this,"original",new Date(t.getTime())),e(this,"local",new Date(t.getTime())),e(this,"timeZoneData",r),e(this,"setWrap",a),!(r.untils&&r.offsets&&r.isdsts))throw new Error("Invalid IANA data");this.setTime(this.local.getTime()-60*this.getTimezoneOffset()*1e3)};return r.prototype.clone=function(){return new r(this.original,this.timeZoneData)},r.prototype.getFullYear=function(){return this.local.getUTCFullYear()},r.prototype.getMonth=function(){return this.local.getUTCMonth()},r.prototype.getDate=function(){return this.local.getUTCDate()},r.prototype.getDay=function(){return this.local.getUTCDay()},r.prototype.getHours=function(){return this.local.getUTCHours()},r.prototype.getMinutes=function(){return this.local.getUTCMinutes()},r.prototype.getSeconds=function(){return this.local.getUTCSeconds()},r.prototype.getMilliseconds=function(){return this.local.getUTCMilliseconds()},r.prototype.valueOf=r.prototype.getTime=function(){return this.local.getTime()+60*this.getTimezoneOffset()*1e3},r.prototype.getTimezoneOffset=function(){var e=t(this.original,this.timeZoneData.untils);return this.timeZoneData.offsets[e]},r.prototype.setFullYear=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCFullYear(e)})},r.prototype.setMonth=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMonth(e)})},r.prototype.setDate=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCDate(e)})},r.prototype.setHours=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCHours(e)})},r.prototype.setMinutes=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMinutes(e)})},r.prototype.setSeconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCSeconds(e)})},r.prototype.setMilliseconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMilliseconds(e)})},r.prototype.setTime=function(e){return this.local.setTime(e)},r.prototype.isDST=function(){var e=t(this.original,this.timeZoneData.untils);return Boolean(this.timeZoneData.isdsts[e])},r.prototype.inspect=function(){var e=t(this.original,this.timeZoneData.untils),a=this.timeZoneData.abbrs;return this.local.toISOString().replace(/Z$/,"")+" "+(a&&a[e]+" "||-1*this.getTimezoneOffset()+" ")+(this.isDST()?"(daylight savings)":"")},r}(),G=function(e){return 1===new Date(e,1,29).getMonth()},K=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},B=function(e,t){switch(e=e instanceof X?e.clone():new Date(e.getTime()),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},J=function(e,t){var a=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(t<1?1:t<a?t:a)},$=function(e,t){var a=e.getDate();e.setDate(1),e.setMonth(t),J(e,a)},ee=function(e,t,a){return e<t||e>a},te=function(e,t,a){var r,n,s,o,i,u,l,m,f=new Date,d=[],g=["year","month","day","hour","minute","second","milliseconds"];if(a.timeZoneData&&(f=new X(f,a.timeZoneData())),!t.length)return null;if(!t.every(function(e){var t,g,p;if("literal"===e.type)return!0;switch(t=e.type.charAt(0),p=e.type.length,"j"===t&&(t=a.preferredTimeData),t){case"G":d.push(0),i=+e.value;break;case"y":if(g=e.value,2===p){if(ee(g,0,99))return!1;(g+=100*Math.floor(f.getFullYear()/100))>f.getFullYear()+20&&(g-=100)}f.setFullYear(g),d.push(0);break;case"Y":throw c({feature:"year pattern `"+t+"`"});case"Q":case"q":break;case"M":case"L":if(g=p<=2?e.value:+e.value,ee(g,1,12))return!1;o=g,d.push(1);break;case"w":case"W":break;case"d":n=e.value,d.push(2);break;case"D":s=e.value,d.push(2);break;case"F":break;case"e":case"c":case"E":break;case"a":r=e.value;break;case"h":if(g=e.value,ee(g,1,12))return!1;u=l=!0,f.setHours(12===g?0:g),d.push(3);break;case"K":if(g=e.value,ee(g,0,11))return!1;u=l=!0,f.setHours(g),d.push(3);break;case"k":if(g=e.value,ee(g,1,24))return!1;u=!0,f.setHours(24===g?0:g),d.push(3);break;case"H":if(g=e.value,ee(g,0,23))return!1;u=!0,f.setHours(g),d.push(3);break;case"m":if(g=e.value,ee(g,0,59))return!1;f.setMinutes(g),d.push(4);break;case"s":if(g=e.value,ee(g,0,59))return!1;f.setSeconds(g),d.push(5);break;case"A":f.setHours(0),f.setMinutes(0),f.setSeconds(0);case"S":g=Math.round(e.value*Math.pow(10,3-p)),f.setMilliseconds(g),d.push(6);break;case"z":case"Z":case"O":case"v":case"V":case"X":case"x":"number"==typeof e.value&&(m=e.value)}return!0}))return null;if(u&&!(!r^l))return null;if(0===i&&f.setFullYear(-1*f.getFullYear()+1),void 0!==o&&$(f,o-1),void 0!==n){if(ee(n,1,K(f)))return null;f.setDate(n)}else if(void 0!==s){if(ee(s,1,G(f.getFullYear())?366:365))return null;f.setMonth(0),f.setDate(s)}return l&&"pm"===r&&f.setHours(f.getHours()+12),void 0!==m&&f.setMinutes(f.getMinutes()+m-f.getTimezoneOffset()),d=Math.max.apply(null,d),(f=B(f,g[d]))instanceof X&&(f=new Date(f.getTime())),f},ae=function(e,t,a){var r,n,s=[],o=["abbreviated","wide","narrow"];return r=a.digitsRe,e=f(e),n=a.pattern.match(S).every(function(n){function i(t,a){var r,n,s=e.match(t);return a=a||function(e){return+e},!!s&&(n=s[1],s.length<6?(r=n?1:3,b.value=60*a(s[r])):s.length<10?(r=n?[1,3]:[5,7],b.value=60*a(s[r[0]])+a(s[r[1]])):(r=n?[1,3,5]:[7,9,11],b.value=60*a(s[r[0]])+a(s[r[1]])+a(s[r[2]])/60),n&&(b.value*=-1),!0)}function u(){if(1===d)return g=!0,v=r}function c(){if(1===d||2===d)return g=!0,v=new RegExp("^("+r.source+"){1,2}")}function l(){if(2===d)return g=!0,v=new RegExp("^("+r.source+"){2}")}function m(t){var r=a[t.join("/")];return r?(r.some(function(t){if(t[1].test(e))return b.value=t[0],v=t[1],!0}),null):null}var f,d,g,v,b={};switch(b.type=n,f=n.charAt(0),d=n.length,"Z"===f&&(d<4?(f="x",d=4):d<5?(f="O",d=4):(f="X",d=5)),"z"===f&&a.standardOrDaylightTzName&&(b.value=null,v=a.standardOrDaylightTzName),"v"===f&&(a.genericTzName?(b.value=null,v=a.genericTzName):(f="V",d=4)),"V"===f&&a.timeZoneName&&(b.value=2===d?a.timeZoneName:null,v=a.timeZoneNameRe),f){case"G":m(["gregorian/eras",d<=3?"eraAbbr":4===d?"eraNames":"eraNarrow"]);break;case"y":case"Y":g=!0,v=1===d?new RegExp("^("+r.source+")+"):2===d?new RegExp("^("+r.source+"){1,2}"):new RegExp("^("+r.source+"){"+d+",}");break;case"Q":case"q":u()||l()||m(["gregorian/quarters","Q"===f?"format":"stand-alone",o[d-3]]);break;case"M":case"L":c()||m(["gregorian/months","M"===f?"format":"stand-alone",o[d-3]]);break;case"D":d<=3&&(g=!0,v=new RegExp("^("+r.source+"){"+d+",3}"));break;case"W":case"F":u();break;case"e":case"c":if(d<=2){u()||l();break}case"E":6===d?m(["gregorian/days",["c"===f?"stand-alone":"format"],"short"])||m(["gregorian/days",["c"===f?"stand-alone":"format"],"abbreviated"]):m(["gregorian/days",["c"===f?"stand-alone":"format"],o[d<3?0:d-3]]);break;case"a":m(["gregorian/dayPeriods/format/wide"]);break;case"w":(function(){if(1===d)return g=!0,v=new RegExp("^("+r.source+"){1,2}")})()||l();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":c();break;case"S":g=!0,v=new RegExp("^("+r.source+"){"+d+"}");break;case"A":g=!0,v=new RegExp("^("+r.source+"){"+(d+5)+"}");break;case"v":case"V":case"z":if(v&&v.test(e))break;if("V"===f&&2===d)break;case"O":if(e===a["timeZoneNames/gmtZeroFormat"])b.value=0,v=a["timeZoneNames/gmtZeroFormatRe"];else if(!a["timeZoneNames/hourFormat"].some(function(e){if(i(e,t))return v=e,!0}))return null;break;case"X":if("Z"===e){b.value=0,v=/^Z/;break}case"x":if(!a.x.some(function(e){if(i(e))return v=e,!0}))return null;break;case"'":b.type="literal",v=new RegExp("^"+p(h(n)));break;default:b.type="literal",v=new RegExp("^"+p(n))}return!!v&&(e=e.replace(v,function(e){return b.lexeme=e,g&&(b.value=t(e)),""}),!!b.lexeme&&((!g||!isNaN(b.value))&&(s.push(b),!0)))}),""!==e&&(n=!1),n?s:[]},re=function(e,t,a){return function(r){var n;return w(r,"value"),M(r,"value"),n=ae(r,e,a),te(0,n,t)||null}},ne=function(e,t){var a,r={};for(a in e)t.test(a)&&(r[a]=e[a]);return r},se=function(e,t,a){function r(e,t,a,r){var n;return a||(a="\\d"),t||(t="{0}"),n=e.replace("+","\\+").replace(/HH|mm|ss/g,"(("+a+"){2})").replace(/H|m/g,"(("+a+"){1,2})"),r&&(n=n.replace(/:/g,r)),n=n.split(";").map(function(e){return t.replace("{0}",e)}).join("|"),new RegExp("^"+n)}function n(e,t){/(timeZoneNames\/zone|supplemental\/metaZones|timeZoneNames\/metazone|timeZoneNames\/regionFormat|timeZoneNames\/gmtFormat)/.test(e)||t&&("gregorian/dayPeriods/format/wide"===(e=e.replace(/^.*\/dates\//,"").replace(/calendars\//,""))&&(t=ne(t,/^am|^pm/)),t=m(t)?Object.keys(t).map(function(e){return[e,new RegExp("^"+p(f(t[e])))]}).sort(function(e,t){return t[1].source.length-e[1].source.length}):f(t),i[e]=t)}function s(e){return"("+e.filter(function(e){return e}).reduce(function(e,t){return e+"|"+t})+")"}var o,i={pattern:f(e)},u=g("timeSeparator",t),h=["abbreviated","wide","narrow"];return o=d(t),o=o?"["+o+"]":"\\d",i.digitsRe=new RegExp(o),t.on("get",n),e.match(S).forEach(function(n){var m,d,g,v,b,y;if(d=n.charAt(0),b=n.length,"Z"===d&&(b<5?(d="O",b=4):(d="X",b=5)),"z"===d&&(y=C(b,"standard",a,t),g=C(b,"daylight",a,t),y&&(y=p(f(y))),g&&(g=p(f(g))),(y||g)&&(i.standardOrDaylightTzName=new RegExp("^"+s([y,g]))),y&&g||(d="O",b<4&&(b=1))),"v"===d){if(1!==b&&4!==b)throw c({feature:"timezone pattern `"+e+"`"});var k=C(b,"generic",a,t);k?(i.genericTzName=new RegExp("^"+p(f(k))),d="O"):(d="V",b=4)}switch(d){case"G":t.main(["dates/calendars/gregorian/eras",b<=3?"eraAbbr":4===b?"eraNames":"eraNarrow"]);break;case"u":case"U":throw c({feature:"year pattern `"+d+"`"});case"Q":case"q":b>2&&t.main(["dates/calendars/gregorian/quarters","Q"===d?"format":"stand-alone",h[b-3]]);break;case"M":case"L":b>2&&t.main(["dates/calendars/gregorian/months","M"===d?"format":"stand-alone",h[b-3]]);break;case"g":throw c({feature:"Julian day pattern `g`"});case"e":case"c":if(b<=2)break;case"E":6===b?t.main(["dates/calendars/gregorian/days",["c"===d?"stand-alone":"format"],"short"])||t.main(["dates/calendars/gregorian/days",["c"===d?"stand-alone":"format"],"abbreviated"]):t.main(["dates/calendars/gregorian/days",["c"===d?"stand-alone":"format"],h[b<3?0:b-3]]);break;case"a":t.main("dates/calendars/gregorian/dayPeriods/format/wide");break;case"V":if(1===b)throw c({feature:"timezone pattern `"+e+"`"});if(a){if(2===b){i.timeZoneName=a,i.timeZoneNameRe=new RegExp("^"+p(a));break}var D,w=t.main(["dates/timeZoneNames/zone",a,"exemplarCity"]);3===b&&(w||(w=t.main(["dates/timeZoneNames/zone/Etc/Unknown/exemplarCity"])),D=w),w&&4===b&&(D=l(t.main("dates/timeZoneNames/regionFormat"),[w])),D&&(D=f(D),i.timeZoneName=D,i.timeZoneNameRe=new RegExp("^"+p(D)))}"v"===n&&(b=1);case"z":case"O":v=t.main("dates/timeZoneNames/gmtFormat"),t.main("dates/timeZoneNames/gmtZeroFormat"),t.main("dates/timeZoneNames/hourFormat"),i["timeZoneNames/gmtZeroFormatRe"]=new RegExp("^"+p(i["timeZoneNames/gmtZeroFormat"])),m=i["timeZoneNames/hourFormat"],i["timeZoneNames/hourFormat"]=(b<4?[q(m,"H"),Y(m)]:[q(m,"HH")]).map(function(e){return r(e,v,o,u)});case"X":case"x":i.x=[["+HHmm;-HHmm","+HH;-HH"],["+HHmm;-HHmm"],["+HH:mm;-HH:mm"],["+HHmmss;-HHmmss","+HHmm;-HHmm"],["+HH:mm:ss;-HH:mm:ss","+HH:mm;-HH:mm"]][b-1].map(function(e){return r(e)})}}),t.off("get",n),i},oe=function(e,t){return(e.getDay()-t+7)%7},ie=function(e,t){return(t.getTime()-e.getTime())/864e5},ue=function(e){return Math.floor(ie(B(e,"year"),e))},ce=O({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zvVOxX"},function(e,t,a){return a.split("").forEach(function(a){e[a]=t}),e}),le=function(e){return e-B(e,"day")},me=function(e,t,a,r){var n,s=e.getTimezoneOffset();return n=Math.abs(s),r=r||{1:function(e){return b(e,1)},2:function(e){return b(e,2)}},t.split(";")[s>0?1:0].replace(":",a).replace(/HH?/,function(e){return r[e.length](Math.floor(n/60))}).replace(/mm/,function(){return r[2](Math.floor(n%60))}).replace(/ss/,function(){return r[2](Math.floor(n%1*60))})},fe=function(e,t,a){var r=[],n=a.timeSeparator;return a.timeZoneData&&(e=new X(e,a.timeZoneData())),a.pattern.replace(S,function(s){var o,i,u,c=s.charAt(0),l=s.length;switch("j"===c&&(c=a.preferredTime),"Z"===c&&(l<4?(c="x",l=4):l<5?(c="O",l=4):(c="X",l=5)),"z"===c&&(e.isDST&&(u=e.isDST()?a.daylightTzName:a.standardTzName),u||(c="O",l<4&&(l=1))),c){case"G":u=a.eras[e.getFullYear()<0?0:1];break;case"y":u=e.getFullYear(),2===l&&(u=+(u=String(u)).substr(u.length-2));break;case"Y":(u=new Date(e.getTime())).setDate(u.getDate()+7-oe(e,a.firstDay)-a.firstDay-a.minDays),u=u.getFullYear(),2===l&&(u=+(u=String(u)).substr(u.length-2));break;case"Q":case"q":u=Math.ceil((e.getMonth()+1)/3),l>2&&(u=a.quarters[c][l][u]);break;case"M":case"L":u=e.getMonth()+1,l>2&&(u=a.months[c][l][u]);break;case"w":u=oe(B(e,"year"),a.firstDay),u=Math.ceil((ue(e)+u)/7)-(7-u>=a.minDays?0:1);break;case"W":u=oe(B(e,"month"),a.firstDay),u=Math.ceil((e.getDate()+u)/7)-(7-u>=a.minDays?0:1);break;case"d":u=e.getDate();break;case"D":u=ue(e)+1;break;case"F":u=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(l<=2){u=oe(e,a.firstDay)+1;break}case"E":u=I[e.getDay()],u=a.days[c][l][u];break;case"a":u=a.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":u=e.getHours()%12||12;break;case"H":u=e.getHours();break;case"K":u=e.getHours()%12;break;case"k":u=e.getHours()||24;break;case"m":u=e.getMinutes();break;case"s":u=e.getSeconds();break;case"S":u=Math.round(e.getMilliseconds()*Math.pow(10,l-3));break;case"A":u=Math.round(le(e)*Math.pow(10,l-3));break;case"z":break;case"v":if(a.genericTzName){u=a.genericTzName;break}case"V":if(a.timeZoneName){u=a.timeZoneName;break}"v"===s&&(l=1);case"O":0===e.getTimezoneOffset()?u=a.gmtZeroFormat:(l<4?(o=e.getTimezoneOffset(),o=a.hourFormat[o%60-o%1==0?0:1]):o=a.hourFormat,u=me(e,o,n,t),u=a.gmtFormat.replace(/\{0\}/,u));break;case"X":if(0===e.getTimezoneOffset()){u="Z";break}case"x":o=e.getTimezoneOffset(),1===l&&o%60-o%1!=0&&(l+=1),4!==l&&5!==l||o%1!=0||(l-=2),u=me(e,u=["+HH;-HH","+HHmm;-HHmm","+HH:mm;-HH:mm","+HHmmss;-HHmmss","+HH:mm:ss;-HH:mm:ss"][l-1],":");break;case":":u=n;break;case"'":u=h(s);break;default:u=s}"number"==typeof u&&(u=t[l](u)),"literal"===(i=ce[c]||"literal")&&r.length&&"literal"===r[r.length-1].type?r[r.length-1].value+=u:r.push({type:i,value:u})}),r},de=function(e,t){return function(a){return w(a,"value"),T(a,"value"),fe(a,e,t)}};return t.loadTimeZone=function(t){var a={"globalize-iana":t};w(t,"json"),Z(t,"json"),e.load(a)},t.dateFormatter=t.prototype.dateFormatter=function(e){var t,r,n;return Z(e,"options"),e=e||{},a(e)||(e.skeleton="yMd"),t=[e],r=this.dateToPartsFormatter(e),n=W(r),v(t,this.cldr,n,[r]),n},t.dateToPartsFormatter=t.prototype.dateToPartsFormatter=function(e){var t,s,u,c,l,m,f,d;Z(e,"options"),s=this.cldr,a(e=e||{})||(e.skeleton="yMd"),n(e),D(s),d=e.timeZone,M(d,"options.timeZone"),t=[e],s.on("get",r),d&&s.on("get",i(d)),o(l=R(e,s),e.skeleton),m=V(l,s,d),s.off("get",r),d&&s.off("get",i(d)),u=m.numberFormatters,delete m.numberFormatters;for(c in u)u[c]=this.numberFormatter({raw:u[c]});return f=de(u,m),v(t,s,f,[u,m]),f},t.dateParser=t.prototype.dateParser=function(e){var t,s,u,c,l,m,f,d;return Z(e,"options"),s=this.cldr,e=e||{},a(e)||(e.skeleton="yMd"),n(e),D(s),f=e.timeZone,M(f,"options.timeZone"),t=[e],s.on("get",r),f&&s.on("get",i(f)),l=R(e,s),o(l,e.skeleton),d=se(l,s,f),c=Q(s,f),s.off("get",r),f&&s.off("get",i(f)),u=this.numberParser({raw:"0"}),m=re(u,c,d),v(t,s,m,[u,c,d]),m},t.formatDate=t.prototype.formatDate=function(e,t){return w(e,"value"),T(e,"value"),this.dateFormatter(t)(e)},t.formatDateToParts=t.prototype.formatDateToParts=function(e,t){return w(e,"value"),T(e,"value"),this.dateToPartsFormatter(t)(e)},t.parseDate=t.prototype.parseDate=function(e,t){return w(e,"value"),M(e,"value"),this.dateParser(t)(e)},t});