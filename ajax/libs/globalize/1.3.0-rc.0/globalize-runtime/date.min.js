!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime","./number"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime"),require("./number")):t(e.Globalize)}(this,function(e){function t(e){return void 0!==e.skeleton||void 0!==e.date||void 0!==e.time||void 0!==e.datetime||void 0!==e.raw}var a=e._createErrorUnsupportedFeature,r=e._looseMatching,n=e._regexpEscape,s=e._removeLiteralQuotes,o=e._runtimeKey,i=e._stringPad,u=e._validateParameterPresence,c=e._validateParameterType,l=e._validateParameterTypeString,f=function(e,t){c(e,t,void 0===e||e instanceof Date,"Date")},m=function(){function e(e,t,a){Object.defineProperty(e,t,{value:a})}function t(e,t){for(var a=0,r=e.getTime();a<t.length-1&&r>=t[a];)a++;return a}function a(e){var t=this.getTimezoneOffset(),a=e();this.original.setTime(new Date(this.getTime()));var r=this.getTimezoneOffset();return this.original.setMinutes(this.original.getMinutes()+r-t),a}var r=function(t,r){if(e(this,"original",new Date(t.getTime())),e(this,"local",new Date(t.getTime())),e(this,"timeZoneData",r),e(this,"setWrap",a),!(r.untils&&r.offsets&&r.isdsts))throw new Error("Invalid IANA data");this.setTime(this.local.getTime()-60*this.getTimezoneOffset()*1e3)};return r.prototype.clone=function(){return new r(this.original,this.timeZoneData)},r.prototype.getFullYear=function(){return this.local.getUTCFullYear()},r.prototype.getMonth=function(){return this.local.getUTCMonth()},r.prototype.getDate=function(){return this.local.getUTCDate()},r.prototype.getDay=function(){return this.local.getUTCDay()},r.prototype.getHours=function(){return this.local.getUTCHours()},r.prototype.getMinutes=function(){return this.local.getUTCMinutes()},r.prototype.getSeconds=function(){return this.local.getUTCSeconds()},r.prototype.getMilliseconds=function(){return this.local.getUTCMilliseconds()},r.prototype.valueOf=r.prototype.getTime=function(){return this.local.getTime()+60*this.getTimezoneOffset()*1e3},r.prototype.getTimezoneOffset=function(){var e=t(this.original,this.timeZoneData.untils);return this.timeZoneData.offsets[e]},r.prototype.setFullYear=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCFullYear(e)})},r.prototype.setMonth=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMonth(e)})},r.prototype.setDate=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCDate(e)})},r.prototype.setHours=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCHours(e)})},r.prototype.setMinutes=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMinutes(e)})},r.prototype.setSeconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCSeconds(e)})},r.prototype.setMilliseconds=function(e){var t=this.local;return this.setWrap(function(){return t.setUTCMilliseconds(e)})},r.prototype.setTime=function(e){return this.local.setTime(e)},r.prototype.isDST=function(){var e=t(this.original,this.timeZoneData.untils);return Boolean(this.timeZoneData.isdsts[e])},r.prototype.inspect=function(){var e=t(this.original,this.timeZoneData.untils),a=this.timeZoneData.abbrs;return this.local.toISOString().replace(/Z$/,"")+" "+(a&&a[e]+" "||-1*this.getTimezoneOffset()+" ")+(this.isDST()?"(daylight savings)":"")},r}(),h=function(e,t){return(e.getDay()-t+7)%7},g=function(e,t){return(t.getTime()-e.getTime())/864e5},p=function(e,t){switch(e=e instanceof m?e.clone():new Date(e.getTime()),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},d=function(e){return Math.floor(g(p(e,"year"),e))},v=function(e,t){return t=t||function(e,t,a){return e[a]=t,e},Object.keys(e).reduce(function(a,r){return t(a,r,e[r])},{})}({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zvVOxX"},function(e,t,a){return a.split("").forEach(function(a){e[a]=t}),e}),y=function(e){return e-p(e,"day")},b=/([a-z])\1*|'([^']|'')+'|''|./gi,k=function(e,t,a,r){var n,s=e.getTimezoneOffset();return n=Math.abs(s),r=r||{1:function(e){return i(e,1)},2:function(e){return i(e,2)}},t.split(";")[s>0?1:0].replace(":",a).replace(/HH?/,function(e){return r[e.length](Math.floor(n/60))}).replace(/mm/,function(){return r[2](Math.floor(n%60))}).replace(/ss/,function(){return r[2](Math.floor(n%1*60))})},D=["sun","mon","tue","wed","thu","fri","sat"],T=function(e,t,a){var r=[],n=a.timeSeparator;return a.timeZoneData&&(e=new m(e,a.timeZoneData())),a.pattern.replace(b,function(o){var i,u,c,l=o.charAt(0),f=o.length;switch("j"===l&&(l=a.preferredTime),"Z"===l&&(f<4?(l="x",f=4):f<5?(l="O",f=4):(l="X",f=5)),"z"===l&&(e.isDST&&(c=e.isDST()?a.daylightTzName:a.standardTzName),c||(l="O",f<4&&(f=1))),l){case"G":c=a.eras[e.getFullYear()<0?0:1];break;case"y":c=e.getFullYear(),2===f&&(c=+(c=String(c)).substr(c.length-2));break;case"Y":(c=new Date(e.getTime())).setDate(c.getDate()+7-h(e,a.firstDay)-a.firstDay-a.minDays),c=c.getFullYear(),2===f&&(c=+(c=String(c)).substr(c.length-2));break;case"Q":case"q":c=Math.ceil((e.getMonth()+1)/3),f>2&&(c=a.quarters[l][f][c]);break;case"M":case"L":c=e.getMonth()+1,f>2&&(c=a.months[l][f][c]);break;case"w":c=h(p(e,"year"),a.firstDay),c=Math.ceil((d(e)+c)/7)-(7-c>=a.minDays?0:1);break;case"W":c=h(p(e,"month"),a.firstDay),c=Math.ceil((e.getDate()+c)/7)-(7-c>=a.minDays?0:1);break;case"d":c=e.getDate();break;case"D":c=d(e)+1;break;case"F":c=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(f<=2){c=h(e,a.firstDay)+1;break}case"E":c=D[e.getDay()],c=a.days[l][f][c];break;case"a":c=a.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":c=e.getHours()%12||12;break;case"H":c=e.getHours();break;case"K":c=e.getHours()%12;break;case"k":c=e.getHours()||24;break;case"m":c=e.getMinutes();break;case"s":c=e.getSeconds();break;case"S":c=Math.round(e.getMilliseconds()*Math.pow(10,f-3));break;case"A":c=Math.round(y(e)*Math.pow(10,f-3));break;case"z":break;case"v":if(a.genericTzName){c=a.genericTzName;break}case"V":if(a.timeZoneName){c=a.timeZoneName;break}"v"===o&&(f=1);case"O":0===e.getTimezoneOffset()?c=a.gmtZeroFormat:(f<4?(i=e.getTimezoneOffset(),i=a.hourFormat[i%60-i%1==0?0:1]):i=a.hourFormat,c=k(e,i,n,t),c=a.gmtFormat.replace(/\{0\}/,c));break;case"X":if(0===e.getTimezoneOffset()){c="Z";break}case"x":i=e.getTimezoneOffset(),1===f&&i%60-i%1!=0&&(f+=1),4!==f&&5!==f||i%1!=0||(f-=2),c=k(e,c=["+HH;-HH","+HHmm;-HHmm","+HH:mm;-HH:mm","+HHmmss;-HHmmss","+HH:mm:ss;-HH:mm:ss"][f-1],":");break;case":":c=n;break;case"'":c=s(o);break;default:c=o}"number"==typeof c&&(c=t[f](c)),"literal"===(u=v[l]||"literal")&&r.length&&"literal"===r[r.length-1].type?r[r.length-1].value+=c:r.push({type:u,value:c})}),r},M=function(e){return function(t){return e(t).map(function(e){return e.value}).join("")}},w=function(e){return 1===new Date(e,1,29).getMonth()},H=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},F=function(e,t){var a=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(t<1?1:t<a?t:a)},z=function(e,t){var a=e.getDate();e.setDate(1),e.setMonth(t),F(e,a)},Z=function(e,t,a){return e<t||e>a},O=function(e,t,r){var n,s,o,i,u,c,l,f,h=new Date,g=[],d=["year","month","day","hour","minute","second","milliseconds"];if(r.timeZoneData&&(h=new m(h,r.timeZoneData())),!t.length)return null;if(!t.every(function(e){var t,m,p;if("literal"===e.type)return!0;switch(t=e.type.charAt(0),p=e.type.length,"j"===t&&(t=r.preferredTimeData),t){case"G":g.push(0),u=+e.value;break;case"y":if(m=e.value,2===p){if(Z(m,0,99))return!1;(m+=100*Math.floor(h.getFullYear()/100))>h.getFullYear()+20&&(m-=100)}h.setFullYear(m),g.push(0);break;case"Y":throw a({feature:"year pattern `"+t+"`"});case"Q":case"q":break;case"M":case"L":if(m=p<=2?e.value:+e.value,Z(m,1,12))return!1;i=m,g.push(1);break;case"w":case"W":break;case"d":s=e.value,g.push(2);break;case"D":o=e.value,g.push(2);break;case"F":break;case"e":case"c":case"E":break;case"a":n=e.value;break;case"h":if(m=e.value,Z(m,1,12))return!1;c=l=!0,h.setHours(12===m?0:m),g.push(3);break;case"K":if(m=e.value,Z(m,0,11))return!1;c=l=!0,h.setHours(m),g.push(3);break;case"k":if(m=e.value,Z(m,1,24))return!1;c=!0,h.setHours(24===m?0:m),g.push(3);break;case"H":if(m=e.value,Z(m,0,23))return!1;c=!0,h.setHours(m),g.push(3);break;case"m":if(m=e.value,Z(m,0,59))return!1;h.setMinutes(m),g.push(4);break;case"s":if(m=e.value,Z(m,0,59))return!1;h.setSeconds(m),g.push(5);break;case"A":h.setHours(0),h.setMinutes(0),h.setSeconds(0);case"S":m=Math.round(e.value*Math.pow(10,3-p)),h.setMilliseconds(m),g.push(6);break;case"z":case"Z":case"O":case"v":case"V":case"X":case"x":"number"==typeof e.value&&(f=e.value)}return!0}))return null;if(c&&!(!n^l))return null;if(0===u&&h.setFullYear(-1*h.getFullYear()+1),void 0!==i&&z(h,i-1),void 0!==s){if(Z(s,1,H(h)))return null;h.setDate(s)}else if(void 0!==o){if(Z(o,1,w(h.getFullYear())?366:365))return null;h.setMonth(0),h.setDate(o)}return l&&"pm"===n&&h.setHours(h.getHours()+12),void 0!==f&&h.setMinutes(h.getMinutes()+f-h.getTimezoneOffset()),g=Math.max.apply(null,g),(h=p(h,d[g]))instanceof m&&(h=new Date(h.getTime())),h},x=function(e,t,a){var o,i,u=[],c=["abbreviated","wide","narrow"];return o=a.digitsRe,e=r(e),i=a.pattern.match(b).every(function(r){function i(t,a){var r,n,s=e.match(t);return a=a||function(e){return+e},!!s&&(n=s[1],s.length<6?(r=n?1:3,y.value=60*a(s[r])):s.length<10?(r=n?[1,3]:[5,7],y.value=60*a(s[r[0]])+a(s[r[1]])):(r=n?[1,3,5]:[7,9,11],y.value=60*a(s[r[0]])+a(s[r[1]])+a(s[r[2]])/60),n&&(y.value*=-1),!0)}function l(){if(1===p)return d=!0,v=o}function f(){if(1===p||2===p)return d=!0,v=new RegExp("^("+o.source+"){1,2}")}function m(){if(2===p)return d=!0,v=new RegExp("^("+o.source+"){2}")}function h(t){var r=a[t.join("/")];return r?(r.some(function(t){if(t[1].test(e))return y.value=t[0],v=t[1],!0}),null):null}var g,p,d,v,y={};switch(y.type=r,g=r.charAt(0),p=r.length,"Z"===g&&(p<4?(g="x",p=4):p<5?(g="O",p=4):(g="X",p=5)),"z"===g&&a.standardOrDaylightTzName&&(y.value=null,v=a.standardOrDaylightTzName),"v"===g&&(a.genericTzName?(y.value=null,v=a.genericTzName):(g="V",p=4)),"V"===g&&a.timeZoneName&&(y.value=2===p?a.timeZoneName:null,v=a.timeZoneNameRe),g){case"G":h(["gregorian/eras",p<=3?"eraAbbr":4===p?"eraNames":"eraNarrow"]);break;case"y":case"Y":d=!0,v=1===p?new RegExp("^("+o.source+")+"):2===p?new RegExp("^("+o.source+"){1,2}"):new RegExp("^("+o.source+"){"+p+",}");break;case"Q":case"q":l()||m()||h(["gregorian/quarters","Q"===g?"format":"stand-alone",c[p-3]]);break;case"M":case"L":f()||h(["gregorian/months","M"===g?"format":"stand-alone",c[p-3]]);break;case"D":p<=3&&(d=!0,v=new RegExp("^("+o.source+"){"+p+",3}"));break;case"W":case"F":l();break;case"e":case"c":if(p<=2){l()||m();break}case"E":6===p?h(["gregorian/days",["c"===g?"stand-alone":"format"],"short"])||h(["gregorian/days",["c"===g?"stand-alone":"format"],"abbreviated"]):h(["gregorian/days",["c"===g?"stand-alone":"format"],c[p<3?0:p-3]]);break;case"a":h(["gregorian/dayPeriods/format/wide"]);break;case"w":(function(){if(1===p)return d=!0,v=new RegExp("^("+o.source+"){1,2}")})()||m();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":f();break;case"S":d=!0,v=new RegExp("^("+o.source+"){"+p+"}");break;case"A":d=!0,v=new RegExp("^("+o.source+"){"+(p+5)+"}");break;case"v":case"V":case"z":if(v&&v.test(e))break;if("V"===g&&2===p)break;case"O":if(e===a["timeZoneNames/gmtZeroFormat"])y.value=0,v=a["timeZoneNames/gmtZeroFormatRe"];else if(!a["timeZoneNames/hourFormat"].some(function(e){if(i(e,t))return v=e,!0}))return null;break;case"X":if("Z"===e){y.value=0,v=/^Z/;break}case"x":if(!a.x.some(function(e){if(i(e))return v=e,!0}))return null;break;case"'":y.type="literal",v=new RegExp("^"+n(s(r)));break;default:y.type="literal",v=new RegExp("^"+n(r))}return!!v&&(e=e.replace(v,function(e){return y.lexeme=e,d&&(y.value=t(e)),""}),!!y.lexeme&&((!d||!isNaN(y.value))&&(u.push(y),!0)))}),""!==e&&(i=!1),i?u:[]},P=function(e,t,a){return function(r){var n;return u(r,"value"),l(r,"value"),n=x(r,e,a),O(0,n,t)||null}},S=function(e,t){return function(a){return u(a,"value"),f(a,"value"),T(a,e,t)}};return e._dateFormat=T,e._dateFormatterFn=M,e._dateParser=O,e._dateParserFn=P,e._dateTokenizer=x,e._dateToPartsFormatterFn=S,e._validateParameterTypeDate=f,e.dateFormatter=e.prototype.dateFormatter=function(a){return a=a||{},t(a)||(a.skeleton="yMd"),e[o("dateFormatter",this._locale,[a])]},e.dateToPartsFormatter=e.prototype.dateToPartsFormatter=function(a){return a=a||{},t(a)||(a.skeleton="yMd"),e[o("dateToPartsFormatter",this._locale,[a])]},e.dateParser=e.prototype.dateParser=function(a){return a=a||{},t(a)||(a.skeleton="yMd"),e[o("dateParser",this._locale,[a])]},e.formatDate=e.prototype.formatDate=function(e,t){return u(e,"value"),f(e,"value"),this.dateFormatter(t)(e)},e.formatDateToParts=e.prototype.formatDateToParts=function(e,t){return u(e,"value"),f(e,"value"),this.dateToPartsFormatter(t)(e)},e.parseDate=e.prototype.parseDate=function(e,t){return u(e,"value"),l(e,"value"),this.dateParser(t)(e)},e});