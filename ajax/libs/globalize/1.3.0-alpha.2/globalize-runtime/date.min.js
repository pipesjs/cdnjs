!function(e,u){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime","./number"],u):"object"==typeof exports?module.exports=u(require("../globalize-runtime"),require("./number")):u(e.Globalize)}(this,function(e){var u=e._createErrorUnsupportedFeature,a=e._regexpEscape,t=e._removeLiteralQuotes,r=e._runtimeKey,n=e._stringPad,s=e._validateParameterPresence,o=e._validateParameterType,c=e._validateParameterTypeString,i=function(e,u){o(e,u,void 0===e||e instanceof Date,"Date")},D=function(e,u){return(e.getDay()-u+7)%7},l=function(e,u){return(u.getTime()-e.getTime())/864e5},f=function(e,u){switch(e=new Date(e.getTime()),u){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},m=function(e){return Math.floor(l(f(e,"year"),e))},F=function(e,u){return u=u||function(e,u,a){return e[a]=u,e},Object.keys(e).reduce(function(a,t){return u(a,t,e[t])},{})}({era:"G",year:"yY",quarter:"qQ",month:"ML",week:"wW",day:"dDF",weekday:"ecE",dayperiod:"a",hour:"hHkK",minute:"m",second:"sSA",zone:"zOxX"},function(e,u,a){return a.split("").forEach(function(a){e[a]=u}),e}),g=function(e){return e-f(e,"day")},p=function(e,u,a,t){var r,s=e.getTimezoneOffset();return r=Math.abs(s),t=t||{1:function(e){return n(e,1)},2:function(e){return n(e,2)}},u.split(";")[s>0?1:0].replace(":",a).replace(/HH?/,function(e){return t[e.length](Math.floor(r/60))}).replace(/mm/,function(){return t[2](r%60)})},d=["sun","mon","tue","wed","thu","fri","sat"],h=function(e,u,a){var r=[],n=a.timeSeparator;return a.pattern.replace(/([a-z])\1*|'([^']|'')+'|''|./gi,function(s){var o,c,i,l=s.charAt(0),h=s.length;switch("j"===l&&(l=a.preferredTime),"Z"===l&&(h<4?(l="x",h=4):h<5?(l="O",h=4):(l="X",h=5)),l){case"G":i=a.eras[e.getFullYear()<0?0:1];break;case"y":i=e.getFullYear(),2===h&&(i=String(i),i=+i.substr(i.length-2));break;case"Y":i=new Date(e.getTime()),i.setDate(i.getDate()+7-D(e,a.firstDay)-a.firstDay-a.minDays),i=i.getFullYear(),2===h&&(i=String(i),i=+i.substr(i.length-2));break;case"Q":case"q":i=Math.ceil((e.getMonth()+1)/3),h>2&&(i=a.quarters[l][h][i]);break;case"M":case"L":i=e.getMonth()+1,h>2&&(i=a.months[l][h][i]);break;case"w":i=D(f(e,"year"),a.firstDay),i=Math.ceil((m(e)+i)/7)-(7-i>=a.minDays?0:1);break;case"W":i=D(f(e,"month"),a.firstDay),i=Math.ceil((e.getDate()+i)/7)-(7-i>=a.minDays?0:1);break;case"d":i=e.getDate();break;case"D":i=m(e)+1;break;case"F":i=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(h<=2){i=D(e,a.firstDay)+1;break}case"E":i=d[e.getDay()],i=a.days[l][h][i];break;case"a":i=a.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":i=e.getHours()%12||12;break;case"H":i=e.getHours();break;case"K":i=e.getHours()%12;break;case"k":i=e.getHours()||24;break;case"m":i=e.getMinutes();break;case"s":i=e.getSeconds();break;case"S":i=Math.round(e.getMilliseconds()*Math.pow(10,h-3));break;case"A":i=Math.round(g(e)*Math.pow(10,h-3));break;case"z":case"O":0===e.getTimezoneOffset()?i=a.gmtZeroFormat:(i=p(e,h<4?"+H;-H":a.tzLongHourFormat,n,u),i=a.gmtFormat.replace(/\{0\}/,i));break;case"X":if(0===e.getTimezoneOffset()){i="Z";break}case"x":i=1===h?"+HH;-HH":h%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm",i=p(e,i,":");break;case":":i=n;break;case"'":i=t(s);break;default:i=s}if("number"==typeof i&&(i=u[h](i)),o=F[l],"literal"===(c=o||"literal")&&r.length&&"literal"===r[r.length-1].type)return void(r[r.length-1].value+=i);r.push({type:c,value:i})}),r},b=function(e){return 1===new Date(e,1,29).getMonth()},E=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},k=function(e,u){var a=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(u<1?1:u<a?u:a)},v=function(e,u){var a=e.getDate();e.setDate(1),e.setMonth(u),k(e,a)},y=function(e,u,a){return e<u||e>a},H=function(e,a,t){var r,n,s,o,c,i,D,l,m=new Date,F=[],g=["year","month","day","hour","minute","second","milliseconds"];if(!a.length)return null;if(!a.every(function(e){var a,f,g,p;if("literal"===e.type)return!0;switch(f=e.type.charAt(0),p=e.type.length,"j"===f&&(f=t.preferredTimeData),f){case"G":F.push(0),c=+e.value;break;case"y":if(g=e.value,2===p){if(y(g,0,99))return!1;a=100*Math.floor(m.getFullYear()/100),g+=a,g>m.getFullYear()+20&&(g-=100)}m.setFullYear(g),F.push(0);break;case"Y":throw u({feature:"year pattern `"+f+"`"});case"Q":case"q":break;case"M":case"L":if(g=p<=2?e.value:+e.value,y(g,1,12))return!1;o=g,F.push(1);break;case"w":case"W":break;case"d":n=e.value,F.push(2);break;case"D":s=e.value,F.push(2);break;case"F":break;case"e":case"c":case"E":break;case"a":r=e.value;break;case"h":if(g=e.value,y(g,1,12))return!1;i=D=!0,m.setHours(12===g?0:g),F.push(3);break;case"K":if(g=e.value,y(g,0,11))return!1;i=D=!0,m.setHours(g),F.push(3);break;case"k":if(g=e.value,y(g,1,24))return!1;i=!0,m.setHours(24===g?0:g),F.push(3);break;case"H":if(g=e.value,y(g,0,23))return!1;i=!0,m.setHours(g),F.push(3);break;case"m":if(g=e.value,y(g,0,59))return!1;m.setMinutes(g),F.push(4);break;case"s":if(g=e.value,y(g,0,59))return!1;m.setSeconds(g),F.push(5);break;case"A":m.setHours(0),m.setMinutes(0),m.setSeconds(0);case"S":g=Math.round(e.value*Math.pow(10,3-p)),m.setMilliseconds(g),F.push(6);break;case"Z":case"z":case"O":case"X":case"x":l=e.value}return!0}))return null;if(i&&!(!r^D))return null;if(0===c&&m.setFullYear(-1*m.getFullYear()+1),void 0!==o&&v(m,o-1),void 0!==n){if(y(n,1,E(m)))return null;m.setDate(n)}else if(void 0!==s){if(y(s,1,b(m.getFullYear())?366:365))return null;m.setMonth(0),m.setDate(s)}return D&&"pm"===r&&m.setHours(m.getHours()+12),void 0!==l&&m.setMinutes(m.getMinutes()+l-m.getTimezoneOffset()),F=Math.max.apply(null,F),m=f(m,g[F])},A=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/,C=function(e,u,r){var n,s=r.timeSeparator,o=[],c=["abbreviated","wide","narrow"];return n=r.pattern.match(/([a-z])\1*|'([^']|'')+'|''|./gi).every(function(n){function i(u,a){var t=e.match(u);return a=a||function(e){return+e},!!t&&(t.length<8?b.value=60*(t[1]?-a(t[1]):a(t[4])):b.value=60*(t[1]?-a(t[1]):a(t[7]))+(t[1]?-a(t[4]):a(t[10])),!0)}function D(e,u,a){var t;return u||(u="{0}"),t=e.replace("+","\\+").replace(/HH|mm/g,"(("+A.source+")("+A.source+"))").replace(/H|m/g,"(("+A.source+")("+A.source+")?)"),a&&(t=t.replace(/:/g,a)),t=t.split(";").map(function(e){return u.replace("{0}",e)}).join("|"),new RegExp(t)}function l(){if(1===p)return d=!0,h=A}function f(){if(1===p||2===p)return d=!0,h=new RegExp("("+A.source+"){1,2}")}function m(){if(2===p)return d=!0,h=new RegExp("("+A.source+"){2}")}function F(u){var a,t,n=r[u.join("/")];for(a in n)if(t=new RegExp("^"+n[a]),t.test(e))return b.value=a,h=new RegExp(n[a]);return null}var g,p,d,h,b={};switch(b.type=n,g=n.charAt(0),p=n.length,"Z"===g&&(p<4?(g="x",p=4):p<5?(g="O",p=4):(g="X",p=5)),g){case"G":F(["gregorian/eras",p<=3?"eraAbbr":4===p?"eraNames":"eraNarrow"]);break;case"y":case"Y":d=!0,h=1===p?new RegExp("("+A.source+")+"):2===p?new RegExp("("+A.source+"){1,2}"):new RegExp("("+A.source+"){"+p+",}");break;case"Q":case"q":l()||m()||F(["gregorian/quarters","Q"===g?"format":"stand-alone",c[p-3]]);break;case"M":case"L":f()||F(["gregorian/months","M"===g?"format":"stand-alone",c[p-3]]);break;case"D":p<=3&&(d=!0,h=new RegExp("("+A.source+"){"+p+",3}"));break;case"W":case"F":l();break;case"e":case"c":if(p<=2){l()||m();break}case"E":6===p?F(["gregorian/days",["c"===g?"stand-alone":"format"],"short"])||F(["gregorian/days",["c"===g?"stand-alone":"format"],"abbreviated"]):F(["gregorian/days",["c"===g?"stand-alone":"format"],c[p<3?0:p-3]]);break;case"a":F(["gregorian/dayPeriods/format/wide"]);break;case"w":(function(){if(1===p)return d=!0,h=new RegExp("("+A.source+"){1,2}")})()||m();break;case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":f();break;case"S":d=!0,h=new RegExp("("+A.source+"){"+p+"}");break;case"A":d=!0,h=new RegExp("("+A.source+"){"+(p+5)+"}");break;case"z":case"O":if(e===r["timeZoneNames/gmtZeroFormat"])b.value=0,h=new RegExp(r["timeZoneNames/gmtZeroFormat"]);else if(h=D(p<4?"+H;-H":r["timeZoneNames/hourFormat"],r["timeZoneNames/gmtFormat"],s),!i(h,u))return null;break;case"X":if("Z"===e){b.value=0,h=/Z/;break}case"x":if(h=D(1===p?"+HH;-HH":p%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"),!i(h))return null;break;case"'":b.type="literal",h=new RegExp(a(t(n)));break;default:b.type="literal",h=new RegExp(a(n))}return!!h&&(e=e.replace(new RegExp("^"+h.source),function(e){return b.lexeme=e,d&&(b.value=u(e)),""}),!!b.lexeme&&(o.push(b),!0))}),""!==e&&(n=!1),n?o:[]},w=function(e,u,a){return function(t){var r;return s(t,"value"),c(t,"value"),r=C(t,e,a),H(0,r,u)||null}},M=function(e,u){return function(a){return s(a,"value"),i(a,"value"),h(a,e,u)}};return e._dateFormat=h,e._dateParser=H,e._dateParserFn=w,e._dateToPartsFormatterFn=M,e._dateTokenizer=C,e._validateParameterTypeDate=i,e.dateFormatter=e.prototype.dateFormatter=function(e){var u=this.dateToPartsFormatter(e);return function(){return u.apply(this,arguments).map(function(e){return e.value}).join("")}},e.dateToPartsFormatter=e.prototype.dateToPartsFormatter=function(u){return u=u||{skeleton:"yMd"},e[r("dateToPartsFormatter",this._locale,[u])]},e.dateParser=e.prototype.dateParser=function(u){return u=u||{skeleton:"yMd"},e[r("dateParser",this._locale,[u])]},e.formatDate=e.prototype.formatDate=function(e,u){return s(e,"value"),i(e,"value"),this.dateFormatter(u)(e)},e.formatDateToParts=e.prototype.formatDateToParts=function(e,u){return s(e,"value"),i(e,"value"),this.dateToPartsFormatter(u)(e)},e.parseDate=e.prototype.parseDate=function(e,u){return s(e,"value"),c(e,"value"),this.dateParser(u)(e)},e});
//# sourceMappingURL=date.min.js.map