var PullToRefresh = (function () {
var _ptrMarkup = function () { return "<div class=\"__PREFIX__box\"><div class=\"__PREFIX__content\"><div class=\"__PREFIX__icon\"></div><div class=\"__PREFIX__text\"></div></div></div>"; };

var _ptrStyles = function () { return ".__PREFIX__ptr {\n  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);\n  pointer-events: none;\n  font-size: 0.85em;\n  font-weight: bold;\n  top: 0;\n  height: 0;\n  transition: height 0.3s, min-height 0.3s;\n  text-align: center;\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  align-items: flex-end;\n  align-content: stretch;\n}\n.__PREFIX__box {\n  padding: 10px;\n  flex-basis: 100%;\n}\n.__PREFIX__pull {\n  transition: none;\n}\n.__PREFIX__text {\n  margin-top: .33em;\n  color: rgba(0, 0, 0, 0.3);\n}\n.__PREFIX__icon {\n  color: rgba(0, 0, 0, 0.3);\n  transition: transform .3s;\n}\n.__PREFIX__top {\n  touch-action: pan-x pan-down pinch-zoom;\n}\n.__PREFIX__release .__PREFIX__icon {\n  transform: rotate(180deg);\n}\n"; };

/* eslint-disable import/no-unresolved */

var _SETTINGS = {};

var _defaults = {
  distThreshold: 60,
  distMax: 80,
  distReload: 50,
  bodyOffset: 20,
  mainElement: 'body',
  triggerElement: 'body',
  ptrElement: '.ptr',
  classPrefix: 'ptr--',
  cssProp: 'min-height',
  iconArrow: '&#8675;',
  iconRefreshing: '&hellip;',
  instructionsPullToRefresh: 'Pull down to refresh',
  instructionsReleaseToRefresh: 'Release to refresh',
  instructionsRefreshing: 'Refreshing',
  refreshTimeout: 500,
  getMarkup: _ptrMarkup,
  getStyles: _ptrStyles,
  onInit: function () {},
  onRefresh: function () { return location.reload(); },
  resistanceFunction: function (t) { return Math.min(1, t / 2.5); },
};

var pullStartY = null;
var pullMoveY = null;
var dist = 0;
var distResisted = 0;

var _state = 'pending';
var _setup = false;
var _enable = false;
var _timeout;

var supportsPassive = false;

try {
  window.addEventListener('test', null, {
    get passive() {
      supportsPassive = true;
    },
  });
} catch (e) {
  // do nothing
}

function _update() {
  var classPrefix = _SETTINGS.classPrefix;
  var ptrElement = _SETTINGS.ptrElement;
  var iconArrow = _SETTINGS.iconArrow;
  var iconRefreshing = _SETTINGS.iconRefreshing;
  var instructionsRefreshing = _SETTINGS.instructionsRefreshing;
  var instructionsPullToRefresh = _SETTINGS.instructionsPullToRefresh;
  var instructionsReleaseToRefresh = _SETTINGS.instructionsReleaseToRefresh;

  var iconEl = ptrElement.querySelector(("." + classPrefix + "icon"));
  var textEl = ptrElement.querySelector(("." + classPrefix + "text"));

  if (_state === 'refreshing') {
    iconEl.innerHTML = iconRefreshing;
  } else {
    iconEl.innerHTML = iconArrow;
  }

  if (_state === 'releasing') {
    textEl.innerHTML = instructionsReleaseToRefresh;
  }

  if (_state === 'pulling' || _state === 'pending') {
    textEl.innerHTML = instructionsPullToRefresh;
  }

  if (_state === 'refreshing') {
    textEl.innerHTML = instructionsRefreshing;
  }
}

function _setupEvents() {
  function onReset() {
    var cssProp = _SETTINGS.cssProp;
    var ptrElement = _SETTINGS.ptrElement;
    var classPrefix = _SETTINGS.classPrefix;

    ptrElement.classList.remove((classPrefix + "refresh"));
    ptrElement.style[cssProp] = '0px';

    _state = 'pending';
  }

  function _onTouchStart(e) {
    var triggerElement = _SETTINGS.triggerElement;

    if (!window.scrollY) {
      pullStartY = e.touches[0].screenY;
    }

    if (_state !== 'pending') {
      return;
    }

    clearTimeout(_timeout);

    _enable = triggerElement.contains(e.target);
    _state = 'pending';
    _update();
  }

  function _onTouchMove(e) {
    var ptrElement = _SETTINGS.ptrElement;
    var resistanceFunction = _SETTINGS.resistanceFunction;
    var distMax = _SETTINGS.distMax;
    var distThreshold = _SETTINGS.distThreshold;
    var cssProp = _SETTINGS.cssProp;
    var classPrefix = _SETTINGS.classPrefix;

    if (!pullStartY) {
      if (!window.scrollY) {
        pullStartY = e.touches[0].screenY;
      }
    } else {
      pullMoveY = e.touches[0].screenY;
    }

    if (!_enable || _state === 'refreshing') {
      if (!window.scrollY && pullStartY < pullMoveY) {
        e.preventDefault();
      }

      return;
    }

    if (_state === 'pending') {
      ptrElement.classList.add((classPrefix + "pull"));
      _state = 'pulling';
      _update();
    }

    if (pullStartY && pullMoveY) {
      dist = pullMoveY - pullStartY;
    }

    if (dist > 0) {
      e.preventDefault();

      ptrElement.style[cssProp] = distResisted + "px";

      distResisted = resistanceFunction(dist / distThreshold)
        * Math.min(distMax, dist);

      if (_state === 'pulling' && distResisted > distThreshold) {
        ptrElement.classList.add((classPrefix + "release"));
        _state = 'releasing';
        _update();
      }

      if (_state === 'releasing' && distResisted < distThreshold) {
        ptrElement.classList.remove((classPrefix + "release"));
        _state = 'pulling';
        _update();
      }
    }
  }

  function _onTouchEnd() {
    var ptrElement = _SETTINGS.ptrElement;
    var onRefresh = _SETTINGS.onRefresh;
    var refreshTimeout = _SETTINGS.refreshTimeout;
    var distThreshold = _SETTINGS.distThreshold;
    var distReload = _SETTINGS.distReload;
    var cssProp = _SETTINGS.cssProp;
    var classPrefix = _SETTINGS.classPrefix;

    if (_state === 'releasing' && distResisted > distThreshold) {
      _state = 'refreshing';

      ptrElement.style[cssProp] = distReload + "px";
      ptrElement.classList.add((classPrefix + "refresh"));

      _timeout = setTimeout(function () {
        var retval = onRefresh(onReset);

        if (retval && typeof retval.then === 'function') {
          retval.then(function () { return onReset(); });
        }

        if (!retval && !onRefresh.length) {
          onReset();
        }
      }, refreshTimeout);
    } else {
      if (_state === 'refreshing') {
        return;
      }

      ptrElement.style[cssProp] = '0px';

      _state = 'pending';
    }

    _update();

    ptrElement.classList.remove((classPrefix + "release"));
    ptrElement.classList.remove((classPrefix + "pull"));

    pullStartY = pullMoveY = null;
    dist = distResisted = 0;
  }

  function _onScroll() {
    var mainElement = _SETTINGS.mainElement;
    var classPrefix = _SETTINGS.classPrefix;

    mainElement.classList.toggle((classPrefix + "top"), !window.scrollY);
  }

  window.addEventListener('touchend', _onTouchEnd);
  window.addEventListener('touchstart', _onTouchStart);
  window.addEventListener('touchmove', _onTouchMove, supportsPassive
    ? { passive: _SETTINGS.passive || false }
    : undefined);

  window.addEventListener('scroll', _onScroll);

  // Store event handlers to use for teardown later
  return {
    onTouchStart: _onTouchStart,
    onTouchMove: _onTouchMove,
    onTouchEnd: _onTouchEnd,
    onScroll: _onScroll,
  };
}

function _run() {
  var mainElement = _SETTINGS.mainElement;
  var getMarkup = _SETTINGS.getMarkup;
  var getStyles = _SETTINGS.getStyles;
  var classPrefix = _SETTINGS.classPrefix;
  var onInit = _SETTINGS.onInit;

  if (!document.querySelector(("." + classPrefix + "ptr"))) {
    var ptr = document.createElement('div');

    if (mainElement !== document.body) {
      mainElement.parentNode.insertBefore(ptr, mainElement);
    } else {
      document.body.insertBefore(ptr, document.body.firstChild);
    }

    ptr.classList.add((classPrefix + "ptr"));
    ptr.innerHTML = getMarkup()
      .replace(/__PREFIX__/g, classPrefix);

    _SETTINGS.ptrElement = ptr;
  }

  // Add the css styles to the style node, and then
  // insert it into the dom
  // ========================================================
  var styleEl;
  if (!document.querySelector('#pull-to-refresh-js-style')) {
    styleEl = document.createElement('style');
    styleEl.setAttribute('id', 'pull-to-refresh-js-style');

    document.head.appendChild(styleEl);
  } else {
    styleEl = document.querySelector('#pull-to-refresh-js-style');
  }

  styleEl.textContent = getStyles()
    .replace(/__PREFIX__/g, classPrefix)
    .replace(/\s+/g, ' ');

  if (typeof onInit === 'function') {
    onInit(_SETTINGS);
  }

  return {
    styleNode: styleEl,
    ptrElement: _SETTINGS.ptrElement,
  };
}

var pulltorefresh = {
  init: function init(options) {
    if ( options === void 0 ) options = {};

    var handlers;
    Object.keys(_defaults).forEach(function (key) {
      _SETTINGS[key] = options[key] || _defaults[key];
    });

    var methods = ['mainElement', 'ptrElement', 'triggerElement'];
    methods.forEach(function (method) {
      if (typeof _SETTINGS[method] === 'string') {
        _SETTINGS[method] = document.querySelector(_SETTINGS[method]);
      }
    });

    if (!_setup) {
      handlers = _setupEvents();
      _setup = true;
    }

    var ref = _run();
    var styleNode = ref.styleNode;
    var ptrElement = ref.ptrElement;

    return {
      destroy: function destroy() {
        // Teardown event listeners
        window.removeEventListener('touchstart', handlers.onTouchStart);
        window.removeEventListener('touchend', handlers.onTouchEnd);
        window.removeEventListener('touchmove', handlers.onTouchMove, supportsPassive
          ? { passive: _SETTINGS.passive || false }
          : undefined);
        window.removeEventListener('scroll', handlers.onScroll);

        // Remove ptr element and style tag
        styleNode.parentNode.removeChild(styleNode);
        ptrElement.parentNode.removeChild(ptrElement);

        // Enable setupEvents to run again
        _setup = false;

        // null object references
        handlers = null;
        styleNode = null;
        ptrElement = null;
        _SETTINGS = {};
      },
    };
  },
};

return pulltorefresh;

}());

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9hY2FicmVyYS9Eb2N1bWVudHMvcHVsbHRvcmVmcmVzaC5qcy9zcmMvX21hcmt1cC5wdWciLCIvVXNlcnMvYWNhYnJlcmEvRG9jdW1lbnRzL3B1bGx0b3JlZnJlc2guanMvc3JjL19zdHlsZXMubGVzcyIsIi9Vc2Vycy9hY2FicmVyYS9Eb2N1bWVudHMvcHVsbHRvcmVmcmVzaC5qcy9zcmMvcHVsbHRvcmVmcmVzaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIl9fUFJFRklYX19ib3hcXFwiPjxkaXYgY2xhc3M9XFxcIl9fUFJFRklYX19jb250ZW50XFxcIj48ZGl2IGNsYXNzPVxcXCJfX1BSRUZJWF9faWNvblxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwiX19QUkVGSVhfX3RleHRcXFwiPjwvZGl2PjwvZGl2PjwvZGl2PlwiOyB9IixudWxsLCIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tdW5yZXNvbHZlZCAqL1xuXG5pbXBvcnQgX3B0ck1hcmt1cCBmcm9tICcuL19tYXJrdXAucHVnJztcbmltcG9ydCBfcHRyU3R5bGVzIGZyb20gJy4vX3N0eWxlcy5sZXNzJztcblxubGV0IF9TRVRUSU5HUyA9IHt9O1xuXG5jb25zdCBfZGVmYXVsdHMgPSB7XG4gIGRpc3RUaHJlc2hvbGQ6IDYwLFxuICBkaXN0TWF4OiA4MCxcbiAgZGlzdFJlbG9hZDogNTAsXG4gIGJvZHlPZmZzZXQ6IDIwLFxuICBtYWluRWxlbWVudDogJ2JvZHknLFxuICB0cmlnZ2VyRWxlbWVudDogJ2JvZHknLFxuICBwdHJFbGVtZW50OiAnLnB0cicsXG4gIGNsYXNzUHJlZml4OiAncHRyLS0nLFxuICBjc3NQcm9wOiAnbWluLWhlaWdodCcsXG4gIGljb25BcnJvdzogJyYjODY3NTsnLFxuICBpY29uUmVmcmVzaGluZzogJyZoZWxsaXA7JyxcbiAgaW5zdHJ1Y3Rpb25zUHVsbFRvUmVmcmVzaDogJ1B1bGwgZG93biB0byByZWZyZXNoJyxcbiAgaW5zdHJ1Y3Rpb25zUmVsZWFzZVRvUmVmcmVzaDogJ1JlbGVhc2UgdG8gcmVmcmVzaCcsXG4gIGluc3RydWN0aW9uc1JlZnJlc2hpbmc6ICdSZWZyZXNoaW5nJyxcbiAgcmVmcmVzaFRpbWVvdXQ6IDUwMCxcbiAgZ2V0TWFya3VwOiBfcHRyTWFya3VwLFxuICBnZXRTdHlsZXM6IF9wdHJTdHlsZXMsXG4gIG9uSW5pdDogKCkgPT4ge30sXG4gIG9uUmVmcmVzaDogKCkgPT4gbG9jYXRpb24ucmVsb2FkKCksXG4gIHJlc2lzdGFuY2VGdW5jdGlvbjogdCA9PiBNYXRoLm1pbigxLCB0IC8gMi41KSxcbn07XG5cbmxldCBwdWxsU3RhcnRZID0gbnVsbDtcbmxldCBwdWxsTW92ZVkgPSBudWxsO1xubGV0IGRpc3QgPSAwO1xubGV0IGRpc3RSZXNpc3RlZCA9IDA7XG5cbmxldCBfc3RhdGUgPSAncGVuZGluZyc7XG5sZXQgX3NldHVwID0gZmFsc2U7XG5sZXQgX2VuYWJsZSA9IGZhbHNlO1xubGV0IF90aW1lb3V0O1xuXG5sZXQgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cbnRyeSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwge1xuICAgIGdldCBwYXNzaXZlKCkge1xuICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICB9LFxuICB9KTtcbn0gY2F0Y2ggKGUpIHtcbiAgLy8gZG8gbm90aGluZ1xufVxuXG5mdW5jdGlvbiBfdXBkYXRlKCkge1xuICBjb25zdCB7XG4gICAgY2xhc3NQcmVmaXgsXG4gICAgcHRyRWxlbWVudCxcbiAgICBpY29uQXJyb3csXG4gICAgaWNvblJlZnJlc2hpbmcsXG4gICAgaW5zdHJ1Y3Rpb25zUmVmcmVzaGluZyxcbiAgICBpbnN0cnVjdGlvbnNQdWxsVG9SZWZyZXNoLFxuICAgIGluc3RydWN0aW9uc1JlbGVhc2VUb1JlZnJlc2gsXG4gIH0gPSBfU0VUVElOR1M7XG5cbiAgY29uc3QgaWNvbkVsID0gcHRyRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc1ByZWZpeH1pY29uYCk7XG4gIGNvbnN0IHRleHRFbCA9IHB0ckVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NQcmVmaXh9dGV4dGApO1xuXG4gIGlmIChfc3RhdGUgPT09ICdyZWZyZXNoaW5nJykge1xuICAgIGljb25FbC5pbm5lckhUTUwgPSBpY29uUmVmcmVzaGluZztcbiAgfSBlbHNlIHtcbiAgICBpY29uRWwuaW5uZXJIVE1MID0gaWNvbkFycm93O1xuICB9XG5cbiAgaWYgKF9zdGF0ZSA9PT0gJ3JlbGVhc2luZycpIHtcbiAgICB0ZXh0RWwuaW5uZXJIVE1MID0gaW5zdHJ1Y3Rpb25zUmVsZWFzZVRvUmVmcmVzaDtcbiAgfVxuXG4gIGlmIChfc3RhdGUgPT09ICdwdWxsaW5nJyB8fCBfc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgIHRleHRFbC5pbm5lckhUTUwgPSBpbnN0cnVjdGlvbnNQdWxsVG9SZWZyZXNoO1xuICB9XG5cbiAgaWYgKF9zdGF0ZSA9PT0gJ3JlZnJlc2hpbmcnKSB7XG4gICAgdGV4dEVsLmlubmVySFRNTCA9IGluc3RydWN0aW9uc1JlZnJlc2hpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3NldHVwRXZlbnRzKCkge1xuICBmdW5jdGlvbiBvblJlc2V0KCkge1xuICAgIGNvbnN0IHsgY3NzUHJvcCwgcHRyRWxlbWVudCwgY2xhc3NQcmVmaXggfSA9IF9TRVRUSU5HUztcblxuICAgIHB0ckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShgJHtjbGFzc1ByZWZpeH1yZWZyZXNoYCk7XG4gICAgcHRyRWxlbWVudC5zdHlsZVtjc3NQcm9wXSA9ICcwcHgnO1xuXG4gICAgX3N0YXRlID0gJ3BlbmRpbmcnO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uVG91Y2hTdGFydChlKSB7XG4gICAgY29uc3QgeyB0cmlnZ2VyRWxlbWVudCB9ID0gX1NFVFRJTkdTO1xuXG4gICAgaWYgKCF3aW5kb3cuc2Nyb2xsWSkge1xuICAgICAgcHVsbFN0YXJ0WSA9IGUudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgIH1cblxuICAgIGlmIChfc3RhdGUgIT09ICdwZW5kaW5nJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChfdGltZW91dCk7XG5cbiAgICBfZW5hYmxlID0gdHJpZ2dlckVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpO1xuICAgIF9zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICBfdXBkYXRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBfb25Ub3VjaE1vdmUoZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHB0ckVsZW1lbnQsIHJlc2lzdGFuY2VGdW5jdGlvbiwgZGlzdE1heCwgZGlzdFRocmVzaG9sZCwgY3NzUHJvcCwgY2xhc3NQcmVmaXgsXG4gICAgfSA9IF9TRVRUSU5HUztcblxuICAgIGlmICghcHVsbFN0YXJ0WSkge1xuICAgICAgaWYgKCF3aW5kb3cuc2Nyb2xsWSkge1xuICAgICAgICBwdWxsU3RhcnRZID0gZS50b3VjaGVzWzBdLnNjcmVlblk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHB1bGxNb3ZlWSA9IGUudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgIH1cblxuICAgIGlmICghX2VuYWJsZSB8fCBfc3RhdGUgPT09ICdyZWZyZXNoaW5nJykge1xuICAgICAgaWYgKCF3aW5kb3cuc2Nyb2xsWSAmJiBwdWxsU3RhcnRZIDwgcHVsbE1vdmVZKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgcHRyRWxlbWVudC5jbGFzc0xpc3QuYWRkKGAke2NsYXNzUHJlZml4fXB1bGxgKTtcbiAgICAgIF9zdGF0ZSA9ICdwdWxsaW5nJztcbiAgICAgIF91cGRhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAocHVsbFN0YXJ0WSAmJiBwdWxsTW92ZVkpIHtcbiAgICAgIGRpc3QgPSBwdWxsTW92ZVkgLSBwdWxsU3RhcnRZO1xuICAgIH1cblxuICAgIGlmIChkaXN0ID4gMCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBwdHJFbGVtZW50LnN0eWxlW2Nzc1Byb3BdID0gYCR7ZGlzdFJlc2lzdGVkfXB4YDtcblxuICAgICAgZGlzdFJlc2lzdGVkID0gcmVzaXN0YW5jZUZ1bmN0aW9uKGRpc3QgLyBkaXN0VGhyZXNob2xkKVxuICAgICAgICAqIE1hdGgubWluKGRpc3RNYXgsIGRpc3QpO1xuXG4gICAgICBpZiAoX3N0YXRlID09PSAncHVsbGluZycgJiYgZGlzdFJlc2lzdGVkID4gZGlzdFRocmVzaG9sZCkge1xuICAgICAgICBwdHJFbGVtZW50LmNsYXNzTGlzdC5hZGQoYCR7Y2xhc3NQcmVmaXh9cmVsZWFzZWApO1xuICAgICAgICBfc3RhdGUgPSAncmVsZWFzaW5nJztcbiAgICAgICAgX3VwZGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3N0YXRlID09PSAncmVsZWFzaW5nJyAmJiBkaXN0UmVzaXN0ZWQgPCBkaXN0VGhyZXNob2xkKSB7XG4gICAgICAgIHB0ckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShgJHtjbGFzc1ByZWZpeH1yZWxlYXNlYCk7XG4gICAgICAgIF9zdGF0ZSA9ICdwdWxsaW5nJztcbiAgICAgICAgX3VwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblRvdWNoRW5kKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHB0ckVsZW1lbnQsIG9uUmVmcmVzaCwgcmVmcmVzaFRpbWVvdXQsIGRpc3RUaHJlc2hvbGQsIGRpc3RSZWxvYWQsIGNzc1Byb3AsIGNsYXNzUHJlZml4LFxuICAgIH0gPSBfU0VUVElOR1M7XG5cbiAgICBpZiAoX3N0YXRlID09PSAncmVsZWFzaW5nJyAmJiBkaXN0UmVzaXN0ZWQgPiBkaXN0VGhyZXNob2xkKSB7XG4gICAgICBfc3RhdGUgPSAncmVmcmVzaGluZyc7XG5cbiAgICAgIHB0ckVsZW1lbnQuc3R5bGVbY3NzUHJvcF0gPSBgJHtkaXN0UmVsb2FkfXB4YDtcbiAgICAgIHB0ckVsZW1lbnQuY2xhc3NMaXN0LmFkZChgJHtjbGFzc1ByZWZpeH1yZWZyZXNoYCk7XG5cbiAgICAgIF90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJldHZhbCA9IG9uUmVmcmVzaChvblJlc2V0KTtcblxuICAgICAgICBpZiAocmV0dmFsICYmIHR5cGVvZiByZXR2YWwudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHZhbC50aGVuKCgpID0+IG9uUmVzZXQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJldHZhbCAmJiAhb25SZWZyZXNoLmxlbmd0aCkge1xuICAgICAgICAgIG9uUmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVmcmVzaFRpbWVvdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoX3N0YXRlID09PSAncmVmcmVzaGluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwdHJFbGVtZW50LnN0eWxlW2Nzc1Byb3BdID0gJzBweCc7XG5cbiAgICAgIF9zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICB9XG5cbiAgICBfdXBkYXRlKCk7XG5cbiAgICBwdHJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYCR7Y2xhc3NQcmVmaXh9cmVsZWFzZWApO1xuICAgIHB0ckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShgJHtjbGFzc1ByZWZpeH1wdWxsYCk7XG5cbiAgICBwdWxsU3RhcnRZID0gcHVsbE1vdmVZID0gbnVsbDtcbiAgICBkaXN0ID0gZGlzdFJlc2lzdGVkID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vblNjcm9sbCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBtYWluRWxlbWVudCwgY2xhc3NQcmVmaXgsXG4gICAgfSA9IF9TRVRUSU5HUztcblxuICAgIG1haW5FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoYCR7Y2xhc3NQcmVmaXh9dG9wYCwgIXdpbmRvdy5zY3JvbGxZKTtcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIF9vblRvdWNoRW5kKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBfb25Ub3VjaFN0YXJ0KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIF9vblRvdWNoTW92ZSwgc3VwcG9ydHNQYXNzaXZlXG4gICAgPyB7IHBhc3NpdmU6IF9TRVRUSU5HUy5wYXNzaXZlIHx8IGZhbHNlIH1cbiAgICA6IHVuZGVmaW5lZCk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIF9vblNjcm9sbCk7XG5cbiAgLy8gU3RvcmUgZXZlbnQgaGFuZGxlcnMgdG8gdXNlIGZvciB0ZWFyZG93biBsYXRlclxuICByZXR1cm4ge1xuICAgIG9uVG91Y2hTdGFydDogX29uVG91Y2hTdGFydCxcbiAgICBvblRvdWNoTW92ZTogX29uVG91Y2hNb3ZlLFxuICAgIG9uVG91Y2hFbmQ6IF9vblRvdWNoRW5kLFxuICAgIG9uU2Nyb2xsOiBfb25TY3JvbGwsXG4gIH07XG59XG5cbmZ1bmN0aW9uIF9ydW4oKSB7XG4gIGNvbnN0IHtcbiAgICBtYWluRWxlbWVudCwgZ2V0TWFya3VwLCBnZXRTdHlsZXMsIGNsYXNzUHJlZml4LCBvbkluaXQsXG4gIH0gPSBfU0VUVElOR1M7XG5cbiAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc1ByZWZpeH1wdHJgKSkge1xuICAgIGNvbnN0IHB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgaWYgKG1haW5FbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBtYWluRWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwdHIsIG1haW5FbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUocHRyLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHB0ci5jbGFzc0xpc3QuYWRkKGAke2NsYXNzUHJlZml4fXB0cmApO1xuICAgIHB0ci5pbm5lckhUTUwgPSBnZXRNYXJrdXAoKVxuICAgICAgLnJlcGxhY2UoL19fUFJFRklYX18vZywgY2xhc3NQcmVmaXgpO1xuXG4gICAgX1NFVFRJTkdTLnB0ckVsZW1lbnQgPSBwdHI7XG4gIH1cblxuICAvLyBBZGQgdGhlIGNzcyBzdHlsZXMgdG8gdGhlIHN0eWxlIG5vZGUsIGFuZCB0aGVuXG4gIC8vIGluc2VydCBpdCBpbnRvIHRoZSBkb21cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgbGV0IHN0eWxlRWw7XG4gIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3B1bGwtdG8tcmVmcmVzaC1qcy1zdHlsZScpKSB7XG4gICAgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGVFbC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3B1bGwtdG8tcmVmcmVzaC1qcy1zdHlsZScpO1xuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3B1bGwtdG8tcmVmcmVzaC1qcy1zdHlsZScpO1xuICB9XG5cbiAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGdldFN0eWxlcygpXG4gICAgLnJlcGxhY2UoL19fUFJFRklYX18vZywgY2xhc3NQcmVmaXgpXG4gICAgLnJlcGxhY2UoL1xccysvZywgJyAnKTtcblxuICBpZiAodHlwZW9mIG9uSW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uSW5pdChfU0VUVElOR1MpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdHlsZU5vZGU6IHN0eWxlRWwsXG4gICAgcHRyRWxlbWVudDogX1NFVFRJTkdTLnB0ckVsZW1lbnQsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdChvcHRpb25zID0ge30pIHtcbiAgICBsZXQgaGFuZGxlcnM7XG4gICAgT2JqZWN0LmtleXMoX2RlZmF1bHRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIF9TRVRUSU5HU1trZXldID0gb3B0aW9uc1trZXldIHx8IF9kZWZhdWx0c1trZXldO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbWV0aG9kcyA9IFsnbWFpbkVsZW1lbnQnLCAncHRyRWxlbWVudCcsICd0cmlnZ2VyRWxlbWVudCddO1xuICAgIG1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIF9TRVRUSU5HU1ttZXRob2RdID09PSAnc3RyaW5nJykge1xuICAgICAgICBfU0VUVElOR1NbbWV0aG9kXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoX1NFVFRJTkdTW21ldGhvZF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFfc2V0dXApIHtcbiAgICAgIGhhbmRsZXJzID0gX3NldHVwRXZlbnRzKCk7XG4gICAgICBfc2V0dXAgPSB0cnVlO1xuICAgIH1cblxuICAgIGxldCB7IHN0eWxlTm9kZSwgcHRyRWxlbWVudCB9ID0gX3J1bigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIC8vIFRlYXJkb3duIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZXJzLm9uVG91Y2hTdGFydCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZXJzLm9uVG91Y2hFbmQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlcnMub25Ub3VjaE1vdmUsIHN1cHBvcnRzUGFzc2l2ZVxuICAgICAgICAgID8geyBwYXNzaXZlOiBfU0VUVElOR1MucGFzc2l2ZSB8fCBmYWxzZSB9XG4gICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlcnMub25TY3JvbGwpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBwdHIgZWxlbWVudCBhbmQgc3R5bGUgdGFnXG4gICAgICAgIHN0eWxlTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlTm9kZSk7XG4gICAgICAgIHB0ckVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwdHJFbGVtZW50KTtcblxuICAgICAgICAvLyBFbmFibGUgc2V0dXBFdmVudHMgdG8gcnVuIGFnYWluXG4gICAgICAgIF9zZXR1cCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG51bGwgb2JqZWN0IHJlZmVyZW5jZXNcbiAgICAgICAgaGFuZGxlcnMgPSBudWxsO1xuICAgICAgICBzdHlsZU5vZGUgPSBudWxsO1xuICAgICAgICBwdHJFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgX1NFVFRJTkdTID0ge307XG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbImxldCIsImNvbnN0Il0sIm1hcHBpbmdzIjoiO0FBQUEsaUJBQWUsWUFBWSxFQUFFLE9BQU8sb0pBQW9KLENBQUMsRUFBRTs7QUNDekw7O0FDREY7O0FBRUEsQUFDQSxBQUVBQSxJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7O0FBRW5CQyxJQUFNLFNBQVMsR0FBRztFQUNoQixhQUFhLEVBQUUsRUFBRTtFQUNqQixPQUFPLEVBQUUsRUFBRTtFQUNYLFVBQVUsRUFBRSxFQUFFO0VBQ2QsVUFBVSxFQUFFLEVBQUU7RUFDZCxXQUFXLEVBQUUsTUFBTTtFQUNuQixjQUFjLEVBQUUsTUFBTTtFQUN0QixVQUFVLEVBQUUsTUFBTTtF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