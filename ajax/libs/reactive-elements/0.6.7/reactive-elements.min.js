!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","react-dom"],t);else{var r="object"==typeof exports?t(require("react"),require("react-dom")):t(e.react,e["react-dom"]);for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_4__){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(2)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(e,t,r){!function(){function e(e,t){t.forceUpdate=e.forceUpdate.bind(e)}function o(e,t){i.extend(t,e)}var n=document.registerElement||document.register;if(!n)throw new Error("No custom element support or polyfill found!");n=n.bind(document);var a=window.React||r(1),c=window.ReactDOM||r(4),i=r(3);t.registerReact=function(t,r){function p(e,t){var o=a.createElement(r,t);return e.reactiveElement=o,c.render(o,e,t.onRender)}var u,s=Object.create(HTMLElement.prototype);s.createdCallback=function(){var t=i.getProps(this);t.children=i.getChildren(this),u=p(this,t),o(u,u.props.container),e(u,u.props.container),i.getterSetter(this,"props",function(){return u.props},function(e){u=p(this,e)})},s.detachedCallback=function(){c.unmountComponentAtNode(this)},s.attributeChangedCallback=function(e,t,r){var o=i.getProps(this);u=p(this,o)},n(t,{prototype:s})},t.utils=i,document.registerReact=t.registerReact}()},function(module,exports,__webpack_require__){var React=window.React||__webpack_require__(1),getAllProperties=function(e){for(var t={};e&&e!==React.Component.prototype&&e!==Object.prototype;){for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++)t[r[o]]=null;e=Object.getPrototypeOf(e)}return delete t.constructor,Object.keys(t)};exports.extend=function(e,t){for(var r=getAllProperties(t),o=0;o<r.length;o++){var n=r[o];if(!(n in e)){var a=t[n];e[n]=a}}},exports.getProps=function(e){for(var t={},r=0;r<e.attributes.length;r++){var o=e.attributes[r],n=exports.attributeNameToPropertyName(o.name);t[n]=exports.parseAttributeValue(o.value)}return t.container=e,t},exports.getterSetter=function(e,t,r,o){Object.defineProperty?Object.defineProperty(e,t,{get:r,set:o}):document.__defineGetter__&&(e.__defineGetter__(t,r),e.__defineSetter__(t,o)),e["get"+t]=r,e["set"+t]=o},exports.attributeNameToPropertyName=function(e){return e.replace(/^(x|data)[-_:]/i,"").replace(/[-_:](.)/g,function(e,t){return t.toUpperCase()})},exports.parseAttributeValue=function(value){if(!value)return null;value=value.replace(/[\n\r]/g,"");var pointerRegexp=/^{.*?}$/i,jsonRegexp=/^{{2}.*}{2}$/,jsonArrayRegexp=/^{\[.*\]}$/,pointerMatches=value.match(pointerRegexp),jsonMatches=value.match(jsonRegexp)||value.match(jsonArrayRegexp);return jsonMatches?value=JSON.parse(jsonMatches[0].replace(/^{|}$/g,"")):pointerMatches&&(value=eval(pointerMatches[0].replace(/[{}]/g,""))),value},exports.getChildren=function(e){for(var t=document.createDocumentFragment();e.childNodes.length;)t.appendChild(e.childNodes[0]);return t},exports.shallowCopy=function(e,t){for(var r in t)e[r]=t[r];return e}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_4__}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9yZWFjdGl2ZS1lbGVtZW50cy5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDJiOGE2YjRmNDFjYTVlNDcxNjlkIiwid2VicGFjazovLy8uL2luZGV4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0aXZlLWVsZW1lbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1kb21cIiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiZXhwb3NlRGVmYXVsdE1ldGhvZHMiLCJyZWFjdENvbXBvbmVudCIsImN1c3RvbUVsZW1lbnQiLCJmb3JjZVVwZGF0ZSIsImJpbmQiLCJleHBvc2VNZXRob2RzIiwidXRpbHMiLCJleHRlbmQiLCJyZWdpc3RlckVsZW1lbnQiLCJkb2N1bWVudCIsInJlZ2lzdGVyIiwiRXJyb3IiLCJSZWFjdCIsIndpbmRvdyIsIlJlYWN0RE9NIiwicmVnaXN0ZXJSZWFjdCIsImVsZW1lbnROYW1lIiwiUmVhY3RDb21wb25lbnQiLCJjcmVhdGUiLCJwYXJlbnQiLCJwcm9wcyIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicmVhY3RpdmVFbGVtZW50IiwicmVuZGVyIiwib25SZW5kZXIiLCJyZWFjdEVsZW1lbnQiLCJlbGVtZW50UHJvdG90eXBlIiwiT2JqZWN0IiwiSFRNTEVsZW1lbnQiLCJwcm90b3R5cGUiLCJjcmVhdGVkQ2FsbGJhY2siLCJnZXRQcm9wcyIsImNoaWxkcmVuIiwiZ2V0Q2hpbGRyZW4iLCJjb250YWluZXIiLCJnZXR0ZXJTZXR0ZXIiLCJkZXRhY2hlZENhbGxiYWNrIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIm5hbWUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZ2V0QWxsUHJvcGVydGllcyIsIm9iaiIsIkNvbXBvbmVudCIsInByb3BOYW1lcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJsZW5ndGgiLCJnZXRQcm90b3R5cGVPZiIsImNvbnN0cnVjdG9yIiwia2V5cyIsImV4dGVuc2libGUiLCJleHRlbmRpbmciLCJwcm9wIiwidmFsIiwiZWwiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lIiwicGFyc2VBdHRyaWJ1dGVWYWx1ZSIsInZhbHVlIiwidmFyaWFibGVQYXJlbnQiLCJ2YXJpYWJsZU5hbWUiLCJnZXR0ZXJGdW5jdGlvbiIsInNldHRlckZ1bmN0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJzZXQiLCJfX2RlZmluZUdldHRlcl9fIiwiX19kZWZpbmVTZXR0ZXJfXyIsImF0dHJpYnV0ZU5hbWUiLCJyZXBsYWNlIiwieCIsImNociIsInRvVXBwZXJDYXNlIiwicG9pbnRlclJlZ2V4cCIsImpzb25SZWdleHAiLCJqc29uQXJyYXlSZWdleHAiLCJwb2ludGVyTWF0Y2hlcyIsIm1hdGNoIiwianNvbk1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJldmFsIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY2hpbGROb2RlcyIsImFwcGVuZENoaWxkIiwic2hhbGxvd0NvcHkiLCJiIiwia2V5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLG1C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QUFBLFdBQ0FDLFdBQUEsZUFDQUMsZ0JBQUEsYUFFQUMsZUFBQWxCLE1BQUFtQixNQUFBSixlQUNBSyxZQUFBcEIsTUFBQW1CLE1BQUFILGFBQUFoQixNQUFBbUIsTUFBQUYsZ0JBUUEsT0FOQUcsYUFDQXBCLE1BQUFxQixLQUFBQyxNQUFBRixZQUFBLEdBQUFULFFBQUEsU0FBdUQsS0FDbERPLGlCQUNMbEIsTUFBQXVCLEtBQUFMLGVBQUEsR0FBQVAsUUFBQSxRQUFtRCxNQUduRFgsT0FHQWpGLFFBQUFzRCxZQUFBLFNBQUFzQixHQUVBLElBREEsR0FBQTZCLEdBQUE1RSxTQUFBNkUseUJBQ0E5QixFQUFBK0IsV0FBQXZDLFFBQ0FxQyxFQUFBRyxZQUFBaEMsRUFBQStCLFdBQUEsR0FFQSxPQUFBRixJQUdBekcsUUFBQTZHLFlBQUEsU0FBQXhHLEVBQUF5RyxHQUNBLE9BQUFDLEtBQUFELEdBQUF6RyxFQUFBMEcsR0FBQUQsRUFBQUMsRUFDQSxPQUFBMUcsS0w4SU0sU0FBU0osRUFBUUQsR01oUHZCQyxFQUFBRCxRQUFBUyIsImZpbGUiOiJyZWFjdGl2ZS1lbGVtZW50cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiLCBcInJlYWN0LWRvbVwiXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpIDogZmFjdG9yeShyb290W1wicmVhY3RcIl0sIHJvb3RbXCJyZWFjdC1kb21cIl0pO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIiwgXCJyZWFjdC1kb21cIl0sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKSA6IGZhY3Rvcnkocm9vdFtcInJlYWN0XCJdLCByb290W1wicmVhY3QtZG9tXCJdKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzRfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHJlZ2lzdGVyRWxlbWVudCA9IGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCB8fCBkb2N1bWVudC5yZWdpc3Rlcjtcblx0XG5cdCAgICBpZiAocmVnaXN0ZXJFbGVtZW50KSB7XG5cdCAgICAgICAgcmVnaXN0ZXJFbGVtZW50ID0gcmVnaXN0ZXJFbGVtZW50LmJpbmQoZG9jdW1lbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGN1c3RvbSBlbGVtZW50IHN1cHBvcnQgb3IgcG9seWZpbGwgZm91bmQhJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIFJlYWN0ID0gd2luZG93LlJlYWN0IHx8IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdCAgICB2YXIgUmVhY3RET00gPSB3aW5kb3cuUmVhY3RET00gfHwgX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0ICAgIHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHQgICAgZXhwb3J0cy5yZWdpc3RlclJlYWN0ID0gZnVuY3Rpb24gKGVsZW1lbnROYW1lLCBSZWFjdENvbXBvbmVudCkge1xuXHQgICAgICAgIHZhciBlbGVtZW50UHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpO1xuXHQgICAgICAgIHZhciByZWFjdEVsZW1lbnQ7XG5cdFxuXHQgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZShwYXJlbnQsIHByb3BzKSB7XG5cdCAgICAgICAgICAgIHZhciBlbGVtZW50ID0gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdENvbXBvbmVudCwgcHJvcHMpO1xuXHQgICAgICAgICAgICBwYXJlbnQucmVhY3RpdmVFbGVtZW50ID0gZWxlbWVudDtcblx0ICAgICAgICAgICAgcmV0dXJuIFJlYWN0RE9NLnJlbmRlcihlbGVtZW50LCBwYXJlbnQsIHByb3BzLm9uUmVuZGVyKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGVsZW1lbnRQcm90b3R5cGUuY3JlYXRlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSB1dGlscy5nZXRQcm9wcyh0aGlzKTtcblx0ICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSB1dGlscy5nZXRDaGlsZHJlbih0aGlzKTtcblx0ICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICAgICAgZXhwb3NlTWV0aG9kcyhyZWFjdEVsZW1lbnQsIHJlYWN0RWxlbWVudC5wcm9wcy5jb250YWluZXIpO1xuXHQgICAgICAgICAgICBleHBvc2VEZWZhdWx0TWV0aG9kcyhyZWFjdEVsZW1lbnQsIHJlYWN0RWxlbWVudC5wcm9wcy5jb250YWluZXIpO1xuXHRcblx0ICAgICAgICAgICAgdXRpbHMuZ2V0dGVyU2V0dGVyKHRoaXMsICdwcm9wcycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZWFjdEVsZW1lbnQucHJvcHM7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChwcm9wcykge1xuXHQgICAgICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgZWxlbWVudFByb3RvdHlwZS5kZXRhY2hlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGVsZW1lbnRQcm90b3R5cGUuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrID0gZnVuY3Rpb24gKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSB1dGlscy5nZXRQcm9wcyh0aGlzKTtcblx0ICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZWdpc3RlckVsZW1lbnQoZWxlbWVudE5hbWUsIHtwcm90b3R5cGU6IGVsZW1lbnRQcm90b3R5cGV9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgZnVuY3Rpb24gZXhwb3NlRGVmYXVsdE1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG5cdCAgICAgICAgY3VzdG9tRWxlbWVudC5mb3JjZVVwZGF0ZSA9IHJlYWN0Q29tcG9uZW50LmZvcmNlVXBkYXRlLmJpbmQocmVhY3RDb21wb25lbnQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGV4cG9zZU1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG5cdCAgICAgICAgdXRpbHMuZXh0ZW5kKGN1c3RvbUVsZW1lbnQsIHJlYWN0Q29tcG9uZW50KTtcblx0ICAgIH1cblx0XG5cdCAgICBleHBvcnRzLnV0aWxzID0gdXRpbHM7XG5cdFxuXHQgICAgZG9jdW1lbnQucmVnaXN0ZXJSZWFjdCA9IGV4cG9ydHMucmVnaXN0ZXJSZWFjdDtcblx0fSgpKVxuXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgUmVhY3QgPSB3aW5kb3cuUmVhY3QgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBnZXRBbGxQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgdmFyIHByb3BzID0ge307XG5cdCAgICB3aGlsZSAob2JqICYmIG9iaiAhPT0gUmVhY3QuQ29tcG9uZW50LnByb3RvdHlwZSAmJiBvYmogIT09IE9iamVjdC5wcm90b3R5cGUpIHtcblx0ICAgICAgICB2YXIgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBwcm9wc1twcm9wTmFtZXNbaV1dID0gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG5cdCAgICB9XG5cdCAgICBkZWxldGUgcHJvcHMuY29uc3RydWN0b3I7XG5cdCAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5zaWJsZSwgZXh0ZW5kaW5nKSB7XG5cdCAgICB2YXIgcHJvcHMgPSBnZXRBbGxQcm9wZXJ0aWVzKGV4dGVuZGluZyk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcblx0ICAgICAgICBpZiAoIShwcm9wIGluIGV4dGVuc2libGUpKSB7XG5cdCAgICAgICAgICAgIHZhciB2YWwgPSBleHRlbmRpbmdbcHJvcF07XG5cdCAgICAgICAgICAgIGV4dGVuc2libGVbcHJvcF0gPSB2YWw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5nZXRQcm9wcyA9IGZ1bmN0aW9uIChlbCkge1xuXHQgICAgdmFyIHByb3BzID0ge307XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGVsLmF0dHJpYnV0ZXNbaV07XG5cdCAgICAgICAgdmFyIG5hbWUgPSBleHBvcnRzLmF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZShhdHRyaWJ1dGUubmFtZSk7XG5cdCAgICAgICAgcHJvcHNbbmFtZV0gPSBleHBvcnRzLnBhcnNlQXR0cmlidXRlVmFsdWUoYXR0cmlidXRlLnZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICBwcm9wcy5jb250YWluZXIgPSBlbDtcblx0XG5cdCAgICByZXR1cm4gcHJvcHM7XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldHRlclNldHRlciA9IGZ1bmN0aW9uICh2YXJpYWJsZVBhcmVudCwgdmFyaWFibGVOYW1lLCBnZXR0ZXJGdW5jdGlvbiwgc2V0dGVyRnVuY3Rpb24pIHtcblx0ICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcblx0ICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFyaWFibGVQYXJlbnQsIHZhcmlhYmxlTmFtZSwge1xuXHQgICAgICAgICAgICBnZXQ6IGdldHRlckZ1bmN0aW9uLFxuXHQgICAgICAgICAgICBzZXQ6IHNldHRlckZ1bmN0aW9uXG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmIChkb2N1bWVudC5fX2RlZmluZUdldHRlcl9fKSB7XG5cdCAgICAgICAgdmFyaWFibGVQYXJlbnQuX19kZWZpbmVHZXR0ZXJfXyh2YXJpYWJsZU5hbWUsIGdldHRlckZ1bmN0aW9uKTtcblx0ICAgICAgICB2YXJpYWJsZVBhcmVudC5fX2RlZmluZVNldHRlcl9fKHZhcmlhYmxlTmFtZSwgc2V0dGVyRnVuY3Rpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhcmlhYmxlUGFyZW50WydnZXQnICsgdmFyaWFibGVOYW1lXSA9IGdldHRlckZ1bmN0aW9uO1xuXHQgICAgdmFyaWFibGVQYXJlbnRbJ3NldCcgKyB2YXJpYWJsZU5hbWVdID0gc2V0dGVyRnVuY3Rpb247XG5cdH07XG5cdFxuXHRleHBvcnRzLmF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZSA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG5cdCAgICByZXR1cm4gYXR0cmlidXRlTmFtZVxuXHQgICAgICAgIC5yZXBsYWNlKC9eKHh8ZGF0YSlbLV86XS9pLCAnJylcblx0ICAgICAgICAucmVwbGFjZSgvWy1fOl0oLikvZywgZnVuY3Rpb24gKHgsIGNocikge1xuXHQgICAgICAgICAgICByZXR1cm4gY2hyLnRvVXBwZXJDYXNlKCk7XG5cdCAgICAgICAgfSk7XG5cdH07XG5cdFxuXHRleHBvcnRzLnBhcnNlQXR0cmlidXRlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIGlmICghdmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBTdXBwb3J0IGF0dHJpYnV0ZSB2YWx1ZXMgd2l0aCBuZXdsaW5lc1xuXHQgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bXFxuXFxyXS9nLCAnJyk7XG5cdFxuXHQgICAgdmFyIHBvaW50ZXJSZWdleHAgPSAvXnsuKj99JC9pLFxuXHQgICAgICAgIGpzb25SZWdleHAgPSAvXnt7Mn0uKn17Mn0kLyxcblx0ICAgICAgICBqc29uQXJyYXlSZWdleHAgPSAvXntcXFsuKlxcXX0kLztcblx0XG5cdCAgICB2YXIgcG9pbnRlck1hdGNoZXMgPSB2YWx1ZS5tYXRjaChwb2ludGVyUmVnZXhwKSxcblx0ICAgICAgICBqc29uTWF0Y2hlcyA9IHZhbHVlLm1hdGNoKGpzb25SZWdleHApIHx8IHZhbHVlLm1hdGNoKGpzb25BcnJheVJlZ2V4cCk7XG5cdFxuXHQgICAgaWYgKGpzb25NYXRjaGVzKSB7XG5cdCAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKGpzb25NYXRjaGVzWzBdLnJlcGxhY2UoL157fH0kL2csICcnKSk7XG5cdCAgICB9IGVsc2UgaWYgKHBvaW50ZXJNYXRjaGVzKSB7XG5cdCAgICAgICAgdmFsdWUgPSBldmFsKHBvaW50ZXJNYXRjaGVzWzBdLnJlcGxhY2UoL1t7fV0vZywgJycpKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldENoaWxkcmVuID0gZnVuY3Rpb24gKGVsKSB7XG5cdCAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdCAgICB3aGlsZSAoZWwuY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0ICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbC5jaGlsZE5vZGVzWzBdKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmcmFnbWVudDtcblx0fTtcblx0XG5cdGV4cG9ydHMuc2hhbGxvd0NvcHkgPSBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgZm9yICh2YXIga2V5IGluIGIpIGFba2V5XSA9IGJba2V5XTtcblx0ICAgIHJldHVybiBhO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fO1xuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogcmVhY3RpdmUtZWxlbWVudHMubWluLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCAyYjhhNmI0ZjQxY2E1ZTQ3MTY5ZFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9zcmMvcmVhY3RpdmUtZWxlbWVudHMnKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcInJlYWN0XCJcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZ2lzdGVyRWxlbWVudCA9IGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCB8fCBkb2N1bWVudC5yZWdpc3RlcjtcblxuICAgIGlmIChyZWdpc3RlckVsZW1lbnQpIHtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50ID0gcmVnaXN0ZXJFbGVtZW50LmJpbmQoZG9jdW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY3VzdG9tIGVsZW1lbnQgc3VwcG9ydCBvciBwb2x5ZmlsbCBmb3VuZCEnKTtcbiAgICB9XG5cbiAgICB2YXIgUmVhY3QgPSB3aW5kb3cuUmVhY3QgfHwgcmVxdWlyZSgncmVhY3QnKTtcbiAgICB2YXIgUmVhY3RET00gPSB3aW5kb3cuUmVhY3RET00gfHwgcmVxdWlyZSgncmVhY3QtZG9tJyk7XG4gICAgdmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG4gICAgZXhwb3J0cy5yZWdpc3RlclJlYWN0ID0gZnVuY3Rpb24gKGVsZW1lbnROYW1lLCBSZWFjdENvbXBvbmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudFByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKTtcbiAgICAgICAgdmFyIHJlYWN0RWxlbWVudDtcblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGUocGFyZW50LCBwcm9wcykge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0Q29tcG9uZW50LCBwcm9wcyk7XG4gICAgICAgICAgICBwYXJlbnQucmVhY3RpdmVFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdERPTS5yZW5kZXIoZWxlbWVudCwgcGFyZW50LCBwcm9wcy5vblJlbmRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50UHJvdG90eXBlLmNyZWF0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHV0aWxzLmdldFByb3BzKHRoaXMpO1xuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSB1dGlscy5nZXRDaGlsZHJlbih0aGlzKTtcbiAgICAgICAgICAgIHJlYWN0RWxlbWVudCA9IGNyZWF0ZSh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgICBleHBvc2VNZXRob2RzKHJlYWN0RWxlbWVudCwgcmVhY3RFbGVtZW50LnByb3BzLmNvbnRhaW5lcik7XG4gICAgICAgICAgICBleHBvc2VEZWZhdWx0TWV0aG9kcyhyZWFjdEVsZW1lbnQsIHJlYWN0RWxlbWVudC5wcm9wcy5jb250YWluZXIpO1xuXG4gICAgICAgICAgICB1dGlscy5nZXR0ZXJTZXR0ZXIodGhpcywgJ3Byb3BzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWFjdEVsZW1lbnQucHJvcHM7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZWFjdEVsZW1lbnQgPSBjcmVhdGUodGhpcywgcHJvcHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZWxlbWVudFByb3RvdHlwZS5kZXRhY2hlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBlbGVtZW50UHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHV0aWxzLmdldFByb3BzKHRoaXMpO1xuICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckVsZW1lbnQoZWxlbWVudE5hbWUsIHtwcm90b3R5cGU6IGVsZW1lbnRQcm90b3R5cGV9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZXhwb3NlRGVmYXVsdE1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnQuZm9yY2VVcGRhdGUgPSByZWFjdENvbXBvbmVudC5mb3JjZVVwZGF0ZS5iaW5kKHJlYWN0Q29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBvc2VNZXRob2RzIChyZWFjdENvbXBvbmVudCwgY3VzdG9tRWxlbWVudCkge1xuICAgICAgICB1dGlscy5leHRlbmQoY3VzdG9tRWxlbWVudCwgcmVhY3RDb21wb25lbnQpO1xuICAgIH1cblxuICAgIGV4cG9ydHMudXRpbHMgPSB1dGlscztcblxuICAgIGRvY3VtZW50LnJlZ2lzdGVyUmVhY3QgPSBleHBvcnRzLnJlZ2lzdGVyUmVhY3Q7XG59KCkpXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3JlYWN0aXZlLWVsZW1lbnRzLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFJlYWN0ID0gd2luZG93LlJlYWN0IHx8IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBnZXRBbGxQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHdoaWxlIChvYmogJiYgb2JqICE9PSBSZWFjdC5Db21wb25lbnQucHJvdG90eXBlICYmIG9iaiAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgICB2YXIgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lc1tpXV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgIH1cbiAgICBkZWxldGUgcHJvcHMuY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKTtcbn07XG5cbmV4cG9ydHMuZXh0ZW5kID0gZnVuY3Rpb24gKGV4dGVuc2libGUsIGV4dGVuZGluZykge1xuICAgIHZhciBwcm9wcyA9IGdldEFsbFByb3BlcnRpZXMoZXh0ZW5kaW5nKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgIGlmICghKHByb3AgaW4gZXh0ZW5zaWJsZSkpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBleHRlbmRpbmdbcHJvcF07XG4gICAgICAgICAgICBleHRlbnNpYmxlW3Byb3BdID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0cy5nZXRQcm9wcyA9IGZ1bmN0aW9uIChlbCkge1xuICAgIHZhciBwcm9wcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSBlbC5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICB2YXIgbmFtZSA9IGV4cG9ydHMuYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lKGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgICAgcHJvcHNbbmFtZV0gPSBleHBvcnRzLnBhcnNlQXR0cmlidXRlVmFsdWUoYXR0cmlidXRlLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwcm9wcy5jb250YWluZXIgPSBlbDtcblxuICAgIHJldHVybiBwcm9wcztcbn07XG5cbmV4cG9ydHMuZ2V0dGVyU2V0dGVyID0gZnVuY3Rpb24gKHZhcmlhYmxlUGFyZW50LCB2YXJpYWJsZU5hbWUsIGdldHRlckZ1bmN0aW9uLCBzZXR0ZXJGdW5jdGlvbikge1xuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhcmlhYmxlUGFyZW50LCB2YXJpYWJsZU5hbWUsIHtcbiAgICAgICAgICAgIGdldDogZ2V0dGVyRnVuY3Rpb24sXG4gICAgICAgICAgICBzZXQ6IHNldHRlckZ1bmN0aW9uXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChkb2N1bWVudC5fX2RlZmluZUdldHRlcl9fKSB7XG4gICAgICAgIHZhcmlhYmxlUGFyZW50Ll9fZGVmaW5lR2V0dGVyX18odmFyaWFibGVOYW1lLCBnZXR0ZXJGdW5jdGlvbik7XG4gICAgICAgIHZhcmlhYmxlUGFyZW50Ll9fZGVmaW5lU2V0dGVyX18odmFyaWFibGVOYW1lLCBzZXR0ZXJGdW5jdGlvbik7XG4gICAgfVxuXG4gICAgdmFyaWFibGVQYXJlbnRbJ2dldCcgKyB2YXJpYWJsZU5hbWVdID0gZ2V0dGVyRnVuY3Rpb247XG4gICAgdmFyaWFibGVQYXJlbnRbJ3NldCcgKyB2YXJpYWJsZU5hbWVdID0gc2V0dGVyRnVuY3Rpb247XG59O1xuXG5leHBvcnRzLmF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZSA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZU5hbWVcbiAgICAgICAgLnJlcGxhY2UoL14oeHxkYXRhKVstXzpdL2ksICcnKVxuICAgICAgICAucmVwbGFjZSgvWy1fOl0oLikvZywgZnVuY3Rpb24gKHgsIGNocikge1xuICAgICAgICAgICAgcmV0dXJuIGNoci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KTtcbn07XG5cbmV4cG9ydHMucGFyc2VBdHRyaWJ1dGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gU3VwcG9ydCBhdHRyaWJ1dGUgdmFsdWVzIHdpdGggbmV3bGluZXNcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1tcXG5cXHJdL2csICcnKTtcblxuICAgIHZhciBwb2ludGVyUmVnZXhwID0gL157Lio/fSQvaSxcbiAgICAgICAganNvblJlZ2V4cCA9IC9ee3syfS4qfXsyfSQvLFxuICAgICAgICBqc29uQXJyYXlSZWdleHAgPSAvXntcXFsuKlxcXX0kLztcblxuICAgIHZhciBwb2ludGVyTWF0Y2hlcyA9IHZhbHVlLm1hdGNoKHBvaW50ZXJSZWdleHApLFxuICAgICAgICBqc29uTWF0Y2hlcyA9IHZhbHVlLm1hdGNoKGpzb25SZWdleHApIHx8IHZhbHVlLm1hdGNoKGpzb25BcnJheVJlZ2V4cCk7XG5cbiAgICBpZiAoanNvbk1hdGNoZXMpIHtcbiAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKGpzb25NYXRjaGVzWzBdLnJlcGxhY2UoL157fH0kL2csICcnKSk7XG4gICAgfSBlbHNlIGlmIChwb2ludGVyTWF0Y2hlcykge1xuICAgICAgICB2YWx1ZSA9IGV2YWwocG9pbnRlck1hdGNoZXNbMF0ucmVwbGFjZSgvW3t9XS9nLCAnJykpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydHMuZ2V0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoZWwpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgd2hpbGUgKGVsLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsLmNoaWxkTm9kZXNbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQ7XG59O1xuXG5leHBvcnRzLnNoYWxsb3dDb3B5ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gYikgYVtrZXldID0gYltrZXldO1xuICAgIHJldHVybiBhO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvdXRpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJyZWFjdC1kb21cIlxuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=