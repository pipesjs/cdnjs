function TinyDatePicker(e,t){"use strict";function n(){k||(u(y.parse(e.value)),N.appendChild(E),N.appendChild(C),setTimeout(function(){E.className+=" dp-visible",r()},1))}function a(){N.contains(E)&&(k=1,e.focus(),e.selectionEnd=e.selectionStart,N.removeChild(E),N.removeChild(C),E.className=E.className.replace(" dp-visible",""),setTimeout(function(){k=0},10))}function o(){E.innerHTML=m(h,y).innerHTML,r()}function r(){E.querySelector(".dp-selected").focus()}function i(t){t&&!d(t)||(e.value=t?y.format(t):"",T=t||h,u(t),a(),e.dispatchEvent(new x("change",{bubbles:!0})))}function u(e){e&&(h=e,o())}function s(e){return function(){h.setDate(h.getDate()+e),u(h)}}function c(e){return function(){var t=new Date(h);t.setDate(1),e>0&&t.setMonth(t.getMonth()+2),t.setDate(t.getDate()-1),h.getDate()<t.getDate()&&t.setDate(h.getDate()),u(t)}}function d(e){var t="String"==typeof e?new Date(e):e,n=t?t.getTime():Date.now();return(!w||n>=w)&&(!M||n<=M)}function l(e){return function(t){var n=e[t.which];n&&/dp-selected/.test(t.target.className)&&(t.preventDefault(),n())}}function p(e){return function(t){t.target.className.split(/[\s]+/g).forEach(function(n){e[n]&&e[n](t)})}}function f(e){return D({format:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:function(e){var t=new Date(e);return isNaN(t)?new Date:t},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close",min:null,max:null,weekStartsMonday:!1},e)}function m(e,t){function n(e){for(var t=v(e),n="",a=0;a<7;++a)n+='<span class="dp-day-of-week">'+t[a]+"</span>";return n}function a(t){var n=new Date(e),a="";n.setDate(1),n.setDate(n.getDate()-n.getDay()+Number(t.weekStartsMonday));for(var o=0;o<42;++o){var r=n.getDate(),i="dp-day",u=n.toDateString()==e.toDateString(),s=n.toDateString()===(new Date).toDateString(),c=n.getMonth()!==e.getMonth(),l=u?"a":"span",p=!d(n),f=n.toDateString()==T.toDateString();f&&(i+=" dp-current-val"),u&&(i+=" dp-selected"),c&&(i+=" dp-edge-day"),s&&(i+=" dp-day-today"),p&&(i+=" dp-day-disabled"),a+="<"+l+' href="#" class="'+i+'" data-dp="'+n.getTime()+'">'+r+"</"+l+">",n.setDate(r+1)}return a}return g('<div class="dp-wrapper"><div class="dp"><header class="dp-header"><button class="dp-prev"></button><span class="dp-month-year"><span class="dp-month">'+t.months[e.getMonth()]+'</span><span class="dp-year">'+e.getFullYear()+'</span></span><button class="dp-next"></button></header><div class="dp-body">'+n(t)+a(t)+'</div><footer class="dp-footer"><button class="dp-today">'+t.today+'</button><button class="dp-clear">'+t.clear+'</button><button class="dp-close">'+t.close+"</button></footer></div></div>")}function v(e){var t=e.days.slice(),n=Number(e.weekStartsMonday);return t.splice(n).concat(t)}function b(e,t,n){e.addEventListener(t,n,!0)}function D(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}var y=f(t),h=y.parse(e.value),w=y.min&&new Date(y.min).getTime(),M=y.max&&new Date(y.max).getTime(),S=d(h);S||(h=y.min?y.parse(y.min):y.parse(y.max),e.value&&(e.value=y.format(h)));var T=h,E=m(h,y),k=!1,C=g('<button style="position: absolute; width: 1; height: 1; overflow: hidden; border: 0; background: transparent; top: 0;"></button>'),N=document.body,x=window.CustomEvent;e.readOnly=!0,d(h)||(u(y.parse(y.min?y.min:y.max)),e.value=y.format(h)),function(){return"function"!=typeof x&&(x=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},void(x.prototype=window.Event.prototype))}(),b(e,"focus",n),b(e,"click",n),b(E,"keydown",l({37:s(-1),38:s(-7),39:s(1),40:s(7),13:function(){i(h)},27:a})),b(E,"click",p({"dp-clear":function(){i()},"dp-close":a,"dp-wrapper":a,"dp-prev":c(-1),"dp-next":c(1),"dp-today":function(){i(new Date)},"dp-day":function(e){var t=e.target.getAttribute("data-dp");t&&i(new Date(parseInt(t)))}})),b(E,"mousedown",function(e){e.preventDefault()}),b(E,"blur",function(e){setTimeout(function(){E.contains(document.activeElement)||a()},1)})}"undefined"!=typeof module&&module.exports&&(module.exports=TinyDatePicker);
//# sourceMappingURL=tiny-date-picker.min.js.map