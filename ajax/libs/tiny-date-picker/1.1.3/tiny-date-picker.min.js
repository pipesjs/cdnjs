function TinyDatePicker(e,t){"use strict";function n(){E||(i(g.parse(e.value)),C.appendChild(S),C.appendChild(k),setTimeout(function(){S.className+=" dp-visible",r()},1))}function a(){C.contains(S)&&(E=1,e.focus(),e.selectionEnd=e.selectionStart,C.removeChild(S),C.removeChild(k),S.className=S.className.replace(" dp-visible",""),setTimeout(function(){E=0},1))}function o(){S.innerHTML=m(h,g).innerHTML,r()}function r(){S.querySelector(".dp-selected").focus()}function s(t){t&&!d(t)||(e.value=t?g.format(t):"",i(t),a(),e.dispatchEvent(new N("change",{bubbles:!0})))}function i(e){e&&(h=e,o())}function u(e){return function(){h.setDate(h.getDate()+e),i(h)}}function c(e){return function(){var t=new Date(h);t.setDate(1),e>0&&t.setMonth(t.getMonth()+2),t.setDate(t.getDate()-1),h.getDate()<t.getDate()&&t.setDate(h.getDate()),i(t)}}function d(e){var t="String"==typeof e?new Date(e):e,n=t?t.getTime():Date.now();return(!w||n>=w)&&(!M||n<=M)}function l(e){return function(t){var n=e[t.which];n&&/dp-selected/.test(t.target.className)&&(t.preventDefault(),n())}}function p(e){return function(t){t.target.className.split(/[\s]+/g).forEach(function(n){e[n]&&e[n](t)})}}function f(e){return y({format:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:function(e){var t=new Date(e);return isNaN(t)?new Date:t},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close",min:null,max:null,weekStartsMonday:!1},e)}function m(e,t){function n(e){for(var t=v(e),n="",a=0;a<7;++a)n+='<span class="dp-day-of-week">'+t[a]+"</span>";return n}function a(t){var n=new Date(e),a="";n.setDate(1),n.setDate(n.getDate()-n.getDay()+Number(t.weekStartsMonday));for(var o=0;o<42;++o){var r=n.getDate(),s="dp-day",i=n.toDateString()==e.toDateString(),u=n.toDateString()===(new Date).toDateString(),c=n.getMonth()!==e.getMonth(),l=i?"a":"span",p=!d(n);i&&(s+=" dp-selected"),c&&(s+=" dp-edge-day"),u&&(s+=" dp-day-today"),p&&(s+=" dp-day-disabled"),a+="<"+l+' href="#" class="'+s+'" data-dp="'+n.getTime()+'">'+r+"</"+l+">",n.setDate(r+1)}return a}return D('<div class="dp-wrapper"><div class="dp"><header class="dp-header"><button class="dp-prev"></button><span class="dp-month-year"><span class="dp-month">'+t.months[e.getMonth()]+'</span><span class="dp-year">'+e.getFullYear()+'</span></span><button class="dp-next"></button></header><div class="dp-body">'+n(t)+a(t)+'</div><footer class="dp-footer"><button class="dp-today">'+t.today+'</button><button class="dp-clear">'+t.clear+'</button><button class="dp-close">'+t.close+"</button></footer></div></div>")}function v(e){var t=e.days.slice(),n=Number(e.weekStartsMonday);return t.splice(n).concat(t)}function b(e,t,n){e.addEventListener(t,n,!0)}function y(e,t){for(var n in t)e[n]=t[n];return e}function D(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}var g=f(t),h=g.parse(e.value),w=g.min&&new Date(g.min).getTime(),M=g.max&&new Date(g.max).getTime(),T=d(h);T||(h=g.min?g.parse(g.min):g.parse(g.max),e.value=g.format(h));var S=m(h,g),E=!1,k=D('<button style="position: absolute; width: 1; height: 1; overflow: hidden; border: 0; background: transparent; top: 0;"></button>'),C=document.body,N=window.CustomEvent;e.readOnly=!0,d(h)||(i(g.parse(g.min?g.min:g.max)),e.value=g.format(h)),function(){return"function"!=typeof N&&(N=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},void(N.prototype=window.Event.prototype))}(),b(e,"focus",n),b(e,"click",n),b(S,"keydown",l({37:u(-1),38:u(-7),39:u(1),40:u(7),13:function(){s(h)},27:a})),b(S,"click",p({"dp-clear":function(){s()},"dp-close":a,"dp-wrapper":a,"dp-prev":c(-1),"dp-next":c(1),"dp-today":function(){s(new Date)},"dp-day":function(e){var t=e.target.getAttribute("data-dp");t&&s(new Date(parseInt(t)))}})),b(S,"mousedown",function(e){e.preventDefault()}),b(S,"blur",function(e){setTimeout(function(){S.contains(document.activeElement)||a()},1)})}"undefined"!=typeof module&&module.exports&&(module.exports=TinyDatePicker);
//# sourceMappingURL=tiny-date-picker.min.js.map