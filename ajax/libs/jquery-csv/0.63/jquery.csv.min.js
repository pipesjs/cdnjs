RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(e){"use strict";e.csv={defaults:{separator:",",delimiter:'"',escaper:'"',skip:0,headerLine:1,dataLine:2},configure:function(r){var a=e.extend({__copy:!0},e.csv.defaults);return e.extend(a,r)},splitLines:function(e,r){function a(){i.push(t),t="",s=0}var s=0,t="",i=[];return e.replace(/(\"|\n|\r|[^\"\r\n]+)/gm,function(e){switch(s){case 0:if('"'===e)s=1;else if("\n"===e)a();else if(/^\r$/.test(e));else{if(t)throw new Error("Illegal initial state");t=e,s=3}break;case 1:'"'===e?s=2:"\n"===e||"\r"===e?(t+=e,s=1):(t+=e,s=1);break;case 2:if('"'===e&&'"'===t.substr(t.length-1))t+=e,s=1;else if(","===e)t+=e,s=0;else if("\n"===e)a();else if("\r"!==e)throw new Error("Illegal state");break;case 3:if('"'===m1)throw new Error("Unquoted delimiter found in string");if("\n"===e)a();else if("\r"!==e)throw new Error("Two values, no separator?");break;default:throw new Error("Unknown state")}return""}),0!=s&&a(),i},toArray:function(r,a){var a=void 0!==a?a:{},s="separator"in a?a.separator:e.csv.defaults.separator,t="delimiter"in a?a.delimiter:e.csv.defaults.delimiter,i="escaper"in a?a.escaper:e.csv.defaults.escaper;s=RegExp.escape(s),t=RegExp.escape(t),i=RegExp.escape(i);var n=/(?!\s*$)\s*(?:Y([^YZ]*(?:ZY[^YZ]*)*)Y|([^XYZ\s]*(?:\s+[^XYZ\s]+)*))\s*(?:X|$)/,c=n.source;if(c=c.replace(/X/g,s),c=c.replace(/Y/g,t),c=c.replace(/Z/g,i),n=RegExp(c,"g"),""===r)return[""];var p=[];r.replace(n,function(e,r,a){if("string"==typeof r&&r.length){var s=/ED/,n=s.source;n=n.replace(/E/,i),n=n.replace(/D/,t),s=RegExp(n,"g"),p.push(r.replace(s,t))}else void 0!==a&&p.push(a);return""});var l=/S\s*$/;return l=RegExp(l.source.replace(/S/,s)),l.test(r)&&p.push(""),p},toArrays:function(r,a){var a=void 0!==a?a:{},s="separator"in a?a.separator:e.csv.defaults.separator,t="delimiter"in a?a.delimiter:e.csv.defaults.delimiter,i="escaper"in a?a.escaper:e.csv.defaults.escaper,n="skip"in a?a.skip:e.csv.defaults.skip,c="experimental"in a&&a.experimental,p=[],l=[];p=c?e.csv.splitLines(r,t):r.split(/\r\n|\r|\n/g);for(var o in p)if(!(o<n)){var u=e.csvEntry2Array(p[o],{delimiter:t,separator:s,escaper:i});l.push(u)}return l},toObjects:function(r,a){var a=void 0!==a?a:{},s="separator"in a?a.separator:e.csv.defaults.separator,t="delimiter"in a?a.delimiter:e.csv.defaults.delimiter,i="escaper"in a?a.escaper:e.csv.defaults.escaper,n="headerLine"in a?a.headerLine:e.csv.defaults.headerLine,c="dataLine"in a?a.dataLine:e.csv.defaults.dataLine,p="experimental"in a&&a.experimental,l=[],o=[];l=p?this.splitLines(r,t):r.split(/\r\n|\r|\n/g);var u=e.csvEntry2Array(l[n-1]);for(var f in l)if(!(f<c-1)){var d=e.csvEntry2Array(l[f],{delimiter:t,separator:s,escaper:i}),v={};for(var m in u)v[u[m]]=d[m];o.push(v)}return o},fromArrays:function(r,a){var a=void 0!==a?a:{},s=("separator"in a?a.separator:e.csv.defaults.separator,"delimiter"in a?a.delimiter:e.csv.defaults.delimiter,"escaper"in a?a.escaper:e.csv.defaults.escaper,"experimental"in a&&a.experimental);if(!s)throw new Error("not implemented");var t=[];for(i in r)t.push(r[i]);return t},fromObjects2CSV:function(r,a){var s=("separator"in a?a.separator:e.csv.defaults.separator,"delimiter"in a?a.delimiter:e.csv.defaults.delimiter,"escaper"in a?a.escaper:e.csv.defaults.escaper,"experimental"in a&&a.experimental);if(!s)throw new Error("not implemented");var t=[];for(i in r)t.push(arrays[i]);return t}},e.csvEntry2Array=e.csv.toArray,e.csv2Array=e.csv.toArrays,e.csv2Dictionary=e.csv.toObjects}(jQuery);
//# sourceMappingURL=jquery.csv.min.js.map