toGeoJSON={kml:function(e){function t(e,t){return e.getElementsByTagName(t)}function n(e,n){var r=t(e,n);return r.length?r[0]:null}function r(e){for(var t=0,n=[];t<e.length;t++)n[t]=parseFloat(e[t]);return n}function o(e){return e&&e.firstChild.nodeValue}function i(e){return r(e.replace(s,"").split(","))}function a(e){for(var t=e.replace(c,"").split(g),n=[],r=0;r<t.length;r++)n.push(i(t[r]));return n}function u(e){var r,u;for(u=0;u<l.length;u++)if(r=n(e,l[u])){if("Point"==l[u])return{type:"Point",coordinates:i(o(n(r,"coordinates")))};if("LineString"==l[u])return{type:"LineString",coordinates:a(o(n(r,"coordinates")))};if("Polygon"==l[u]){for(var f=t(r,"LinearRing"),s=[],c=0;c<f.length;c++)s.push(a(o(n(f[c],"coordinates"))));return{type:"Polygon",coordinates:s}}}}for(var f={type:"FeatureCollection",features:[]},l=["Polygon","LineString","Point"],s=/\s*/g,c=/^\s*|\s*$/g,g=/\s+/,p=t(e,"Placemark"),d=0;d<p.length;d++)f.features=f.features.concat(function(e,r){var i,a=u(r||e),f={},l=o(n(e,"name")),s=o(n(e,"description")),c=n(e,"ExtendedData");if(!r&&!a)return!1;if(l&&(f.name=l),s&&(f.description=s),c){var g=t(c,"Data");for(i=0;i<g.length;i++)f[g[i].getAttribute("name")]=o(n(g[i],"value"))}return{geometry:a,properties:f}}(p[d]));return f}},"undefined"!=typeof module&&(module.exports=toGeoJSON);
//# sourceMappingURL=togeojson.min.js.map