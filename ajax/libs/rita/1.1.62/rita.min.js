!function(window,undefined){function makeClass(){return function(e){if(!(this instanceof arguments.callee))return new arguments.callee(arguments);"function"==typeof this.init&&this.init.apply(this,e&&e.callee?e:arguments)}}function is(e,t){return get(e)===t}function ok(e,t){if(get(e)!=t)throw TypeError("Expected "+(t?t.toUpperCase():t+E)+", but received "+(e?get(e).toUpperCase():e+E));return!0}function isNum(e){return!isNaN(parseFloat(e))&&isFinite(e)}function okeys(e){var t=[];for(var i in e)t.push(i);return t}function err(){for(var e="[RiTa] "+arguments[0],t=1;t<arguments.length;t++)e+="\n"+arguments[t];throw Error(e)}function warn(){if(!RiTa.SILENT&&console&&arguments&&arguments.length){console.warn("[WARN] "+arguments[0]);for(var e=1;e<arguments.length;e++)console.warn(arguments[e])}}function log(){!RiTa.SILENT&&console&&console.log.apply(console,arguments)}function strOk(e){return typeof e===S&&e.length>0}function trim(e){return strOk(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}function last(e){return e&&e.length?e.charAt(e.length-1):E}function extend(e,t){for(var i=0;i<t.length;i++)e.push(t[i])}function endsWith(e,t){return!!is(e,S)&&new RegExp(t+"$").test(e)}function startsWith(e,t){return!!is(e,S)&&new RegExp("^"+t).test(e)}function equalsIgnoreCase(e,t){return!(!is(e,S)||!is(t,S))&&e.toLowerCase()===t.toLowerCase()}function isNode(){return"undefined"!=typeof module&&module.exports}function shuffle(e){for(var t=e.slice(),i=t.length,n=i;n--;){var r=parseInt(Math.random()*i),s=t[n];t[n]=t[r],t[r]=s}return t}function inArray(e,t){return!!e&&e.indexOf(t)>-1}function escapeRegExp(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function get(e){if(void 0!==e)return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function tagForPENN(e){if(!e||!e.length)return EA;var t=is(e,S)?RiTa.tokenize(e):e;return PosTagger.tag(t)}function tagForWordNet(e){var t,i=tagForPENN(e);if(e&&i.length){for(var n=0;n<i.length;n++)t=i[n],i[n]="-",PosTagger.isNoun(t)?i[n]="n":PosTagger.isVerb(t)?i[n]="v":PosTagger.isAdverb(t)?i[n]="r":PosTagger.isAdj(t)&&(i[n]="a");return i}return EA}function getLexicon(){return RiTa.LEXICON=RiTa.LEXICON||new RiLexicon,RiTa.LEXICON}function initFeatureMap(e){e._features?["tokens","stresses","phonemes","syllables","pos"].forEach(function(t){delete e._features[t]}):e._features={},e._features.text=e.text()}function checkPluralNoLex(e){for(var t=[categoryUM_A,categoryON_A,categoryO_I,categoryUS_I,categoryIX_ICES],i=0;i<t.length;i++)if(t[i].indexOf(e)>-1)return!0;return categoryIRR.indexOf(e)%2==0}var E="",SP=" ",EA=[],N="number",S="string",O="object",A="array",B="boolean",R="regexp",F="function",BN="\n",RiLexicon=makeClass();RiLexicon._enabled=!1,RiLexicon.prototype.init=function(){warn("RiLexicon is not available -- if needed, use a larger version of RiTa.")};for(var FEATURES=["tokens","stresses","phonemes","syllables","pos","text"],RiTa={VERSION:"1.1.62",LEXICON:null,SPLIT_CONTRACTIONS:!1,JAVA:1,JS:2,NODE:3,DATA_LOADED:"DataLoaded",INTERNAL:"Internal",UNKNOWN:"Unknown",FIRST_PERSON:1,SECOND_PERSON:2,THIRD_PERSON:3,PAST_TENSE:4,PRESENT_TENSE:5,FUTURE_TENSE:6,SINGULAR:7,PLURAL:8,NORMAL:9,FEATURE_DELIM:":",STRESSED:"1",UNSTRESSED:"0",PHONEME_BOUNDARY:"-",WORD_BOUNDARY:" ",SYLLABLE_BOUNDARY:"/",SENTENCE_BOUNDARY:"|",VOWELS:"aeiou",ABBREVIATIONS:["Adm.","Capt.","Cmdr.","Col.","Dr.","Gen.","Gov.","Lt.","Maj.","Messrs.","Mr.","Mrs.","Ms.","Prof.","Rep.","Reps.","Rev.","Sen.","Sens.","Sgt.","Sr.","St.","a.k.a.","c.f.","i.e.","e.g.","vs.","v.","Jan.","Feb.","Mar.","Apr.","Mar.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."],ALL_PHONES:["aa","ae","ah","ao","aw","ay","b","ch","d","dh","eh","er","ey","f","g","hh","ih","iy","jh","k","l","m","n","ng","ow","oy","p","r","s","sh","t","th","uh","uw","v","w","y","z","zh"],INFINITIVE:1,GERUND:2,IMPERATIVE:3,BARE_INFINITIVE:4,SUBJUNCTIVE:5,SILENT:!1,LANCASTER:"Lancaster",PORTER:"Porter",PLING:"Pling",NON_BREAKING_SPACE:"<sp/>",PARAGRAPH_BREAK:"<p/>",LINE_BREAK:"<br/>",STOP_WORDS:[".",",","the","and","a","of",'"',"in","i",":","you","is","to","that",")","(","it","for","on","!","have","with","?","this","be","...","not","are","as","was","but","or","from","my","at","if","they","your","all","he","by","one","me","what","so","can","will","do","an","about","we","just","would","there","no","like","out","his","has","up","more","who","when","don't","some","had","them","any","their","it's","only",";","which","i'm","been","other","were","how","then","now","her","than","she","well","also","us","very","because","am","here","could","even","him","into","our","much","too","did","should","over","want","these","may","where","most","many","those","does","why","please","off","going","its","i've","down","that's","can't","you're","didn't","another","around","must","few","doesn't","every","yes","each","maybe","i'll","away","doing","oh","else","isn't","he's","there's","hi","won't","ok","they're","yeah","mine","we're","what's","shall","she's","hello","okay","here's","-","less"],stemmers:{},untokenize:function(e,t,i){t=t||SP,i=i||1;var n=/^[,\.\;\:\?\!\)""“”’‘`']+$/,r=/^[\(""“”’‘`']+$/;if(i){var s,a=e[0]||E,o=!1,c=!1;s=!!e[0]&&r.test(e[0]);for(var u=1;u<e.length;u++)if(e[u]){var l=n.test(e[u]),h=n.test(e[u-1]),p=r.test(e[u]),d=r.test(e[u-1]),g=e[u].match(/,/),f=e[u-1].match(/,/);s&&p?(c=!0,s=!1):c?(a+=t,c=!1):d&&g?o=!0:o&&f?(a+=t,inMiddleofSentence=!1):u!=e.length-1&&l&&h?a+=t:l||d||(a+=t),a+=e[u]}return a.trim()}return e.join(t)},random:function(){var e=Math.random();return arguments.length?1===arguments.length?e*arguments[0]:e*(arguments[1]-arguments[0])+arguments[0]:e},randomItem:function(e){return e[Math.floor(Math.random()*e.length)]},distance:function(e,t,i,n){var r=e-i,s=t-n;return Math.sqrt(r*r+s*s)},getPosTags:function(e,t){return t?tagForWordNet(e):tagForPENN(e)},getPosTagsInline:function(e,t){if(!e||!e.length)return E;t=t||"/",e=is(e,S)?RiTa.tokenize(e):e;for(var i=E,n=RiTa.getPosTags(e),r=0;r<e.length;r++)i+=e[r],RiTa.isPunctuation(e[r])||(i+=t+n[r]),i+=SP;return i.trim()},getPresentParticiple:function(e){return Conjugator().getPresentParticiple(e)},getPastParticiple:function(e){return Conjugator().getPastParticiple(e)},concordance:function(e,t){return Concorder(e,t).concordance()},kwic:function(e,t,i){return wordCount=i&&i.wordCount||4,Concorder(e,i).kwic(t,wordCount)},conjugate:function(e,t){return Conjugator().conjugate(e,t)},upperCaseFirst:function(e){return e.charAt(0).toUpperCase()+e.substring(1)},pluralize:function(e){if(!strOk(e))return E;var t,i,n=PLURAL_RULES;if(inArray(MODALS,e.toLowerCase()))return e;for(t=0;t<n.length;t++)if(i=n[t],i.applies(e.toLowerCase()))return i.fire(e);return DEFAULT_PLURAL_RULE.fire(e)},singularize:function(e){if(!strOk(e))return E;var t,i,n=SINGULAR_RULES;if(inArray(MODALS,e.toLowerCase()))return e;for(t=n.length;t--;)if(i=n[t],i.applies(e.toLowerCase()))return i.fire(e);return this.stem(e,"Pling")},trim:function(e){return trim(e)},tokenize:function(e,t){return is(e,S)?t?e.split(t):(e=trim(e),e=e.replace(/([\\?!\"\\.,;:@#$%&])/g," $1 "),e=e.replace(/\\.\\.\\./g," ... "),e=e.replace(/\\s+/g,SP),e=e.replace(/,([^0-9])/g," , $1"),e=e.replace(/([^.])([.])([\])}>\"']*)\\s*$/g,"$1 $2$3 "),e=e.replace(/([\[\](){}<>])/g," $1 "),e=e.replace(/--/g," -- "),e=e.replace(/$/g,SP),e=e.replace(/^/g,SP),e=e.replace(/([^'])' /g,"$1 ' "),e=e.replace(/'([SMD]) /g," '$1 "),RiTa.SPLIT_CONTRACTIONS&&(e=e.replace(/([Cc])an't/g,"$1an not"),e=e.replace(/([Dd])idn't/g,"$1id not"),e=e.replace(/([CcWw])ouldn't/g,"$1ould not"),e=e.replace(/([Ss])houldn't/g,"$1hould not"),e=e.replace(/ ([Ii])t's/g," $1t is"),e=e.replace(/n't /g," not "),e=e.replace(/'ve /g," have "),e=e.replace(/'re /g," are ")),e=e.replace(/ ([A-Z]) \\./g," $1. "),e=e.replace(/\\s+/g,SP),e=e.replace(/^\\s+/g,E),trim(e).split(/\s+/)):[]},splitSentences:function(e,t){var i=e.match(/(\S.+?[.!?])(?=\s+|$)/g);return e.length&&i&&i.length?i:[e]},isAbbreviation:function(e,t){return t=t||!1,e=t?e:function(e){return e&&e.length?e.substring(0,1).toUpperCase()+e.substring(1):e}(e),inArray(this.ABBREVIATIONS,e)},loadString:function(e,t,i){var n=function(e,t,i){var n="",r=i||BN,s=/.+?:\/\/.+/.test(e),a=this;if(s){var o=function(i){i.on("data",function(e){n+=e}),i.on("error",function(e){throw e}),i.on("end",function(){n=n.toString("utf-8").replace(/[\r\n]+/g,r).trim(),a.fireDataLoaded(e,t,n)})},c=require("http").request(e,o);c.on("socket",function(e){e.setTimeout(5e3),e.on("timeout",function(){throw c.abort(),Error("[RiTa] loadString timed-out and aborted request")})}),c.end()}else{require("fs").readFile(e,function(i,n){if(i||!n)throw err("[Node] Error reading file: "+e+BN+i),i;n=n.toString("utf-8").replace(/[\r\n]+/g,r).trim(),a.fireDataLoaded(e,t,n)})}};if(ok(e,S),isNode())return n.apply(this,arguments);var r=this,s=new XMLHttpRequest;return s.addEventListener("error",function(){console.error("[RiTa] loadStrings() unable to load "+e)}),s.open("GET",e,!0),s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var i=[],n=s.responseText.match(/[^\r\n]+/g);for(var a in n)i[a]=n[a];i=i.join(BN),r.fireDataLoaded(e,t,i)}else console.error("[RiTa] loadString() unable to load: "+e)},s.send(null),""},loadStrings:function(e,t,i){var n=function(e,t){function i(i){i=i.toString("utf-8").trim();var n=i.split(/(\r\n|\n)/gm);r.fireDataLoaded(e,t,n)}var n="",r=this;if(/.+?:\/\/.+/.test(e)){var s=function(e){e.on("data",function(e){n+=e}),e.on("error",function(e){throw e}),e.on("end",function(){i(n)})},a=require("http").request(e,s);a.on("socket",function(e){e.setTimeout(5e3),e.on("timeout",function(){throw a.abort(),Error("[RiTa] loadString timed-out and aborted request")})}),a.end()}else require("fs").readFile(e,function(t,n){if(t||!n)throw err("[Node] Error reading file: "+e+BN+t),t;i(n)})};if(ok(e,S),isNode())return n.apply(this,arguments);var r=this,s=new XMLHttpRequest;return s.addEventListener("error",function(){console.error("[RiTa] loadStrings() unable to load "+e)}),s.open("GET",e,!0),s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var i=s.responseText.match(/[^\r\n]+/g),n=[];for(var a in i)n[a]=i[a];r.fireDataLoaded(e,t,n)}else console.error("[RiTa] loadString() unable to load: "+e)},s.send(null),""},fireDataLoaded:function(e,t,i){return t?t(i,e):RiTaEvent({name:"RiTaLoader",urls:is(e,S)?[e]:e},DATA_LOADED,i)._fire()},isQuestion:function(e){for(var t=RiTa.tokenize(e),i=0;i<QUESTION_STARTS.length;i++)if(equalsIgnoreCase(t[0],QUESTION_STARTS[i]))return!0;return!1},isSentenceEnd:function(e,t){if(!is(e,S)||!is(t,S))return!1;var i=e.charAt(0),n=e.length;if(RiTa.isAbbreviation(e))return!1;if(n>1&&-1!=i.indexOf("`'\"([{<")&&RiTa.isAbbreviation(e.substring(1)))return!1;if(n>2&&("'"==e.charAt(0)&&"'"==e.charAt(1)||"`"==e.charAt(0)&&"`"==e.charAt(1))&&RiTa.isAbbreviation(e.substring(2)))return!1;var r=t.length,s=e.charAt(n-1),a=n>1?e.charAt(n-2):SP,o=n>2?e.charAt(n-3):SP,c=t.charAt(0),u=r>1?t.charAt(1):SP,l=r>2?t.charAt(2):SP;return(c==c.toUpperCase()||u==u.toUpperCase()&&-1!=c.indexOf("`'\"([{<")||l==l.toUpperCase()&&("`"==c&&"`"==u||"'"==c&&"'"==u)||"_"==t||"<"==c)&&("?"==s||"!"==s||-1!=a.indexOf("?!.")&&-1!=s.indexOf("\"'}>)")||-1!=o.indexOf("?!.")&&"'"==a&&"'"==s||"."==s&&((2!=n||a!=a.toUpperCase())&&(4!=n||"."!=o||a!=a.toUpperCase()||e.charAt(0)!=e.charAt(0).toUpperCase())))},isW_Question:function(e){for(var t=RiTa.tokenize(e),i=0;i<W_QUESTION_STARTS.length;i++)if(equalsIgnoreCase(t[0],W_QUESTION_STARTS[i]))return!0;return!1},unescapeHTML:function(e){if(!e||!e.length)return e;var t=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"');return String.fromCharCodePoint=function(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];arguments[t]<65536?e.push(arguments[t]):arguments[t]<1114112&&(i-=65536,e.push(55296+(i>>10&1023)),e.push(56320+(1023&i)))}return String.fromCharCode.apply(String,e)},t=t.replace(/&#(\d+);/g,function(e,t){return String.fromCharCodePoint(parseInt(t,10))}).replace(/&#x([0-9a-f]+);/gi,function(e,t){return String.fromCharCodePoint(parseInt(t,16))})},randomOrdering:function(e){var t=[];if(e){for(var i=0;i<e;i++)t.push(i);for(var n,r,s=t.length;s;n=parseInt(Math.random()*s),r=t[--s],t[s]=t[n],t[n]=r);}return t},trimPunctuation:function(e){if(!is(e,S))return e;var t="[�`~\"/\\'_\\-[\\]{}()*+!?%&.,\\\\^$|#@<>|+=;:]",i=new RegExp("^"+t+"+|"+t+"+$","g");return e===E?E:e.replace(i,E)},stripPunctuation:function(e){return e===E?E:e.replace(PUNCTUATION_CLASS,E)},isPunctuation:function(e){return!(!e||!e.length)&&ONLY_PUNCT.test(e)},hasPunctuation:function(e){return!(!e||!e.length)&&ONLY_PUNCT.test(e)},env:function(){return isNode()?RiTa.NODE:RiTa.JS},chomp:function(e){return e.replace(/\s+$|^\s+/g,E)},getPhonemes:function(e){return RiString(e).analyze().get(RiTa.PHONEMES)},getStresses:function(e){return RiString(e).analyze().get(RiTa.STRESSES)},getSyllables:function(e){return RiString(e).analyze().get(RiTa.SYLLABLES)},getWordCount:function(e){return RiTa.tokenize(e).length},stem:function(e,t){if(t=t||"Porter","Lancaster"!=t&&"Porter"!=t&&"Pling"!=t&&err("Bad stemmer type: "+t),e.indexOf(SP)<0)return RiTa.stemmers[t](e);e=e.replace(/[^\w]/g,SP).replace(/\s+/g,SP);for(var i=[],n=e.split(SP),r=0;r<n.length;r++)i.push(RiTa.stemmers[t](n[r]));return i.join(SP)},minEditDistance:function(e,t,i){return(i?MinEditDist.computeAdjusted:MinEditDist.computeRaw).call(MinEditDist,e,t)}},i=0;i<FEATURES.length;i++)RiTa[FEATURES[i].toUpperCase()]=FEATURES[i];var RiMarkov=makeClass();RiMarkov.MAX_GENERATION_ATTEMPTS=1e3;var SSRE=/"?[A-Z][a-z"',;`-]*/;SSDLM="D=l1m_",RiMarkov.prototype={init:function(e,t,i){var n=this._initArgs.apply(this,arguments);ok(n[0],N),this.N=n[0],this.pathTrace=[],this.sentenceList=[],this.sentenceStarts=[],this.minSentenceLength=6,this.maxSentenceLength=35,this.maxDuplicatesToSkip=1e4,this.root=new TextNode(null,"ROOT"),this.isSentenceAware=!(n.length>1&&!n[1]),this.allowDuplicates=!(n.length>2&&!n[2]),this.printIgnoredText=!1},_initArgs:function(){var e=arguments,t=get(e[0]);return!e.length||t!==O&&"global"!==t&&"window"!==t?e:this._initArgs.apply(this,Array.prototype.slice.call(e,1))},getProbability:function(e){this.root||err("Model not initd: null root!");var t=is(e,S)?this.root.lookup(e):this._findNode(e);return t?t.probability():0},getProbabilities:function(e){is(e,S)&&(e=[e]),e.length>this.N&&(e=e.slice(Math.max(0,e.length-(this.N-1)),e.length));var t={},i=this._findNode(e);if(!i)return{};for(var n=i.childNodes(),r=0;r<n.length;r++){var s=n[r];s&&(t[s.token]=s.probability())}return t},getCompletions:function(e,t){var i,n,r,s,a=[];if(t){if(e.length+t.length>this.N&&err("Sum of pre.length && post.length must be < N, was "+(e.length+t.length)),!(i=this._findNode(e)))return null;s=i.childNodes();for(var o=0;o<s.length;o++){n=s[o],r=e.slice(0),r.push(n.token);for(var c=0;c<t.length;c++)r.push(t[c]);this._findNode(r)&&a.push(n.token)}return a}var u=this.getProbabilities(e);return okeys(u).sort(function(e,t){return u[t]-u[e]})},generateUntil:function(e,t,i){t=t||1,i=i||Number.MAX_VALUE;var n,r,s=0;e:for(;++s<999;)for(r=this.generateTokens(t);r.length<i;){if(!(n=this._nextNodeForArr(r))||!n.token)continue e;if(r.push(n.token),n.token.search(e)>-1)return r}return s>=999&&err("\nRiMarkov failed to complete after "+s+" attempts.You may need to add more text to your model..."+BN),r},generateTokens:function(e){var t=0,i=[];e:for(;++t<500;){var n=this.root.selectChild(null,!0);if(n&&n.token){for(i.push(n);i.length<e;){if(!(n=this._nextNodeForArr(i))||!n.token){i=[];continue e}i.push(n)}break}}i.length<e&&this._onGenerationIncomplete(t,i.length);for(var r=[],s=0;s<i.length;s++)r[s]=i[s].token;return r},sentenceAware:function(){if(arguments.length>0)throw Error("sentenceAware() takes no arguments, instead use the constructor RiMarkov(n, recognizeSentences);");return this.isSentenceAware},print:function(){return console&&console.log(this.root.asTree(!1)),this},ready:function(e){return this.size()>0},loadFrom:function(e,t,i,n){var r=this;is(e,S)||ok(e,A),is(t,F)?(n=t,t=void 0):is(i,F)&&(n=i,i=void 0),RiTa.loadStrings(e,function(e){e=e.join(BN),r.loadText(e,t,i),n&&is(n,F)&&n(e)})},loadText:function(e,t,i){return ok(e,S),t=t||1,(t<1||t!=Math.floor(t))&&err("Multiplier must be an positive integer, found: "+t),this.isSentenceAware?this._loadSentences(RiTa.splitSentences(e),t):this.loadTokens(RiTa.tokenize(e,i),t)},loadTokens:function(e,t){t=t||1,(t<1||t!=Math.floor(t))&&err("multiplier must be an positive integer, found: "+t),this.root.count+=e.length;for(var i,n=0;n<e.length;n++){i=[];for(var r=0;r<this.N;r++)n+r<e.length?i[r]=e[n+r]?e[n+r]:null:i[r]=null;for(var s=0;s<t;s++)for(var a=this.root,o=0;o<i.length;o++)a.token&&(a=a.addChild(i[o],1))}return this},generateSentences:function(e){this.isSentenceAware||err("generateSentences() can only be called when the model is in 'sentence-aware' mode, otherwise use generateTokens()");for(var t=this._getSentenceStart(),i=t.token+SP,n=[],r=0,s=0,a=1;n.length<e;)if(a>=this.maxSentenceLength&&(t=this._getSentenceStart(),i=t.token+SP,a=1),t.isLeaf())t=this._tracePathFromRoot(t);else if(t=this._nextNodeForNode(t),t.isSentenceStart){if(a>=this.minSentenceLength){var o=RiTa.untokenize(i.trim().split(/\s+/));o=o.replace(/(.)\( /,"$1 ("),this._validateSentence(o)&&(n.indexOf(o)<0&&n.push(o),s+=r,r=0)}t=this._getSentenceStart(),i=t.token+SP,a=1}else if(a++,i+=t.token+SP,++r>=RiMarkov.MAX_GENERATION_ATTEMPTS){this._onGenerationIncomplete(s+=r,n.length);break}return n},_validateSentence:function(e){var t=RiTa.tokenize(e),i=t[0],n=t[t.length-1];if(!i.match(/[A-Z]\S*/))return this.printIgnoredText&&log("Skipping: bad first char in '"+e+"'"),!1;if(!n.match(/[!?.]/))return this.printIgnoredText&&log("Bad last token: '"+n+"' in: "+e),!1;if(!this.allowDuplicates&&(this.isSentenceAware||err("Invalid state: allowDuplicates must be true when not generating sentences"),this.sentenceList.indexOf(e)>-1))return++this.skippedDups==this.maxDuplicatesToSkip&&(warn("Hit skip-maximum (RiMarkov.maxDuplicatesToSkip="+this.maxDuplicatesToSkip+") after skipping "+this.maxDuplicatesToSkip+", now allowing duplicates!"),this.allowDuplicates=!0),this.printIgnoredText&&log("Ignoring duplicate: "+e),!1;var r=e.split(/\s+/);return!RiTa.isAbbreviation(r[r.length-1])},_tracePathFromRoot:function(e){e.pathFromRoot(this.pathTrace),this.pathTrace.pop();for(var t=this.root;this.pathTrace.length;){var i=this.pathTrace.pop();t=t.lookup(i)}return t},_nextNodeForArr:function(e){for(var t=Math.max(0,e.length-(this.N-1)),i=this.root.lookup(e[t++]),n=t;n<e.length;n++)i&&(i=i.lookup(e[n]));return i?i.selectChild(null,!0):null},_nextNodeForNode:function(e){for(var t,i=0,n=0,r=e.childNodes();;){n=0,t=Math.random();for(var s=0,a=r.length;s<a;s++)if(n+=r[s].probability(),(!e.isRoot()||!this.isSentenceAware||r[s].isSentenceStart)&&t<n)return r[s];i++,warn("Prob. miss (#'+attempts+') in RiMarkov.nextNode(). Make sure there are a sufficient\n       # of sentences in the model that are longer than 'minSentenceLength'"),1e3==i&&err("PROB. MISS"+e+" total="+n+" selector="+t)}},_clean:function(e){return RiTa.trim(e.replace(/\s+/,SP))},_onGenerationIncomplete:function(e,t){warn("\nRiMarkov failed to complete after "+e+" tries and "+t+" successful generations. You may need to add more text to the model..."+BN)},_loadSentences:function(e,t){ok(e,A),t=t||1,t=Math.min(t,1);var i,n,r,s,a=[];for(i=0;i<e.length;i++)if(s=this._clean(e[i]),this.allowDuplicates||this.sentenceList.push(s),r=RiTa.tokenize(s),this._validSentenceStart(r[0]))for(a.push(SSDLM+r[0]),n=1;n<r.length;n++)a.push(r[n]);else this.printIgnoredText&&warn("Skipping (bad sentence start): "+r);var o,c=a,u=this.N;for(i=0;i<c.length;i++){for(o=[],n=0;n<u;n++)i+n<c.length&&(o[n]=c[i+n]);for(n=0;n<t;n++)this._addSentenceSequence(o)}return this.root.count+=c.length,this},size:function(){return this.root.count},_validSentenceStart:function(e){return!this.isSentenceAware||e&&e.match(/"?[A-Z][a-z"',;`-]*/)},_addSentenceSequence:function(e){for(var t=this.root,i=0;i<e.length;i++)if(e[i]&&t.token){var n=e[i];if(startsWith(n,SSDLM)){n=n.substring(SSDLM.length);var r=t;t=t.addChild(n,1),t.isSentenceStart=!0,r.isRoot()&&this.sentenceStarts.push(t.token)}else t=t.addChild(n,1)}},_getSentenceStart:function(){return this.isSentenceAware||err("getSentenceStart() can only be called when the model is in 'sentence-aware' mode..."),this.sentenceStarts&&this.sentenceStarts.length||err("No sentence starts found! genSen="+this.isSentenceAware),this.root.lookup(RiTa.randomItem(this.sentenceStarts))},_findNode:function(e){if(!e||!is(e,A)||!e.length)return null;var t=this.N,i=(Math.min(e.length,t-1),Math.max(0,e.length-(t-1))),n=this.root.lookup(e[i++]);if(!n)return null;var r=0,s=[];s[r++]=n;for(var a=i;a<e.length;a++){if(!(n=n.lookup(e[a])))return null;s[r++]=n}return s?s[s.length-1]:null}};var RiWordNet=function(){throw Error("RiWordNet is not yet implemented in JavaScript!")},RiString=makeClass();RiString._phones={consonants:["b","ch","d","dh","f","g","hh","jh","k","l","m","n","ng","p","r","s","sh","t","th","v","w","y","z","zh"],vowels:["aa","ae","ah","ao","aw","ax","ay","eh","er","ey","ih","iy","ow","oy","uh","uw"],onsets:["p","t","k","b","d","g","f","v","th","dh","s","z","sh","ch","jh","m","n","r","l","hh","w","y","p r","t r","k r","b r","d r","g r","f r","th r","sh r","p l","k l","b l","g l","f l","s l","t w","k w","d w","s w","s p","s t","s k","s f","s m","s n","g w","sh w","s p r","s p l","s t r","s k r","s k w","s k l","th w","zh","p y","k y","b y","f y","hh y","v y","th y","m y","s p y","s k y","g y","hh w",""],digits:["z-ih-r-ow","w-ah-n","t-uw","th-r-iy","f-ao-r","f-ay-v","s-ih-k-s","s-eh1-v-ax-n","ey-t","n-ih-n"]},RiString._syllabify=function(e){for(var t=[],i=[],n="string"==typeof e?e.split("-"):e,r=0;r<n.length;r++){var s=n[r].trim(),a=void 0;if(s.length)if(isNum(last(s))&&(a=parseInt(last(s)),s=s.substring(0,s.length-1)),inArray(RiString._phones.vowels,s)){for(var o=void 0,c=void 0,u=0;u<t.length+1;u++){o=t.slice(0,u),c=t.slice(u,t.length);var l=inArray(RiString._phones.onsets,c.join(" "));if(l||0===i.length||0===c.length)break}i.length>0&&extend(i[i.length-1][3],o);var h=[[a],c,[s],[]];i.push(h),t=[]}else{if(!inArray(RiString._phones.consonants,s)&&" "!=s)throw Error("Invalid phoneme: "+s);t.push(s)}}return t.length>0&&(0===i.length?i.push([[void 0],t,[],[]]):extend(i[i.length-1][3],t)),function(e){var t,i,n=[];for(t=0;t<e.length;t++){var r=e[t],s=r[0][0],a=r[1],o=r[2],c=r[3];void 0!==s&&o.length&&(o[0]+=E+s);var u=[];for(i=0;i<a.length;i++)u.push(a[i]);for(i=0;i<o.length;i++)u.push(o[i]);for(i=0;i<c.length;i++)u.push(c[i]);n.push(u.join("-"))}return n.join(SP)}(i)},RiString.prototype={init:function(e){is(e,N)&&(e=String.fromCharCode(e)),e=e||"",this.x=0,this.y=0,this.z=0,this._text=e,this._features=void 0},copy:function(){var e=RiString(this._text),t=this.features();if(t){e._features={};for(var i in t)e._features[i]=t[i]}return e},features:function(){return this._features||this.analyze(),this._features},analyze:function(){var e,t,i,n,r,s,a=E,o=E,c=E,u=RiTa.tokenize(this._text);if(this._features||initFeatureMap(this),this._features.tokens=u.join(SP),this._features.pos=RiTa.getPosTags(this._text).join(SP),RiLexicon._enabled){e=getLexicon();for(var l=0,h=u.length;l<h;l++){if(s=!1,i=e&&e._getRawPhones(u[l]),i||(LetterToSound.RULES&&u[l].match(/[a-zA-Z]+/)&&log("[RiTa] Used LTS-rules for '"+u[l]+"'"),n=e._letterToSound(),r=n.getPhones(u[l]),r&&r.length>0?i=RiString._syllabify(r):(i=u[l],s=!0)),a+=i.replace(/[0-2]/g,E).replace(/ /g,"-")+SP,o+=i.replace(/ /g,"/").replace(/1/g,E)+SP,s)c+=u[l];else{t=i.split(SP);for(var p=0;p<t.length;p++)t[p].length&&(c+=t[p].indexOf(RiTa.STRESSED)>-1?RiTa.STRESSED:RiTa.UNSTRESSED,p<t.length-1&&(c+="/"))}endsWith(c,SP)||(c+=SP)}c=c.trim(),a=a.trim().replace(/\\s+/,SP),o=o.trim().replace(/\\s+/,SP)}return this._features.stresses=c,this._features.phonemes=a,this._features.syllables=o,this},get:function(e){this._features||this.analyze();var t=this._features[e];return!t&&FEATURES.indexOf(e)>-1&&!this._features.hasOwnProperty(e)&&(this.analyze(),t=this._features[e]),t},set:function(e,t){return this._features||(this._features={}),this._features[e]=t,this},endsWith:function(e){return endsWith(this._text,e)},equals:function(e){return typeof e===S?e===this._text:e.text()===this._text},equalsIgnoreCase:function(e){return typeof e===S?e.toLowerCase()===this._text.toLowerCase():e.text().toLowerCase()===this._text.toLowerCase()},text:function(e){return arguments.length>0?(this._text=e,initFeatureMap(this),this):this._text},pos:function(){for(var e=RiTa.tokenize(this._text),t=PosTagger.tag(e),i=0,n=t.length;i<n;i++)strOk(t[i])||err("RiString: can't parse pos for:"+e[i]);return t},posAt:function(e){var t=this.pos();return t&&t.length?t[Math.min(e<0?t.length+e:e,t.length-1)]:E},wordAt:function(e){var t=this.words();return e<0||e>=t.length?E:t[e]},wordCount:function(){return this._text.length?this.words().length:0},words:function(){return RiTa.tokenize(this._text)},indexOf:function(e,t){return this._text.indexOf(e,t)},lastIndexOf:function(e,t){return this._text.lastIndexOf(e,t)},length:function(){return this._text.length},match:function(e){return this._text.match(e)||[]},slice:function(e,t){return this._text.slice(e,t)||E},insertChar:function(e,t){var i=this.text();if(e>i.length||e<-i.length)return warn("RiString.insertChar: bad index="+e),this;e=e<0?e+=i.length:e;var n=i.substring(0,e),r=i.substring(e);return t&&(n+=t),this.text(n+r)},removeChar:function(e){var t=this.text();return e>t.length||e<-t.length?(warn("RiString.removeChar: bad index="+e),this):(e=e<0?e+=t.length:e,this.text(this._text.substring(0,e).concat(this._text.substring(e+1))),this)},replaceChar:function(e,t){var i=this.text();if(e>i.length||e<-i.length)return warn("RiString.replaceChar: bad index="+e),this;e=e<0?e+=i.length:e,i=this.text();var n=i.substring(0,e),r=i.substring(e+1);return t&&(n+=t),this.text(n+r)},replaceFirst:function(e,t){if(e&&!is(e,S)&&e.global){var i="";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.sticky&&(i+="y"),e=new RegExp(e.source,i)}return this._text=this._text.replace(e,t),this},replaceAll:function(e,t){var i="g";return e&&(t||""===t)&&(!is(e,S)&&e.source?(e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.sticky&&(i+="y"),e=e.source):e=escapeRegExp(e),this._text=this._text.replace(new RegExp(e,i),t)),this},removeWord:function(e){return this.replaceWord(e,E)},insertWord:function(e,t){var i=this.words();return e<0&&(e+=i.length),t&&t.length>=0&&e>=0&&e<i.length&&(i[e]=t+SP+i[e],this.text(RiTa.untokenize(i))),this},toCharArray:function(){return this._text.split(RiTa.E)},replaceWord:function(e,t){var i=this.words();return e<0&&(e+=i.length),(t||t===E)&&e>=0&&e<i.length&&(i[e]=t,this.text(RiTa.untokenize(i))),this},split:function(e,t){for(var i=this._text.split(e,t),n=[],r=0;r<i.length;r++)i[r]&&n.push(new RiString(i[r]));return n},startsWith:function(e){return 0===this.indexOf(e)},substr:function(e,t){return this._text.substr(e,t)},substring:function(e,t){return this._text.substring(e,t)},toLowerCase:function(){return this.text(this._text.toLowerCase())},toString:function(){return"["+this._text+"]"},toUpperCase:function(){return this.text(this._text.toUpperCase())},trim:function(){return this.text(trim(this._text))},charAt:function(e){return this._text.charAt(e)},concat:function(e){return this._text.concat(e.text())}};var RiGrammar=makeClass(),OR_PATT=/\s*\|\s*/,STRIP_TICKS=/`([^`]*)`/g,PROB_PATT=/(.*[^\s])\s*\[([0-9.]+)\](.*)/;RiGrammar.START_RULE="<start>",RiGrammar.EXEC_PATT=/(.*?)(`[^`]+?\(.*?\);?`)(.*)/,RiGrammar.prototype={init:function(e){this._rules={},this.execDisabled=!1,e&&(is(e,S)||is(e,O)&&typeof e.loadStrings!==F)&&this.load(e)},ready:function(e){return okeys(this._rules).length>0},loadFrom:function(e,t){RiTa.loadStrings(e,function(e){e=e.join(BN),this.load(e),is(t,F)&&t(e)}.bind(this))},load:function(e){if(this.reset(),is(e,S)){if("undefined"!=typeof YAML)try{e=YAML.parse(e)}catch(e){warn("YAML parsing failed, trying JSON")}if(!is(e,O))try{e=JSON.parse(e)}catch(e){var t=e}}if(!t&&is(e,O)){for(var i in e)this.addRule(i,e[i]);return this}if("undefined"!=typeof YAML)err("Grammar appears to be invalid JSON/YAML, please check it! (http://jsonlint.com/ or http://yamllint.com/)",e);else{var n=RiTa.env()===RiTa.NODE;err("Grammar appears to be invalid JSON, please check it at http://jsonlint.com/. If you are using YAML, be sure to "+(n?"require":"include")+" yamljs (https://github.com/jeremyfa/yaml.js), e.g. "+(n?"YAML = require('yamljs')":'<script src="yaml.min.js"><\/script>'),e)}},addRule:function(e,t,i){i=i||1;var n=t;is(t,A)||(n=t.split(/\s*\|\s*/));for(var r=0;r<n.length;r++){var s=n[r],a=i,o=PROB_PATT.exec(s);if(o&&(s=o[1]+o[3],a=o[2]),this.hasRule(e)){this._rules[e][s]=a}else{var c={};c[s]=a,this._rules[e]=c}}return this},removeRule:function(e){return delete this._rules[e],this},reset:function(){return this._rules={},this},doRule:function(e){var t=0,i=E,n=this._rules[e];if(!n)return null;for(i in n)t++;return t?1==t?i:function(e){var t,i,n=Math.random(),r=0;for(t in e)r+=parseFloat(e[t]);for(t in e){var s=e[t]/r;if(n<s){i=t;break}n-=s}return i}(n):null},getGrammar:function(){var e=E;for(var t in this._rules){e+=t+BN;var i=this._rules[t];for(var n in i)e+="  '"+n+"' ["+i[n]+"]"+BN}return RiTa.chomp(e)},print:function(){if(console){var e="\n------------------------------";console.log(e+BN+this.getGrammar()+e)}return this},hasRule:function(e){return void 0!==this._rules[e]},expandWith:function(e,t){var i,n=function(e){var t=RiGrammar();for(var i in e._rules)t._rules[i]=e._rules[i];return t}(this),r=!1;for(i in n._rules)if(i===t){var s={};s[e]=1,n._rules[i]=s,r=!0}r||err("Rule '"+t+"' not found in grammar");var a;for(a=0;a<1e3;a++){var o=n.expand();if(o.indexOf(e)>-1)return o}err("RiGrammar failed to complete after "+a+" tries"+BN)},expand:function(e){return this.expandFrom(RiGrammar.START_RULE,e)},expandFrom:function(rule,context){var expandRule=function(e,t){var i,n,r,s;for(var a in e._rules)if(e._rules[a],(i=t.indexOf(a))>=0)return n=t.substring(0,i)||E,r=e.doRule(a)||E,s=t.substring(i+a.length)||E,n+r+s;return null},Scope=function(context){"use strict";if(this.names=[],this.eval=function(s){return eval(s)},this.put=function(e,t){var i="(function() {\n";i+="var "+e+" = "+t+";\n",i+="return function(str) {return eval(str)};\n})()",this.eval=this.eval(i),this.names.push(e)},context){var scope=this;"function"==typeof context?scope.put(context.name,context):"object"==typeof context&&Object.keys(context).forEach(function(e){"function"==typeof context[e]&&scope.put(e,context[e])})}},handleExec=function(input,context){if(!input||!input.length)return null;var res,exec=input.replace(/`([^`]*)`/g,"$1");try{return res=eval(exec),res?res+E:null}catch(e){if(context)try{return res=new Scope(context).eval(exec),res?res+"":null}catch(e){}}return input},countTicks=function(e){for(var t=0,i=0;i<e.length;i++)"`"==e.charAt(i)&&t++;return t};okeys(this._rules).length||err("(RiGrammar) No grammar rules found!"),this.hasRule(rule)||err("Rule not found: "+rule+BN+"Rules:"+BN+JSON.stringify(this._rules));for(var parts,theCall,callResult,tries=0,maxIterations=1e3;++tries<1e3;){var next=expandRule(this,rule);if(next&&next.length)rule=next;else{if(this.execDisabled)break;if(!(parts=RiGrammar.EXEC_PATT.exec(rule))||!parts.length)break;if(parts.length>2){if(theCall=parts[2],2!=countTicks(theCall))return warn("Unable to parse recursive exec: "+theCall+"..."),null;if(!(callResult=handleExec(theCall,context)))break;rule=parts[1]+callResult,parts.length>3&&(rule+=parts[3])}}}return tries>=1e3&&log("[WARN] max number of iterations reached: 1000"),RiTa.unescapeHTML(rule)}};var callbacksDisabled=!1,RiTaEvent=makeClass();RiTaEvent.ID=0,RiTaEvent.prototype={init:function(e,t,i){is(e,O)||ok(e,S),this._id=++RiTaEvent.ID,this._data=i,this._source=e,this._type=t||RiTa.UNKNOWN},toString:function(){
var e="RiTaEvent[#"+this._id+" type=("+this._type+") source="+this._source.toString();return(e+=this._data?" data-length="+this._data.toString().length:e+=" data=null")+"]"},isType:function(e){return this._type===e},_fire:function(e){if((e=e||window.onRiTaEvent)&&is(e,F))try{return e(this),this}catch(i){callbacksDisabled=!0;var t="RiTaEvent: error calling '"+e+"': "+i;throw is(e,S)&&(t+=" Callback must be a function in JS!"),warn(t),i}}};var StringTokenizer=makeClass();StringTokenizer.prototype={init:function(e,t){this.idx=0,this.text=e,this.delim=t||" ",this.tokens=e.split(t)},nextToken:function(){return this.idx<this.tokens.length?this.tokens[this.idx++]:null}};var TextNode=makeClass();TextNode.prototype={init:function(e,t){this.count=0,this.children={},this.parent=e,this.token=t},pathFromRoot:function(e){for(var t=this;;){if(t.isRoot())break;e.push(t.token),t=t.parent}},selectChild:function(e,t){var i=t||!0;return this.children?this._select(this.childNodes(e),i):null},_select:function(e,t){if(!e)throw TypeError("bad arg to '_select()'");return t=t||!1,t?this._probabalisticSelect(e):e[Math.floor(Math.random()*e.length)]},_probabalisticSelect:function(e){if(!e)throw TypeError("bad arg to '_probabalisticSelect()'");if(!e.length)return null;if(1==e.length)return e[0];for(var t=0,i=Math.random(),n=0;n<e.length;n++)if(t+=e[n].probability(),i<t)return e[n];err("Invalid State in RiTa.probabalisticSelect()")},addChild:function(e,t){t=t||1;var i=this.children[e];return i?i.count++:(i=new TextNode(this,e),i.count=t,this.children[e]=i),i},asTree:function(e){var t=this.token+" ";return this.isRoot()||(t+="("+this.count+")->"),t+="{",this.isLeaf()?t+"}":this.childrenToString(this,t,1,e)},isRoot:function(){return!this.parent},isLeaf:function(){return 0===this.childCount()},probability:function(){return this.count/this.siblingCount()},childNodes:function(e){if(!this.children)return EA;e=is(e,S)?new RegExp(e):e;var t=[];for(var i in this.children){var n=this.children[i];(!e||n&&n.token&&n.token.search(e)>-1)&&t.push(n)}return t},siblingCount:function(){return this.parent||err("Illegal siblingCount on ROOT!"),this.parent.childCount()},childCount:function(){if(!this.children)return 0;var e=0;for(var t in this.children)t&&this.children[t]&&(e+=this.children[t].count);return e},lookup:function(e){return e?(e=typeof e!=S&&e.token?e.token:e,e?this.children[e]:null):null},childrenToString:function(e,t,i,n){var r,s,a,o=e,c=[],u=null,l=BN;n=n||!1;for(a in e.children)c.push(e.children[a]);if(!c.length)return t;for(n&&c.sort(),s=0;s<i;s++)l+="  ";for(r=0;r<c.length&&(u=c[r]);r++){var h=u.token;h&&(h==BN&&(h="\\n"),"\r"==h&&(h="\\r"),"\t"==h&&(h="\\t"),"\r\n"==h&&(h="\\r\\n")),t+=l+"'"+h+"'",u.count||err("ILLEGAL FREQ: "+u.count+" -> "+o.token+","+u.token),u.isRoot()||(t+=" ["+u.count+",p="+u.probability().toFixed(3)+"]->{"),u.children?t=this.childrenToString(u,t,i+1,n):t+="}"}for(l=BN,s=0;s<i-1;s++)l+="  ";return t+l+"}"},toString:function(){return"[ "+this.token+" ("+this.count+"/"+this.probability().toFixed(3)+"%)]"}};var Conjugator=makeClass();Conjugator.prototype={init:function(){this.perfect=this.progressive=this.passive=this.interrogative=!1,this.tense=RiTa.PRESENT_TENSE,this.person=RiTa.FIRST_PERSON,this.number=RiTa.SINGULAR,this.form=RiTa.NORMAL},conjugate:function(e,t){var i,n,r,s,a,o=[];if(!e||!e.length)return E;if(!t)return e;if(i=e.toLowerCase(),"am"!==i&&"are"!==i&&"is"!==i&&"was"!==i&&"were"!==i||(i="be"),s=i,t.number&&(this.number=t.number),t.person&&(this.person=t.person),t.tense&&(this.tense=t.tense),t.form&&(this.form=t.form),t.passive&&(this.passive=t.passive),t.progressive&&(this.progressive=t.progressive),t.interrogative&&(this.interrogative=t.interrogative),t.perfect&&(this.perfect=t.perfect),this.form==RiTa.INFINITIVE&&(r="to"),this.tense==RiTa.FUTURE_TENSE&&(r="will"),this.passive&&(o.push(this.getPastParticiple(s)),s="be"),this.progressive&&(o.push(this.getPresentParticiple(s)),s="be"),this.perfect&&(o.push(this.getPastParticiple(s)),s="have"),r&&(o.push(s),s=null),s)if(this.form===RiTa.GERUND){var c=this.getPresentParticiple(s);o.push(c)}else this.interrogative&&"be"!=s&&o.length<1?o.push(s):(a=this.getVerbForm(s,this.tense,this.person,this.number),o.push(a));r&&o.push(r),n=E;for(var u=0;u<o.length;u++)n=o[u]+" "+n;return endsWith(n,"peted")&&err("Unexpected output: "+this.toString()),trim(n)},checkRules:function(e,t){var i=(e.name,e.rules),n=e.defaultRule;if(i||err("no rule: "+e.name+" of "+t),inArray(MODALS,t))return t;for(var r=0;r<i.length;r++)if(i[r].applies(t)){var s=i[r].fire(t);return s}return e.doubling&&inArray(VERB_CONS_DOUBLING,t)&&(t=this.doubleFinalConsonant(t)),n.fire(t)},doubleFinalConsonant:function(e){return e+e.charAt(e.length-1)},getPast:function(e,t,i){if("be"==e.toLowerCase())switch(i){case RiTa.SINGULAR:switch(t){case RiTa.FIRST_PERSON:break;case RiTa.THIRD_PERSON:return"was";case RiTa.SECOND_PERSON:return"were"}break;case RiTa.PLURAL:return"were"}return this.checkRules(PAST_TENSE_RULESET,e)},getPresent:function(e,t,i){if(t=t||this.person,i=i||this.number,t==RiTa.THIRD_PERSON&&i==RiTa.SINGULAR)return this.checkRules(PRESENT_TENSE_RULESET,e);if("be"==e){if(i!=RiTa.SINGULAR)return"are";switch(t){case RiTa.FIRST_PERSON:return"am";case RiTa.SECOND_PERSON:return"are";case RiTa.THIRD_PERSON:return"is"}}return e},getPresentParticiple:function(e){return strOk(e)?this.checkRules(PRESENT_PARTICIPLE_RULESET,e):E},getPastParticiple:function(e){return strOk(e)?this.checkRules(PAST_PARTICIPLE_RULESET,e):E},getVerbForm:function(e,t,i,n){switch(t){case RiTa.PRESENT_TENSE:return this.getPresent(e,i,n);case RiTa.PAST_TENSE:return this.getPast(e,i,n);default:return e}},toString:function(){return"  ---------------------\n  Passive = "+this.passive+BN+"  Perfect = "+this.perfect+BN+"  Progressive = "+this.progressive+BN+"  ---------------------"+BN+"  Number = "+this.number+BN+"  Person = "+this.person+BN+"  Tense = "+this.tense+BN+"  ---------------------"+BN}};var PosTagger={TAGS:["cc","cd","dt","ex","fw","in","jj","jjr","jjs","ls","md","nn","nns","nnp","nnps","pdt","pos","prp","prp$","rb","rbr","rbs","rp","sym","to","uh","vb","vbd","vbg","vbn","vbp","vbz","wdt","wp","wp$","wrb"],NOUNS:["nn","nns","nnp","nnps"],VERBS:["vb","vbd","vbg","vbn","vbp","vbz"],ADJ:["jj","jjr","jjs"],ADV:["rb","rbr","rbs","rp"],NOLEX_WARNED:0,DBUG:0,isVerb:function(e){return inArray(this.VERBS,e)},isNoun:function(e){return inArray(this.NOUNS,e)},isAdverb:function(e){return inArray(this.ADV,e)},isAdj:function(e){return inArray(this.ADJ,e)},isTag:function(e){return inArray(this.TAGS,e)},hasTag:function(e,t){return ok(e,A),e.join().indexOf(t)>-1},tag:function(e){var t,i=[],n=[];RiLexicon._enabled?t=getLexicon():RiTa.SILENT||this.NOLEX_WARNED||(this.NOLEX_WARNED=!0,void 0===RiTa._LTS?console.warn("No RiLexicon or LTS-rules found: features will be inaccurate!"):console.warn("No RiLexicon found: part-of-speech tagging will be inaccurate!")),e=is(e,A)?e:[e];for(var r=0,s=e.length;r<s;r++)if(!this.NOLEX_WARNED&&!t.containsWord(e[r])&&t.size()<1e3&&(this.NOLEX_WARNED=!0,warn("A minimal Lexicon is currently in use: for word features outside the lexicon, use a larger version of RiTa.")),e[r].length<1)i.push(E);else if(1!=e[r].length){var a=t&&t._getPosArr(e[r]);if(a&&a.length)i.push(a[0]),n[r]=a;else{n[r]=[];var o="nn";if(endsWith(e[r],"s")&&(o="nns"),!t||!t.containsWord(e[r]))if(endsWith(e[r],"s")){var c,u=e[r].substring(0,e[r].length-1);if(endsWith(e[r],"es")&&(c=e[r].substring(0,e[r].length-2)),this._lexHas("n",u)||this._lexHas("n",c))n.push("nns");else{var l=RiTa.singularize(e[r]);this._lexHas("n",l)&&n.push("nns")}}else{var l=RiTa.singularize(e[r]);this._lexHas("n",l)?(n.push("nns"),o="nns"):checkPluralNoLex(e[r])&&(o="nns")}i.push(o)}}else i.push(this._handleSingleLetter(e[r]));return this._applyContext(e,i,n)},_handleSingleLetter:function(e){var t=e;return"a"===e||"A"===e?t="dt":"I"===e?t="prp":e>="0"&&e<="9"&&(t="cd"),t},_ct:function(e,t,i){this.DBUG&&console.log("\n  Custom("+e+") tagged '"+t+"' -> '"+i+"'\n\n")},_applyContext:function(e,t,i){this.DBUG&&console.log("ac("+e+","+t+","+i+")");for(var n=startsWith,r=endsWith,s=0,a=e.length;s<a;s++){var o=e[s],c=t[s];s>0&&"dt"==t[s-1]&&(n(c,"vb")?(c="nn",o.match(/^.*[^s]s$/)&&(NULL_PLURALS.applies(o)||(c="nns")),this._ct("1a",o,c)):n(c,"rb")&&(c=c.length>2?"jj"+c.charAt(2):"jj",this._ct("1b",o,c))),n(c,"n")&&!i[s]&&isNum(o)&&(c="cd"),s>0&&n(c,"n")&&r(o,"ed")&&!r(o,"eed")&&t[s-1].match(/^(nn|prp)$/)&&(c="vbn"),r(o,"ly")&&(c="rb"),n(c,"nn")&&r(o,"al")&&"mammal"!=o&&(c="jj"),s>0&&n(c,"nn")&&n(t[s-1],"md")&&(c="vb"),n(c,"nn")&&r(o,"ing")&&this.hasTag(i[s],"vb")&&(c="vbg",this._ct(8,o,c)),s>0&&"nns"==c&&this.hasTag(i[s],"vbz")&&t[s-1].match(/^(nn|prp|nnp)$/)&&(c="vbz",this._ct(9,o,c)),n(c,"nn")&&o.charAt(0)===o.charAt(0).toUpperCase()&&(0!=s||1===e.length||0==s&&!this._lexHas("nn",RiTa.singularize(o).toLowerCase()))&&(c=r(c,"s")?"nnps":"nnp",this._ct(10,o,c)),s<t.length-1&&"nns"==c&&n(t[s+1],"rb")&&this.hasTag(i[s],"vbz")&&(c="vbz",this._ct(11,o,c)),"nns"===c&&(s>0&&["nn","prp","cc","nnp"].indexOf(t[s-1])>-1?this._lexHas("vb",RiTa.singularize(o))&&(c="vbz",this._ct(12,o,c)):1!==e.length||i[s].length||!this._lexHas("nn",RiTa.singularize(o))&&this._lexHas("vb",RiTa.singularize(o))&&(c="vbz",this._ct(12,o,c))),("vb"===c||"nn"===c&&this.hasTag(i[s],"vb"))&&s>0&&t[s-1].match(/^(nns|nnps|prp)$/)&&(c="vbp",this._ct(13,o,c)),t[s]=c}return t},_lexHas:function(e,t){if(!RiLexicon._enabled)return!1;for(var i=getLexicon(),t=is(t,A)||[t],n=0;n<t.length;n++)if(i.containsWord(t[n])){if(null==e)return!0;for(var r=i._getPosArr(t[n]),s=0;s<r.length;s++)if("n"===e&&PosTagger.isNoun(r[s])||"v"===e&&PosTagger.isVerb(r[s])||"r"===e&&PosTagger.isAdverb(r[s])||"a"===e&&PosTagger.isAdj(r[s])||e===r[s])return!0}return!1}};RiTa.stemmers.Porter=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[aeiouy]",n="[^aeiou][^aeiouy]*",r=i+"[aeiou]*",s="^("+n+")?"+r+n,a="^("+n+")?"+r+n+r+n,o="^("+n+")?"+i;return function(c){var u,l,h,p,d,g,f,R;return c.length<3?c:(p=c.substr(0,1),"y"==p&&(c=p+c.substr(1)),d=/^(.+?)(ss|i)es$/,g=/^(.+?)([^s])s$/,d.test(c)?c=c.replace(d,"$1$2"):g.test(c)&&(c=c.replace(g,"$1$2")),d=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,d.test(c)?(u=d.exec(c),d=new RegExp(s),d.test(u[1])&&(d=/.$/,c=c.replace(d,E))):g.test(c)&&(u=g.exec(c),l=u[1],g=new RegExp(o),g.test(l)&&(c=l,g=/(at|bl|iz)$/,f=new RegExp("([^aeiouylsz])\\1$"),R=new RegExp("^"+n+i+"[^aeiouwxy]$"),g.test(c)?c+="e":f.test(c)?(d=/.$/,c=c.replace(d,E)):R.test(c)&&(c+="e"))),d=/^(.+?)y$/,d.test(c)&&(u=d.exec(c),l=u[1],d=new RegExp(o),d.test(l)&&(c=l+"i")),d=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,d.test(c)&&(u=d.exec(c),l=u[1],h=u[2],d=new RegExp(s),d.test(l)&&(c=l+e[h])),d=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,d.test(c)&&(u=d.exec(c),l=u[1],h=u[2],d=new RegExp(s),d.test(l)&&(c=l+t[h])),d=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,g=/^(.+?)(s|t)(ion)$/,d.test(c)?(u=d.exec(c),l=u[1],d=new RegExp(a),d.test(l)&&(c=l)):g.test(c)&&(u=g.exec(c),l=u[1]+u[2],g=new RegExp(a),g.test(l)&&(c=l)),d=/^(.+?)e$/,d.test(c)&&(u=d.exec(c),l=u[1],d=new RegExp(a),g=new RegExp("^("+n+")?"+r+n+"("+r+")?$"),f=new RegExp("^"+n+i+"[^aeiouwxy]$"),(d.test(l)||g.test(l)&&!f.test(l))&&(c=l)),d=/ll$/,g=new RegExp(a),d.test(c)&&g.test(c)&&(d=/.$/,c=c.replace(d,E)),"y"==p&&(c=p.toLowerCase()+c.substr(1)),c)}}(),RiTa.stemmers.Lancaster=function(){function e(e){return e.match(/^[aeiou]/)?e.length>1:e.length>2&&e.match(/[aeiouy]/)}function t(n,r){var s=n.substr(-1),a=i[s];if(a)for(var o=0;o<a.length;o++)if((r||!a[o].intact)&&n.substr(0-a[o].pattern.length)==a[o].pattern){var c=n.substr(0,n.length-a[o].size);if(a[o].appendage&&(c+=a[o].appendage),e(c))return n=c,a[o].continuation?t(c,!1):c}return n}var i={a:[{continuation:!1,intact:!0,pattern:"ia",size:"2"},{continuation:!1,intact:!0,pattern:"a",size:"1"}],b:[{continuation:!1,intact:!1,pattern:"bb",size:"1"}],c:[{appendage:"s",continuation:!1,intact:!1,pattern:"ytic",size:"3"},{continuation:!0,intact:!1,pattern:"ic",size:"2"},{appendage:"t",continuation:!0,intact:!1,pattern:"nc",size:"1"}],d:[{continuation:!1,intact:!1,pattern:"dd",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ied",size:"3"},{appendage:"s",continuation:!1,intact:!1,pattern:"ceed",size:"2"},{continuation:!1,intact:!1,pattern:"eed",size:"1"},{continuation:!0,intact:!1,pattern:"ed",size:"2"},{continuation:!0,intact:!1,pattern:"hood",size:"4"}],e:[{continuation:!0,intact:!1,pattern:"e",size:"1"}],f:[{appendage:"v",continuation:!1,intact:!1,pattern:"lief",size:"1"},{continuation:!0,intact:!1,pattern:"if",size:"2"}],g:[{continuation:!0,intact:!1,pattern:"ing",size:"3"},{appendage:"y",continuation:!1,intact:!1,pattern:"iag",size:"3"},{continuation:!0,intact:!1,pattern:"ag",size:"2"},{continuation:!1,intact:!1,pattern:"gg",size:"1"}],h:[{continuation:!1,intact:!0,pattern:"th",size:"2"},{appendage:"c",continuation:!1,intact:!1,pattern:"guish",size:"5"},{continuation:!0,intact:!1,pattern:"ish",size:"3"}],i:[{continuation:!1,intact:!0,pattern:"i",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"i",size:"1"}],j:[{appendage:"d",continuation:!1,intact:!1,pattern:"ij",size:"1"},{appendage:"s",continuation:!1,intact:!1,pattern:"fuj",size:"1"},{appendage:"d",continuation:!1,intact:!1,pattern:"uj",size:"1"},{appendage:"d",continuation:!1,intact:!1,pattern:"oj",size:"1"},{appendage:"r",continuation:!1,intact:!1,pattern:"hej",size:"1"},{appendage:"t",continuation:!1,intact:!1,pattern:"verj",size:"1"},{appendage:"t",continuation:!1,intact:!1,pattern:"misj",size:"2"},{appendage:"d",continuation:!1,intact:!1,pattern:"nj",size:"1"},{appendage:"s",continuation:!1,intact:!1,pattern:"j",size:"1"}],l:[{continuation:!1,intact:!1,pattern:"ifiabl",size:"6"},{appendage:"y",continuation:!1,intact:!1,pattern:"iabl",size:"4"},{continuation:!0,intact:!1,pattern:"abl",size:"3"},{continuation:!1,intact:!1,pattern:"ibl",size:"3"},{appendage:"l",continuation:!0,intact:!1,pattern:"bil",size:"2"},{continuation:!1,intact:!1,pattern:"cl",size:"1"},{appendage:"y",continuation:!1,intact:!1,pattern:"iful",size:"4"},{continuation:!0,intact:!1,pattern:"ful",size:"3"},{continuation:!1,intact:!1,pattern:"ul",size:"2"},{continuation:!0,intact:!1,pattern:"ial",size:"3"},{continuation:!0,intact:!1,pattern:"ual",size:"3"},{continuation:!0,intact:!1,pattern:"al",size:"2"},{continuation:!1,intact:!1,pattern:"ll",size:"1"}],m:[{continuation:!1,intact:!1,pattern:"ium",size:"3"},{continuation:!1,intact:!0,pattern:"um",size:"2"},{continuation:!0,intact:!1,pattern:"ism",size:"3"},{continuation:!1,intact:!1,pattern:"mm",size:"1"}],n:[{appendage:"j",continuation:!0,intact:!1,pattern:"sion",size:"4"},{appendage:"c",continuation:!1,intact:!1,pattern:"xion",size:"4"},{continuation:!0,intact:!1,pattern:"ion",size:"3"},{continuation:!0,intact:!1,pattern:"ian",size:"3"},{continuation:!0,intact:!1,pattern:"an",size:"2"},{continuation:!1,intact:!1,pattern:"een",size:"0"},{continuation:!0,intact:!1,pattern:"en",size:"2"},{continuation:!1,intact:!1,pattern:"nn",size:"1"}],p:[{continuation:!0,intact:!1,pattern:"ship",size:"4"},{continuation:!1,intact:!1,pattern:"pp",size:"1"}],r:[{continuation:!0,intact:!1,pattern:"er",size:"2"},{continuation:!1,intact:!1,pattern:"ear",size:"0"},{continuation:!1,intact:!1,pattern:"ar",size:"2"},{continuation:!0,intact:!1,pattern:"or",size:"2"},{continuation:!0,intact:!1,pattern:"ur",size:"2"},{continuation:!1,intact:!1,pattern:"rr",size:"1"},{continuation:!0,intact:!1,pattern:"tr",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ier",size:"3"}],s:[{appendage:"y",continuation:!0,intact:!1,pattern:"ies",size:"3"},{continuation:!1,intact:!1,pattern:"sis",size:"2"},{continuation:!0,intact:!1,pattern:"is",size:"2"},{continuation:!0,intact:!1,pattern:"ness",size:"4"},{continuation:!1,intact:!1,pattern:"ss",size:"0"},{continuation:!0,intact:!1,pattern:"ous",size:"3"},{continuation:!1,intact:!0,pattern:"us",size:"2"},{continuation:!0,intact:!0,pattern:"s",size:"1"},{continuation:!1,intact:!1,pattern:"s",size:"0"}],t:[{appendage:"y",continuation:!1,intact:!1,pattern:"plicat",size:"4"},{continuation:!0,intact:!1,pattern:"at",size:"2"},{continuation:!0,intact:!1,pattern:"ment",size:"4"},{continuation:!0,intact:!1,pattern:"ent",size:"3"},{continuation:!0,intact:!1,pattern:"ant",size:"3"},{appendage:"b",continuation:!1,intact:!1,pattern:"ript",size:"2"},{appendage:"b",continuation:!1,intact:!1,pattern:"orpt",size:"2"},{continuation:!1,intact:!1,pattern:"duct",size:"1"},{continuation:!1,intact:!1,pattern:"sumpt",size:"2"},{appendage:"i",continuation:!1,intact:!1,pattern:"cept",size:"2"},{appendage:"v",continuation:!1,intact:!1,pattern:"olut",size:"2"},{continuation:!1,intact:!1,pattern:"sist",size:"0"},{continuation:!0,intact:!1,pattern:"ist",size:"3"},{continuation:!1,intact:!1,pattern:"tt",size:"1"}],u:[{continuation:!1,intact:!1,pattern:"iqu",size:"3"},{continuation:!1,intact:!1,pattern:"ogu",size:"1"}],v:[{appendage:"j",continuation:!0,intact:!1,pattern:"siv",size:"3"},{continuation:!1,intact:!1,pattern:"eiv",size:"0"},{continuation:!0,intact:!1,pattern:"iv",size:"2"}],y:[{continuation:!0,intact:!1,pattern:"bly",size:"1"},{appendage:"y",continuation:!0,intact:!1,pattern:"ily",size:"3"},{continuation:!1,intact:!1,pattern:"ply",size:"0"},{continuation:!0,intact:!1,pattern:"ly",size:"2"},{continuation:!1,intact:!1,pattern:"ogy",size:"1"},{continuation:!1,intact:!1,pattern:"phy",size:"1"},{continuation:!1,intact:!1,pattern:"omy",size:"1"},{continuation:!1,intact:!1,pattern:"opy",size:"1"},{continuation:!0,intact:!1,pattern:"ity",size:"3"},{continuation:!0,intact:!1,pattern:"ety",size:"3"},{continuation:!1,intact:!1,pattern:"lty",size:"2"},{continuation:!1,intact:!1,pattern:"istry",size:"5"},{continuation:!0,intact:!1,pattern:"ary",size:"3"},{continuation:!0,intact:!1,pattern:"ory",size:"3"},{continuation:!1,intact:!1,pattern:"ify",size:"3"},{appendage:"t",continuation:!0,intact:!1,pattern:"ncy",size:"2"},{continuation:!0,intact:!1,pattern:"acy",size:"3"}],z:[{continuation:!0,intact:!1,pattern:"iz",size:"2"},{appendage:"s",continuation:!1,intact:!1,pattern:"yz",size:"1"}]};return function(e){return t(e.toLowerCase(),!0)}}();var categorySP=["acoustics","aestetics","aquatics","basics","ceramics","classics","cosmetics","dermatoglyphics","dialectics","deer","dynamics","esthetics","ethics","harmonics","heroics","isometrics","mechanics","metrics","statistics","optic","people","physics","polemics","propaedeutics","pyrotechnics","quadratics","quarters","statistics","tactics","tropics"],categorySE_SES=["nurses","cruises"],category00=["alias","asbestos","atlas","barracks","bathos","bias","breeches","britches","canvas","chaos","clippers","contretemps","corps","cosmos","crossroads","diabetes","ethos","gallows","gas","graffiti","headquarters","herpes","high-jinks","innings","jackanapes","lens","means","measles","mews","mumps","news","pathos","pincers","pliers","proceedings","rabies","rhinoceros","sassafras","scissors","series","shears","species","tuna"],categoryUM_A=["addenda","agenda","aquaria","bacteria","candelabra","compendia","consortia","crania","curricula","data","desiderata","dicta","emporia","enconia","errata","extrema","gymnasia","honoraria","interregna","lustra","maxima","media","memoranda","millenia","minima","momenta","optima","ova","phyla","quanta","rostra","spectra","specula","stadia","strata","symposia","trapezia","ultimata","vacua","vela"],categoryON_A=["aphelia","asyndeta","automata","criteria","hyperbata","noumena","organa","perihelia","phenomena","prolegomena","referenda"],categoryO_I=["alti","bassi","canti","contralti","crescendi","libretti","soli","soprani","tempi","virtuosi"],categoryUS_I=["alumni","bacilli","cacti","foci","fungi","genii","hippopotami","incubi","nimbi","nuclei","nucleoli","octopi","radii","stimuli","styli","succubi","syllabi","termini","tori","umbilici","uteri"],categoryIX_ICES=["appendices","cervices"],categoryIS_ES=["analyses","axes","bases","crises","diagnoses","ellipses","em_PHASEs","neuroses","oases","paralyses","prognoses","synopses"],categoryOE_OES=["aloes","backhoes","beroes","canoes","chigoes","cohoes","does","felloes","floes","foes","gumshoes","hammertoes","hoes","hoopoes","horseshoes","leucothoes","mahoes","mistletoes","oboes","overshoes","pahoehoes","pekoes","roes","shoes","sloes","snowshoes","throes","tic-tac-toes","tick-tack-toes","ticktacktoes","tiptoes","tit-tat-toes","toes","toetoes","tuckahoes","woes"],categoryEX_ICES=["apices","codices","cortices","indices","latices","murices","pontifices","silices","simplices","vertices","vortices"],categoryU_US=["menus","gurus","apercus","barbus","cornus","ecrus","emus","fondus","gnus","iglus","mus","nandus","napus","poilus","quipus","snafus","tabus","tamandus","tatus","timucus","tiramisus","tofus","tutus"],categorySSE_SSES=["bouillabaisses","coulisses","crevasses","crosses","cuisses","demitasses","ecrevisses","fesses","finesses","fosses","impasses","lacrosses","largesses","masses","noblesses","palliasses","pelisses","politesses","posses","tasses","wrasses"],categoryCHE_CHES=["adrenarches","attaches","avalanches","barouches","brioches","caches","caleches","caroches","cartouches","cliches","cloches","creches","demarches","douches","gouaches","guilloches","headaches","heartaches","huaraches","menarches","microfiches","moustaches","mustaches","niches","panaches","panoches","pastiches","penuches","pinches","postiches","psyches","quiches","schottisches","seiches","soutaches","synecdoches","thelarches","troches"],categoryICS=["aerobatics","aerobics","aerodynamics","aeromechanics","aeronautics","alphanumerics","animatronics","apologetics","architectonics","astrodynamics","astronautics","astrophysics","athletics","atmospherics","autogenics","avionics","ballistics","bibliotics","bioethics","biometrics","bionics","bionomics","biophysics","biosystematics","cacogenics","calisthenics","callisthenics","catoptrics","civics","cladistics","cryogenics","cryonics","cryptanalytics","cybernetics","cytoarchitectonics","cytogenetics","diagnostics","dietetics","dramatics","dysgenics","econometrics","economics","electromagnetics","electronics","electrostatics","endodontics","enterics","ergonomics","eugenics","eurhythmics","eurythmics","exodontics","fibreoptics","futuristics","genetics","genomics","geographics","geophysics","geopolitics","geriatrics","glyptics","graphics","gymnastics","hermeneutics","histrionics","homiletics","hydraulics","hydrodynamics","hydrokinetics","hydroponics","hydrostatics","hygienics","informatics","kinematics","kinesthetics","kinetics","lexicostatistics","linguistics","lithoglyptics","liturgics","logistics","macrobiotics","macroeconomics","magnetics","magnetohydrodynamics","mathematics","metamathematics","metaphysics","microeconomics","microelectronics","mnemonics","morphophonemics","neuroethics","neurolinguistics","nucleonics","numismatics","obstetrics","onomastics","orthodontics","orthopaedics","orthopedics","orthoptics","paediatrics","patristics","patristics","pedagogics","pediatrics","periodontics","pharmaceutics","pharmacogenetics","pharmacokinetics","phonemics","phonetics","phonics","photomechanics","physiatrics","pneumatics","poetics","politics","pragmatics","prosthetics","prosthodontics","proteomics","proxemics","psycholinguistics","psychometrics","psychonomics","psychophysics","psychotherapeutics","robotics","semantics","semiotics","semitropics","sociolinguistics","stemmatics","strategics","subtropics","systematics","tectonics","telerobotics","therapeutics","thermionics","thermodynamics","thermostatics"],categoryIE_IES=["aeries","anomies","aunties","baddies","beanies","birdies","boccies","bogies","bolshies","bombies","bonhomies","bonxies","booboisies","boogies","boogie-woogies","bookies","booties","bosies","bourgeoisies","brasseries","brassies","brownies","budgies","byrnies","caddies","calories","camaraderies","capercaillies","capercailzies","cassies","catties","causeries","charcuteries","chinoiseries","collies","commies","cookies","coolies","coonties","cooties","corries","coteries","cowpies","cowries","cozies","crappies","crossties","curies","dachsies","darkies","dassies","dearies","dickies","dies","dixies","doggies","dogies","dominies","dovekies","eyries","faeries","falsies","floozies","folies","foodies","freebies","gaucheries","gendarmeries","genies","ghillies","gillies","goalies","goonies","grannies","grotesqueries","groupies","hankies","hippies","hoagies","honkies","hymies","indies","junkies","kelpies","kilocalories","knobkerries","koppies","kylies","laddies","lassies","lies","lingeries","magpies","magpies","marqueteries","mashies","mealies","meanies","menageries","millicuries","mollies","facts1","moxies","neckties","newbies","nighties","nookies","oldies","organdies","panties","parqueteries","passementeries","patisseries","pies","pinkies","pixies","porkpies","potpies","prairies","preemies","premies","punkies","pyxies","quickies","ramies","reveries","rookies","rotisseries","scrapies","sharpies","smoothies","softies","stoolies","stymies","swaggies","sweeties","talkies","techies","ties","tooshies","toughies","townies","veggies","walkie-talkies","wedgies","weenies","weirdies","yardies","yuppies","zombies"],categoryIRR=["blondes","blonde","teeth","tooth","beefs","beef","brethren","brother","busses","bus","cattle","cow","children","child","corpora","corpus","ephemerides","ephemeris","genera","genus","genies","genie","genii","genie","lice","louse","mice","mouse","mongooses","mongoose","monies","money","mythoi","mythos","octopodes","octopus","oxen","ox","people","person","soliloquies","soliloquy","taxis","taxi","throes","throes","trilbys","trilby","innings","inning","alibis","alibi","skis","ski"];RiTa.stemmers.Pling=function(){function e(e,t){return e.substring(0,e.length-t.length)}function t(e){return e.indexOf("h")>0||e.indexOf("j")>0||e.indexOf("k")>0||e.indexOf("w")>0||e.indexOf("y")>0||e.indexOf("z")>0||e.indexOf("ou")>0||e.indexOf("sh")>0||e.indexOf("ch")>0||e._endsWith("aus")}function i(e){return e.indexOf("ph")>0||e.indexOf("y")>0&&e._endsWith("nges")}function n(n){if(categoryIRR._arrayContains(n)){var r,s=categoryIRR.indexOf(n);return s%2==0&&(r=categoryIRR[s+1]),r}return categoryON_A._arrayContains(n)?e(n,"a")+"on":categoryUM_A._arrayContains(n)?e(n,"a")+"um":categoryIX_ICES._arrayContains(n)?e(n,"ices")+"ix":categoryO_I._arrayContains(n)?e(n,"i")+"o":categorySE_SES._arrayContains(n)?e(n,"s"):categoryIS_ES._arrayContains(n)||n._endsWith("theses")?e(n,"es")+"is":categoryUS_I._arrayContains(n)?e(n,"i")+"us":n._endsWith("uses")&&(categoryUS_I._arrayContains(e(n,"uses")+"i")||"genuses"===n||"corpuses"===n)?e(n,"es"):categoryEX_ICES._arrayContains(n)?e(n,"ices")+"ex":n._endsWith("ois")||n._endsWith("itis")||category00._arrayContains(n)||categoryICS._arrayContains(n)?n:n._endsWith("ina")?e(n,"en"):n._endsWith("ae")?e(n,"e"):n._endsWith("ata")?e(n,"ta"):n._endsWith("trices")?e(n,"trices")+"trix":!n._endsWith("us")||n._endsWith("eaus")||n._endsWith("ieus")||t(n)||categoryU_US._arrayContains(n)?n._endsWith("teeth")?e(n,"teeth")+"tooth":n._endsWith("geese")?e(n,"geese")+"goose":n._endsWith("feet")?e(n,"feet")+"foot":n._endsWith("zoa")?e(n,"zoa")+"zoon":n._endsWith("men")?e(n,"men")+"man":n._endsWith("inis")?e(n,"inis")+"ini":n._endsWith("children")?e(n,"ren"):n._endsWith("eaux")?e(n,"x"):n._endsWith("ieux")?e(n,"x"):n._endsWith("nges")&&i(n)?e(n,"nges")+"nx":n._endsWith("shes")||n._endsWith("ches")&&!categoryCHE_CHES._arrayContains(n)?e(n,"es"):!n._endsWith("sses")||categorySSE_SSES._arrayContains(n)||n._endsWith("mousses")?n._endsWith("xes")&&"axes"!==n?e(n,"es"):n._endsWith("nives")||n._endsWith("lives")&&!n._endsWith("olives")||n._endsWith("wives")?e(n,"ves")+"fe":n._endsWith("alves")&&!n._endsWith("valves")||n._endsWith("olves")&&!n._endsWith("solves")||n._endsWith("eaves")&&!n._endsWith("heaves")&&!n._endsWith("weaves")||n._endsWith("arves")||n._endsWith("shelves")||n._endsWith("selves")?e(n,"ves")+"f":n._endsWith("ies")&&!categoryIE_IES._arrayContains(n)?e(n,"ies")+"y":n._endsWith("oes")&&!categoryOE_OES._arrayContains(n)?e(n,"es"):n._endsWith("ses")||n._endsWith("zes")?e(n,"es"):!n._endsWith("s")||n._endsWith("ss")||n._endsWith("is")?n:e(n,"s"):e(n,"es"):n}return function(e){return n(e.toLowerCase())}}(),Array.prototype._arrayContains=function(e){return this.indexOf(e)>-1},String.prototype._endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)};var MinEditDist={_min3:function(e,t,i){var n=e;return t<n&&(n=t),i<n&&(n=i),n},_computeRawArray:function(e,t){var i,n,r,s,a,o,c,u=[];if(!e.length)return t.length;if(!t.length)return e.length;for(s=0,o=e.length;s<=o;s++)u[s]=[],u[s][0]=s;for(a=0,c=t.length;a<=c;a++)u[0][a]=a;for(s=1,o=e.length;s<=o;s++)for(i=e[s-1],a=1,c=t.length;a<=c;a++)n=t[a-1],r=i===n?0:1,u[s][a]=this._min3(u[s-1][a]+1,u[s][a-1]+1,u[s-1][a-1]+r);return u[e.length][t.length]},computeRaw:function(e,t){if(is(e,A))return this._computeRawArray(e,t);if(!e.length&&!t.length)return 0;var i,n,r,s,a,o=[],c=e.length,u=t.length;if(!c)return u;if(!u)return c;for(i=0;i<=c;i++)o[i]=[],o[i][0]=i;for(n=0;n<=u;n++)o[0][n]=n;for(i=1;i<=c;i++)for(s=e.charAt(i-1),n=1;n<=u;n++)a=t.charAt(n-1),r=s==a?0:1,o[i][n]=this._min3(o[i-1][n]+1,o[i][n-1]+1,o[i-1][n-1]+r);return o[c][u]},computeAdjusted:function(e,t){var i=get(e),n=get(e);if(i===n){if(n===S)return e.length||t.length?this.computeRaw(e,t)/Math.max(e.length,t.length):0;if(n===A)return e.length||t.length?this._computeRawArray(e,t)/Math.max(e.length,t.length):0}err("Unexpected args: "+e+"/"+t)}},Concorder=makeClass();Concorder.prototype={init:function(e,t){this.model=null,this.wordsToIgnore=[],this.ignoreCase=!1,this.ignoreStopWords=!1,this.ignorePunctuation=!1,t&&(t.ignoreCase&&(this.ignoreCase=!0),t.ignoreStopWords&&(this.ignoreStopWords=!0),t.ignorePunctuation&&(this.ignorePunctuation=!0),t.wordsToIgnore&&(this.wordsToIgnore=t.wordsToIgnore)),this.ignoreStopWords&&(this.wordsToIgnore=this.wordsToIgnore.concat(RiTa.STOP_WORDS)),this.words=is(e,A)?e:RiTa.tokenize(e)},count:function(e){var t=this.lookup(e);return null===t?0:t.count},concordance:function(){this.model||this.build();var e={};for(var t in this.model)e[t]=this.model[t].indexes.length;return e},kwic:function(e,t){var i=this.lookup(e),n=[];if(i)for(var r=i.indexes,s=0;s<r.length;s++){var a=this.words.slice(Math.max(0,r[s]-t),Math.min(this.words.length,r[s]+t+1));(s<1||r[s]-r[s-1]>t)&&n.push(RiTa.untokenize(a))}return n},build:function(){if(!this.words)throw Error("No text in model");this.model={};for(var e=(new Date,0);e<this.words.length;e++){var t=this.words[e];if(!this.ignorable(t)){var i=this.lookup(t);i&&"object"==typeof i||(i={word:t,key:this.compareKey(t),indexes:[]},this.model[i.key]=i),i.indexes.push(e)}}},ignorable:function(e){if(this.ignorePunctuation&&RiTa.isPunctuation(e))return!0;for(var t=0;t<this.wordsToIgnore.length;t++){var i=this.wordsToIgnore[t];if(this.ignoreCase&&e.toUpperCase()===i.toUpperCase()||e===i)return!0}return!1},compareKey:function(e){return this.ignoreCase?e.toLowerCase():e},lookup:function(e){var t=this.compareKey(e);return this.model||this.build(),this.model[t]}};var RE=makeClass();RE.prototype={init:function(e,t,i){this.regex=new RegExp(e),this.offset=t,this.suffix=i||""},applies:function(e){return this.regex.test(trim(e))},fire:function(e){return this.truncate(trim(e))+this.suffix},analyze:function(e){return!(this.suffix==E||!endsWith(e,this.suffix))},truncate:function(e){return 0===this.offset?e:e.substr(0,e.length-this.offset)}}
;var QUESTION_STARTS=["Was","What","When","Where","Which","Why","Who","Will","Would","How","If","Who","Is","Could","Might","Does","Are","Have"],W_QUESTION_STARTS=["Was","What","When","Where","Which","Why","Who","Will","Would"],PUNCTUATION_CLASS=/[�`~\"\/'_\-[\]{}()*+!?%&.,\\^$|#@<>|+=;:]/g,ONLY_PUNCT=/^[^0-9A-Za-z\s]*$/,DEFAULT_PLURAL_RULE=RE("^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",0,"s"),ALL_PUNCT=/^[-[\]{}()*+!?%&.,\\^$|#@<>|+=;:]+$/g,NULL_PLURALS=RE("^(bantu|bengalese|bengali|beninese|boche|bonsai|digitalis|mess|burmese|chinese|colossus|congolese|discus|emphasis|gabonese|guyanese|japanese|javanese|lebanese|maltese|olympics|portuguese|senegalese|siamese|singhalese|innings|sinhalese|sioux|sudanese|swiss|taiwanese|togolese|vietnamese|aircraft|anopheles|apparatus|asparagus|barracks|bellows|bison|bluefish|bob|bourgeois|bream|brill|butterfingers|cargo|carp|catfish|chassis|clothes|chub|cod|codfish|coley|contretemps|corps|crawfish|crayfish|crossroads|cuttlefish|dace|deer|dice|dogfish|doings|dory|downstairs|eldest|earnings|economics|electronics|finnan|firstborn|fish|flatfish|flounder|fowl|fry|fries|works|globefish|goldfish|golf|grand|grief|gudgeon|gulden|haddock|hake|halibut|headquarters|herring|hertz|horsepower|goods|hovercraft|hundredweight|ironworks|jackanapes|kilohertz|kurus|kwacha|ling|lungfish|mackerel|means|megahertz|moorfowl|moorgame|mullet|nepalese|offspring|pampas|parr|pants|patois|pekinese|penn'orth|perch|pickerel|pike|pince-nez|plaice|precis|quid|rand|rendezvous|revers|roach|roux|salmon|samurai|series|seychelles|seychellois|shad|sheep|shellfish|smelt|spacecraft|species|starfish|stockfish|sunfish|superficies|sweepstakes|swordfish|tench|tennis|[a-z]+osis|[a-z]+itis|[a-z]+ness|tobacco|tope|triceps|trout|tuna|tunafish|tunny|turbot|trousers|undersigned|veg|waterfowl|waterworks|waxworks|whiting|wildfowl|woodworm|yen|aries|pisces|forceps|lieder|jeans|physics|mathematics|news|odds|politics|remains|surroundings|thanks|statistics|goods|aids|wildlife)$",0),SINGULAR_RULES=[NULL_PLURALS,RE("whizzes",3),RE("^(buses|octopuses)$",2),RE("^(toes|wheezes)$",1),RE("(men|women)$",2,"an"),RE("^[lm]ice$",3,"ouse"),RE("^children",3),RE("^(appendices|indices|matrices)",3,"x"),RE("^(data)$",1,"um"),RE("people",4,"rson"),RE("^meninges|phalanges$",3,"x"),RE("schemata$",2,"s"),RE("^corpora$",3,"us"),RE("^(curi|formul|vertebr|larv|uln|alumn|signor|alg|minuti)ae$",1),RE("^apices|cortices$",4,"ex"),RE("femora",3,"ur"),RE("^(medi|millenni|consorti|sept|memorabili)a$",1,"um"),RE("concerti",1,"o")],C="[bcdfghjklmnpqrstvwxyz]",VL="[lraeiou]",PLURAL_RULES=[RE("prognosis",2,"es"),NULL_PLURALS,RE("^(piano|photo|solo|ego|tobacco|cargo|golf|grief)$",0,"s"),RE("^(wildlife)$",0,"s"),RE("^concerto$",1,"i"),RE(C+"o$",0,"es"),RE(C+"y$",1,"ies"),RE("^ox$",0,"en"),RE("^(stimul|alumn|termin)us$",2,"i"),RE("^corpus$",2,"ora"),RE("(xis|sis)$",2,"es"),RE("whiz$",0,"zes"),RE("([zsx]|ch|sh)$",0,"es"),RE(VL+"fe$",2,"ves"),RE(VL+"f$",1,"ves"),RE("(eu|eau)$",0,"x"),RE("(man|woman)$",2,"en"),RE("money$",2,"ies"),RE("person$",4,"ople"),RE("motif$",0,"s"),RE("^meninx|phalanx$",1,"ges"),RE("schema$",0,"ta"),RE("^bus$",0,"ses"),RE("child$",0,"ren"),RE("^(curi|formul|vertebr|larv|uln|alumn|signor|alg|minuti)a$",0,"e"),RE("^(maharaj|raj|myn|mull)a$",0,"hs"),RE("^aide-de-camp$",8,"s-de-camp"),RE("^apex|cortex$",2,"ices"),RE("^weltanschauung$",0,"en"),RE("^lied$",0,"er"),RE("^tooth$",4,"eeth"),RE("^[lm]ouse$",4,"ice"),RE("^foot$",3,"eet"),RE("femur",2,"ora"),RE("goose",4,"eese"),RE("(human|german|roman)$",0,"s"),RE("^(monarch|loch|stomach)$",0,"s"),RE("^(taxi|chief|proof|ref|relief|roof|belief)$",0,"s"),RE("^(co|no)$",0,"'s"),RE("^blond$",0,"es"),RE("^(medi|millenni|consorti|sept|memorabili)um$",2,"a"),RE("^(memorandum|bacterium|curriculum|minimum|maximum|referendum|spectrum|phenomenon|criterion)$",2,"a"),RE("^(appendix|index|matrix)",2,"ices")],ANY_STEM="^((\\w+)(-\\w+)*)(\\s((\\w+)(-\\w+)*))*$",CONS="[bcdfghjklmnpqrstvwxyz]",VERBAL_PREFIX="((be|with|pre|un|over|re|mis|under|out|up|fore|for|counter|co|sub)(-?))",AUXILIARIES=["do","have","be"],MODALS=["shall","would","may","might","ought","should"],SYMBOLS=["!","?","$","%","*","+","-","="],ING_FORM_RULES=[RE(CONS+"ie$",2,"ying",1),RE("[^ie]e$",1,"ing",1),RE("^bog-down$",5,"ging-down",0),RE("^chivy$",1,"vying",0),RE("^trek$",1,"cking",0),RE("^bring$",0,"ing",0),RE("^be$",0,"ing",0),RE("^age$",1,"ing",0),RE("(ibe)$",1,"ing",0)],PAST_PARTICIPLE_RULES=[RE(CONS+"y$",1,"ied",1),RE("^"+VERBAL_PREFIX+"?(bring)$",3,"ought",0),RE("^"+VERBAL_PREFIX+"?(take|rise|strew|blow|draw|drive|know|give|arise|gnaw|grave|grow|hew|know|mow|see|sew|throw|prove|saw|quartersaw|partake|sake|shake|shew|show|shrive|sightsee|strew|strive)$",0,"n",0),RE("^"+VERBAL_PREFIX+"?[gd]o$",0,"ne",1),RE("^(beat|eat|be|fall)$",0,"en",0),RE("^(have)$",2,"d",0),RE("^"+VERBAL_PREFIX+"?bid$",0,"den",0),RE("^"+VERBAL_PREFIX+"?[lps]ay$",1,"id",1),RE("^behave$",0,"d",0),RE("^"+VERBAL_PREFIX+"?have$",2,"d",1),RE("(sink|slink|drink|shrink|stink)$",3,"unk",0),RE("(([sfc][twlp]?r?|w?r)ing|hang)$",3,"ung",0),RE("^"+VERBAL_PREFIX+"?(shear|swear|bear|wear|tear)$",3,"orn",0),RE("^"+VERBAL_PREFIX+"?(bend|spend|send|lend)$",1,"t",0),RE("^"+VERBAL_PREFIX+"?(weep|sleep|sweep|creep|keep$)$",2,"pt",0),RE("^"+VERBAL_PREFIX+"?(sell|tell)$",3,"old",0),RE("^(outfight|beseech)$",4,"ought",0),RE("^bethink$",3,"ought",0),RE("^buy$",2,"ought",0),RE("^aby$",1,"ought",0),RE("^tarmac",0,"ked",0),RE("^abide$",3,"ode",0),RE("^"+VERBAL_PREFIX+"?(speak|(a?)wake|break)$",3,"oken",0),RE("^backbite$",1,"ten",0),RE("^backslide$",1,"den",0),RE("^become$",3,"ame",0),RE("^begird$",3,"irt",0),RE("^outlie$",2,"ay",0),RE("^rebind$",3,"ound",0),RE("^relay$",2,"aid",0),RE("^shit$",3,"hat",0),RE("^bereave$",4,"eft",0),RE("^foreswear$",3,"ore",0),RE("^overfly$",1,"own",0),RE("^beget$",2,"otten",0),RE("^begin$",3,"gun",0),RE("^bestride$",1,"den",0),RE("^bite$",1,"ten",0),RE("^bleed$",4,"led",0),RE("^bog-down$",5,"ged-down",0),RE("^bind$",3,"ound",0),RE("^(.*)feed$",4,"fed",0),RE("^breed$",4,"red",0),RE("^brei",0,"d",0),RE("^bring$",3,"ought",0),RE("^build$",1,"t",0),RE("^come",0),RE("^catch$",3,"ught",0),RE("^chivy$",1,"vied",0),RE("^choose$",3,"sen",0),RE("^cleave$",4,"oven",0),RE("^crossbreed$",4,"red",0),RE("^deal",0,"t",0),RE("^dow$",1,"ught",0),RE("^dream",0,"t",0),RE("^dig$",3,"dug",0),RE("^dwell$",2,"lt",0),RE("^enwind$",3,"ound",0),RE("^feel$",3,"elt",0),RE("^flee$",2,"ed",0),RE("^floodlight$",5,"lit",0),RE("^fly$",1,"own",0),RE("^forbear$",3,"orne",0),RE("^forerun$",3,"ran",0),RE("^forget$",2,"otten",0),RE("^fight$",4,"ought",0),RE("^find$",3,"ound",0),RE("^freeze$",4,"ozen",0),RE("^gainsay$",2,"aid",0),RE("^gin$",3,"gan",0),RE("^gen-up$",3,"ned-up",0),RE("^ghostwrite$",1,"ten",0),RE("^get$",2,"otten",0),RE("^grind$",3,"ound",0),RE("^hacksaw",0,"n",0),RE("^hear",0,"d",0),RE("^hold$",3,"eld",0),RE("^hide$",1,"den",0),RE("^honey$",2,"ied",0),RE("^inbreed$",4,"red",0),RE("^indwell$",3,"elt",0),RE("^interbreed$",4,"red",0),RE("^interweave$",4,"oven",0),RE("^inweave$",4,"oven",0),RE("^ken$",2,"ent",0),RE("^kneel$",3,"elt",0),RE("^lie$",2,"ain",0),RE("^leap$",0,"t",0),RE("^learn$",0,"t",0),RE("^lead$",4,"led",0),RE("^leave$",4,"eft",0),RE("^light$",5,"lit",0),RE("^lose$",3,"ost",0),RE("^make$",3,"ade",0),RE("^mean",0,"t",0),RE("^meet$",4,"met",0),RE("^misbecome$",3,"ame",0),RE("^misdeal$",2,"alt",0),RE("^mishear$",1,"d",0),RE("^mislead$",4,"led",0),RE("^misunderstand$",3,"ood",0),RE("^outbreed$",4,"red",0),RE("^outrun$",3,"ran",0),RE("^outride$",1,"den",0),RE("^outshine$",3,"one",0),RE("^outshoot$",4,"hot",0),RE("^outstand$",3,"ood",0),RE("^outthink$",3,"ought",0),RE("^outgo$",2,"went",0),RE("^overbear$",3,"orne",0),RE("^overbuild$",3,"ilt",0),RE("^overcome$",3,"ame",0),RE("^overfly$",2,"lew",0),RE("^overhear$",2,"ard",0),RE("^overlie$",2,"ain",0),RE("^overrun$",3,"ran",0),RE("^override$",1,"den",0),RE("^overshoot$",4,"hot",0),RE("^overwind$",3,"ound",0),RE("^overwrite$",1,"ten",0),RE("^plead$",2,"d",0),RE("^rebuild$",3,"ilt",0),RE("^red$",3,"red",0),RE("^redo$",1,"one",0),RE("^remake$",3,"ade",0),RE("^resit$",3,"sat",0),RE("^rethink$",3,"ought",0),RE("^rewind$",3,"ound",0),RE("^rewrite$",1,"ten",0),RE("^ride$",1,"den",0),RE("^reeve$",4,"ove",0),RE("^sit$",3,"sat",0),RE("^shoe$",3,"hod",0),RE("^shine$",3,"one",0),RE("^shoot$",4,"hot",0),RE("^ski$",1,"i'd",0),RE("^slide$",1,"den",0),RE("^smite$",1,"ten",0),RE("^seek$",3,"ought",0),RE("^spit$",3,"pat",0),RE("^speed$",4,"ped",0),RE("^spellbind$",3,"ound",0),RE("^spoil$",2,"ilt",0),RE("^spotlight$",5,"lit",0),RE("^spin$",3,"pun",0),RE("^steal$",3,"olen",0),RE("^stand$",3,"ood",0),RE("^stave$",3,"ove",0),RE("^stride$",1,"den",0),RE("^strike$",3,"uck",0),RE("^stick$",3,"uck",0),RE("^swell$",3,"ollen",0),RE("^swim$",3,"wum",0),RE("^teach$",4,"aught",0),RE("^think$",3,"ought",0),RE("^tread$",3,"odden",0),RE("^typewrite$",1,"ten",0),RE("^unbind$",3,"ound",0),RE("^underbuy$",2,"ought",0),RE("^undergird$",3,"irt",0),RE("^undergo$",1,"one",0),RE("^underlie$",2,"ain",0),RE("^undershoot$",4,"hot",0),RE("^understand$",3,"ood",0),RE("^unfreeze$",4,"ozen",0),RE("^unlearn",0,"t",0),RE("^unmake$",3,"ade",0),RE("^unreeve$",4,"ove",0),RE("^unstick$",3,"uck",0),RE("^unteach$",4,"aught",0),RE("^unthink$",3,"ought",0),RE("^untread$",3,"odden",0),RE("^unwind$",3,"ound",0),RE("^upbuild$",1,"t",0),RE("^uphold$",3,"eld",0),RE("^upheave$",4,"ove",0),RE("^waylay$",2,"ain",0),RE("^whipsaw$",2,"awn",0),RE("^withhold$",3,"eld",0),RE("^withstand$",3,"ood",0),RE("^win$",3,"won",0),RE("^wind$",3,"ound",0),RE("^weave$",4,"oven",0),RE("^write$",1,"ten",0),RE("^trek$",1,"cked",0),RE("^ko$",1,"o'd",0),RE("^win$",2,"on",0),RE("e$",0,"d",1),RE("^"+VERBAL_PREFIX+"?(cast|thrust|typeset|cut|bid|upset|wet|bet|cut|hit|hurt|inset|let|cost|burst|beat|beset|set|upset|hit|offset|put|quit|wed|typeset|wed|spread|split|slit|read|run|rerun|shut|shed)$",0)],PAST_TENSE_RULES=[RE("^(reduce)$",0,"d",0),RE("e$",0,"d",1),RE("^"+VERBAL_PREFIX+"?[pls]ay$",1,"id",1),RE(CONS+"y$",1,"ied",1),RE("^(fling|cling|hang)$",3,"ung",0),RE("(([sfc][twlp]?r?|w?r)ing)$",3,"ang",1),RE("^"+VERBAL_PREFIX+"?(bend|spend|send|lend|spend)$",1,"t",0),RE("^"+VERBAL_PREFIX+"?lie$",2,"ay",0),RE("^"+VERBAL_PREFIX+"?(weep|sleep|sweep|creep|keep)$",2,"pt",0),RE("^"+VERBAL_PREFIX+"?(sell|tell)$",3,"old",0),RE("^"+VERBAL_PREFIX+"?do$",1,"id",0),RE("^"+VERBAL_PREFIX+"?dig$",2,"ug",0),RE("^behave$",0,"d",0),RE("^(have)$",2,"d",0),RE("(sink|drink)$",3,"ank",0),RE("^swing$",3,"ung",0),RE("^be$",2,"was",0),RE("^outfight$",4,"ought",0),RE("^tarmac",0,"ked",0),RE("^abide$",3,"ode",0),RE("^aby$",1,"ought",0),RE("^become$",3,"ame",0),RE("^begird$",3,"irt",0),RE("^outlie$",2,"ay",0),RE("^rebind$",3,"ound",0),RE("^shit$",3,"hat",0),RE("^bereave$",4,"eft",0),RE("^foreswear$",3,"ore",0),RE("^bename$",3,"empt",0),RE("^beseech$",4,"ought",0),RE("^bethink$",3,"ought",0),RE("^bleed$",4,"led",0),RE("^bog-down$",5,"ged-down",0),RE("^buy$",2,"ought",0),RE("^bind$",3,"ound",0),RE("^(.*)feed$",4,"fed",0),RE("^breed$",4,"red",0),RE("^brei$",2,"eid",0),RE("^bring$",3,"ought",0),RE("^build$",3,"ilt",0),RE("^come$",3,"ame",0),RE("^catch$",3,"ught",0),RE("^clothe$",5,"lad",0),RE("^crossbreed$",4,"red",0),RE("^deal$",2,"alt",0),RE("^dow$",1,"ught",0),RE("^dream$",2,"amt",0),RE("^dwell$",3,"elt",0),RE("^enwind$",3,"ound",0),RE("^feel$",3,"elt",0),RE("^flee$",3,"led",0),RE("^floodlight$",5,"lit",0),RE("^arise$",3,"ose",0),RE("^eat$",3,"ate",0),RE("^backbite$",4,"bit",0),RE("^backslide$",4,"lid",0),RE("^befall$",3,"ell",0),RE("^begin$",3,"gan",0),RE("^beget$",3,"got",0),RE("^behold$",3,"eld",0),RE("^bespeak$",3,"oke",0),RE("^bestride$",3,"ode",0),RE("^betake$",3,"ook",0),RE("^bite$",4,"bit",0),RE("^blow$",3,"lew",0),RE("^bear$",3,"ore",0),RE("^break$",3,"oke",0),RE("^choose$",4,"ose",0),RE("^cleave$",4,"ove",0),RE("^countersink$",3,"ank",0),RE("^drink$",3,"ank",0),RE("^draw$",3,"rew",0),RE("^drive$",3,"ove",0),RE("^fall$",3,"ell",0),RE("^fly$",2,"lew",0),RE("^flyblow$",3,"lew",0),RE("^forbid$",2,"ade",0),RE("^forbear$",3,"ore",0),RE("^foreknow$",3,"new",0),RE("^foresee$",3,"saw",0),RE("^forespeak$",3,"oke",0),RE("^forego$",2,"went",0),RE("^forgive$",3,"ave",0),RE("^forget$",3,"got",0),RE("^forsake$",3,"ook",0),RE("^forspeak$",3,"oke",0),RE("^forswear$",3,"ore",0),RE("^forgo$",2,"went",0),RE("^fight$",4,"ought",0),RE("^find$",3,"ound",0),RE("^freeze$",4,"oze",0),RE("^give$",3,"ave",0),RE("^geld$",3,"elt",0),RE("^gen-up$",3,"ned-up",0),RE("^ghostwrite$",3,"ote",0),RE("^get$",3,"got",0),RE("^grow$",3,"rew",0),RE("^grind$",3,"ound",0),RE("^hear$",2,"ard",0),RE("^hold$",3,"eld",0),RE("^hide$",4,"hid",0),RE("^honey$",2,"ied",0),RE("^inbreed$",4,"red",0),RE("^indwell$",3,"elt",0),RE("^interbreed$",4,"red",0),RE("^interweave$",4,"ove",0),RE("^inweave$",4,"ove",0),RE("^ken$",2,"ent",0),RE("^kneel$",3,"elt",0),RE("^^know$$",3,"new",0),RE("^leap$",2,"apt",0),RE("^learn$",2,"rnt",0),RE("^lead$",4,"led",0),RE("^leave$",4,"eft",0),RE("^light$",5,"lit",0),RE("^lose$",3,"ost",0),RE("^make$",3,"ade",0),RE("^mean$",2,"ant",0),RE("^meet$",4,"met",0),RE("^misbecome$",3,"ame",0),RE("^misdeal$",2,"alt",0),RE("^misgive$",3,"ave",0),RE("^mishear$",2,"ard",0),RE("^mislead$",4,"led",0),RE("^mistake$",3,"ook",0),RE("^misunderstand$",3,"ood",0),RE("^outbreed$",4,"red",0),RE("^outgrow$",3,"rew",0),RE("^outride$",3,"ode",0),RE("^outshine$",3,"one",0),RE("^outshoot$",4,"hot",0),RE("^outstand$",3,"ood",0),RE("^outthink$",3,"ought",0),RE("^outgo$",2,"went",0),RE("^outwear$",3,"ore",0),RE("^overblow$",3,"lew",0),RE("^overbear$",3,"ore",0),RE("^overbuild$",3,"ilt",0),RE("^overcome$",3,"ame",0),RE("^overdraw$",3,"rew",0),RE("^overdrive$",3,"ove",0),RE("^overfly$",2,"lew",0),RE("^overgrow$",3,"rew",0),RE("^overhear$",2,"ard",0),RE("^overpass$",3,"ast",0),RE("^override$",3,"ode",0),RE("^oversee$",3,"saw",0),RE("^overshoot$",4,"hot",0),RE("^overthrow$",3,"rew",0),RE("^overtake$",3,"ook",0),RE("^overwind$",3,"ound",0),RE("^overwrite$",3,"ote",0),RE("^partake$",3,"ook",0),RE("^"+VERBAL_PREFIX+"?run$",2,"an",0),RE("^ring$",3,"ang",0),RE("^rebuild$",3,"ilt",0),RE("^red",0),RE("^reave$",4,"eft",0),RE("^remake$",3,"ade",0),RE("^resit$",3,"sat",0),RE("^rethink$",3,"ought",0),RE("^retake$",3,"ook",0),RE("^rewind$",3,"ound",0),RE("^rewrite$",3,"ote",0),RE("^ride$",3,"ode",0),RE("^rise$",3,"ose",0),RE("^reeve$",4,"ove",0),RE("^sing$",3,"ang",0),RE("^sink$",3,"ank",0),RE("^sit$",3,"sat",0),RE("^see$",3,"saw",0),RE("^shoe$",3,"hod",0),RE("^shine$",3,"one",0),RE("^shake$",3,"ook",0),RE("^shoot$",4,"hot",0),RE("^shrink$",3,"ank",0),RE("^shrive$",3,"ove",0),RE("^sightsee$",3,"saw",0),RE("^ski$",1,"i'd",0),RE("^skydive$",3,"ove",0),RE("^slay$",3,"lew",0),RE("^slide$",4,"lid",0),RE("^slink$",3,"unk",0),RE("^smite$",4,"mit",0),RE("^seek$",3,"ought",0),RE("^spit$",3,"pat",0),RE("^speed$",4,"ped",0),RE("^spellbind$",3,"ound",0),RE("^spoil$",2,"ilt",0),RE("^speak$",3,"oke",0),RE("^spotlight$",5,"lit",0),RE("^spring$",3,"ang",0),RE("^spin$",3,"pun",0),RE("^stink$",3,"ank",0),RE("^steal$",3,"ole",0),RE("^stand$",3,"ood",0),RE("^stave$",3,"ove",0),RE("^stride$",3,"ode",0),RE("^strive$",3,"ove",0),RE("^strike$",3,"uck",0),RE("^stick$",3,"uck",0),RE("^swim$",3,"wam",0),RE("^swear$",3,"ore",0),RE("^teach$",4,"aught",0),RE("^think$",3,"ought",0),RE("^throw$",3,"rew",0),RE("^take$",3,"ook",0),RE("^tear$",3,"ore",0),RE("^transship$",4,"hip",0),RE("^tread$",4,"rod",0),RE("^typewrite$",3,"ote",0),RE("^unbind$",3,"ound",0),RE("^unclothe$",5,"lad",0),RE("^underbuy$",2,"ought",0),RE("^undergird$",3,"irt",0),RE("^undershoot$",4,"hot",0),RE("^understand$",3,"ood",0),RE("^undertake$",3,"ook",0),RE("^undergo$",2,"went",0),RE("^underwrite$",3,"ote",0),RE("^unfreeze$",4,"oze",0),RE("^unlearn$",2,"rnt",0),RE("^unmake$",3,"ade",0),RE("^unreeve$",4,"ove",0),RE("^unspeak$",3,"oke",0),RE("^unstick$",3,"uck",0),RE("^unswear$",3,"ore",0),RE("^unteach$",4,"aught",0),RE("^unthink$",3,"ought",0),RE("^untread$",4,"rod",0),RE("^unwind$",3,"ound",0),RE("^upbuild$",3,"ilt",0),RE("^uphold$",3,"eld",0),RE("^upheave$",4,"ove",0),RE("^uprise$",3,"ose",0),RE("^upspring$",3,"ang",0),RE("^go$",2,"went",0),RE("^wiredraw$",3,"rew",0),RE("^withdraw$",3,"rew",0),RE("^withhold$",3,"eld",0),RE("^withstand$",3,"ood",0),RE("^wake$",3,"oke",0),RE("^win$",3,"won",0),RE("^wear$",3,"ore",0),RE("^wind$",3,"ound",0),RE("^weave$",4,"ove",0),RE("^write$",3,"ote",0),RE("^trek$",1,"cked",0),RE("^ko$",1,"o'd",0),RE("^bid",2,"ade",0),RE("^win$",2,"on",0),RE("^swim",2,"am",0),RE("^"+VERBAL_PREFIX+"?(cast|thrust|typeset|cut|bid|upset|wet|bet|cut|hit|hurt|inset|let|cost|burst|beat|beset|set|upset|offset|put|quit|wed|typeset|wed|spread|split|slit|read|run|shut|shed|lay)$",0)],PRESENT_TENSE_RULES=[RE("^aby$",0,"es",0),RE("^bog-down$",5,"s-down",0),RE("^chivy$",1,"vies",0),RE("^gen-up$",3,"s-up",0),RE("^prologue$",3,"gs",0),RE("^picknic$",0,"ks",0),RE("^ko$",0,"'s",0),RE("[osz]$",0,"es",1),RE("^have$",2,"s",0),RE(CONS+"y$",1,"ies",1),RE("^be$",2,"is"),RE("([zsx]|ch|sh)$",0,"es",1)],VERB_CONS_DOUBLING=["abat","abet","abhor","abut","accur","acquit","adlib","admit","aerobat","aerosol","agendaset","allot","alot","anagram","annul","appal","apparel","armbar","aver","babysit","airdrop","appal","blackleg","bobsled","bur","chum","confab","counterplot","curet","dib","backdrop","backfil","backflip","backlog","backpedal","backslap","backstab","bag","balfun","ballot","ban","bar","barbel","bareleg","barrel","bat","bayonet","becom","bed","bedevil","bedwet","beenhop","befit","befog","beg","beget","begin","bejewel","bemedal","benefit","benum","beset","besot","bestir","bet","betassel","bevel","bewig","bib","bid","billet","bin","bip","bit","bitmap","blab","blag","blam","blan","blat","bles","blim","blip","blob","bloodlet","blot","blub","blur","bob","bodypop","bog","booby-trap","boobytrap","booksel","bootleg","bop","bot","bowel","bracket","brag","brig","brim","bud","buffet","bug","bullshit","bum","bun","bus","but","cab","cabal","cam","can","cancel","cap","caracol","caravan","carburet","carnap","carol","carpetbag","castanet","cat","catcal","catnap","cavil","chan","chanel","channel","chap","char","chargecap","chat","chin","chip","chir","chirrup","chisel","chop","chug","chur","clam","clap","clearcut","clip","clodhop","clog","clop","closet","clot","club","co-occur","co-program","co-refer","co-run","co-star","cob","cobweb","cod","coif","com","combat","comit","commit","compel","con","concur","confer","confiscat","control","cop","coquet","coral","corbel","corral","cosset","cotransmit","councel","council","counsel","court-martial","crab","cram","crap","crib","crop","crossleg","cub","cudgel","cum","cun","cup","cut","dab","dag","dam","dan","dap","daysit","de-control","de-gazet","de-hul","de-instal","de-mob","de-program","de-rig","de-skil","deadpan","debag","debar","log","decommit","decontrol","defer","defog","deg","degas","deinstal","demit","demob","demur","den","denet","depig","depip","depit","der","deskil","deter","devil","diagram","dial","dig","dim","din","dip","disbar","disbud","discomfit","disembed","disembowel","dishevel","disinter","dispel","disprefer","distil","dog","dognap","don","doorstep","dot","dowel","drag","drat","driftnet","distil","egotrip","enrol","enthral","extol","fulfil","gaffe","golliwog","idyl","inspan","drip","drivel","drop","drub","drug","drum","dub","duel","dun","dybbuk","earwig","eavesdrop","ecolabel","eitherspigot","electroblot","embed","emit","empanel","enamel","endlabel","endtrim","enrol","enthral","entrammel","entrap","enwrap","equal","equip","estop","exaggerat","excel","expel","extol","fag","fan","farewel","fat","featherbed","feget","fet","fib","fig","fin","fingerspel","fingertip","fit","flab","flag","flap","flip","flit","flog","flop","fob","focus","fog","footbal","footslog","fop","forbid","forget","format","fortunetel","fot","foxtrot","frag","freefal","fret","frig","frip","frog","frug","fuel","fufil","fulfil","fullyfit","fun","funnel","fur","furpul","gab","gad","gag","gam","gambol","gap","garot","garrot","gas","gat","gel","gen","get","giftwrap","gig","gimbal","gin","glam","glenden","glendin","globetrot","glug","glut","gob","goldpan","goostep","gossip","grab","gravel","grid","grin","grip","grit","groundhop","grovel","grub","gum","gun","gunrun","gut","gyp","haircut","ham","han","handbag","handicap","handknit","handset","hap","hareleg","hat","headbut","hedgehop","hem","hen","hiccup","highwal","hip","hit","hobnob","hog","hop","horsewhip","hostel","hot","hotdog","hovel","hug","hum","humbug","hup","hushkit","hut","illfit","imbed","immunblot","immunoblot","impannel","impel","imperil","incur","infer","infil","inflam","initial","input","inset","instil","inter","interbed","intercrop","intercut","interfer","instal","instil","intermit","japan","jug","kris","manumit","mishit","mousse","mud","interwar","jab","jag","jam","jar","jawdrop","jet","jetlag","jewel","jib","jig","jitterbug","job","jog","jog-trot","jot","jut","ken","kennel","kid","kidnap","kip","kissogram","kit","knap","kneecap","knit","knob","knot","kor","label","lag","lam","lap","lavel","leafcut","leapfrog","leg","lem","lep","let","level","libel","lid","lig","lip","lob","log","lok","lollop","longleg","lop","lowbal","lug","mackerel","mahom","man","map","mar","marshal","marvel","mat","matchwin","metal","micro-program","microplan","microprogram","milksop","mis-cal","mis-club","mis-spel","miscal","mishit","mislabel","mit","mob","mod","model","mohmam","monogram","mop","mothbal","mug","multilevel","mum","nab","nag","nan","nap","net","nightclub","nightsit","nip","nod","nonplus","norkop","nostril","not","nut","nutmeg","occur","ocur","offput","offset","omit","ommit","onlap","out-general","out-gun","out-jab","out-plan","out-pol","out-pul","out-put","out-run","out-sel","outbid","outcrop","outfit","outgas","outgun","outhit","outjab","outpol","output","outrun","outship","outshop","outsin","outstrip","outswel","outspan","overcrop","pettifog","photostat","pouf","preset","prim","pug","ret","rosin","outwit","over-commit","over-control","over-fil","over-fit","over-lap","over-model","over-pedal","over-pet","over-run","over-sel","over-step","over-tip","over-top","overbid","overcal","overcommit","overcontrol","overcrap","overdub","overfil","overhat","overhit","overlap","overman","overplot","overrun","overshop","overstep","overtip","overtop","overwet","overwil","pad","paintbal","pan","panel","paperclip","par","parallel","parcel","partiescal","pat","patrol","pedal","peewit","peg","pen","pencil","pep","permit","pet","petal","photoset","phototypeset","phut","picket","pig","pilot","pin","pinbal","pip","pipefit","pipet","pit","plan","plit","plod","plop","plot","plug","plumet","plummet","pod","policyset","polyfil","ponytrek","pop","pot","pram","prebag","predistil","predril","prefer","prefil","preinstal","prep","preplan","preprogram","prizewin","prod","profer","prog","program","prop","propel","pub","pummel","pun","pup","pushfit","put","quarel","quarrel","quickskim","quickstep","quickwit","quip","quit","quivertip","quiz","rabbit","rabit","radiolabel","rag","ram","ramrod","rap","rat","ratecap","ravel","re-admit","re-cal","re-cap","re-channel","re-dig","re-dril","re-emit","re-fil","re-fit","re-flag","re-format","re-fret","re-hab","re-instal","re-inter","re-lap","re-let","re-map","re-metal","re-model","re-pastel","re-plan","re-plot","re-plug","re-pot","re-program","re-refer","re-rig","re-rol","re-run","re-sel","re-set","re-skin","re-stal","re-submit","re-tel","re-top","re-transmit","re-trim","re-wrap","readmit","reallot","rebel","rebid","rebin","rebut","recap","rechannel","recommit","recrop","recur","recut","red","redril","refer","refit","reformat","refret","refuel","reget","regret","reinter","rejig","rekit","reknot","relabel","relet","rem","remap","remetal","remit","remodel","reoccur","rep","repel","repin","replan","replot","repol","repot","reprogram","rerun","reset","resignal","resit","reskil","resubmit","retransfer","retransmit","retro-fit","retrofit","rev","revel","revet","rewrap","rib","richochet","ricochet","rid","rig","rim","ringlet","rip","rit","rival","rivet","roadrun","rob","rocket","rod","roset","rot","rowel","rub","run","runnel","rut","sab","sad","sag","sandbag","sap","scab","scalpel","scam","scan","scar","scat","schlep","scrag","scram","shall","sled","smut","stet","sulfuret","trepan","unrip","unstop","whir","whop","wig","scrap","scrat","scrub","scrum","scud","scum","scur","semi-control","semi-skil","semi-skim","semiskil","sentinel","set","shag","sham","shed","shim","shin","ship","shir","shit","shlap","shop","shopfit","shortfal","shot","shovel","shred","shrinkwrap","shrivel","shrug","shun","shut","side-step","sideslip","sidestep","signal","sin","sinbin","sip","sit","skid","skim","skin","skip","skir","skrag","slab","slag","slam","slap","slim","slip","slit","slob","slog","slop","slot","slowclap","slug","slum","slur","smit","snag","snap","snip","snivel","snog","snorkel","snowcem","snub","snug","sob","sod","softpedal","son","sop","spam","span","spar","spat","spiderweb","spin","spiral","spit","splat","split","spot","sprag","spraygun","sprig","springtip","spud","spur","squat","squirrel","stab","stag","star","stem","sten","stencil","step","stir","stop","storytel","strap","strim","strip","strop","strug","strum","strut","stub","stud","stun","sub","subcrop","sublet","submit","subset","suedetrim","sum","summit","sun","suntan","sup","super-chil","superad","swab","swag","swan","swap","swat","swig","swim","swivel","swot","tab","tag","tan","tansfer","tap","tar","tassel","tat","tefer","teleshop","tendril","terschel","th'strip","thermal","thermostat","thin","throb","thrum","thud","thug","tightlip","tin","tinsel","tip","tittup","toecap","tog","tom","tomorrow","top","tot","total","towel","traget","trainspot","tram","trammel","transfer","tranship","transit","transmit","transship","trap","travel","trek","trendset","trim","trip","tripod","trod","trog","trot","trousseaushop","trowel","trup","tub","tug","tunnel","tup","tut","twat","twig","twin","twit","typeset","tyset","un-man","unban","unbar","unbob","uncap","unclip","uncompel","undam","under-bil","under-cut","under-fit","under-pin","under-skil","underbid","undercut","underlet","underman","underpin","unfit","unfulfil","unknot","unlip","unlywil","unman","unpad","unpeg","unpin","unplug","unravel","unrol","unscrol","unsnap","unstal","unstep","unstir","untap","unwrap","unzip","up","upset","upskil","upwel","ven","verbal","vet","victual","vignet","wad","wag","wainscot","wan","war","water-log","waterfal","waterfil","waterlog","weasel","web","wed","wet","wham","whet","whip","whir","whiteskin","whiz","whup","wildcat","win","windmil","wit","woodchop","woodcut","wor","worship","wrap","wiretap","yen","yak","yap","yarnspin","yip","yodel","zag","zap","zig","zig-zag","zigzag","zip","ztrip","hand-bag","hocus","hocus-pocus"],PAST_PARTICIPLE_RULESET={name:"PAST_PARTICIPLE",defaultRule:RE(ANY_STEM,0,"ed",2),rules:PAST_PARTICIPLE_RULES,doubling:!0},PRESENT_PARTICIPLE_RULESET={name:"ING_FORM",defaultRule:RE(ANY_STEM,0,"ing",2),rules:ING_FORM_RULES,doubling:!0},PAST_TENSE_RULESET={name:"PAST_TENSE",defaultRule:RE(ANY_STEM,0,"ed",2),rules:PAST_TENSE_RULES,doubling:!0},PRESENT_TENSE_RULESET={name:"PRESENT_TENSE",defaultRule:RE(ANY_STEM,0,"s",2),rules:PRESENT_TENSE_RULES,doubling:!1};if(RiTa.SILENT||isNode()||!console||console.log("[INFO] RiTaJS.version ["+RiTa.VERSION+"]"),window)window.RiTa=RiTa,window.RiString=RiString,window.RiGrammar=RiGrammar,window.RiMarkov=RiMarkov,window.RiWordNet=RiWordNet,window.RiLexicon=RiLexicon,window.RiTaEvent=RiTaEvent;else if("undefined"!=typeof module){module.exports.RiTa=RiTa,module.exports.RiString=RiString,module.exports.RiGrammar=RiGrammar,module.exports.RiMarkov=RiMarkov,module.exports.RiWordNet=RiWordNet,module.exports.RiLexicon=RiLexicon,module.exports.RiTaEvent=RiTaEvent;for(var funs=Object.keys(RiTa),i=0;i<funs.length;i++)startsWith(funs[i],"_")||(module.exports[funs[i]]=RiTa[funs[i]])}}("undefined"!=typeof window?window:null);
//# sourceMappingURL=rita.min.js.map