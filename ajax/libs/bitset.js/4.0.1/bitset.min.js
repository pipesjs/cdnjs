/*
 BitSet.js v4.0.1 14/08/2015
 http://www.xarg.org/2014/03/javascript-bit-array/

 Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
'use strict';(function(p){function n(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24}function q(a,b){for(var c=0,e,d=0;d<a.length;d++)c*=2,e=(a[d]+c)/b|0,c=(a[d]+c)%b,a[d]=e;return c}function m(a,b){if(null==b)a.data=[0,0,0,0,0,0,0,0,0,0],a._=0;else if(b instanceof g)a.data=b.data,a._=b._;else switch(typeof b){case "number":a.data=[b|0,0,0,0,0,0,0,0,0,0];a._=0;break;case "string":var c=2,e=32;b.indexOf("0b")?b.indexOf("0x")||(b=b.substr(2),c=16,
e=8):b=b.substr(2);a.data=[];a._=0;var d=b.length-e,f=b.length;do{var h=parseInt(b.slice(0<d?d:0,f),c);if(isNaN(h))throw SyntaxError("Invalid param");a.data.push(h|0);if(0>=d)break;d-=e;f-=e}while(1);break;default:if(a.data=[0],c=a.data,b instanceof Array)for(e=b.length-1;0<=e;e--)d=b[e],Infinity===d?a._=-1:(l(a,d),c[d>>>5]|=1<<d);else if(Uint8Array&&b instanceof Uint8Array)for(l(a,8*b.length),e=0;e<b.length;e++)for(a=b[e],d=0;8>d;d++)f=8*e+d,c[f>>>5]|=(a>>d&1)<<f;else throw SyntaxError("Invalid param");
}}function g(a){if(!(this instanceof g))return new g(a);m(this,a);this.data=this.data.slice()}function l(a,b){b>>>=5;var c=a.data;a=a._;for(var e=c.length;b>=e;b--)c[b]=a}var h={data:[],_:0};g.prototype={data:[],_:0,set:function(a,b){a|=0;l(this,a);this.data[a>>>5]=void 0===b||b?this.data[a>>>5]|1<<a:this.data[a>>>5]&~(1<<a);return this},get:function(a){a|=0;var b=this.data,c=a>>>5;return c>b.length?this._&1:b[c]>>>a&1},and:function(a){m(h,a);a=this.data;var b=h.data,c=b.length-1,e=a.length-1;if(0==
h._)for(var d=e;d>c;d--)a[d]=0;for(;0<=d;d--)a[d]&=b[d];this._&=h._;return this},or:function(a){m(h,a);a=this.data;for(var b=h.data,c=b.length-1,e=Math.min(a.length-1,c);c>e;c--)a[c]=b[c];for(;0<=c;c--)a[c]|=b[c];this._|=h._;return this},not:function(){for(var a=this.data,b=0;b<a.length;b++)a[b]=~a[b];this._=~this._;return this},xor:function(a){m(h,a);a=this.data;var b=h.data,c=this._,e=h._,d,f=a.length-1,g=b.length-1;for(d=f;d>g;d--)a[d]^=e;for(d=g;d>f;d--)a[d]=c^b[d];for(;0<=d;d--)a[d]^=b[d];this._^=
e;return this},flip:function(a,b){if(void 0===a)return this.not();if(void 0===b)a|=0,l(this,a),this.data[a>>>5]^=1<<a;else if(a<=b&&0<=a)for(l(this,b);a<=b;a++)this.data[a>>>5]^=1<<a;return this},andNot:function(a){m(h,a);a=this.data;for(var b=h.data,c=h._,e=Math.min(a.length,b.length),d=0;d<e;d++)a[d]&=~b[d];this._&=~c;return this},clear:function(a,b){var c=this.data;if(void 0===a){for(a=c.length-1;0<=a;a--)c[a]=0;this._=0}else if(void 0===b)a|=0,l(this,a),c[a>>>5]&=~(1<<a);else if(a<=b)for(l(this,
b);a<=b;a++)c[a>>>5]&=~(1<<a);return this},slice:function(a,b){if(void 0===a)return this.clone();if(void 0===b){b=32*this.data.length;var c=Object.create(g.prototype);c._=this._;c.data=[0];for(var e=a;e<=b;e++)c.set(e-a,this.get(e));return c}if(a<=b&&0<=a){c=Object.create(g.prototype);c.data=[0];for(e=a;e<=b;e++)c.set(e-a,this.get(e));return c}return null},setRange:function(a,b,c){for(;a<=b;a++)this.set(a,c);return this},clone:function(){var a=Object.create(g.prototype);a.data=this.data.slice();a._=
this._;return a},toArray:Math.clz32?function(){for(var a=[],b=this.data,c=b.length-1;0<=c;c--)for(var e=b[c];0!==e;){var d=31-Math.clz32(e),e=e^1<<d;a.unshift(32*c+d)}0!==this._&&a.push(Infinity);return a}:function(){for(var a=[],b=this.data,c=0;c<b.length;c++)for(var e=b[c];0!==e;){var d=e&-e,e=e^d;a.push(32*c+n(d-1))}0!==this._&&a.push(Infinity);return a},toString:function(a){var b=this.data;a||(a=2);if(!(a&a-1)&&36>a){var c="";for(var e=2+Math.log(4294967295)/Math.log(a)|0,d=b.length-1;0<=d;d--){var f=
b[d];0>f&&(f+=4294967296);f=f.toString(a);""!==c&&(c+=Array(e-f.length).join("0"));c+=f}return 0===this._?(c=c.replace(/^0+/,""),""===c&&(c="0"),c):("1111"+c).replace(/^1+/,"...1111")}if(2>a||36<a)throw"Invalid base";c=[];e=[];for(d=b.length;d--;)for(f=32;f--;)e.push(b[d]>>>f&1);do c.unshift(q(e,a).toString(a));while(!e.every(function(a){return 0===a}));return c.join("")},isEmpty:function(){if(0!==this._)return!1;for(var a=this.data,b=a.length-1;0<=b;b--)if(0!==a[b])return!1;return!0},cardinality:function(){if(0!==
this._)return Infinity;for(var a=0,b=this.data,c=0;c<b.length;c++){var e=b[c];0!==e&&(a+=n(e))}return a},msb:Math.clz32?function(){if(0!==this._)return Infinity;for(var a=this.data,b=a.length;0<b--;){var c=Math.clz32(a[b]);if(32!==c)return 32*b+32-1-c}return Infinity}:function(){if(0!==this._)return Infinity;for(var a=this.data,b=a.length;0<b--;){var c=a[b],e=0;if(c){for(;0<(c>>>=1);e++);return 32*b+e}}return Infinity},ntz:function(){for(var a=this.data,b=0;b<a.length;b++){var c=a[b];if(0!==c)return c=
(c^c-1)>>>1,32*b+n(c)}return Infinity},lsb:function(){for(var a=this.data,b=0;b<a.length;b++){var c=a[b],e=0;if(c){for(a=c&-c;a>>>=1;e++);return 32*b+e}}return this._&1},equals:function(a){m(h,a);a=this.data;var b=h.data,c=this._,e=h._,d=a.length-1,f=b.length-1;if(e!==c)return!1;for(var g=d<f?d:f,k=0;k<=g;k++)if(a[k]!==b[k])return!1;for(k=d;k>f;k--)if(a[k]!==e)return!1;for(k=f;k>d;k--)if(b[k]!==c)return!1;return!0}};g.a=function(a){return new g("0b"+a)};g.b=function(a){return new g("0x"+a)};"function"===
typeof define&&define.amd?define([],function(){return g}):"object"===typeof exports?module.exports=g:p.BitSet=g})(this);
