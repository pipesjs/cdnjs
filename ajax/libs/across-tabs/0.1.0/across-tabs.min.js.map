{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///across-tabs.min.js","webpack:///webpack/bootstrap b5282bacf369fe76ada1","webpack:///./src/index.js","webpack:///./src/parent.js","webpack:///./src/tab.js","webpack:///./src/utils/tabUtils.js","webpack:///./src/enums/PostMessageEventNamesEnum.js","webpack:///./src/utils/array.js","webpack:///./src/enums/TabStatusEnum.js","webpack:///./src/enums/WarningTextEnum.js","webpack:///./src/vendor/uuid.js","webpack:///./src/utils/dom.js","webpack:///./src/event-listeners/postmessage.js","webpack:///./src/child.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_parent","_parent2","_child","_child2","AcrossTabs","Parent","Child","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_tab","_tab2","_tabUtils","_tabUtils2","_dom","_dom2","_TabStatusEnum","_TabStatusEnum2","_WarningTextEnum","_WarningTextEnum2","_PostMessageEventNamesEnum","_PostMessageEventNamesEnum2","_postmessage","_postmessage2","heartBeat","tab","config","heartBeatInterval","closeAll","Tab","onHandshakeCallback","onPollingCallback","init","_this","setInterval","tabs","getAll","status","ref","closed","CLOSE","OPEN","newStatus","oldStatus","_remove","ev","enableElements","detail","_this2","window","removeEventListener","onNewTab","addEventListener","customEventUnListener","onbeforeunload","broadCastAll","PARENT_DISCONNECTED","enable","getOpened","getClosed","closeTab","msg","broadCastTo","url","Error","URL_REQUIRED","create","startPollingTabs","addEventListeners","_uuid","_uuid2","name","generate","windowName","open","windowFeatures","disable","newlyTabOpened","addNew","_array","_array2","tabUtils","index","searchByKeyName","splice","_preProcessMesage","JSON","stringify","e","INVALID_JSON","indexOf","PARENT_COMMUNICATED","push","filter","close","postMessage","targetedTab","PostMessageEventNamesEnum","LOADED","CUSTOM","ON_BEFORE_UNLOAD","HANDSHAKE_WITH_PARENT","arrayUtils","returnPreferenceEnum","INDEX","OBJECT","BOTH","data","returnPreference","returnData","isNaN","parseInt","TabStatusEnum","WarningTextEnum","INVALID_DATA","UUID","rand","_getRandomInt","hex","_hexAligner","x","NaN","Math","random","_getIntAligner","radix","num","str","toString","z","hexString","domUtils","selector","ATOpenersElems","document","querySelectorAll","setAttribute","removeAttribute","PostMessageListener","_onLoad","tabInfo","parentName","_onCustomMessage","event","CustomEvent","dispatchEvent","_onBeforeUnload","split","message","sessionStorageKey","handshakeExpiryLimit","tabName","tabId","tabParentName","sessionStorage","isSessionStorageSupported","getItem","dataReceived","setItem","storedData","_getData","parseData","clearTimeout","timeout","onParentDisconnect","evt","onHandShake","_setData","sendMessageToParent","onInitialize","onParentCommunication","actualData","parse","onCommunication","_this3","setTimeout","onHandShakeExpiry","top","opener","onReady","_isSessionStorage","addListeners","_restoreData","setHandshakeExpiry"],"mappings":"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","file":"across-tabs.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"AcrossTabs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AcrossTabs\"] = factory();\n\telse\n\t\troot[\"AcrossTabs\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"AcrossTabs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AcrossTabs\"] = factory();\n\telse\n\t\troot[\"AcrossTabs\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _parent = __webpack_require__(1);\n\t\n\tvar _parent2 = _interopRequireDefault(_parent);\n\t\n\tvar _child = __webpack_require__(11);\n\t\n\tvar _child2 = _interopRequireDefault(_child);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar AcrossTabs = {\n\t  Parent: _parent2.default,\n\t  Child: _child2.default\n\t};\n\t\n\texports.default = AcrossTabs;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _tab = __webpack_require__(2);\n\t\n\tvar _tab2 = _interopRequireDefault(_tab);\n\t\n\tvar _tabUtils = __webpack_require__(3);\n\t\n\tvar _tabUtils2 = _interopRequireDefault(_tabUtils);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _TabStatusEnum = __webpack_require__(6);\n\t\n\tvar _TabStatusEnum2 = _interopRequireDefault(_TabStatusEnum);\n\t\n\tvar _WarningTextEnum = __webpack_require__(7);\n\t\n\tvar _WarningTextEnum2 = _interopRequireDefault(_WarningTextEnum);\n\t\n\tvar _PostMessageEventNamesEnum = __webpack_require__(4);\n\t\n\tvar _PostMessageEventNamesEnum2 = _interopRequireDefault(_PostMessageEventNamesEnum);\n\t\n\tvar _postmessage = __webpack_require__(10);\n\t\n\tvar _postmessage2 = _interopRequireDefault(_postmessage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar heartBeat = void 0,\n\t    tab = void 0;\n\t\n\t// Named Class expression\n\tvar Parent = function () {\n\t  function Parent(config) {\n\t    _classCallCheck(this, Parent);\n\t\n\t    this.heartBeatInterval = config.heartBeatInterval || 500;\n\t    // reset tabs with every new Object\n\t    _tabUtils2.default.closeAll();\n\t    this.Tab = _tab2.default;\n\t    this.onHandshakeCallback = config.onHandshakeCallback;\n\t    this.onPollingCallback = config.onPollingCallback;\n\t    this.init();\n\t  }\n\t\n\t  _createClass(Parent, [{\n\t    key: 'startPollingTabs',\n\t    value: function startPollingTabs() {\n\t      var _this = this;\n\t\n\t      // don't poll if all tabs are in closed states\n\t      heartBeat = setInterval(function () {\n\t        var i = void 0,\n\t            tabs = _tabUtils2.default.getAll();\n\t\n\t        for (i = 0; i < tabs.length; i++) {\n\t          // this.watchStatus(tabs[i]);\n\t          // check as tab(s) get removed when closed irrespective of heatbeat controller\n\t          if (tabs[i]) {\n\t            tabs[i].status = tabs[i].ref.closed ? _TabStatusEnum2.default.CLOSE : _TabStatusEnum2.default.OPEN;\n\t          }\n\t        }\n\t        if (_this.onPollingCallback) {\n\t          _this.onPollingCallback();\n\t        }\n\t      }, this.heartBeatInterval);\n\t    }\n\t  }, {\n\t    key: 'watchStatus',\n\t    value: function watchStatus(tab) {\n\t      if (!tab) {\n\t        return;\n\t      }\n\t      var newStatus = tab.ref.closed ? _TabStatusEnum2.default.CLOSE : _TabStatusEnum2.default.OPEN,\n\t          oldStatus = tab.status;\n\t\n\t      if (!newStatus || newStatus === oldStatus) {\n\t        return;\n\t      }\n\t\n\t      if (oldStatus === _TabStatusEnum2.default.OPEN && newStatus === _TabStatusEnum2.default.CLOSE) {\n\t        // remove tab from tabUtils\n\t        _tabUtils2.default._remove(tab);\n\t      }\n\t      // Change from CLOSE to OPEN is never gonna happen :)\n\t    }\n\t  }, {\n\t    key: 'customEventUnListener',\n\t    value: function customEventUnListener(ev) {\n\t      this.enableElements();\n\t      if (this.onHandshakeCallback) {\n\t        this.onHandshakeCallback(ev.detail);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addEventListeners',\n\t    value: function addEventListeners() {\n\t      var _this2 = this;\n\t\n\t      window.removeEventListener('message', _postmessage2.default.onNewTab);\n\t      window.addEventListener('message', _postmessage2.default.onNewTab);\n\t\n\t      window.removeEventListener('show', this.customEventUnListener);\n\t      window.addEventListener('show', function (ev) {\n\t        return _this2.customEventUnListener(ev);\n\t      });\n\t\n\t      window.onbeforeunload = function () {\n\t        _tabUtils2.default.broadCastAll(_PostMessageEventNamesEnum2.default.PARENT_DISCONNECTED);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'enableElements',\n\t\n\t\n\t    /*\n\t      API goes here ->\n\t     */\n\t    value: function enableElements() {\n\t      _dom2.default.enable('data-tab-opener');\n\t    }\n\t  }, {\n\t    key: 'getAllTabs',\n\t    value: function getAllTabs() {\n\t      return _tabUtils2.default.getAll();\n\t    }\n\t  }, {\n\t    key: 'getOpenedTabs',\n\t    value: function getOpenedTabs() {\n\t      return _tabUtils2.default.getOpened();\n\t    }\n\t  }, {\n\t    key: 'getClosedTabs',\n\t    value: function getClosedTabs() {\n\t      return _tabUtils2.default.getClosed();\n\t    }\n\t  }, {\n\t    key: 'closeAllTabs',\n\t    value: function closeAllTabs() {\n\t      return _tabUtils2.default.closeAll();\n\t    }\n\t  }, {\n\t    key: 'closeTab',\n\t    value: function closeTab(tab) {\n\t      return _tabUtils2.default.closeTab(tab);\n\t    }\n\t  }, {\n\t    key: 'broadCastAll',\n\t    value: function broadCastAll(msg) {\n\t      return _tabUtils2.default.broadCastAll(msg);\n\t    }\n\t  }, {\n\t    key: 'broadCastTo',\n\t    value: function broadCastTo(tab, msg) {\n\t      return _tabUtils2.default.broadCastTo(tab, msg);\n\t    }\n\t  }, {\n\t    key: 'openNewTab',\n\t    value: function openNewTab(config) {\n\t      var url = config.url;\n\t\n\t      if (!url) {\n\t        throw new Error(_WarningTextEnum2.default.URL_REQUIRED);\n\t      }\n\t\n\t      tab = new this.Tab();\n\t      tab.create(config);\n\t\n\t      // If polling is already there, don't set it again\n\t      if (!heartBeat) {\n\t        this.startPollingTabs();\n\t      }\n\t\n\t      return tab;\n\t    }\n\t  }, {\n\t    key: 'init',\n\t\n\t\n\t    // API ends here\n\t\n\t    value: function init() {\n\t      this.addEventListeners();\n\t    }\n\t  }]);\n\t\n\t  return Parent;\n\t}();\n\t\n\tmodule.exports = Parent;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _tabUtils = __webpack_require__(3);\n\t\n\tvar _tabUtils2 = _interopRequireDefault(_tabUtils);\n\t\n\tvar _uuid = __webpack_require__(8);\n\t\n\tvar _uuid2 = _interopRequireDefault(_uuid);\n\t\n\tvar _dom = __webpack_require__(9);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// Named Class expression\n\tvar Tab = function () {\n\t  function Tab() {\n\t    _classCallCheck(this, Tab);\n\t\n\t    window.name = 'PARENT_TAB';\n\t    this.init();\n\t  }\n\t\n\t  _createClass(Tab, [{\n\t    key: 'create',\n\t    value: function create(config) {\n\t      this.url = config.url;\n\t      this.id = _uuid2.default.generate() || _tabUtils2.default.tabs.length + 1;\n\t      this.name = config.windowName;\n\t      this.status = 'open';\n\t      this.ref = window.open(this.url, config.windowName || '_blank', config.windowFeatures);\n\t\n\t      _dom2.default.disable('data-tab-opener');\n\t\n\t      window.newlyTabOpened = {\n\t        id: this.id,\n\t        name: this.name,\n\t        ref: this.ref\n\t      };\n\t\n\t      _tabUtils2.default.addNew(this);\n\t\n\t      return this; // for chaining\n\t    }\n\t  }, {\n\t    key: 'init',\n\t    value: function init() {}\n\t  }]);\n\t\n\t  return Tab;\n\t}();\n\t\n\tmodule.exports = Tab;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _PostMessageEventNamesEnum = __webpack_require__(4);\n\t\n\tvar _PostMessageEventNamesEnum2 = _interopRequireDefault(_PostMessageEventNamesEnum);\n\t\n\tvar _array = __webpack_require__(5);\n\t\n\tvar _array2 = _interopRequireDefault(_array);\n\t\n\tvar _TabStatusEnum = __webpack_require__(6);\n\t\n\tvar _TabStatusEnum2 = _interopRequireDefault(_TabStatusEnum);\n\t\n\tvar _WarningTextEnum = __webpack_require__(7);\n\t\n\tvar _WarningTextEnum2 = _interopRequireDefault(_WarningTextEnum);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar tabUtils = {\n\t  tabs: []\n\t};\n\t\n\ttabUtils._remove = function (tab) {\n\t  var index = void 0;\n\t\n\t  index = _array2.default.searchByKeyName(tabUtils.tabs, 'id', tab.id, 'index');\n\t  tabUtils.tabs.splice(index, 1);\n\t};\n\t\n\ttabUtils._preProcessMesage = function (msg) {\n\t\n\t  // make msg always an object to support JSON support\n\t  try {\n\t    msg = JSON.stringify(msg);\n\t  } catch (e) {\n\t    throw new Error(_WarningTextEnum2.default.INVALID_JSON);\n\t  }\n\t\n\t  if (msg.indexOf(_PostMessageEventNamesEnum2.default.PARENT_COMMUNICATED) === -1) {\n\t    msg = _PostMessageEventNamesEnum2.default.PARENT_COMMUNICATED + msg;\n\t  }\n\t\n\t  return msg;\n\t};\n\t\n\ttabUtils.addNew = function (tab) {\n\t  tabUtils.tabs.push(tab);\n\t  return undefined;\n\t};\n\t\n\ttabUtils.getOpened = function () {\n\t  return tabUtils.tabs.filter(function (tab) {\n\t    return tab.status === _TabStatusEnum2.default.OPEN;\n\t  });\n\t};\n\t\n\ttabUtils.getClosed = function () {\n\t  return tabUtils.tabs.filter(function (tab) {\n\t    return tab.status === _TabStatusEnum2.default.CLOSE;\n\t  });\n\t};\n\t\n\ttabUtils.getAll = function () {\n\t  return tabUtils.tabs;\n\t};\n\t\n\t// it takes id because of some cross origin restriction when passing tab with ref\n\ttabUtils.closeTab = function (id) {\n\t  var tab = _array2.default.searchByKeyName(tabUtils.tabs, 'id', id);\n\t\n\t  tab && tab.ref.close();\n\t  return tabUtils;\n\t  // --tabUtils.tabs.length;\n\t};\n\t\n\ttabUtils.closeAll = function () {\n\t  var i = void 0;\n\t\n\t  for (i = 0; i < tabUtils.tabs.length; i++) {\n\t    // --tabUtils.tabs.length;\n\t    tabUtils.tabs[i].ref.close();\n\t  }\n\t  return tabUtils;\n\t};\n\t\n\ttabUtils.broadCastAll = function (msg) {\n\t  var i = void 0,\n\t      tabs = tabUtils.getAll();\n\t\n\t  msg = tabUtils._preProcessMesage(msg);\n\t\n\t  for (i = 0; i < tabs.length; i++) {\n\t    tabs[i].ref.postMessage(msg, '*');\n\t  }\n\t};\n\t\n\ttabUtils.broadCastTo = function (tab, msg) {\n\t  var targetedTab = void 0,\n\t      tabs = tabUtils.getAll();\n\t\n\t  msg = tabUtils._preProcessMesage(msg);\n\t\n\t  targetedTab = _array2.default.searchByKeyName(tabs, 'id', tab); // TODO: tab.id\n\t  targetedTab.ref.postMessage(msg, '*');\n\t};\n\t\n\tmodule.exports = tabUtils;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar PostMessageEventNamesEnum = {\n\t  LOADED: '__TAB__LOADED_EVENT__',\n\t  CUSTOM: '__TAB__CUSTOM_EVENT__',\n\t  ON_BEFORE_UNLOAD: '__TAB__ON_BEFORE_UNLOAD__',\n\t  PARENT_DISCONNECTED: '__PARENT_DISCONNECTED__',\n\t  HANDSHAKE_WITH_PARENT: '__HANDSHAKE_WITH_PARENT__',\n\t  PARENT_COMMUNICATED: '__PARENT_COMMUNICATED__'\n\t};\n\t\n\tmodule.exports = PostMessageEventNamesEnum;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar arrayUtils = {};\n\tvar returnPreferenceEnum = {\n\t  INDEX: 'index',\n\t  OBJECT: 'object',\n\t  BOTH: 'both'\n\t};\n\t\n\tarrayUtils.searchByKeyName = function (data, key, value, returnPreference) {\n\t  if (!data || !key) {\n\t    return {};\n\t  }\n\t\n\t  returnPreference = returnPreference || returnPreferenceEnum[1]; // default to Object\n\t  var i = void 0,\n\t      obj = void 0,\n\t      returnData = void 0,\n\t      index = -1;\n\t\n\t  for (i = 0; i < data.length; i++) {\n\t    obj = data[i];\n\t    // Number matching support\n\t    if (!isNaN(value) && parseInt(obj[key], 10) === parseInt(value, 10)) {\n\t      index = i;\n\t      break;\n\t    } else if (isNaN(value) && obj[key] === value) {\n\t      // String exact matching support\n\t      index = i;\n\t      break;\n\t    }\n\t  }\n\t\n\t  switch (returnPreference) {\n\t    case returnPreferenceEnum.INDEX:\n\t      returnData = index;\n\t      break;\n\t    case returnPreferenceEnum.BOTH:\n\t      returnData = {\n\t        obj: data[index],\n\t        index: index\n\t      };\n\t      break;\n\t    case returnPreferenceEnum.OBJECT:\n\t    default:\n\t      returnData = data[index];\n\t      break;\n\t  }\n\t\n\t  return returnData;\n\t};\n\t\n\tmodule.exports = arrayUtils;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar TabStatusEnum = {\n\t  OPEN: 'open',\n\t  CLOSE: 'close'\n\t};\n\t\n\tmodule.exports = TabStatusEnum;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar WarningTextEnum = {\n\t  INVALID_JSON: 'Invalid JSON Object!',\n\t  INVALID_DATA: 'Some wrong message is being sent by Parent.',\n\t  URL_REQUIRED: 'Url is needed for creating and opening a new window/tab.'\n\t};\n\t\n\tmodule.exports = WarningTextEnum;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * UUID.js: The RFC-compliant UUID generator for JavaScript.\n\t * ES6 port of only `generate` method of UUID by Varun Malhotra under MIT License\n\t *\n\t * @author  LiosK\n\t * @version v3.3.0\n\t * @license The MIT License: Copyright (c) 2010-2016 LiosK.\n\t */\n\t\n\t/** @constructor */\n\tvar UUID = void 0;\n\t\n\tUUID = function () {\n\t  'use strict';\n\t\n\t  /** @lends UUID */\n\t\n\t  function UUID() {}\n\t\n\t  /**\n\t   * The simplest function to get an UUID string.\n\t   * @returns {string} A version 4 UUID string.\n\t   */\n\t  UUID.generate = function () {\n\t    var rand = UUID._getRandomInt,\n\t        hex = UUID._hexAligner;\n\t\n\t    // [\"timeLow\", \"timeMid\", \"timeHiAndVersion\", \"clockSeqHiAndReserved\", \"clockSeqLow\", \"node\"]\n\t    return hex(rand(32), 8) + // time_low\n\t    '-' + hex(rand(16), 4) + // time_mid\n\t    '-' + hex(0x4000 | rand(12), 4) + // time_hi_and_version\n\t    '-' + hex(0x8000 | rand(14), 4) + // clock_seq_hi_and_reserved clock_seq_low\n\t    '-' + hex(rand(48), 12); // node\n\t  };\n\t\n\t  /**\n\t   * Returns an unsigned x-bit random integer.\n\t   * @param {int} x A positive integer ranging from 0 to 53, inclusive.\n\t   * @returns {int} An unsigned x-bit random integer (0 <= f(x) < 2^x).\n\t   */\n\t  UUID._getRandomInt = function (x) {\n\t    if (x < 0) {\n\t      return NaN;\n\t    }\n\t    if (x <= 30) {\n\t      return 0 | Math.random() * (1 << x);\n\t    }\n\t    if (x <= 53) {\n\t      return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << x - 30)) * (1 << 30);\n\t    }\n\t\n\t    return NaN;\n\t  };\n\t\n\t  /**\n\t   * Returns a function that converts an integer to a zero-filled string.\n\t   * @param {int} radix\n\t   * @returns {function(num&#44; length)}\n\t   */\n\t  UUID._getIntAligner = function (radix) {\n\t    return function (num, length) {\n\t      var str = num.toString(radix),\n\t          i = length - str.length,\n\t          z = '0';\n\t\n\t      for (; i > 0; i >>>= 1, z += z) {\n\t        if (i & 1) {\n\t          str = z + str;\n\t        }\n\t      }\n\t      return str;\n\t    };\n\t  };\n\t\n\t  UUID._hexAligner = UUID._getIntAligner(16);\n\t\n\t  /**\n\t   * Returns UUID string representation.\n\t   * @returns {string} {@link UUID#hexString}.\n\t   */\n\t  UUID.prototype.toString = function () {\n\t    return this.hexString;\n\t  };\n\t\n\t  return UUID;\n\t}(UUID);\n\t\n\tmodule.exports = UUID;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar domUtils = {\n\t  disable: function disable(selector) {\n\t    if (!selector) {\n\t      return;\n\t    }\n\t\n\t    var i = void 0,\n\t        ATOpenersElems = document.querySelectorAll('[' + selector + ']');\n\t\n\t    for (i = 0; i < ATOpenersElems.length; i++) {\n\t      ATOpenersElems[i].setAttribute('disabled', 'disabled');\n\t    }\n\t  },\n\t  enable: function enable(selector) {\n\t    if (!selector) {\n\t      return;\n\t    }\n\t\n\t    var i = void 0,\n\t        ATOpenersElems = document.querySelectorAll('[' + selector + ']');\n\t\n\t    for (i = 0; i < ATOpenersElems.length; i++) {\n\t      ATOpenersElems[i].removeAttribute('disabled');\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = domUtils;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _array = __webpack_require__(5);\n\t\n\tvar _array2 = _interopRequireDefault(_array);\n\t\n\tvar _tabUtils = __webpack_require__(3);\n\t\n\tvar _tabUtils2 = _interopRequireDefault(_tabUtils);\n\t\n\tvar _WarningTextEnum = __webpack_require__(7);\n\t\n\tvar _WarningTextEnum2 = _interopRequireDefault(_WarningTextEnum);\n\t\n\tvar _PostMessageEventNamesEnum = __webpack_require__(4);\n\t\n\tvar _PostMessageEventNamesEnum2 = _interopRequireDefault(_PostMessageEventNamesEnum);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar PostMessageListener = {};\n\t\n\tPostMessageListener._onLoad = function () {\n\t  var data = void 0;\n\t  var tabInfo = {\n\t    id: window.newlyTabOpened.id,\n\t    name: window.newlyTabOpened.name,\n\t    parentName: window.name\n\t  };\n\t\n\t  if (window.newlyTabOpened) {\n\t    try {\n\t      data = _PostMessageEventNamesEnum2.default.HANDSHAKE_WITH_PARENT;\n\t      data += JSON.stringify(tabInfo);\n\t      window.newlyTabOpened.ref.postMessage(data, '*');\n\t    } catch (e) {\n\t      throw new Error(_WarningTextEnum2.default.INVALID_JSON);\n\t    }\n\t  }\n\t};\n\t\n\tPostMessageListener._onCustomMessage = function (data) {\n\t  // CustomEvent not supported in IE\n\t  var event = new CustomEvent('show', { 'detail': data });\n\t\n\t  window.dispatchEvent(event);\n\t  window.newlyTabOpened = null;\n\t};\n\t\n\tPostMessageListener._onBeforeUnload = function (data) {\n\t  var id = data.split(_PostMessageEventNamesEnum2.default.ON_BEFORE_UNLOAD)[1],\n\t      tabs = void 0;\n\t\n\t  if (_tabUtils2.default.tabs.length) {\n\t    tabs = _tabUtils2.default.getAll();\n\t    window.newlyTabOpened = _array2.default.searchByKeyName(tabs, 'id', id) || window.newlyTabOpened;\n\t  }\n\t};\n\t\n\tPostMessageListener.onNewTab = function (message) {\n\t  var data = message.data;\n\t\n\t  if (!_tabUtils2.default.tabs.length) {\n\t    return;\n\t  }\n\t\n\t  if (data === _PostMessageEventNamesEnum2.default.LOADED) {\n\t    PostMessageListener._onLoad();\n\t  } else if (data.indexOf(_PostMessageEventNamesEnum2.default.CUSTOM) > -1) {\n\t    PostMessageListener._onCustomMessage(data);\n\t  } else if (data.indexOf(_PostMessageEventNamesEnum2.default.ON_BEFORE_UNLOAD) > -1) {\n\t    PostMessageListener._onBeforeUnload(data);\n\t  }\n\t};\n\t\n\tmodule.exports = PostMessageListener;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _PostMessageEventNamesEnum = __webpack_require__(4);\n\t\n\tvar _PostMessageEventNamesEnum2 = _interopRequireDefault(_PostMessageEventNamesEnum);\n\t\n\tvar _WarningTextEnum = __webpack_require__(7);\n\t\n\tvar _WarningTextEnum2 = _interopRequireDefault(_WarningTextEnum);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar sessionStorageKey = '__vwo_tab_id__';\n\t\n\t// Named Class expression\n\tvar Child = function () {\n\t  function Child(config) {\n\t    _classCallCheck(this, Child);\n\t\n\t    this.config = config || {};\n\t\n\t    this.handshakeExpiryLimit = this.config.handshakeExpiryLimit || 5000;\n\t\n\t    this.tabName = window.name;\n\t    this.tabId = null;\n\t    this.tabParentName = null;\n\t\n\t    // this.init();\n\t  }\n\t\n\t  _createClass(Child, [{\n\t    key: '_isSessionStorage',\n\t    value: function _isSessionStorage() {\n\t      if (window.sessionStorage) {\n\t        return true;\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: '_getData',\n\t    value: function _getData() {\n\t      if (!this.isSessionStorageSupported) {\n\t        return false;\n\t      }\n\t\n\t      return sessionStorage.getItem(sessionStorageKey);\n\t    }\n\t  }, {\n\t    key: '_setData',\n\t    value: function _setData(dataReceived) {\n\t      if (!this.isSessionStorageSupported) {\n\t        return false;\n\t      }\n\t\n\t      sessionStorage.setItem(sessionStorageKey, dataReceived);\n\t      return true;\n\t    }\n\t  }, {\n\t    key: '_restoreData',\n\t    value: function _restoreData() {\n\t      if (!this.isSessionStorageSupported) {\n\t        return false;\n\t      }\n\t\n\t      if (this.isSessionStorageSupported) {\n\t        var storedData = this._getData();\n\t\n\t        this.parseData(storedData);\n\t        /*if (this.config.onInitialize) {\n\t          this.config.onInitialize();\n\t        }*/\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onCommunication',\n\t    value: function onCommunication(message) {\n\t      var _this = this;\n\t\n\t      var dataReceived = void 0,\n\t          data = message.data;\n\t\n\t      // cancel timeout\n\t      window.clearTimeout(this.timeout);\n\t\n\t      if (data.indexOf(_PostMessageEventNamesEnum2.default.PARENT_DISCONNECTED) > -1) {\n\t        // callback\n\t        if (this.config.onParentDisconnect) {\n\t          this.config.onParentDisconnect();\n\t        }\n\t        // remove postMessage listener since no Parent is there to communicate with\n\t        window.removeEventListener('message', function (evt) {\n\t          return _this.onHandShake(evt);\n\t        });\n\t        return;\n\t      }\n\t\n\t      if (data.indexOf(_PostMessageEventNamesEnum2.default.HANDSHAKE_WITH_PARENT) > -1) {\n\t        dataReceived = data.split(_PostMessageEventNamesEnum2.default.HANDSHAKE_WITH_PARENT)[1];\n\t\n\t        this._setData(dataReceived);\n\t        this.parseData(dataReceived);\n\t\n\t        this.sendMessageToParent(_PostMessageEventNamesEnum2.default.CUSTOM + this.tabId);\n\t\n\t        if (this.config.onInitialize) {\n\t          this.config.onInitialize();\n\t        }\n\t      }\n\t\n\t      if (data.indexOf(_PostMessageEventNamesEnum2.default.PARENT_COMMUNICATED) > -1) {\n\t        dataReceived = data.split(_PostMessageEventNamesEnum2.default.PARENT_COMMUNICATED)[1];\n\t\n\t        if (this.config.onParentCommunication) {\n\t          this.config.onParentCommunication(dataReceived);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'parseData',\n\t    value: function parseData(dataReceived) {\n\t      var actualData = void 0;\n\t\n\t      // Expecting JSON data\n\t      try {\n\t        actualData = JSON.parse(dataReceived);\n\t        this.tabId = actualData && actualData.id;\n\t        this.tabParentName = actualData && actualData.parentName;\n\t      } catch (e) {\n\t        throw new Error(_WarningTextEnum2.default.INVALID_DATA);\n\t      };\n\t    }\n\t  }, {\n\t    key: 'addListeners',\n\t    value: function addListeners() {\n\t      var _this2 = this;\n\t\n\t      window.onbeforeunload = function (evt) {\n\t        _this2.sendMessageToParent(_PostMessageEventNamesEnum2.default.ON_BEFORE_UNLOAD + _this2.tabId);\n\t      };\n\t\n\t      window.removeEventListener('message', function (evt) {\n\t        return _this2.onCommunication(evt);\n\t      });\n\t      window.addEventListener('message', function (evt) {\n\t        return _this2.onCommunication(evt);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setHandshakeExpiry',\n\t    value: function setHandshakeExpiry() {\n\t      var _this3 = this;\n\t\n\t      return setTimeout(function () {\n\t        if (_this3.config.onHandShakeExpiry) {\n\t          _this3.config.onHandShakeExpiry();\n\t        }\n\t      }, this.handshakeExpiryLimit);\n\t    }\n\t\n\t    // API starts here ->\n\t\n\t  }, {\n\t    key: 'sendMessageToParent',\n\t    value: function sendMessageToParent(msg) {\n\t      if (window.top.opener) {\n\t        window.top.opener.postMessage(msg, '*');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getTabInfo',\n\t    value: function getTabInfo() {\n\t      return {\n\t        id: this.tabId,\n\t        name: this.tabName,\n\t        parentName: this.tabParentName\n\t      };\n\t    }\n\t  }, {\n\t    key: 'init',\n\t\n\t    // API ends here ->\n\t\n\t    value: function init() {\n\t      if (this.config.onReady) {\n\t        this.config.onReady();\n\t      }\n\t      this.isSessionStorageSupported = this._isSessionStorage();\n\t      this.sendMessageToParent(_PostMessageEventNamesEnum2.default.LOADED);\n\t      this.addListeners();\n\t      this._restoreData();\n\t      this.timeout = this.setHandshakeExpiry();\n\t    }\n\t  }]);\n\t\n\t  return Child;\n\t}();\n\t\n\tmodule.exports = Child;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** across-tabs.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b5282bacf369fe76ada1\n **/","import Parent from './parent';\nimport Child from './child';\n\nlet AcrossTabs = {\n  Parent: Parent,\n  Child: Child\n};\n\nexport default AcrossTabs;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","import Tab from './tab';\n\nimport tabUtils from './utils/tabUtils';\nimport domUtils from './utils/dom';\n\nimport TabStatusEnum from './enums/TabStatusEnum';\nimport WarningTextEnum from './enums/WarningTextEnum';\nimport PostMessageEventNamesEnum from './enums/PostMessageEventNamesEnum';\n\nimport PostMessageListener from './event-listeners/postmessage';\n\nlet heartBeat, tab;\n\n// Named Class expression\nvar Parent = class Parent {\n  constructor(config) {\n    this.heartBeatInterval = config.heartBeatInterval || 500;\n    // reset tabs with every new Object\n    tabUtils.closeAll();\n    this.Tab = Tab;\n    this.onHandshakeCallback = config.onHandshakeCallback;\n    this.onPollingCallback = config.onPollingCallback;\n    this.init();\n  };\n  startPollingTabs() {\n    // don't poll if all tabs are in closed states\n    heartBeat = setInterval(() => {\n      let i, tabs = tabUtils.getAll();\n\n      for (i = 0; i < tabs.length; i++) {\n        // this.watchStatus(tabs[i]);\n        // check as tab(s) get removed when closed irrespective of heatbeat controller\n        if (tabs[i]) {\n          tabs[i].status = tabs[i].ref.closed ? TabStatusEnum.CLOSE : TabStatusEnum.OPEN;\n        }\n      }\n      if (this.onPollingCallback) {\n        this.onPollingCallback();\n      }\n    }, this.heartBeatInterval);\n  };\n\n  watchStatus(tab) {\n    if (!tab) { return; }\n    let newStatus = tab.ref.closed ? TabStatusEnum.CLOSE : TabStatusEnum.OPEN,\n      oldStatus = tab.status;\n\n    if (!newStatus || newStatus === oldStatus) { return; }\n\n    if (oldStatus === TabStatusEnum.OPEN && newStatus === TabStatusEnum.CLOSE) {\n      // remove tab from tabUtils\n      tabUtils._remove(tab);\n    }\n    // Change from CLOSE to OPEN is never gonna happen :)\n  };\n\n  customEventUnListener(ev) {\n    this.enableElements();\n    if (this.onHandshakeCallback) {\n      this.onHandshakeCallback(ev.detail);\n    }\n  };\n\n  addEventListeners() {\n    window.removeEventListener('message', PostMessageListener.onNewTab);\n    window.addEventListener('message', PostMessageListener.onNewTab);\n\n    window.removeEventListener('show', this.customEventUnListener);\n    window.addEventListener('show', ev => this.customEventUnListener(ev));\n\n    window.onbeforeunload = () => {\n      tabUtils.broadCastAll(PostMessageEventNamesEnum.PARENT_DISCONNECTED);\n    };\n  };\n\n  /*\n    API goes here ->\n   */\n  enableElements() {\n    domUtils.enable('data-tab-opener');\n  };\n\n  getAllTabs() {\n    return tabUtils.getAll();\n  };\n\n  getOpenedTabs() {\n    return tabUtils.getOpened();\n  };\n\n  getClosedTabs() {\n    return tabUtils.getClosed();\n  }\n\n  closeAllTabs() {\n    return tabUtils.closeAll();\n  };\n\n  closeTab(tab) {\n    return tabUtils.closeTab(tab);\n  };\n\n  broadCastAll(msg) {\n    return tabUtils.broadCastAll(msg);\n  }\n\n  broadCastTo(tab, msg) {\n    return tabUtils.broadCastTo(tab, msg);\n  }\n\n  openNewTab(config) {\n    let url = config.url;\n\n    if (!url) {\n      throw new Error(WarningTextEnum.URL_REQUIRED);\n    }\n\n    tab = new this.Tab();\n    tab.create(config);\n\n    // If polling is already there, don't set it again\n    if (!heartBeat) {\n      this.startPollingTabs();\n    }\n\n    return tab;\n  };\n\n  // API ends here\n\n  init() {\n    this.addEventListeners();\n  };\n};\n\nmodule.exports = Parent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/parent.js\n **/","import tabUtils from './utils/tabUtils';\nimport UUID from './vendor/uuid';\nimport domUtils from './utils/dom';\n\n// Named Class expression\nlet Tab = class Tab {\n  constructor() {\n    window.name = 'PARENT_TAB';\n    this.init();\n  };\n  create(config) {\n    this.url = config.url;\n    this.id = UUID.generate() || (tabUtils.tabs.length + 1);\n    this.name = config.windowName;\n    this.status = 'open';\n    this.ref = window.open(this.url, config.windowName || '_blank', config.windowFeatures);\n\n    domUtils.disable('data-tab-opener');\n\n    window.newlyTabOpened = {\n      id: this.id,\n      name: this.name,\n      ref: this.ref\n    };\n\n    tabUtils.addNew(this);\n\n    return this; // for chaining\n  };\n  init() {};\n};\n\nmodule.exports = Tab;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/tab.js\n **/","import PostMessageEventNamesEnum from '../enums/PostMessageEventNamesEnum';\nimport arrayUtils from './array';\nimport TabStatusEnum from '../enums/TabStatusEnum';\nimport WarningTextEnum from '../enums/WarningTextEnum';\n\nlet tabUtils = {\n  tabs: []\n};\n\ntabUtils._remove = (tab) => {\n  let index;\n\n  index = arrayUtils.searchByKeyName(tabUtils.tabs, 'id', tab.id, 'index');\n  tabUtils.tabs.splice(index, 1);\n};\n\ntabUtils._preProcessMesage = (msg) => {\n\n  // make msg always an object to support JSON support\n  try {\n    msg = JSON.stringify(msg);\n  } catch (e) {\n    throw new Error(WarningTextEnum.INVALID_JSON);\n  }\n\n  if (msg.indexOf(PostMessageEventNamesEnum.PARENT_COMMUNICATED) === -1) {\n    msg = PostMessageEventNamesEnum.PARENT_COMMUNICATED + msg;\n  }\n\n  return msg;\n};\n\ntabUtils.addNew = (tab) => {\n  tabUtils.tabs.push(tab);\n  return this;\n};\n\ntabUtils.getOpened = () => {\n  return tabUtils.tabs.filter(tab => tab.status === TabStatusEnum.OPEN);\n};\n\ntabUtils.getClosed = () => {\n  return tabUtils.tabs.filter(tab => tab.status === TabStatusEnum.CLOSE);\n};\n\ntabUtils.getAll = () => {\n  return tabUtils.tabs;\n};\n\n// it takes id because of some cross origin restriction when passing tab with ref\ntabUtils.closeTab = (id) => {\n  let tab = arrayUtils.searchByKeyName(tabUtils.tabs, 'id', id);\n\n  tab && tab.ref.close();\n  return tabUtils;\n  // --tabUtils.tabs.length;\n};\n\ntabUtils.closeAll = () => {\n  let i;\n\n  for (i = 0; i < tabUtils.tabs.length; i++) {\n    // --tabUtils.tabs.length;\n    tabUtils.tabs[i].ref.close();\n  }\n  return tabUtils;\n};\n\ntabUtils.broadCastAll = (msg) => {\n  let i, tabs = tabUtils.getAll();\n\n  msg = tabUtils._preProcessMesage(msg);\n\n  for (i = 0; i < tabs.length; i++) {\n    tabs[i].ref.postMessage(msg, '*');\n  }\n};\n\ntabUtils.broadCastTo = (tab, msg) => {\n  let targetedTab,\n    tabs = tabUtils.getAll();\n\n  msg = tabUtils._preProcessMesage(msg);\n\n  targetedTab = arrayUtils.searchByKeyName(tabs, 'id', tab); // TODO: tab.id\n  targetedTab.ref.postMessage(msg, '*');\n};\n\nmodule.exports = tabUtils;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/utils/tabUtils.js\n **/","const PostMessageEventNamesEnum = {\n  LOADED: '__TAB__LOADED_EVENT__',\n  CUSTOM: '__TAB__CUSTOM_EVENT__',\n  ON_BEFORE_UNLOAD: '__TAB__ON_BEFORE_UNLOAD__',\n  PARENT_DISCONNECTED: '__PARENT_DISCONNECTED__',\n  HANDSHAKE_WITH_PARENT: '__HANDSHAKE_WITH_PARENT__',\n  PARENT_COMMUNICATED: '__PARENT_COMMUNICATED__'\n};\n\nmodule.exports = PostMessageEventNamesEnum;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/enums/PostMessageEventNamesEnum.js\n **/","let arrayUtils = {};\nlet returnPreferenceEnum = {\n  INDEX: 'index',\n  OBJECT: 'object',\n  BOTH: 'both'\n};\n\narrayUtils.searchByKeyName = function (data, key, value, returnPreference) {\n  if (!data || !key) { return {}; }\n\n  returnPreference = returnPreference || returnPreferenceEnum[1]; // default to Object\n  let i, obj, returnData, index = -1;\n\n  for (i = 0; i < data.length; i++) {\n    obj = data[i];\n    // Number matching support\n    if (!isNaN(value) && parseInt(obj[key], 10) === parseInt(value, 10)) {\n      index = i;\n      break;\n    } else if (isNaN(value) && obj[key] === value) { // String exact matching support\n      index = i;\n      break;\n    }\n  }\n\n  switch (returnPreference) {\n    case returnPreferenceEnum.INDEX:\n      returnData = index;\n      break;\n    case returnPreferenceEnum.BOTH:\n      returnData = {\n        obj: data[index],\n        index: index\n      };\n      break;\n    case returnPreferenceEnum.OBJECT:\n    default:\n      returnData = data[index];\n      break;\n  }\n\n  return returnData;\n\n};\n\nmodule.exports = arrayUtils;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/utils/array.js\n **/","const TabStatusEnum = {\n  OPEN: 'open',\n  CLOSE: 'close'\n};\n\nmodule.exports = TabStatusEnum;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/enums/TabStatusEnum.js\n **/","const WarningTextEnum = {\n  INVALID_JSON: 'Invalid JSON Object!',\n  INVALID_DATA: 'Some wrong message is being sent by Parent.',\n  URL_REQUIRED: 'Url is needed for creating and opening a new window/tab.'\n};\n\nmodule.exports = WarningTextEnum;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/enums/WarningTextEnum.js\n **/","/**\n * UUID.js: The RFC-compliant UUID generator for JavaScript.\n * ES6 port of only `generate` method of UUID by Varun Malhotra under MIT License\n *\n * @author  LiosK\n * @version v3.3.0\n * @license The MIT License: Copyright (c) 2010-2016 LiosK.\n */\n\n/** @constructor */\nlet UUID;\n\nUUID = (function () {\n  'use strict';\n\n  /** @lends UUID */\n  function UUID() {}\n\n  /**\n   * The simplest function to get an UUID string.\n   * @returns {string} A version 4 UUID string.\n   */\n  UUID.generate = function () {\n    let rand = UUID._getRandomInt, hex = UUID._hexAligner;\n\n    // [\"timeLow\", \"timeMid\", \"timeHiAndVersion\", \"clockSeqHiAndReserved\", \"clockSeqLow\", \"node\"]\n    return hex(rand(32), 8) +           // time_low\n      '-' +\n      hex(rand(16), 4) +                // time_mid\n      '-' +\n      hex(0x4000 | rand(12), 4) +       // time_hi_and_version\n      '-' +\n      hex(0x8000 | rand(14), 4) +       // clock_seq_hi_and_reserved clock_seq_low\n      '-' +\n      hex(rand(48), 12);                // node\n  };\n\n  /**\n   * Returns an unsigned x-bit random integer.\n   * @param {int} x A positive integer ranging from 0 to 53, inclusive.\n   * @returns {int} An unsigned x-bit random integer (0 <= f(x) < 2^x).\n   */\n  UUID._getRandomInt = function (x) {\n    if (x < 0) {\n      return NaN;\n    }\n    if (x <= 30) {\n      return (0 | Math.random() * (1 << x));\n    }\n    if (x <= 53) {\n      return (0 | Math.random() * (1 << 30)) +\n        (0 | Math.random() * (1 << x - 30)) * (1 << 30);\n    }\n\n    return NaN;\n  };\n\n  /**\n   * Returns a function that converts an integer to a zero-filled string.\n   * @param {int} radix\n   * @returns {function(num&#44; length)}\n   */\n  UUID._getIntAligner = function (radix) {\n    return function (num, length) {\n      let str = num.toString(radix), i = length - str.length, z = '0';\n\n      for (; i > 0; i >>>= 1, z += z) {\n        if (i & 1) {\n          str = z + str;\n        }\n      }\n      return str;\n    };\n  };\n\n  UUID._hexAligner = UUID._getIntAligner(16);\n\n  /**\n   * Returns UUID string representation.\n   * @returns {string} {@link UUID#hexString}.\n   */\n  UUID.prototype.toString = function () {\n    return this.hexString;\n  };\n\n  return UUID;\n\n})(UUID);\n\nmodule.exports = UUID;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/vendor/uuid.js\n **/","let domUtils = {\n  disable: function (selector) {\n    if (!selector) { return; }\n\n    let i, ATOpenersElems = document.querySelectorAll('[' + selector + ']');\n\n    for (i = 0; i < ATOpenersElems.length; i++) {\n      ATOpenersElems[i].setAttribute('disabled', 'disabled');\n    }\n  },\n  enable: function (selector) {\n    if (!selector) { return; }\n\n    let i, ATOpenersElems = document.querySelectorAll('[' + selector + ']');\n\n    for (i = 0; i < ATOpenersElems.length; i++) {\n      ATOpenersElems[i].removeAttribute('disabled');\n    }\n  }\n};\n\nmodule.exports = domUtils;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/utils/dom.js\n **/","import arrayUtils from '../utils/array';\nimport tabUtils from '../utils/tabUtils';\nimport WarningTextEnum from '../enums/WarningTextEnum';\nimport PostMessageEventNamesEnum from '../enums/PostMessageEventNamesEnum';\n\nlet PostMessageListener = {};\n\nPostMessageListener._onLoad = function () {\n  let data;\n  let tabInfo = {\n    id: window.newlyTabOpened.id,\n    name: window.newlyTabOpened.name,\n    parentName: window.name\n  };\n\n  if (window.newlyTabOpened) {\n    try {\n      data = PostMessageEventNamesEnum.HANDSHAKE_WITH_PARENT;\n      data += JSON.stringify(tabInfo);\n      window.newlyTabOpened.ref.postMessage(data, '*');\n    } catch (e) {\n      throw new Error(WarningTextEnum.INVALID_JSON);\n    }\n  }\n};\n\nPostMessageListener._onCustomMessage = function (data) {\n  // CustomEvent not supported in IE\n  let event = new CustomEvent('show', {'detail': data});\n\n  window.dispatchEvent(event);\n  window.newlyTabOpened = null;\n};\n\nPostMessageListener._onBeforeUnload = function (data) {\n  let id = data.split(PostMessageEventNamesEnum.ON_BEFORE_UNLOAD)[1],\n    tabs;\n\n  if (tabUtils.tabs.length) {\n    tabs = tabUtils.getAll();\n    window.newlyTabOpened = arrayUtils.searchByKeyName(tabs, 'id', id) || window.newlyTabOpened;\n  }\n};\n\nPostMessageListener.onNewTab = (message) => {\n  let data = message.data;\n\n  if (!tabUtils.tabs.length) {\n    return;\n  }\n\n  if (data === PostMessageEventNamesEnum.LOADED) {\n    PostMessageListener._onLoad();\n  } else if (data.indexOf(PostMessageEventNamesEnum.CUSTOM) > -1) {\n    PostMessageListener._onCustomMessage(data);\n  } else if (data.indexOf(PostMessageEventNamesEnum.ON_BEFORE_UNLOAD) > -1) {\n    PostMessageListener._onBeforeUnload(data);\n  }\n};\n\nmodule.exports = PostMessageListener;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/event-listeners/postmessage.js\n **/","import PostMessageEventNamesEnum from './enums/PostMessageEventNamesEnum';\nimport WarningTextEnum from './enums/WarningTextEnum';\n\nconst sessionStorageKey = '__vwo_tab_id__';\n\n// Named Class expression\nlet Child = class Child {\n\n  constructor(config) {\n\n    this.config = config || {};\n\n    this.handshakeExpiryLimit = this.config.handshakeExpiryLimit || 5000;\n\n    this.tabName = window.name;\n    this.tabId = null;\n    this.tabParentName = null;\n\n    // this.init();\n  };\n\n  _isSessionStorage() {\n    if (window.sessionStorage) {\n      return true;\n    }\n    return false;\n  };\n\n  _getData() {\n    if (!this.isSessionStorageSupported) { return false; }\n\n    return sessionStorage.getItem(sessionStorageKey);\n  };\n\n  _setData(dataReceived) {\n    if (!this.isSessionStorageSupported) { return false; }\n\n    sessionStorage.setItem(sessionStorageKey, dataReceived);\n    return true;\n  };\n\n  _restoreData() {\n    if (!this.isSessionStorageSupported) { return false; }\n\n    if (this.isSessionStorageSupported) {\n      let storedData = this._getData();\n\n      this.parseData(storedData);\n      /*if (this.config.onInitialize) {\n        this.config.onInitialize();\n      }*/\n    }\n  };\n\n  onCommunication(message) {\n    let dataReceived,\n      data = message.data;\n\n    // cancel timeout\n    window.clearTimeout(this.timeout);\n\n    if (data.indexOf(PostMessageEventNamesEnum.PARENT_DISCONNECTED) > -1) {\n      // callback\n      if (this.config.onParentDisconnect) {\n        this.config.onParentDisconnect();\n      }\n      // remove postMessage listener since no Parent is there to communicate with\n      window.removeEventListener('message', evt => this.onHandShake(evt));\n      return;\n    }\n\n    if (data.indexOf(PostMessageEventNamesEnum.HANDSHAKE_WITH_PARENT) > -1) {\n      dataReceived = data.split(PostMessageEventNamesEnum.HANDSHAKE_WITH_PARENT)[1];\n\n      this._setData(dataReceived);\n      this.parseData(dataReceived);\n\n      this.sendMessageToParent(PostMessageEventNamesEnum.CUSTOM + this.tabId);\n\n      if (this.config.onInitialize) {\n        this.config.onInitialize();\n      }\n    }\n\n    if (data.indexOf(PostMessageEventNamesEnum.PARENT_COMMUNICATED) > -1) {\n      dataReceived = data.split(PostMessageEventNamesEnum.PARENT_COMMUNICATED)[1];\n\n      if (this.config.onParentCommunication) {\n        this.config.onParentCommunication(dataReceived);\n      }\n    }\n  };\n\n  parseData(dataReceived) {\n    let actualData;\n\n    // Expecting JSON data\n    try {\n      actualData = JSON.parse(dataReceived);\n      this.tabId = actualData && actualData.id;\n      this.tabParentName = actualData && actualData.parentName;\n    } catch (e) {\n      throw new Error(WarningTextEnum.INVALID_DATA);\n    };\n  }\n\n  addListeners() {\n    window.onbeforeunload = (evt) => {\n      this.sendMessageToParent(PostMessageEventNamesEnum.ON_BEFORE_UNLOAD + this.tabId);\n    };\n\n    window.removeEventListener('message', evt => this.onCommunication(evt));\n    window.addEventListener('message', evt => this.onCommunication(evt));\n  };\n\n  setHandshakeExpiry() {\n    return setTimeout(() => {\n      if (this.config.onHandShakeExpiry) {\n        this.config.onHandShakeExpiry();\n      }\n    }, this.handshakeExpiryLimit);\n  }\n\n  // API starts here ->\n  sendMessageToParent(msg) {\n    if (window.top.opener) {\n      window.top.opener.postMessage(msg, '*');\n    }\n  };\n\n  getTabInfo() {\n    return {\n      id: this.tabId,\n      name: this.tabName,\n      parentName: this.tabParentName\n    };\n  };\n  // API ends here ->\n\n  init() {\n    if (this.config.onReady) {\n      this.config.onReady();\n    }\n    this.isSessionStorageSupported = this._isSessionStorage();\n    this.sendMessageToParent(PostMessageEventNamesEnum.LOADED);\n    this.addListeners();\n    this._restoreData();\n    this.timeout = this.setHandshakeExpiry();\n  }\n};\n\nmodule.exports = Child;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/child.js\n **/"],"sourceRoot":""}