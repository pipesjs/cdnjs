{"version":3,"sources":["rythm.js"],"names":["global","factory","exports","module","define","amd","Rythm","this","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","Analyser","_this","initialise","analyser","fftSize","reset","hzHistory","frequences","Uint8Array","frequencyBinCount","analyse","getByteFrequencyData","maxValueHistory","shift","push","getRangeAverageRatio","startingValue","nbValue","total","getFrequenceRatio","index","min","max","forEach","value","scale","actualValue","percentage","startingScale","pulseRatio","Analyser$1","Player","createSourceFromAudioElement","audioElement","audioCtx","createMediaElementSource","connectExternalAudioElement","audio","currentInputType","inputTypeList","source","connectSource","connect","gain","destination","addEventListener","stop","setMusic","trackUrl","Audio","setGain","plugMicrophone","getMicrophoneStream","then","stream","createMediaStreamSource","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Promise","resolve","reject","medias","error","start","play","pause","getAudioTracks","enabled","browserAudioCtx","AudioContext","webkitAudioContext","createAnalyser","createGain","TRACK","STREAM","EXTERNAL","player","pulse","elem","options","arguments","undefined","isNaN","style","transform","shake","direction","twist","jump","vanish","reverse","opacity","color","from","to","scaleR","scaleG","scaleB","backgroundColor","Math","floor","Dancer","dances","registerDance","type","dance","className","ratio","elements","document","getElementsByClassName","Array","dancer","Rythm$1","audioelement","url","addRythm","elementClass","startValue","rythms","stopped","renderRythm","mappingItem","requestAnimationFrame"],"mappings":"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","file":"rythm.min.js"}