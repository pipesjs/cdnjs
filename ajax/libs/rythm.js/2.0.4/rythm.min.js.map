{"version":3,"sources":["rythm.js"],"names":["global","factory","exports","module","define","amd","Rythm","this","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","Analyser","_this","initialise","analyser","fftSize","reset","hzHistory","frequences","Uint8Array","frequencyBinCount","analyse","getByteFrequencyData","maxValueHistory","shift","push","getRangeAverageRatio","startingValue","nbValue","total","getFrequenceRatio","index","min","max","forEach","value","scale","actualValue","percentage","startingScale","pulseRatio","Analyser$1","Player","createSourceFromAudioElement","audioElement","setAttribute","connectedSources","source","audioCtx","createMediaElementSource","connectExternalAudioElement","audio","currentInputType","inputTypeList","connectedIndex","getAttribute","console","log","connectSource","connect","gain","destination","addEventListener","stop","setMusic","trackUrl","Audio","setGain","plugMicrophone","getMicrophoneStream","then","stream","createMediaStreamSource","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Promise","resolve","reject","medias","error","start","play","pause","getAudioTracks","enabled","browserAudioCtx","AudioContext","webkitAudioContext","createAnalyser","createGain","TRACK","STREAM","EXTERNAL","player","pulse","elem","options","arguments","undefined","isNaN","style","transform","shake","direction","twist","jump","vanish","reverse","opacity","color","from","to","scaleR","scaleG","scaleB","backgroundColor","Math","floor","Dancer","dances","registerDance","type","className","ratio","dance","elements","document","getElementsByClassName","Array","dancer","url","addRythm","elementClass","startValue","rythms","stopped","renderRythm","mappingItem","requestAnimationFrame"],"mappings":"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","file":"rythm.min.js"}