function clone(e,n){function o(e,n,l,c){if("object"==typeof e){if(null==e)return e;for(i in r)if(r[i]===e)return f.push({resolveTo:i,child:l,i:c}),null;if(r[n]=e,e instanceof Array){l=[];for(i in e)l[i]=o(e[i],n+"["+i+"]",l,i)}else if(e instanceof Date)l=new Date(e.getTime());else if(e instanceof RegExp)l=new RegExp(e.source);else{l={},l.__proto__=e.__proto__;for(i in e)l[i]=o(e[i],n+"["+i+"]",l,i)}t[n]=l}else l=e;return l}void 0===n&&(n=!0);var i;if(n){var r={},t={},f=[],l=o(e,"*");for(i in f){var c=f[i];c&&c.child&&c.i in c.child&&(c.child[c.i]=t[c.resolveTo])}return l}var s;if("object"==typeof e){if(null==e)return e;if(e instanceof Array){s=[];for(i in e)s[i]=clone(e[i],n)}else if(e instanceof Date)s=new Date(e.getTime());else if(e instanceof RegExp)s=new RegExp(e.source);else{s={},s.__proto__=e.__proto__;for(i in e)s[i]=clone(e[i],n)}}else s=e;return s}module.exports=clone;