!function(){var t=function(t,r,e,i){var n={version:"0.0.1"};t=t||[],n.gramSizeLower=e||2,n.gramSizeUpper=i||3,n.useLevenshtein="boolean"!=typeof r||r,n.exactSet={},n.matchDict={},n.items={};var a=function(t,r){for(var e,i,n=[],a=0;a<=r.length;a++)for(var o=0;o<=t.length;o++)i=a&&o?t.charAt(o-1)===r.charAt(a-1)?e:Math.min(n[o],n[o-1],e)+1:a+o,e=n[o],n[o]=i;return n.pop()},o=function(t,r){if(null===t&&null===r)throw"Trying to compare two null values";if(null===t||null===r)return 0;t=String(t),r=String(r);var e=a(t,r);return t.length>r.length?1-e/t.length:1-e/r.length},h=function(t,r){r=r||2;var e="-"+t.toLowerCase().replace(/[^a-zA-Z0-9\u00C0-\u00FF, ]+/,"")+"-",i=r-e.length,n=[];if(i>0)for(a=0;a<i;++a)t+="-";for(var a=0;a<e.length-r+1;++a)n.push(e.slice(a,a+r));return n},s=function(t,r){var e={},i=h(t,r=r||2),n=0;for(n;n<i.length;++n)i[n]in e?e[i[n]]+=1:e[i[n]]=1;return e};n.get=function(t,r,e){void 0===e&&(e=.33);var i=this._get(t,e);return i||void 0===r?i:r},n._get=function(t,r){var e=this._normalizeStr(t),i=this.exactSet[e];if(i)return[[1,i]];for(var n=[],a=this.gramSizeUpper;a>=this.gramSizeLower;--a)if(n=this.__get(t,a,r))return n;return null},n.__get=function(t,r,e){var i,n,a,h,u=this._normalizeStr(t),c={},f=s(u,r),l=this.items[r],g=0;for(i in f)if(n=f[i],g+=Math.pow(n,2),i in this.matchDict)for(x=0;x<this.matchDict[i].length;++x)a=this.matchDict[i][x][0],h=this.matchDict[i][x][1],a in c?c[a]+=n*h:c[a]=n*h;if(function(t){for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}(c))return null;var m,v=Math.sqrt(g),p=[];for(var S in c)m=c[S],p.push([m/(v*l[S][0]),l[S][1]]);var z=function(t,r){return t[0]<r[0]?1:t[0]>r[0]?-1:0};if(p.sort(z),this.useLevenshtein){for(var d=[],w=Math.min(50,p.length),x=0;x<w;++x)d.push([o(p[x][1],u),p[x][1]]);(p=d).sort(z)}d=[];return p.forEach(function(t){t[0]>=e&&d.push([t[0],this.exactSet[t[1]]])}.bind(this)),d},n.add=function(t){if(this._normalizeStr(t)in this.exactSet)return!1;var r=this.gramSizeLower;for(r;r<this.gramSizeUpper+1;++r)this._add(t,r)},n._add=function(t,r){var e=this._normalizeStr(t),i=this.items[r]||[],n=i.length;i.push(0);var a,o,h=s(e,r),u=0;for(a in h)o=h[a],u+=Math.pow(o,2),a in this.matchDict?this.matchDict[a].push([n,o]):this.matchDict[a]=[[n,o]];var c=Math.sqrt(u);i[n]=[c,e],this.items[r]=i,this.exactSet[e]=t},n._normalizeStr=function(t){if("[object String]"!==Object.prototype.toString.call(t))throw"Must use a string as argument to FuzzySet functions";return t.toLowerCase()},n.length=function(){var t,r=0;for(t in this.exactSet)this.exactSet.hasOwnProperty(t)&&(r+=1);return r},n.isEmpty=function(){for(var t in this.exactSet)if(this.exactSet.hasOwnProperty(t))return!1;return!0},n.values=function(){var t,r=[];for(t in this.exactSet)this.exactSet.hasOwnProperty(t)&&r.push(this.exactSet[t]);return r};var u=n.gramSizeLower;for(u;u<n.gramSizeUpper+1;++u)n.items[u]=[];for(u=0;u<t.length;++u)n.add(t[u]);return n},r=this;"undefined"!=typeof module&&module.exports?(module.exports=t,r.FuzzySet=t):r.FuzzySet=t}();