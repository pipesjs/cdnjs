function convertToJson(e){var a={};if(e.val)return e.val;for(var r=0;r<e.child.length;r++){var n=e.child[r].tagname,t=convertToJson(e.child[r]);if(a[n]){if(!Array.isArray(a[n])){var s=a[n];a[n]=[],a[n].push(s)}a[n].push(t)}else a[n]=t}return a}var getAllMatches=function(e,a){for(var r,n=[];r=a.exec(e);){for(var t=[],s=0;s<r.length;s++)t.push(r[s]);n.push(t)}return n},Node=function(e,a){this.tagname=e,this.parent=a,this.child=[],this.addChild=function(e){this.child.push(e)}},tagsRegx=new RegExp("<(\\/?[a-zA-Z0-9_:]+)","g"),valsRegx=new RegExp(">([^<]+)<","g"),xml2json=function(e){e=e.replace(/>(\s+)/g,"");for(var a=getAllMatches(e,tagsRegx),r=getAllMatches(e,valsRegx),n=new Node(a[0][1]),t=n,s=1,l=0;s<a.length-1;s++){var i=a[s][1],o=a[s+1][1];if("/"+i===o){var h;r[l]&&(h=r[l++][1],h=isNaN(h)?""+h:h.indexOf(".")!==-1?Number.parseFloat(h):Number.parseInt(h));var d=new Node(i,t);d.val=h,t.addChild(d),s++}else{if(0===i.indexOf("/")){t=t.parent;continue}var v=new Node(i,t);t.addChild(v),t=v}}var c=new Node("_xml");return n.param=c,c.addChild(n),convertToJson(c)};exports.parse=xml2json;
//# sourceMappingURL=parser.min.js.map