{"version":3,"sources":["adapter_no_edge.js"],"names":["f","exports","module","define","amd","window","global","self","this","adapter","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","2","adapterFactory","./adapter_factory.js","3","dependencies","utils","logging","log","browserDetails","detectBrowser","extractVersion","disableLog","chromeShim","edgeShim","firefoxShim","safariShim","browser","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimCreateObjectURL","shimSourceObject","shimOnTrack","shimGetSendersWithDtmf","shimReplaceTrack","shimCallbacksAPI","shimAddStream","shimOnAddStream","./chrome/chrome_shim","./edge/edge_shim","./firefox/firefox_shim","./safari/safari_shim","./utils","4","MediaStream","webkitMediaStream","RTCPeerConnection","prototype","Object","defineProperty","get","_ontrack","set","removeEventListener","_ontrackpoly","addEventListener","stream","te","receiver","getReceivers","find","track","id","event","Event","streams","dispatchEvent","getTracks","forEach","bind","getSenders","_senders","origAddStream","addStream","origRemoveStream","removeStream","addTrack","pc","signalingState","DOMException","slice","arguments","_streams","oldStream","newStream","sender","dtmf","undefined","_dtmf","kind","createDTMFSender","push","apply","splice","indexOf","URL","HTMLMediaElement","_srcObject","src","revokeObjectURL","createObjectURL","OrigPeerConnection","pcConfig","pcConstraints","iceServers","newIceServers","server","hasOwnProperty","console","warn","JSON","parse","stringify","urls","url","generateCertificate","iceTransportPolicy","iceTransports","webkitRTCPeerConnection","origGetStats","getStats","selector","successCallback","errorCallback","args","fixChromeStats_","response","standardReport","result","report","standardStats","timestamp","type","localcandidate","remotecandidate","names","name","stat","makeMapStats","stats","Map","keys","map","key","successCallbackWrapper_","Promise","resolve","reject","then","version","method","nativeMethod","promise","err","opts","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","../utils.js","./getusermedia","5","navigator","constraintsToChrome_","c","mandatory","optional","cc","ideal","exact","min","max","oldname_","prefix","charAt","toUpperCase","oc","mix","advanced","concat","shimConstraints_","constraints","func","audio","remap","obj","b","video","face","facingMode","getSupportedFacingModeLies","mediaDevices","getSupportedConstraints","matches","enumerateDevices","devices","dev","filter","d","some","match","label","toLowerCase","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","message","constraint","constraintName","toString","getUserMedia_","onSuccess","onError","webkitGetUserMedia","getUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","cs","getAudioTracks","getVideoTracks","stop","6","mozSrcObject","mozRTCPeerConnection","j","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","inboundrtp","outboundrtp","candidatepair","nativeGetStats","onSucc","onErr","assign","../utils","7","InternalError","NotSupportedError","SecurityError","The operation is insecure.","constraintsToFF37_","mozGetUserMedia","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","8","_onaddstream","_onaddstreampoly","createOffer","createAnswer","setLocalDescription","setRemoteDescription","failureCallback","options","withCallback","description","candidate","cb","errcb","9","logDisabled_","bool","uastring","expr","pos","parseInt","userAgent","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","getOwnPropertyDescriptor","srcObject","nativeSetAttribute","setAttribute"],"mappings":"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"}