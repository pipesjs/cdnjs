{"version":3,"sources":["adapter_no_edge_no_global.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","2","global","adapterFactory","window","this","self","./adapter_factory.js","3","dependencies","utils","logging","log","browserDetails","detectBrowser","adapter","extractVersion","disableLog","chromeShim","edgeShim","firefoxShim","safariShim","browser","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimCreateObjectURL","shimSourceObject","shimOnTrack","shimGetSendersWithDtmf","shimReplaceTrack","shimCallbacksAPI","shimAddStream","shimOnAddStream","./chrome/chrome_shim","./edge/edge_shim","./firefox/firefox_shim","./safari/safari_shim","./utils","4","MediaStream","webkitMediaStream","RTCPeerConnection","prototype","Object","defineProperty","get","_ontrack","set","removeEventListener","_ontrackpoly","addEventListener","stream","te","receiver","getReceivers","find","track","id","event","Event","streams","dispatchEvent","getTracks","forEach","bind","getSenders","_senders","origAddStream","addStream","origRemoveStream","removeStream","addTrack","pc","signalingState","DOMException","slice","arguments","_streams","oldStream","newStream","sender","dtmf","undefined","_dtmf","kind","createDTMFSender","push","apply","splice","indexOf","URL","HTMLMediaElement","_srcObject","src","revokeObjectURL","createObjectURL","OrigPeerConnection","pcConfig","pcConstraints","iceServers","newIceServers","server","hasOwnProperty","console","warn","JSON","parse","stringify","urls","url","generateCertificate","iceTransportPolicy","iceTransports","webkitRTCPeerConnection","origGetStats","getStats","selector","successCallback","errorCallback","args","fixChromeStats_","response","standardReport","result","report","standardStats","timestamp","type","localcandidate","remotecandidate","names","name","stat","makeMapStats","stats","Map","keys","map","key","successCallbackWrapper_","Promise","resolve","reject","then","version","method","nativeMethod","promise","err","opts","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","../utils.js","./getusermedia","5","navigator","constraintsToChrome_","c","mandatory","optional","cc","ideal","exact","min","max","oldname_","prefix","charAt","toUpperCase","oc","mix","advanced","concat","shimConstraints_","constraints","func","audio","remap","obj","b","video","face","facingMode","getSupportedFacingModeLies","mediaDevices","getSupportedConstraints","matches","enumerateDevices","devices","dev","filter","d","some","match","label","toLowerCase","deviceId","shimError_","PermissionDeniedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","message","constraint","constraintName","toString","getUserMedia_","onSuccess","onError","webkitGetUserMedia","getUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","echoCancellation","frameRate","height","width","origGetUserMedia","cs","getAudioTracks","getVideoTracks","stop","6","mozSrcObject","mozRTCPeerConnection","j","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","inboundrtp","outboundrtp","candidatepair","nativeGetStats","onSucc","onErr","assign","../utils","7","InternalError","NotSupportedError","SecurityError","The operation is insecure.","constraintsToFF37_","mozGetUserMedia","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","8","_onaddstream","_onaddstreampoly","createOffer","createAnswer","setLocalDescription","setRemoteDescription","failureCallback","options","withCallback","description","candidate","cb","errcb","9","logDisabled_","bool","uastring","expr","pos","parseInt","userAgent","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","getOwnPropertyDescriptor","srcObject","nativeSetAttribute","setAttribute"],"mappings":"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"}