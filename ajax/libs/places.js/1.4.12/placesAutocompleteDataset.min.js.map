{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*","webpack:/webpack/bootstrap 1789b85bdadd7f86e388?e843*","webpack:///src/createAutocompleteDataset.js?1b89*","webpack:///src/navigatorLanguage.js?b003*","webpack:///~/insert-css/index.js?f60e*","webpack:///src/createAutocompleteSource.js?ddf0*","webpack:///src/defaultTemplates.js?34d1*","webpack:///src/findCountryCode.js?d09b*","webpack:///src/findType.js?4fba*","webpack:///src/formatDropdownValue.js?9a5f*","webpack:///src/formatHit.js?aa26*","webpack:///src/formatInputValue.js?0f7a*"],"names":["root","factory","exports","module","define","amd","this","modules","installedModules","moduleId","i","l","__webpack_require__","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","templates","source","formatInputValue","default","_extends","options","undefined","displayKey","navigator","language","insertCss","css","Error","usage","position","prepend","container","document","querySelector","containerId","containers","push","styleElements","styleElement","insertBefore","childNodes","appendChild","styleSheet","cssText","textContent","createStyleElement","createElement","setAttribute","algoliasearch","clientOptions","_ref","apiKey","appId","hitsPerPage","aroundLatLng","aroundRadius","aroundLatLngViaIP","countries","computeQueryParams","_ref$computeQueryPara","params","useDeviceLocation","_ref$useDeviceLocatio","_ref$language","split","onHits","onError","_ref$onHits","_ref$onError","e","onRateLimitReached","type","placesClient","addAlgoliaAgent","initPlaces","defaultQueryParams","toLowerCase","coords","_ref2","userCoords","latitude","longitude","query","cb","hits","content","map","hitIndex","_extends2","_defineProperty","then","hit","rawAnswer","statusCode","footer","value","_algolia2","trim","_osm2","suggestion","findCountryCode","tagIndex","tag","tags","length","find","match","types","country","city","amenity/bus_station","amenity/townhall","railway/station","aeroway/aerodrome","aeroway/terminal","aeroway/gate","indexOf","t","highlight","administrative","token","icons","filter","address","busStop","trainStation","townhall","airport","_plane2","defaultValue","highlightedValues","bestAttributes","matchLevel","index","matchedWords","words","sort","a","b","getBestHighlightedForm","_highlightResult","countryCode","_findCountryCode2","_tags","latlng","_findType2","lat","lng","_geoloc","postcode","console","error","replace"],"mappings":"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","file":"dist/cdn/placesAutocompleteDataset.min.js","sourceRoot":"","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"placesAutocompleteDataset\"] = factory();\n\telse\n\t\troot[\"placesAutocompleteDataset\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 83);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1789b85bdadd7f86e388","import createAutocompleteSource from './createAutocompleteSource.js';\nimport defaultTemplates from './defaultTemplates.js';\n\nexport default function createAutocompleteDataset(options) {\n  const templates = {\n    ...defaultTemplates,\n    ...options.templates,\n  };\n\n  const source = createAutocompleteSource({\n    ...options,\n    formatInputValue: templates.value,\n    templates: undefined,\n  });\n\n  return {\n    source,\n    templates,\n    displayKey: 'value',\n    name: 'places',\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/createAutocompleteDataset.js","// polyfill for navigator.language (IE <= 10)\n// not polyfilled by https://cdn.polyfill.io/v2/docs/\n\n// Defined: http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#navigatorlanguage\n//   with allowable values at http://www.ietf.org/rfc/bcp/bcp47.txt\n// Note that the HTML spec suggests that anonymizing services return \"en-US\" by default for\n//   user privacy (so your app may wish to provide a means of changing the locale)\nif (!('language' in navigator)) {\n  navigator.language =\n    // IE 10 in IE8 mode on Windows 7 uses upper-case in\n    // navigator.userLanguage country codes but per\n    // http://msdn.microsoft.com/en-us/library/ie/ms533052.aspx (via\n    // http://msdn.microsoft.com/en-us/library/ie/ms534713.aspx), they\n    // appear to be in lower case, so we bring them into harmony with navigator.language.\n    (navigator.userLanguage &&\n      navigator.userLanguage.replace(\n        /-[a-z]{2}$/,\n        String.prototype.toUpperCase\n      )) ||\n    'en-US'; // Default for anonymizing services: http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#navigatorlanguage\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/navigatorLanguage.js","var containers = []; // will store container HTMLElement references\nvar styleElements = []; // will store {prepend: HTMLElement, append: HTMLElement}\n\nvar usage = 'insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).';\n\nfunction insertCss(css, options) {\n    options = options || {};\n\n    if (css === undefined) {\n        throw new Error(usage);\n    }\n\n    var position = options.prepend === true ? 'prepend' : 'append';\n    var container = options.container !== undefined ? options.container : document.querySelector('head');\n    var containerId = containers.indexOf(container);\n\n    // first time we see this container, create the necessary entries\n    if (containerId === -1) {\n        containerId = containers.push(container) - 1;\n        styleElements[containerId] = {};\n    }\n\n    // try to get the correponding container + position styleElement, create it otherwise\n    var styleElement;\n\n    if (styleElements[containerId] !== undefined && styleElements[containerId][position] !== undefined) {\n        styleElement = styleElements[containerId][position];\n    } else {\n        styleElement = styleElements[containerId][position] = createStyleElement();\n\n        if (position === 'prepend') {\n            container.insertBefore(styleElement, container.childNodes[0]);\n        } else {\n            container.appendChild(styleElement);\n        }\n    }\n\n    // strip potential UTF-8 BOM if css was read from a file\n    if (css.charCodeAt(0) === 0xFEFF) { css = css.substr(1, css.length); }\n\n    // actually add the stylesheet\n    if (styleElement.styleSheet) {\n        styleElement.styleSheet.cssText += css\n    } else {\n        styleElement.textContent += css;\n    }\n\n    return styleElement;\n};\n\nfunction createStyleElement() {\n    var styleElement = document.createElement('style');\n    styleElement.setAttribute('type', 'text/css');\n    return styleElement;\n}\n\nmodule.exports = insertCss;\nmodule.exports.insertCss = insertCss;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/insert-css/index.js\n// module id = 16\n// module chunks = 0 1 2","import formatHit from './formatHit.js';\nimport version from './version.js';\n\nexport default function createAutocompleteSource(\n  {\n    algoliasearch,\n    clientOptions,\n    apiKey,\n    appId,\n    hitsPerPage,\n    aroundLatLng,\n    aroundRadius,\n    aroundLatLngViaIP,\n    countries,\n    formatInputValue,\n    computeQueryParams = params => params,\n    useDeviceLocation = false,\n    language = navigator.language.split('-')[0],\n    onHits = () => {},\n    onError = e => {\n      throw e;\n    },\n    onRateLimitReached,\n    type,\n  }\n) {\n  const placesClient = algoliasearch.initPlaces(appId, apiKey, clientOptions);\n  placesClient.as.addAlgoliaAgent(`Algolia Places ${version}`);\n\n  const defaultQueryParams = {\n    countries,\n    hitsPerPage: hitsPerPage || 5,\n    language,\n    type,\n  };\n\n  if (typeof defaultQueryParams.countries === 'string') {\n    defaultQueryParams.countries = defaultQueryParams.countries.toLowerCase();\n  }\n\n  if (typeof defaultQueryParams.language === 'string') {\n    defaultQueryParams.language = defaultQueryParams.language.toLowerCase();\n  }\n\n  if (aroundLatLng) {\n    defaultQueryParams.aroundLatLng = aroundLatLng;\n  } else if (aroundLatLngViaIP !== undefined) {\n    defaultQueryParams.aroundLatLngViaIP = aroundLatLngViaIP;\n  }\n\n  if (aroundRadius) {\n    defaultQueryParams.aroundRadius = aroundRadius;\n  }\n\n  let userCoords;\n  if (useDeviceLocation) {\n    navigator.geolocation.watchPosition(({ coords }) => {\n      userCoords = `${coords.latitude},${coords.longitude}`;\n    });\n  }\n\n  return (query, cb) =>\n    placesClient\n      .search(\n        computeQueryParams({\n          ...defaultQueryParams,\n          [userCoords ? 'aroundLatLng' : undefined]: userCoords,\n          query,\n        })\n      )\n      .then(content => {\n        const hits = content.hits.map((hit, hitIndex) =>\n          formatHit({\n            formatInputValue,\n            hit,\n            hitIndex,\n            query,\n            rawAnswer: content,\n          }));\n\n        onHits({\n          hits,\n          query,\n          rawAnswer: content,\n        });\n\n        return hits;\n      })\n      .then(cb)\n      .catch(e => {\n        if (e.statusCode === 429) {\n          onRateLimitReached();\n          return;\n        }\n\n        onError(e);\n      });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/createAutocompleteSource.js","import value from './formatInputValue.js';\nimport suggestion from './formatDropdownValue.js';\nimport algoliaLogo from './icons/algolia.svg';\nimport osmLogo from './icons/osm.svg';\n\nexport default {\n  footer: `<div class=\"ap-footer\">\n  Built by <a href=\"https://www.algolia.com/places\" title=\"Search by Algolia\" class=\"ap-footer-algolia\">${algoliaLogo.trim()}</a>\n  using <a href=\"https://community.algolia.com/places/documentation.html#license\" class=\"ap-footer-osm\" title=\"Algolia Places data © OpenStreetMap contributors\">${osmLogo.trim()} <span>data</span></a>\n  </div>`,\n  value,\n  suggestion,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaultTemplates.js","export default function findCountryCode(tags) {\n  for (let tagIndex = 0; tagIndex < tags.length; tagIndex++) {\n    const tag = tags[tagIndex];\n    const find = tag.match(/country\\/(.*)?/);\n    if (find) {\n      return find[1];\n    }\n  }\n\n  return undefined;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/findCountryCode.js","export default function findType(tags) {\n  const types = {\n    country: 'country',\n    city: 'city',\n    'amenity/bus_station': 'busStop',\n    'amenity/townhall': 'townhall',\n    'railway/station': 'trainStation',\n    'aeroway/aerodrome': 'airport',\n    'aeroway/terminal': 'airport',\n    'aeroway/gate': 'airport',\n  };\n\n  for (const t in types) {\n    if (tags.indexOf(t) !== -1) {\n      return types[t];\n    }\n  }\n\n  return 'address';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/findType.js","import addressIcon from './icons/address.svg';\nimport cityIcon from './icons/city.svg';\nimport countryIcon from './icons/country.svg';\nimport busIcon from './icons/bus.svg';\nimport trainIcon from './icons/train.svg';\nimport townhallIcon from './icons/townhall.svg';\nimport planeIcon from './icons/plane.svg';\n\nconst icons = {\n  address: addressIcon,\n  city: cityIcon,\n  country: countryIcon,\n  busStop: busIcon,\n  trainStation: trainIcon,\n  townhall: townhallIcon,\n  airport: planeIcon,\n};\n\nexport default function formatDropdownValue({ type, highlight }) {\n  const {\n    name,\n    administrative,\n    city,\n    country,\n  } = highlight;\n\n  const out = `<span class=\"ap-suggestion-icon\">${icons[type].trim()}</span>\n<span class=\"ap-name\">${name}</span>\n<span class=\"ap-address\">\n  ${[city, administrative, country]\n    .filter(token => token !== undefined)\n    .join(', ')}</span>`.replace(/\\s*\\n\\s*/g, ' ');\n\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/formatDropdownValue.js","import findCountryCode from './findCountryCode.js';\nimport findType from './findType.js';\n\nfunction getBestHighlightedForm(highlightedValues) {\n  const defaultValue = highlightedValues[0].value;\n  // collect all other matches\n  const bestAttributes = [];\n  for (let i = 1; i < highlightedValues.length; ++i) {\n    if (highlightedValues[i].matchLevel !== 'none') {\n      bestAttributes.push({\n        index: i,\n        matchedWords: highlightedValues[i].words,\n      });\n    }\n  }\n  // no matches in this attribute, retrieve first value\n  if (bestAttributes.length === 0) {\n    return defaultValue;\n  }\n  // sort the matches by `desc(words), asc(index)`\n  bestAttributes.sort((a, b) => {\n    if (a.words > b.words) {\n      return -1;\n    } else if (a.words < b.words) {\n      return 1;\n    }\n    return a.index - b.index;\n  });\n  // and append the best match to the first value\n  return bestAttributes[0].index === 0\n    ? `${defaultValue} (${highlightedValues[bestAttributes[1].index].value})`\n    : `${highlightedValues[bestAttributes[0].index].value} (${defaultValue})`;\n}\n\nexport default function formatHit(\n  {\n    formatInputValue,\n    hit,\n    hitIndex,\n    query,\n    rawAnswer,\n  }\n) {\n  try {\n    const name = hit.locale_names[0];\n    const country = hit.country;\n    const administrative = hit.administrative && hit.administrative[0] !== name\n      ? hit.administrative[0]\n      : undefined;\n    const city = hit.city && hit.city[0] !== name ? hit.city[0] : undefined;\n\n    const highlight = {\n      name: getBestHighlightedForm(hit._highlightResult.locale_names),\n      city: city\n        ? getBestHighlightedForm(hit._highlightResult.city)\n        : undefined,\n      administrative: administrative\n        ? getBestHighlightedForm(hit._highlightResult.administrative)\n        : undefined,\n      country: country ? hit._highlightResult.country.value : undefined,\n    };\n\n    const suggestion = {\n      name,\n      administrative,\n      city,\n      country,\n      countryCode: findCountryCode(hit._tags),\n      type: findType(hit._tags),\n      latlng: {\n        lat: hit._geoloc.lat,\n        lng: hit._geoloc.lng,\n      },\n      postcode: hit.postcode && hit.postcode[0],\n    };\n\n    // this is the value to put inside the <input value=\n    const value = formatInputValue(suggestion);\n\n    return {\n      ...suggestion,\n      highlight,\n      hit,\n      hitIndex,\n      query,\n      rawAnswer,\n      value,\n    };\n  } catch (e) {\n    /* eslint-disable no-console */\n    console.error('Could not parse object', hit);\n    console.error(e);\n    /* eslint-enable no-console */\n    return {\n      value: 'Could not parse object',\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/formatHit.js","export default function formatInputValue(\n  {\n    administrative,\n    city,\n    country,\n    name,\n    type,\n  }\n) {\n  const out = `${name}${type !== 'country' && country !== undefined ? ',' : ''}\n ${city ? `${city},` : ''}\n ${administrative ? `${administrative},` : ''}\n ${country ? country : ''}`\n    .replace(/\\s*\\n\\s*/g, ' ')\n    .trim();\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/formatInputValue.js"]}