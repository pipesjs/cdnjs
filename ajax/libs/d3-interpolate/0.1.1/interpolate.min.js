!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.interpolate={})}(this,function(e){"use strict";function t(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),isNaN(n)&&(n=0),"#"+(16>e?"0"+e.toString(16):e.toString(16))+(16>t?"0"+t.toString(16):t.toString(16))+(16>n?"0"+n.toString(16):n.toString(16))}function n(e,t,n){this.r=Math.max(0,Math.min(255,Math.round(e))),this.g=Math.max(0,Math.min(255,Math.round(t))),this.b=Math.max(0,Math.min(255,Math.round(n)))}function r(){}function s(e){return X(e>>16&255,e>>8&255,255&e)}function a(e,t,n){this.h=+e,this.s=Math.max(0,Math.min(1,+t)),this.l=Math.max(0,Math.min(1,+n))}function i(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function o(e){return function(){return e}}function u(e){return function(t){return e(t)+""}}function l(e){return((e=Math.exp(e))+1/e)/2}function h(e){return((e=Math.exp(e))-1/e)/2}function d(e){return((e=Math.exp(2*e))-1)/(e+1)}function g(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function c(e,t){return e[0]*t[0]+e[1]*t[1]}function f(e){var t=Math.sqrt(c(e,e));return t&&(e[0]/=t,e[1]/=t),t}function p(e){var t=[e.a,e.b],n=[e.c,e.d],r=f(t),s=c(t,n),a=f(g(n,t,-s))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,s*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*D,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(s,a)*D:0}function m(e){if(S||(S=document.createElementNS("http://www.w3.org/2000/svg","g")),null!=e){S.setAttribute("transform",e);var t=S.transform.baseVal.consolidate()}return new p(t?t.matrix:F)}var b=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},w=function(e,t){for(var n,r=P.length;--r>=0&&!(n=P[r](e,t)););return n},y=function(e,t){var n,r={},s={};for(n in e)n in t?r[n]=w(e[n],t[n]):s[n]=e[n];for(n in t)n in e||(s[n]=t[n]);return function(e){for(n in r)s[n]=r[n](e);return s}},k=function(e,t){var n,r=[],s=[],a=e.length,i=t.length,o=Math.min(e.length,t.length);for(n=0;o>n;++n)r.push(w(e[n],t[n]));for(;a>n;++n)s[n]=e[n];for(;i>n;++n)s[n]=t[n];return function(e){for(n=0;o>n;++n)s[n]=r[n](e);return s}};r.prototype={toString:function(){return this.rgb()+""}};var M=n.prototype=new r,v=.7;M.darker=function(e){return e=null==e?v:Math.pow(v,e),new n(this.r*e,this.g*e,this.b*e)};var x=1/v;M.brighter=function(e){return e=null==e?x:Math.pow(x,e),new n(this.r*e,this.g*e,this.b*e)},M.rgb=function(){return this},M.toString=function(){return t(this.r,this.g,this.b)};var N=(new Map).set("aliceblue",15792383).set("antiquewhite",16444375).set("aqua",65535).set("aquamarine",8388564).set("azure",15794175).set("beige",16119260).set("bisque",16770244).set("black",0).set("blanchedalmond",16772045).set("blue",255).set("blueviolet",9055202).set("brown",10824234).set("burlywood",14596231).set("cadetblue",6266528).set("chartreuse",8388352).set("chocolate",13789470).set("coral",16744272).set("cornflowerblue",6591981).set("cornsilk",16775388).set("crimson",14423100).set("cyan",65535).set("darkblue",139).set("darkcyan",35723).set("darkgoldenrod",12092939).set("darkgray",11119017).set("darkgreen",25600).set("darkgrey",11119017).set("darkkhaki",12433259).set("darkmagenta",9109643).set("darkolivegreen",5597999).set("darkorange",16747520).set("darkorchid",10040012).set("darkred",9109504).set("darksalmon",15308410).set("darkseagreen",9419919).set("darkslateblue",4734347).set("darkslategray",3100495).set("darkslategrey",3100495).set("darkturquoise",52945).set("darkviolet",9699539).set("deeppink",16716947).set("deepskyblue",49151).set("dimgray",6908265).set("dimgrey",6908265).set("dodgerblue",2003199).set("firebrick",11674146).set("floralwhite",16775920).set("forestgreen",2263842).set("fuchsia",16711935).set("gainsboro",14474460).set("ghostwhite",16316671).set("gold",16766720).set("goldenrod",14329120).set("gray",8421504).set("green",32768).set("greenyellow",11403055).set("grey",8421504).set("honeydew",15794160).set("hotpink",16738740).set("indianred",13458524).set("indigo",4915330).set("ivory",16777200).set("khaki",15787660).set("lavender",15132410).set("lavenderblush",16773365).set("lawngreen",8190976).set("lemonchiffon",16775885).set("lightblue",11393254).set("lightcoral",15761536).set("lightcyan",14745599).set("lightgoldenrodyellow",16448210).set("lightgray",13882323).set("lightgreen",9498256).set("lightgrey",13882323).set("lightpink",16758465).set("lightsalmon",16752762).set("lightseagreen",2142890).set("lightskyblue",8900346).set("lightslategray",7833753).set("lightslategrey",7833753).set("lightsteelblue",11584734).set("lightyellow",16777184).set("lime",65280).set("limegreen",3329330).set("linen",16445670).set("magenta",16711935).set("maroon",8388608).set("mediumaquamarine",6737322).set("mediumblue",205).set("mediumorchid",12211667).set("mediumpurple",9662683).set("mediumseagreen",3978097).set("mediumslateblue",8087790).set("mediumspringgreen",64154).set("mediumturquoise",4772300).set("mediumvioletred",13047173).set("midnightblue",1644912).set("mintcream",16121850).set("mistyrose",16770273).set("moccasin",16770229).set("navajowhite",16768685).set("navy",128).set("oldlace",16643558).set("olive",8421376).set("olivedrab",7048739).set("orange",16753920).set("orangered",16729344).set("orchid",14315734).set("palegoldenrod",15657130).set("palegreen",10025880).set("paleturquoise",11529966).set("palevioletred",14381203).set("papayawhip",16773077).set("peachpuff",16767673).set("peru",13468991).set("pink",16761035).set("plum",14524637).set("powderblue",11591910).set("purple",8388736).set("rebeccapurple",6697881).set("red",16711680).set("rosybrown",12357519).set("royalblue",4286945).set("saddlebrown",9127187).set("salmon",16416882).set("sandybrown",16032864).set("seagreen",3050327).set("seashell",16774638).set("sienna",10506797).set("silver",12632256).set("skyblue",8900331).set("slateblue",6970061).set("slategray",7372944).set("slategrey",7372944).set("snow",16775930).set("springgreen",65407).set("steelblue",4620980).set("tan",13808780).set("teal",32896).set("thistle",14204888).set("tomato",16737095).set("turquoise",4251856).set("violet",15631086).set("wheat",16113331).set("white",16777215).set("whitesmoke",16119285).set("yellow",16776960).set("yellowgreen",10145074),q=a.prototype=new r;q.brighter=function(e){return e=null==e?x:Math.pow(x,e),new a(this.h,this.s,this.l*e)},q.darker=function(e){return e=null==e?v:Math.pow(v,e),new a(this.h,this.s,this.l*e)},q.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=.5>=r?r*(1+t):r+t-r*t,a=2*r-s;return new n(i(e>=240?e-240:e+120,a,s),i(e,a,s),i(120>e?e+240:e-120,a,s))};var S,j=function(e,t,n){if(1===arguments.length)if(e instanceof a)n=e.l,t=e.s,e=e.h;else if(e instanceof r||(e=T(e)),e){if(e instanceof a)return e;e=e.rgb();var s=e.r/255,i=e.g/255,o=e.b/255,u=Math.min(s,i,o),l=Math.max(s,i,o),h=l-u;n=(l+u)/2,h?(t=.5>n?h/(l+u):h/(2-l-u),e=s===l?(i-o)/h+6*(o>i):i===l?(o-s)/h+2:(s-i)/h+4,e*=60):(e=0/0,t=n>0&&1>n?0:e)}else e=t=n=0/0;return new a(e,t,n)},I=/^#([0-9a-f]{3})$/,$=/^#([0-9a-f]{6})$/,A=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,E=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,R=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,T=function(e){var t;return e=(e+"").trim().toLowerCase(),(t=I.exec(e))?(t=parseInt(t[1],16),X(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=$.exec(e))?s(parseInt(t[1],16)):(t=A.exec(e))?X(t[1],t[2],t[3]):(t=E.exec(e))?X(2.55*t[1],2.55*t[2],2.55*t[3]):(t=R.exec(e))?j(t[1],.01*t[2],.01*t[3]):N.has(e)?s(N.get(e)):null},X=function(e,t,s){return 1===arguments.length&&(e instanceof r||(e=T(e)),e?(e=e.rgb(),s=e.b,t=e.g,e=e.r):e=t=s=0/0),new n(e,t,s)},z=function(e,n){e=X(e),n=X(n);var r=e.r,s=e.g,a=e.b,i=n.r-r,o=n.g-s,u=n.b-a;return function(e){return t(Math.round(r+i*e),Math.round(s+o*e),Math.round(a+u*e))}},C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L=new RegExp(C.source,"g"),O=function(e,t){var n,r,s,a=C.lastIndex=L.lastIndex=0,i=-1,l=[],h=[];for(e+="",t+="";(n=C.exec(e))&&(r=L.exec(t));)(s=r.index)>a&&(s=t.slice(a,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(r=r[0])?l[i]?l[i]+=r:l[++i]=r:(l[++i]=null,h.push({i:i,x:b(n,r)})),a=L.lastIndex;return a<t.length&&(s=t.slice(a),l[i]?l[i]+=s:l[++i]=s),l.length<2?h[0]?u(h[0].x):o(t):(t=h.length,function(e){for(var n,r=0;t>r;++r)l[(n=h[r]).i]=n.x(e);return l.join("")})},P=[function(e,t){var n,r=typeof t;return("string"===r?(n=T(t))?(t=n,z):O:t instanceof T?z:Array.isArray(t)?k:"object"===r&&isNaN(t)?y:b)(e,t)}],Q=Math.SQRT2,V=2,Z=4,B=function(e,t){function n(e){var t=e*v,n=l(y),r=i/(V*m)*(n*d(Q*t+y)-h(y));return[s+r*c,a+r*f,i*n/l(Q*t+y)]}function r(e){return[s+e*c,a+e*f,i*Math.exp(Q*e*v)]}var s=e[0],a=e[1],i=e[2],o=t[0],u=t[1],g=t[2],c=o-s,f=u-a,p=c*c+f*f,m=Math.sqrt(p),b=(g*g-i*i+Z*p)/(2*i*V*m),w=(g*g-i*i-Z*p)/(2*g*V*m),y=Math.log(Math.sqrt(b*b+1)-b),k=Math.log(Math.sqrt(w*w+1)-w),M=k-y,v=(M||Math.log(g/i))/Q,x=M?n:r;return x.duration=1e3*v,x},D=180/Math.PI,F={a:1,b:0,c:0,d:1,e:0,f:0},G=function(e,t){var n,r=[],s=[],a=m(e),i=m(t),o=a.translate,u=i.translate,l=a.rotate,h=i.rotate,d=a.skew,g=i.skew,c=a.scale,f=i.scale;return o[0]!=u[0]||o[1]!=u[1]?(r.push("translate(",null,",",null,")"),s.push({i:1,x:b(o[0],u[0])},{i:3,x:b(o[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),l!=h?(l-h>180?h+=360:h-l>180&&(l+=360),s.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:b(l,h)})):h&&r.push(r.pop()+"rotate("+h+")"),d!=g?s.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:b(d,g)}):g&&r.push(r.pop()+"skewX("+g+")"),c[0]!=f[0]||c[1]!=f[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),s.push({i:n-4,x:b(c[0],f[0])},{i:n-2,x:b(c[1],f[1])})):(1!=f[0]||1!=f[1])&&r.push(r.pop()+"scale("+f+")"),n=s.length,function(e){for(var t,a=-1;++a<n;)r[(t=s[a]).i]=t.x(e);return r.join("")}},H=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}};e.interpolate=w,e.interpolateArray=k,e.interpolateNumber=b,e.interpolateObject=y,e.interpolateRound=H,e.interpolateString=O,e.interpolateTransform=G,e.interpolateZoom=B,e.interpolators=P});