!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.interpolate={})}(this,function(t){"use strict";function n(){}function e(t){var n;return t=(t+"").trim().toLowerCase(),(n=G.exec(t))?(n=parseInt(n[1],16),i(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n)):(n=H.exec(t))?r(parseInt(n[1],16)):(n=J.exec(t))?i(n[1],n[2],n[3]):(n=K.exec(t))?i(255*n[1]/100,255*n[2]/100,255*n[3]/100):(n=U.exec(t))?o(n[1],n[2]/100,n[3]/100):W.hasOwnProperty(t)?r(W[t]):null}function r(t){return i(t>>16&255,t>>8&255,255&t)}function i(t,r,i){return 1===arguments.length&&(t instanceof n||(t=e(t)),t?(t=t.rgb(),i=t.b,r=t.g,t=t.r):t=r=i=NaN),new a(t,r,i)}function a(t,n,e){this.r=+t,this.g=+n,this.b=+e}function s(t,n,e){return"#"+(isNaN(t)?"00":(t=Math.round(t))<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16))+(isNaN(n)?"00":(n=Math.round(n))<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16))+(isNaN(e)?"00":(e=Math.round(e))<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16))}function o(t,r,i){if(1===arguments.length)if(t instanceof u)i=t.l,r=t.s,t=t.h;else if(t instanceof n||(t=e(t)),t){if(t instanceof u)return t;t=t.rgb();var a=t.r/255,s=t.g/255,o=t.b/255,h=Math.min(a,s,o),l=Math.max(a,s,o),c=l-h;i=(l+h)/2,c?(r=.5>i?c/(l+h):c/(2-l-h),t=a===l?(s-o)/c+6*(o>s):s===l?(o-a)/c+2:(a-s)/c+4,t*=60):(t=NaN,r=i>0&&1>i?0:t)}else t=r=i=NaN;return new u(t,r,i)}function u(t,n,e){this.h=+t,this.s=+n,this.l=+e}function h(t,n,e){return 255*(60>t?n+(e-n)*t/60:180>t?e:240>t?n+(e-n)*(240-t)/60:n)}function l(t,n,e){if(1===arguments.length)if(t instanceof c)e=t.b,n=t.a,t=t.l;else if(t instanceof w){var r=t.h*ct;e=Math.sin(r)*t.c,n=Math.cos(r)*t.c,t=t.l}else{t instanceof a||(t=i(t));var s=p(t.r),o=p(t.g),e=p(t.b),u=f((.4124564*s+.3575761*o+.1804375*e)/rt),h=f((.2126729*s+.7151522*o+.072175*e)/it),l=f((.0193339*s+.119192*o+.9503041*e)/at);e=200*(h-l),n=500*(u-h),t=116*h-16}return new c(t,n,e)}function c(t,n,e){this.l=+t,this.a=+n,this.b=+e}function f(t){return t>ht?Math.pow(t,1/3):t/ut+st}function g(t){return t>ot?t*t*t:ut*(t-st)}function d(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function p(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function b(t,n,e){return 1===arguments.length&&(t instanceof w?(e=t.l,n=t.c,t=t.h):(t instanceof c||(t=l(t)),e=t.l,n=Math.sqrt(t.a*t.a+t.b*t.b),t=Math.atan2(t.b,t.a)*ft,0>t&&(t+=360))),new w(t,n,e)}function w(t,n,e){this.h=+t,this.c=+n,this.l=+e}function m(t,n,e){if(1===arguments.length)if(t instanceof y)e=t.l,n=t.s,t=t.h;else{t instanceof a||(t=i(t));var r=t.r/255,s=t.g/255,o=t.b/255;e=(vt*o+yt*r-Mt*s)/(vt+yt-Mt);var u=o-e,h=(mt*(s-e)-bt*u)/wt;n=Math.sqrt(h*h+u*u)/(mt*e*(1-e)),t=n?Math.atan2(h,u)*ft-120:NaN,0>t&&(t+=360)}return new y(t,n,e)}function y(t,n,e){this.h=+t,this.s=+n,this.l=+e}function M(t,n){var e=t-n;return e>180||-180>e?e-360*Math.round(e/360):e}function v(t){return function(n,e){n=m(n),e=m(e);var r=isNaN(n.h)?e.h:n.h,i=isNaN(n.s)?e.s:n.s,a=n.l,s=isNaN(e.h)?0:M(e.h,r),o=isNaN(e.s)?0:e.s-i,u=e.l-a;return function(e){return n.h=r+s*e,n.s=i+o*e,n.l=a+u*Math.pow(e,t),n+""}}}function N(t){return function(n,e){n=m(n),e=m(e);var r=isNaN(n.h)?e.h:n.h,i=isNaN(n.s)?e.s:n.s,a=n.l,s=isNaN(e.h)?0:e.h-r,o=isNaN(e.s)?0:e.s-i,u=e.l-a;return function(e){return n.h=r+s*e,n.s=i+o*e,n.l=a+u*Math.pow(e,t),n+""}}}function k(t,n){t=i(t),n=i(n);var e=t.r,r=t.g,a=t.b,o=n.r-e,u=n.g-r,h=n.b-a;return function(t){return s(Math.round(e+o*t),Math.round(r+u*t),Math.round(a+h*t))}}function x(t,n){for(var e,r=St.length;--r>=0&&!(e=St[r](t,n)););return e}function q(t,n){var e,r=[],i=[],a=t.length,s=n.length,o=Math.min(t.length,n.length);for(e=0;o>e;++e)r.push(x(t[e],n[e]));for(;a>e;++e)i[e]=t[e];for(;s>e;++e)i[e]=n[e];return function(t){for(e=0;o>e;++e)i[e]=r[e](t);return i}}function S(t,n){return t=+t,n-=t,function(e){return t+n*e}}function I(t,n){var e,r={},i={};for(e in t)e in n?r[e]=x(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function j(t){return function(){return t}}function $(t){return function(n){return t(n)+""}}function A(t,n){var e,r,i,a=xt.lastIndex=qt.lastIndex=0,s=-1,o=[],u=[];for(t+="",n+="";(e=xt.exec(t))&&(r=qt.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(e=e[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,u.push({i:s,x:S(e,r)})),a=qt.lastIndex;return a<n.length&&(i=n.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?$(u[0].x):j(n):(n=u.length,function(t){for(var e,r=0;n>r;++r)o[(e=u[r]).i]=e.x(t);return o.join("")})}function P(t){return((t=Math.exp(t))+1/t)/2}function E(t){return((t=Math.exp(t))-1/t)/2}function R(t){return((t=Math.exp(2*t))-1)/(t+1)}function O(t,n){var e,r,i=t[0],a=t[1],s=t[2],o=n[0],u=n[1],h=n[2],l=o-i,c=u-a,f=l*l+c*c;if(At>f)r=Math.log(h/s)/It,e=function(t){return[i+t*l,a+t*c,s*Math.exp(It*t*r)]};else{var g=Math.sqrt(f),d=(h*h-s*s+$t*f)/(2*s*jt*g),p=(h*h-s*s-$t*f)/(2*h*jt*g),b=Math.log(Math.sqrt(d*d+1)-d),w=Math.log(Math.sqrt(p*p+1)-p);r=(w-b)/It,e=function(t){var n=t*r,e=P(b),o=s/(jt*g)*(e*R(It*n+b)-E(b));return[i+o*l,a+o*c,s*e/P(It*n+b)]}}return e.duration=1e3*r,e}function T(t){kt||(kt=document.createElementNS("http://www.w3.org/2000/svg","g")),t&&(kt.setAttribute("transform",t),n=kt.transform.baseVal.consolidate());var n,e=n?n.matrix:Et,r=[e.a,e.b],i=[e.c,e.d],a=z(r),s=X(r,i),o=z(C(i,r,-s))||0;r[0]*i[1]<i[0]*r[1]&&(r[0]*=-1,r[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(r[1],r[0]):Math.atan2(-i[0],i[1]))*Pt,this.translate=[e.e,e.f],this.scale=[a,o],this.skew=o?Math.atan2(s,o)*Pt:0}function X(t,n){return t[0]*n[0]+t[1]*n[1]}function z(t){var n=Math.sqrt(X(t,t));return n&&(t[0]/=n,t[1]/=n),n}function C(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}function L(t){return t.length?t.pop()+",":""}function Q(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:S(t[0],n[0])},{i:i-2,x:S(t[1],n[1])})}else(n[0]||n[1])&&e.push("translate("+n+")")}function V(t,n,e,r){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),r.push({i:e.push(L(e)+"rotate(",null,")")-2,x:S(t,n)})):n&&e.push(L(e)+"rotate("+n+")")}function Z(t,n,e,r){t!==n?r.push({i:e.push(L(e)+"skewX(",null,")")-2,x:S(t,n)}):n&&e.push(L(e)+"skewX("+n+")")}function B(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var i=e.push(L(e)+"scale(",null,",",null,")");r.push({i:i-4,x:S(t[0],n[0])},{i:i-2,x:S(t[1],n[1])})}else(1!==n[0]||1!==n[1])&&e.push(L(e)+"scale("+n+")")}function D(t,n){var e=[],r=[];return t=new T(t),n=new T(n),Q(t.translate,n.translate,e,r),V(t.rotate,n.rotate,e,r),Z(t.skew,n.skew,e,r),B(t.scale,n.scale,e,r),t=n=null,function(t){for(var n,i=-1,a=r.length;++i<a;)e[(n=r[i]).i]=n.x(t);return e.join("")}}function F(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}var G=/^#([0-9a-f]{3})$/,H=/^#([0-9a-f]{6})$/,J=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,K=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,U=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/;e.prototype=n.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var W={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Y=.7,_=1/Y,tt=i.prototype=a.prototype=new n;tt.brighter=function(t){return t=null==t?_:Math.pow(_,t),new a(this.r*t,this.g*t,this.b*t)},tt.darker=function(t){return t=null==t?Y:Math.pow(Y,t),new a(this.r*t,this.g*t,this.b*t)},tt.rgb=function(){return this},tt.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255},tt.toString=function(){return s(this.r,this.g,this.b)};var nt=o.prototype=u.prototype=new n;nt.brighter=function(t){return t=null==t?_:Math.pow(_,t),new u(this.h,this.s,this.l*t)},nt.darker=function(t){return t=null==t?Y:Math.pow(Y,t),new u(this.h,this.s,this.l*t)},nt.rgb=function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(.5>e?e:1-e)*n,i=2*e-r;return new a(h(t>=240?t-240:t+120,i,r),h(t,i,r),h(120>t?t+240:t-120,i,r))},nt.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1};var et=18,rt=.95047,it=1,at=1.08883,st=4/29,ot=6/29,ut=3*ot*ot,ht=ot*ot*ot,lt=l.prototype=c.prototype=new n;lt.brighter=function(t){return new c(this.l+et*(null==t?1:t),this.a,this.b)},lt.darker=function(t){return new c(this.l-et*(null==t?1:t),this.a,this.b)},lt.rgb=function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=it*g(t),n=rt*g(n),e=at*g(e),new a(d(3.2404542*n-1.5371385*t-.4985314*e),d(-.969266*n+1.8760108*t+.041556*e),d(.0556434*n-.2040259*t+1.0572252*e))};var ct=Math.PI/180,ft=180/Math.PI,gt=b.prototype=w.prototype=new n;gt.brighter=function(t){return new w(this.h,this.c,this.l+et*(null==t?1:t))},gt.darker=function(t){return new w(this.h,this.c,this.l-et*(null==t?1:t))},gt.rgb=function(){return l(this).rgb()};var dt=-.14861,pt=1.78277,bt=-.29227,wt=-.90649,mt=1.97294,yt=mt*wt,Mt=mt*pt,vt=pt*bt-wt*dt,Nt=m.prototype=y.prototype=new n;Nt.brighter=function(t){return t=null==t?_:Math.pow(_,t),new y(this.h,this.s,this.l*t)},Nt.darker=function(t){return t=null==t?Y:Math.pow(Y,t),new y(this.h,this.s,this.l*t)},Nt.rgb=function(){var t=isNaN(this.h)?0:(this.h+120)*ct,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new a(255*(n+e*(dt*r+pt*i)),255*(n+e*(bt*r+wt*i)),255*(n+e*(mt*r)))};var kt,xt=(v(1),N(1),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),qt=new RegExp(xt.source,"g"),St=[function(t,n){var r,i=typeof n;return("string"===i?(r=e(n))?(n=r,k):A:n instanceof e?k:Array.isArray(n)?q:"object"===i&&isNaN(n)?I:S)(t,n)}],It=Math.SQRT2,jt=2,$t=4,At=1e-12,Pt=180/Math.PI,Et={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolate=x,t.interpolateArray=q,t.interpolateNumber=S,t.interpolateObject=I,t.interpolateRound=F,t.interpolateString=A,t.interpolateTransform=D,t.interpolateZoom=O,t.interpolators=St});