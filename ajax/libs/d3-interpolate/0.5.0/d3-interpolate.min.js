!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],t):t(n.d3_interpolate={},n.d3_color)}(this,function(n,t){"use strict";function r(n,r){n=t.rgb(n),r=t.rgb(r);var e=n.r,i=n.g,a=n.b,u=r.r-e,o=r.g-i,s=r.b-a;return function(t){return n.r=e+u*t,n.g=i+o*t,n.b=a+s*t,n+""}}function e(n,t){var r,e=[],i=[],a=n?n.length:0,u=t?t.length:0,o=Math.min(a,u);for(r=0;o>r;++r)e.push(l(n[r],t[r]));for(;a>r;++r)i[r]=n[r];for(;u>r;++r)i[r]=t[r];return function(n){for(r=0;o>r;++r)i[r]=e[r](n);return i}}function i(n,t){return n=+n,t-=n,function(r){return n+t*r}}function a(n,t){var r,e={},i={};(null===n||"object"!=typeof n)&&(n={}),(null===t||"object"!=typeof t)&&(t={});for(r in n)r in t?e[r]=l(n[r],t[r]):i[r]=n[r];for(r in t)r in n||(i[r]=t[r]);return function(n){for(r in e)i[r]=e[r](n);return i}}function u(n){return function(){return n}}function o(n){return function(t){return n(t)+""}}function s(n,t){var r,e,a,s=E.lastIndex=S.lastIndex=0,l=-1,c=[],h=[];for(n+="",t+="";(r=E.exec(n))&&(e=S.exec(t));)(a=e.index)>s&&(a=t.slice(s,a),c[l]?c[l]+=a:c[++l]=a),(r=r[0])===(e=e[0])?c[l]?c[l]+=e:c[++l]=e:(c[++l]=null,h.push({i:l,x:i(r,e)})),s=S.lastIndex;return s<t.length&&(a=t.slice(s),c[l]?c[l]+=a:c[++l]=a),c.length<2?h[0]?o(h[0].x):u(t):(t=h.length,function(n){for(var r,e=0;t>e;++e)c[(r=h[e]).i]=r.x(n);return c.join("")})}function l(n,t){for(var r,e=C.length;--e>=0&&!(r=C[e](n,t)););return r}function c(n,t){return n=+n,t-=n,function(r){return Math.round(n+t*r)}}function h(n){R||(R=document.createElementNS("http://www.w3.org/2000/svg","g")),n&&(R.setAttribute("transform",n),t=R.transform.baseVal.consolidate());var t,r=t?t.matrix:X,e=[r.a,r.b],i=[r.c,r.d],a=N(e),u=f(e,i),o=N(p(i,e,-u))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,a*=-1,u*=-1),this.rotate=(a?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*T,this.translate=[r.e,r.f],this.scale=[a,o],this.skew=o?Math.atan2(u,o)*T:0}function f(n,t){return n[0]*t[0]+n[1]*t[1]}function N(n){var t=Math.sqrt(f(n,n));return t&&(n[0]/=t,n[1]/=t),t}function p(n,t,r){return n[0]+=r*t[0],n[1]+=r*t[1],n}function x(n){return n.length?n.pop()+",":""}function g(n,t,r,e){if(n[0]!==t[0]||n[1]!==t[1]){var a=r.push("translate(",null,",",null,")");e.push({i:a-4,x:i(n[0],t[0])},{i:a-2,x:i(n[1],t[1])})}else(t[0]||t[1])&&r.push("translate("+t+")")}function b(n,t,r,e){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),e.push({i:r.push(x(r)+"rotate(",null,")")-2,x:i(n,t)})):t&&r.push(x(r)+"rotate("+t+")")}function d(n,t,r,e){n!==t?e.push({i:r.push(x(r)+"skewX(",null,")")-2,x:i(n,t)}):t&&r.push(x(r)+"skewX("+t+")")}function v(n,t,r,e){if(n[0]!==t[0]||n[1]!==t[1]){var a=r.push(x(r)+"scale(",null,",",null,")");e.push({i:a-4,x:i(n[0],t[0])},{i:a-2,x:i(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&r.push(x(r)+"scale("+t+")")}function M(n,t){var r=[],e=[];return n=new h(n),t=new h(t),g(n.translate,t.translate,r,e),b(n.rotate,t.rotate,r,e),d(n.skew,t.skew,r,e),v(n.scale,t.scale,r,e),n=t=null,function(n){for(var t,i=-1,a=e.length;++i<a;)r[(t=e[i]).i]=t.x(n);return r.join("")}}function m(n){return((n=Math.exp(n))+1/n)/2}function w(n){return((n=Math.exp(n))-1/n)/2}function y(n){return((n=Math.exp(2*n))-1)/(n+1)}function j(n,t){var r,e,i=n[0],a=n[1],u=n[2],o=t[0],s=t[1],l=t[2],c=o-i,h=s-a,f=c*c+h*h;if(Q>f)e=Math.log(l/u)/_,r=function(n){return[i+n*c,a+n*h,u*Math.exp(_*n*e)]};else{var N=Math.sqrt(f),p=(l*l-u*u+P*f)/(2*u*O*N),x=(l*l-u*u-P*f)/(2*l*O*N),g=Math.log(Math.sqrt(p*p+1)-p),b=Math.log(Math.sqrt(x*x+1)-x);e=(b-g)/_,r=function(n){var t=n*e,r=m(g),o=u/(O*N)*(r*y(_*t+g)-w(g));return[i+o*c,a+o*h,u*r/m(_*t+g)]}}return r.duration=1e3*e,r}function k(n,t){var r=n-t;return r>180||-180>r?r-360*Math.round(r/360):r}function q(n,r){n=t.hsl(n),r=t.hsl(r);var e=isNaN(n.h)?r.h:n.h,i=isNaN(n.s)?r.s:n.s,a=n.l,u=isNaN(r.h)?0:k(r.h,e),o=isNaN(r.s)?0:r.s-i,s=r.l-a;return function(t){return n.h=e+u*t,n.s=i+o*t,n.l=a+s*t,n+""}}function A(n,r){n=t.hsl(n),r=t.hsl(r);var e=isNaN(n.h)?r.h:n.h,i=isNaN(n.s)?r.s:n.s,a=n.l,u=isNaN(r.h)?0:r.h-e,o=isNaN(r.s)?0:r.s-i,s=r.l-a;return function(t){return n.h=e+u*t,n.s=i+o*t,n.l=a+s*t,n+""}}function H(n,r){n=t.lab(n),r=t.lab(r);var e=n.l,i=n.a,a=n.b,u=r.l-e,o=r.a-i,s=r.b-a;return function(t){return n.l=e+u*t,n.a=i+o*t,n.b=a+s*t,n+""}}function I(n,r){n=t.hcl(n),r=t.hcl(r);var e=isNaN(n.h)?r.h:n.h,i=isNaN(n.c)?r.c:n.c,a=n.l,u=isNaN(r.h)?0:k(r.h,e),o=isNaN(r.c)?0:r.c-i,s=r.l-a;return function(t){return n.h=e+u*t,n.c=i+o*t,n.l=a+s*t,n+""}}function L(n,r){n=t.hcl(n),r=t.hcl(r);var e=isNaN(n.h)?r.h:n.h,i=isNaN(n.c)?r.c:n.c,a=n.l,u=isNaN(r.h)?0:r.h-e,o=isNaN(r.c)?0:r.c-i,s=r.l-a;return function(t){return n.h=e+u*t,n.c=i+o*t,n.l=a+s*t,n+""}}var R,E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S=new RegExp(E.source,"g"),C=[function(n,u){var o,l=typeof u;return("string"===l?(o=t.color(u))?(u=o,r):s:u instanceof t.color?r:Array.isArray(u)?e:"object"===l&&isNaN(u)?a:i)(n,u)}],T=180/Math.PI,X={a:1,b:0,c:0,d:1,e:0,f:0},_=Math.SQRT2,O=2,P=4,Q=1e-12,V=function B(n){function r(r,e){r=t.cubehelix(r),e=t.cubehelix(e);var i=isNaN(r.h)?e.h:r.h,a=isNaN(r.s)?e.s:r.s,u=r.l,o=isNaN(e.h)?0:k(e.h,i),s=isNaN(e.s)?0:e.s-a,l=e.l-u;return function(t){return r.h=i+o*t,r.s=a+s*t,r.l=u+l*Math.pow(t,n),r+""}}return n=+n,r.gamma=B,r}(1),Z=function D(n){function r(r,e){r=t.cubehelix(r),e=t.cubehelix(e);var i=isNaN(r.h)?e.h:r.h,a=isNaN(r.s)?e.s:r.s,u=r.l,o=isNaN(e.h)?0:e.h-i,s=isNaN(e.s)?0:e.s-a,l=e.l-u;return function(t){return r.h=i+o*t,r.s=a+s*t,r.l=u+l*Math.pow(t,n),r+""}}return n=+n,r.gamma=D,r}(1),z="0.5.0";n.version=z,n.interpolate=l,n.interpolators=C,n.interpolateArray=e,n.interpolateNumber=i,n.interpolateObject=a,n.interpolateRound=c,n.interpolateString=s,n.interpolateTransform=M,n.interpolateZoom=j,n.interpolateRgb=r,n.interpolateHsl=q,n.interpolateHslLong=A,n.interpolateLab=H,n.interpolateHcl=I,n.interpolateHclLong=L,n.interpolateCubehelix=V,n.interpolateCubehelixLong=Z});