!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],n):n(t.d3_interpolate={},t.d3_color)}(this,function(t,n){"use strict";function r(t,r){t=n.rgb(t),r=n.rgb(r);var e=t.r,a=t.g,i=t.b,o=r.r||0,u=r.g||0,l=r.b||0;return isNaN(e)&&(e=o),isNaN(a)&&(a=u),isNaN(i)&&(i=l),o-=e,u-=a,l-=i,function(n){return t.r=e+o*n,t.g=a+u*n,t.b=i+l*n,t+""}}function e(t,n){var r,e=[],a=[],i=t?t.length:0,o=n?n.length:0,u=Math.min(i,o);for(r=0;u>r;++r)e.push(s(t[r],n[r]));for(;i>r;++r)a[r]=t[r];for(;o>r;++r)a[r]=n[r];return function(t){for(r=0;u>r;++r)a[r]=e[r](t);return a}}function a(t,n){return t=+t,n-=t,function(r){return t+n*r}}function i(t,n){var r,e={},a={};(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={});for(r in t)r in n?e[r]=s(t[r],n[r]):a[r]=t[r];for(r in n)r in t||(a[r]=n[r]);return function(t){for(r in e)a[r]=e[r](t);return a}}function o(t){return function(){return t}}function u(t){return function(n){return t(n)+""}}function l(t,n){var r,e,i,l=E.lastIndex=S.lastIndex=0,s=-1,c=[],h=[];for(t+="",n+="";(r=E.exec(t))&&(e=S.exec(n));)(i=e.index)>l&&(i=n.slice(l,i),c[s]?c[s]+=i:c[++s]=i),(r=r[0])===(e=e[0])?c[s]?c[s]+=e:c[++s]=e:(c[++s]=null,h.push({i:s,x:a(r,e)})),l=S.lastIndex;return l<n.length&&(i=n.slice(l),c[s]?c[s]+=i:c[++s]=i),c.length<2?h[0]?u(h[0].x):o(n):(n=h.length,function(t){for(var r,e=0;n>e;++e)c[(r=h[e]).i]=r.x(t);return c.join("")})}function s(t,n){for(var r,e=C.length;--e>=0&&!(r=C[e](t,n)););return r}function c(t,n){return t=+t,n-=t,function(r){return Math.round(t+n*r)}}function h(t){R||(R=document.createElementNS("http://www.w3.org/2000/svg","g")),t&&(R.setAttribute("transform",t),n=R.transform.baseVal.consolidate());var n,r=n?n.matrix:X,e=[r.a,r.b],a=[r.c,r.d],i=p(e),o=f(e,a),u=p(N(a,e,-o))||0;e[0]*a[1]<a[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,o*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-a[0],a[1]))*T,this.translate=[r.e,r.f],this.scale=[i,u],this.skew=u?Math.atan2(o,u)*T:0}function f(t,n){return t[0]*n[0]+t[1]*n[1]}function p(t){var n=Math.sqrt(f(t,t));return n&&(t[0]/=n,t[1]/=n),n}function N(t,n,r){return t[0]+=r*n[0],t[1]+=r*n[1],t}function g(t){return t.length?t.pop()+",":""}function b(t,n,r,e){if(t[0]!==n[0]||t[1]!==n[1]){var i=r.push("translate(",null,",",null,")");e.push({i:i-4,x:a(t[0],n[0])},{i:i-2,x:a(t[1],n[1])})}else(n[0]||n[1])&&r.push("translate("+n+")")}function x(t,n,r,e){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),e.push({i:r.push(g(r)+"rotate(",null,")")-2,x:a(t,n)})):n&&r.push(g(r)+"rotate("+n+")")}function M(t,n,r,e){t!==n?e.push({i:r.push(g(r)+"skewX(",null,")")-2,x:a(t,n)}):n&&r.push(g(r)+"skewX("+n+")")}function v(t,n,r,e){if(t[0]!==n[0]||t[1]!==n[1]){var i=r.push(g(r)+"scale(",null,",",null,")");e.push({i:i-4,x:a(t[0],n[0])},{i:i-2,x:a(t[1],n[1])})}else(1!==n[0]||1!==n[1])&&r.push(g(r)+"scale("+n+")")}function d(t,n){var r=[],e=[];return t=new h(t),n=new h(n),b(t.translate,n.translate,r,e),x(t.rotate,n.rotate,r,e),M(t.skew,n.skew,r,e),v(t.scale,n.scale,r,e),t=n=null,function(t){for(var n,a=-1,i=e.length;++a<i;)r[(n=e[a]).i]=n.x(t);return r.join("")}}function w(t){return((t=Math.exp(t))+1/t)/2}function m(t){return((t=Math.exp(t))-1/t)/2}function y(t){return((t=Math.exp(2*t))-1)/(t+1)}function j(t,n){var r,e,a=t[0],i=t[1],o=t[2],u=n[0],l=n[1],s=n[2],c=u-a,h=l-i,f=c*c+h*h;if(Q>f)e=Math.log(s/o)/_,r=function(t){return[a+t*c,i+t*h,o*Math.exp(_*t*e)]};else{var p=Math.sqrt(f),N=(s*s-o*o+P*f)/(2*o*O*p),g=(s*s-o*o-P*f)/(2*s*O*p),b=Math.log(Math.sqrt(N*N+1)-N),x=Math.log(Math.sqrt(g*g+1)-g);e=(x-b)/_,r=function(t){var n=t*e,r=w(b),u=o/(O*p)*(r*y(_*n+b)-m(b));return[a+u*c,i+u*h,o*r/w(_*n+b)]}}return r.duration=1e3*e,r}function k(t,n){var r=t-n;return r>180||-180>r?r-360*Math.round(r/360):r}function q(t,r){t=n.hsl(t),r=n.hsl(r);var e=t.h,a=t.s,i=t.l,o=r.h,u=r.s,l=r.l||0;return isNaN(e)&&(e=o),isNaN(a)&&(a=u),isNaN(i)&&(i=l),o=k(o,e)||0,u=u-a||0,l-=i,function(n){return t.h=e+o*n,t.s=a+u*n,t.l=i+l*n,t+""}}function A(t,r){t=n.hsl(t),r=n.hsl(r);var e=t.h,a=t.s,i=t.l,o=r.h,u=r.s,l=r.l||0;return isNaN(e)&&(e=o),isNaN(a)&&(a=u),isNaN(i)&&(i=l),o=o-e||0,u=u-a||0,l-=i,function(n){return t.h=e+o*n,t.s=a+u*n,t.l=i+l*n,t+""}}function H(t,r){t=n.lab(t),r=n.lab(r);var e=t.l,a=t.a,i=t.b,o=r.l||0,u=r.a||0,l=r.b||0;return isNaN(e)&&(e=o),isNaN(a)&&(a=u),isNaN(i)&&(i=l),o-=e,u-=a,l-=i,function(n){return t.l=e+o*n,t.a=a+u*n,t.b=i+l*n,t+""}}function I(t,r){t=n.hcl(t),r=n.hcl(r);var e=t.h,a=t.c,i=t.l,o=r.h,u=r.c,l=r.l||0;return isNaN(e)&&(e=o),isNaN(a)&&(a=u),isNaN(i)&&(i=l),o=k(o,e)||0,u=u-a||0,l-=i,function(n){return t.h=e+o*n,t.c=a+u*n,t.l=i+l*n,t+""}}function L(t,r){t=n.hcl(t),r=n.hcl(r);var e=t.h,a=t.c,i=t.l,o=r.h,u=r.c,l=r.l||0;return isNaN(e)&&(e=o),isNaN(a)&&(a=u),isNaN(i)&&(i=l),o=o-e||0,u=u-a||0,l-=i,function(n){return t.h=e+o*n,t.c=a+u*n,t.l=i+l*n,t+""}}r.gamma=function B(t){function r(r,e){r=n.rgb(r),e=n.rgb(e);var a=Math.pow(r.r,t),i=Math.pow(r.g,t),o=Math.pow(r.b,t),u=Math.pow(e.r||0,t),l=Math.pow(e.g||0,t),s=Math.pow(e.b||0,t);return isNaN(a)&&(a=u),isNaN(i)&&(i=l),isNaN(o)&&(o=s),u-=a,l-=i,s-=o,t=1/t,function(n){return r.r=Math.pow(a+u*n,t),r.g=Math.pow(i+l*n,t),r.b=Math.pow(o+s*n,t),r+""}}return t=+t,r.gamma=B,r};var R,E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S=new RegExp(E.source,"g"),C=[function(t,o){var u,s=typeof o;return("string"===s?(u=n.color(o))?(o=u,r):l:o instanceof n.color?r:Array.isArray(o)?e:"object"===s&&isNaN(o)?i:a)(t,o)}],T=180/Math.PI,X={a:1,b:0,c:0,d:1,e:0,f:0},_=Math.SQRT2,O=2,P=4,Q=1e-12,V=function D(t){function r(r,e){r=n.cubehelix(r),e=n.cubehelix(e);var a=r.h,i=r.s,o=r.l,u=e.h,l=e.s,s=e.l||0;return isNaN(a)&&(a=u),isNaN(i)&&(i=l),isNaN(o)&&(o=s),u=k(u,a)||0,l=l-i||0,s-=o,function(n){return r.h=a+u*n,r.s=i+l*n,r.l=o+s*Math.pow(n,t),r+""}}return t=+t,r.gamma=D,r}(1),Z=function F(t){function r(r,e){r=n.cubehelix(r),e=n.cubehelix(e);var a=r.h,i=r.s,o=r.l,u=e.h,l=e.s,s=e.l||0;return isNaN(a)&&(a=u),isNaN(i)&&(i=l),isNaN(o)&&(o=s),u=u-a||0,l=l-i||0,s-=o,function(n){return r.h=a+u*n,r.s=i+l*n,r.l=o+s*Math.pow(n,t),r+""}}return t=+t,r.gamma=F,r}(1),z="0.5.1";t.version=z,t.interpolate=s,t.interpolators=C,t.interpolateArray=e,t.interpolateNumber=a,t.interpolateObject=i,t.interpolateRound=c,t.interpolateString=l,t.interpolateTransform=d,t.interpolateZoom=j,t.interpolateRgb=r,t.interpolateHsl=q,t.interpolateHslLong=A,t.interpolateLab=H,t.interpolateHcl=I,t.interpolateHclLong=L,t.interpolateCubehelix=V,t.interpolateCubehelixLong=Z});