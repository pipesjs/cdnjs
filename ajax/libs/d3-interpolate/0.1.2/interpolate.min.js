!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.interpolate={})}(this,function(t){"use strict";function e(t,e){return t=+t,e-=t,function(n){return t+e*n}}function n(t,e){for(var n,r=tt.length;--r>=0&&!(n=tt[r](t,e)););return n}function r(t,e){var r,i={},a={};for(r in t)r in e?i[r]=n(t[r],e[r]):a[r]=t[r];for(r in e)r in t||(a[r]=e[r]);return function(t){for(r in i)a[r]=i[r](t);return a}}function i(t,e){var r,i=[],a=[],o=t.length,s=e.length,u=Math.min(t.length,e.length);for(r=0;u>r;++r)i.push(n(t[r],e[r]));for(;o>r;++r)a[r]=t[r];for(;s>r;++r)a[r]=e[r];return function(t){for(r=0;u>r;++r)a[r]=i[r](t);return a}}function a(){}function o(t){var e;return t=(t+"").trim().toLowerCase(),(e=A.exec(t))?(e=parseInt(e[1],16),u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e)):(e=P.exec(t))?s(parseInt(e[1],16)):(e=E.exec(t))?u(e[1],e[2],e[3]):(e=R.exec(t))?u(255*e[1]/100,255*e[2]/100,255*e[3]/100):(e=O.exec(t))?g(e[1],e[2]/100,e[3]/100):T.hasOwnProperty(t)?s(T[t]):null}function s(t){return u(t>>16&255,t>>8&255,255&t)}function u(t,e,n){return 1===arguments.length&&(t instanceof a||(t=o(t)),t?(t=t.rgb(),n=t.b,e=t.g,t=t.r):t=e=n=NaN),new l(t,e,n)}function l(t,e,n){this.r=+t,this.g=+e,this.b=+n}function h(t,e,n){return"#"+(isNaN(t)?"00":(t=Math.round(t))<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16))+(isNaN(e)?"00":(e=Math.round(e))<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16))+(isNaN(n)?"00":(n=Math.round(n))<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16))}function g(t,e,n){if(1===arguments.length)if(t instanceof c)n=t.l,e=t.s,t=t.h;else if(t instanceof a||(t=o(t)),t){if(t instanceof c)return t;t=t.rgb();var r=t.r/255,i=t.g/255,s=t.b/255,u=Math.min(r,i,s),l=Math.max(r,i,s),h=l-u;n=(l+u)/2,h?(e=.5>n?h/(l+u):h/(2-l-u),t=r===l?(i-s)/h+6*(s>i):i===l?(s-r)/h+2:(r-i)/h+4,t*=60):(t=NaN,e=n>0&&1>n?0:t)}else t=e=n=NaN;return new c(t,e,n)}function c(t,e,n){this.h=+t,this.s=+e,this.l=+n}function d(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function f(t,e,n){if(1===arguments.length)if(t instanceof p)n=t.l,e=t.s,t=t.h;else{t instanceof l||(t=u(t));var r=t.r/255,i=t.g/255,a=t.b/255;n=(K*a+H*r-J*i)/(K+H-J);var o=a-n,s=(G*(i-n)-D*o)/F;e=Math.sqrt(s*s+o*o)/(G*n*(1-n)),t=e?Math.atan2(s,o)*V-120:NaN,0>t&&(t+=360)}return new p(t,e,n)}function p(t,e,n){this.h=+t,this.s=+e,this.l=+n}function b(t,e){t=u(t),e=u(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,o=e.g-r,s=e.b-i;return function(t){return h(Math.round(n+a*t),Math.round(r+o*t),Math.round(i+s*t))}}function m(t){return function(){return t}}function w(t){return function(e){return t(e)+""}}function y(t,n){var r,i,a,o=Y.lastIndex=_.lastIndex=0,s=-1,u=[],l=[];for(t+="",n+="";(r=Y.exec(t))&&(i=_.exec(n));)(a=i.index)>o&&(a=n.slice(o,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,l.push({i:s,x:e(r,i)})),o=_.lastIndex;return o<n.length&&(a=n.slice(o),u[s]?u[s]+=a:u[++s]=a),u.length<2?l[0]?w(l[0].x):m(n):(n=l.length,function(t){for(var e,r=0;n>r;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})}function M(t){return((t=Math.exp(t))+1/t)/2}function k(t){return((t=Math.exp(t))-1/t)/2}function v(t){return((t=Math.exp(2*t))-1)/(t+1)}function x(t,e){function n(t){var e=t*y,n=M(b),r=o/(nt*d)*(n*v(et*e+b)-k(b));return[i+r*h,a+r*g,o*n/M(et*e+b)]}function r(t){return[i+t*h,a+t*g,o*Math.exp(et*t*y)]}var i=t[0],a=t[1],o=t[2],s=e[0],u=e[1],l=e[2],h=s-i,g=u-a,c=h*h+g*g,d=Math.sqrt(c),f=(l*l-o*o+rt*c)/(2*o*nt*d),p=(l*l-o*o-rt*c)/(2*l*nt*d),b=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(p*p+1)-p),w=m-b,y=(w||Math.log(l/o))/et,x=w?n:r;return x.duration=1e3*y,x}function N(t){W||(W=document.createElementNS("http://www.w3.org/2000/svg","g")),t&&(W.setAttribute("transform",t),e=W.transform.baseVal.consolidate());var e,n=e?e.matrix:at,r=[n.a,n.b],i=[n.c,n.d],a=S(r),o=q(r,i),s=S(I(i,r,-o))||0;r[0]*i[1]<i[0]*r[1]&&(r[0]*=-1,r[1]*=-1,a*=-1,o*=-1),this.rotate=(a?Math.atan2(r[1],r[0]):Math.atan2(-i[0],i[1]))*it,this.translate=[n.e,n.f],this.scale=[a,s],this.skew=s?Math.atan2(o,s)*it:0}function q(t,e){return t[0]*e[0]+t[1]*e[1]}function S(t){var e=Math.sqrt(q(t,t));return e&&(t[0]/=e,t[1]/=e),e}function I(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function j(t,n){var r,i=[],a=[],o=new N(t),s=new N(n),u=o.translate,l=s.translate,h=o.rotate,g=s.rotate,c=o.skew,d=s.skew,f=o.scale,p=s.scale;return u[0]!=l[0]||u[1]!=l[1]?(i.push("translate(",null,",",null,")"),a.push({i:1,x:e(u[0],l[0])},{i:3,x:e(u[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),h!=g?(h-g>180?g+=360:g-h>180&&(h+=360),a.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:e(h,g)})):g&&i.push(i.pop()+"rotate("+g+")"),c!=d?a.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:e(c,d)}):d&&i.push(i.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(r=i.push(i.pop()+"scale(",null,",",null,")"),a.push({i:r-4,x:e(f[0],p[0])},{i:r-2,x:e(f[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),r=a.length,function(t){for(var e,n=-1;++n<r;)i[(e=a[n]).i]=e.x(t);return i.join("")}}function $(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}var A=/^#([0-9a-f]{3})$/,P=/^#([0-9a-f]{6})$/,E=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,R=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,O=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/;o.prototype=a.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},X=.7,z=1/X,C=u.prototype=l.prototype=new a;C.brighter=function(t){return t=null==t?z:Math.pow(z,t),new l(this.r*t,this.g*t,this.b*t)},C.darker=function(t){return t=null==t?X:Math.pow(X,t),new l(this.r*t,this.g*t,this.b*t)},C.rgb=function(){return this},C.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255},C.toString=function(){return h(this.r,this.g,this.b)};var L=g.prototype=c.prototype=new a;L.brighter=function(t){return t=null==t?z:Math.pow(z,t),new c(this.h,this.s,this.l*t)},L.darker=function(t){return t=null==t?X:Math.pow(X,t),new c(this.h,this.s,this.l*t)},L.rgb=function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(.5>n?n:1-n)*e,i=2*n-r;return new l(d(t>=240?t-240:t+120,i,r),d(t,i,r),d(120>t?t+240:t-120,i,r))},L.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1};var Q=Math.PI/180,V=180/Math.PI,Z=-.14861,B=1.78277,D=-.29227,F=-.90649,G=1.97294,H=G*F,J=G*B,K=B*D-F*Z,U=f.prototype=p.prototype=new a;U.brighter=function(t){return t=null==t?z:Math.pow(z,t),new p(this.h,this.s,this.l*t)},U.darker=function(t){return t=null==t?X:Math.pow(X,t),new p(this.h,this.s,this.l*t)},U.rgb=function(){var t=isNaN(this.h)?0:(this.h+120)*Q,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new l(255*(e+n*(Z*r+B*i)),255*(e+n*(D*r+F*i)),255*(e+n*G*r))};var W,Y=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(Y.source,"g"),tt=[function(t,n){var a,s=typeof n;return("string"===s?(a=o(n))?(n=a,b):y:n instanceof o?b:Array.isArray(n)?i:"object"===s&&isNaN(n)?r:e)(t,n)}],et=Math.SQRT2,nt=2,rt=4,it=180/Math.PI,at={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolate=n,t.interpolateArray=i,t.interpolateNumber=e,t.interpolateObject=r,t.interpolateRound=$,t.interpolateString=y,t.interpolateTransform=j,t.interpolateZoom=x,t.interpolators=tt});