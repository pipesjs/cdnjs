{"version":3,"file":"bundle.js","sources":["/Users/oncletom/workspace/peaks.js/node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/oncletom/workspace/peaks.js/src/main.js","/Users/oncletom/workspace/peaks.js/bower_components/eventemitter2/lib/eventemitter2.js","/Users/oncletom/workspace/peaks.js/src/main/player/player.js","/Users/oncletom/workspace/peaks.js/src/main/waveform/waveform.core.js","/Users/oncletom/workspace/peaks.js/src/main/waveform/waveform.mixins.js","/Users/oncletom/workspace/peaks.js/src/main/player/player.keyboard.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/waveform-data.js","/Users/oncletom/workspace/peaks.js/bower_components/KineticJS/index.js","/Users/oncletom/workspace/peaks.js/src/main/views/waveform.overview.js","/Users/oncletom/workspace/peaks.js/src/main/views/waveform.zoomview.js","/Users/oncletom/workspace/peaks.js/src/main/markers/waveform.segments.js","/Users/oncletom/workspace/peaks.js/src/main/markers/waveform.points.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/lib/core.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/lib/builders/webaudio.js","/Users/oncletom/workspace/peaks.js/src/main/waveform/waveform.axis.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/lib/adapters/index.js","/Users/oncletom/workspace/peaks.js/src/main/markers/shapes/wave.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/lib/segment.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/lib/point.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/lib/adapters/arraybuffer.js","/Users/oncletom/workspace/peaks.js/bower_components/waveform-data/lib/adapters/object.js","/Users/oncletom/workspace/peaks.js/src/main/markers/shapes/base.js"],"names":["Peaks","container","this","options","zoomLevels","dataUri","dataUriDefaultFormat","keyboard","nudgeIncrement","inMarkerColor","outMarkerColor","zoomWaveformColor","overviewWaveformColor","randomizeSegmentColor","height","segmentColor","playheadColor","template","join","pointMarkerColor","pointDblClickHandler","pointDragEndHandler","currentZoomLevel","EventEmitter","require","AudioPlayer","Waveform","mixins","buildUi","player","querySelector","zoom","overview","extend","to","from","key","init","opts","audioElement","mediaElement","console","log","Error","HTMLMediaElement","TypeError","clientWidth","instance","segmentInMarker","defaultInMarker","segmentOutMarker","defaultOutMarker","segmentLabelDraw","defaultSegmentLabelDraw","pointMarker","defaultPointMarker","innerHTML","HTMLElement","appendChild","waveform","on","openZoomView","segments","addSegment","points","addPoint","prototype","Object","create","get","startTime","endTime","editable","color","labelText","arguments","Array","isArray","forEach","segment","self","createSegment","render","add","remove","index","RangeError","String","updateSegments","splice","pop","removeByTime","fnFilter","indexes","filter","map","i","sort","a","b","length","removeAll","getSegments","timestamp","createPoint","bind","getPoints","point","time","setCurrentTime","seekBySeconds","getCurrentTime","getTime","zoomIn","setZoom","zoomOut","zoomLevelIndex","previousZoomLevel","emit","getZoom","waveformOverview","data","adapter","scale","reset","module","exports","_events","_conf","configure","call","conf","delimiter","maxListeners","wildcard","newListener","listenerTree","searchListenerTree","handlers","type","tree","leaf","len","branch","xTree","xxTree","isolatedBranch","endReached","listeners","typeLength","currentType","nextType","_listeners","push","hasOwnProperty","concat","**","growListenerTree","listener","split","slice","name","shift","warned","m","defaultMaxListeners","error","trace","obj","toString","setMaxListeners","n","event","once","fn","many","ttl","off","apply","_origin","_all","l","args","handler","ns","onAny","addListener","leafs","iLeaf","position","offAny","fns","removeListener","removeAllListeners","listenersAny","define","amd","EventEmitter2","window","radio","peaks","_helpers","timeFromPercentage","percentage","that","duration","readyState","addEventListener","setSource","source","setAttribute","getSource","src","play","pause","currentTime","getTimeFromPercentage","p","niceTime","getSecsFromPercentage","Math","floor","getDuration","getPercentage","getPercentageFromSeconds","s","round","seek","seconds","WaveformData","WaveformOverview","WaveformZoomView","WaveformSegments","WaveformPoints","isXhr2","XMLHttpRequest","ui","getRemoteData","xhr","uri","requestType","builder","some","connector","toLowerCase","Boolean","builders","webaudio","getAudioContext","currentSrc","open","responseType","e","onload","response","status","target","handleRemoteData","send","remoteData","origWaveformData","overviewWaveformData","resample","bindResize","waveformZoomView","hidden","resizeTimeoutId","clearTimeout","setTimeout","w","removeAttribute","createPointHandle","draggable","parent","onDrag","onDblClick","onDragEnd","markerTop","markerX","handleTop","handleBottom","markerBottom","handleX","handlePoints","group","Kinetic","Group","dragBoundFunc","pos","x","y","getAbsolutePosition","xPosition","text","Text","fontSize","fontFamily","fill","textAlign","hide","label","handle","Polygon","stroke","strokeWidth","show","setX","getWidth","view","pointLayer","draw","drawWaveform","ctx","min","max","offset_start","offset_length","beginPath","val","lineTo","reverse","closePath","interpolateHeightGenerator","total_height","amplitude","size","createHandle","inMarker","limit","outMarker","getX","segmentLayer","interpolateHeight","waveformDrawFunction","canvas","intermediateData","getContext","fillStroke","waveformOverviewMarkerDrawFunction","xIndex","viewGroup","waveformShape","setPoints","waveformRectDrawFunction","undefined","refWaveformRect","setAttrs","width","dropHundredths","hundredths","minutes","hours","result","handleKeyEventGenerator","peaksInstance","c","keyCode","t","indexOf","nodeName","SPACE","TAB","LEFT_ARROW","RIGHT_ARROW","preventDefault","shiftKey","document","adapters","version","Filters","Node","_init","Shape","__init","Container","Stage","___init","Layer","Global","stages","idCounter","ids","names","shapes","listenClickTap","inDblClickWindow","dblClickWindow","isDragging","DD","isDragReady","node","_addId","_removeId","_addName","_removeName","d","_id","returnExports","Collection","each","toArray","toCollection","mapMethods","Transform","translate","rotate","cos","sin","f","g","getTranslation","skew","multiply","invert","getMatrix","PI","h","j","k","aqua","lime","silver","black","maroon","teal","blue","navy","white","fuchsia","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","o","Util","_isElement","nodeType","_isFunction","constructor","_isObject","_isArray","_isNumber","_isString","_hasMethods","_isInDocument","parentNode","_getXY","_getSize","_getPoints","_getImage","Image","createElement","putImageData","toDataURL","_rgbToHex","_hexToRgb","replace","parseInt","r","getRandomColor","random","getRGB","substring","substr","exec","_merge","_clone","_degToRad","_radToDeg","_capitalize","charAt","toUpperCase","warn","addMethods","_getControlPoints","sqrt","pow","q","_expandPoints","_removeLastLetter","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","Canvas","pixelRatio","contextType","element","style","padding","margin","border","background","top","left","context","setSize","getElement","setWidth","setHeight","getHeight","clear","clearRect","message","getFillEnabled","_fill","getStrokeEnabled","_stroke","hasShadow","hasFill","applyShadow","save","_applyShadow","restore","_applyLineCap","getLineCap","lineCap","_applyOpacity","getAbsoluteOpacity","globalAlpha","_applyLineJoin","getLineJoin","lineJoin","_applyAncestorTransforms","_eachAncestorReverse","getTransform","transform","_clip","getClipFunc","clip","setTransform","SceneCanvas","_fillColor","getFill","fillStyle","_fillFunc","_fillPattern","getFillPatternImage","getFillPatternX","getFillPatternY","getFillPatternScale","getFillPatternRotation","getFillPatternOffset","getFillPatternRepeat","createPattern","_fillLinearGradient","getFillLinearGradientStartPoint","getFillLinearGradientEndPoint","getFillLinearGradientColorStops","createLinearGradient","addColorStop","_fillRadialGradient","getFillRadialGradientStartPoint","getFillRadialGradientEndPoint","getFillRadialGradientStartRadius","getFillRadialGradientEndRadius","getFillRadialGradientColorStops","createRadialGradient","getFillPriority","getStroke","getStrokeWidth","getDashArray","getStrokeScaleEnabled","getDashArrayEnabled","setLineDash","mozDash","webkitLineDash","lineWidth","strokeStyle","_strokeFunc","getShadowEnabled","getShadowColor","getShadowBlur","getShadowOffset","getShadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","HitCanvas","colorKey","_fillFuncHit","_strokeFuncHit","u","v","z","A","B","eventListeners","attrs","_off","getParent","children","_setChildrenIndices","destroy","getId","getName","getAttr","setAttr","getAttrs","_setAttr","getVisible","visible","setVisible","getZIndex","getAbsoluteZIndex","getChildren","getLevel","getStage","setPosition","setY","getPosition","getY","getAbsoluteTransform","getOffset","setAbsolutePosition","_clearTransform","_setTransform","move","unshift","setRotation","getRotation","rotateDeg","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","getOpacity","moveTo","toObject","className","getClassName","toJSON","JSON","stringify","getLayer","fire","_fireAndBubble","_fire","_getAndCacheTransform","getScaleX","getScaleY","getSkewX","getSkewY","getOffsetX","getOffsetY","cachedTransform","clone","mimeType","quality","drawScene","toImage","callback","getSize","getType","_get","rotation","scaleX","scaleY","offsetX","offsetY","skewX","skewY","_fireBeforeChangeEvent","oldVal","newVal","_fireChangeEvent","setId","setName","targetNode","cancelBubble","drawHit","shouldDrawHit","isVisible","isListening","isDraggable","addGetterSetter","addGetter","addSetter","addPointGetterSetter","addPointGetter","addPointSetter","addPointsGetterSetter","addPointsGetter","addPointsSetter","addPointAdder","addRotationGetterSetter","addRotationGetter","addRotationSetter","addColorGetterSetter","addColorRGBGetter","addColorComponentGetter","addColorRGBSetter","addColorComponentSetter","_createNode","parse","getListening","Animation","func","setLayers","id","animIdCounter","frame","timeDiff","lastTime","Date","layers","getLayers","addLayer","isRunning","animations","start","stop","_addAnimation","_removeAnimation","_updateFrameObject","frameRate","animRunning","_handleAnimation","_runFrames","_animationLoop","requestAnimFrame","RAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","batchDraw","batchAnim","lastBatchDrawTime","easing","onFinish","yoyo","Tween","Easings","Linear","anim","tween","onEnterFrame","_tweenFunc","_addListeners","tweens","_addAttr","onReset","diff","onPlay","onReverse","onPause","finish","prop","propFunc","begin","_pos","_change","prevPos","_time","_position","_startTime","_finish","setTime","update","state","getTimer","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","abs","asin","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","offset","_drag","getPointerPosition","getDragBoundFunc","_endDragBefore","dragEndNode","_endDragAfter","startDrag","stopDrag","setDraggable","_dragChange","_listenDrag","_dragCleanup","getDraggable","getElementsByTagName","hasChildren","removeChildren","destroyChildren","_validateAdd","child","_getNodeById","_getNodesByName","isAncestorOf","_getDescendants","getAllIntersections","intersects","getCanvas","hitCanvas","_setDrawFuncs","getShadowOffsetX","getShadowOffsetY","getImageData","enableFill","disableFill","enableStroke","disableStroke","enableStrokeScale","disableStrokeScale","enableShadow","disableShadow","enableDashArray","disableDashArray","getDrawFunc","_fireBeforeDrawEvents","_fireDrawEvents","drawHitFunc","drawFunc","setDrawFunc","setDrawHitFunc","content","_buildDOM","_bindContentEvents","setContainer","getElementById","_resizeDOM","getContainer","removeChild","getMousePosition","mousePos","getTouchPosition","touchPos","getContent","drawImage","getIntersection","bufferCanvas","_setPointerPosition","_setMousePosition","_setTouchPosition","_mouseover","_mouseout","targetShape","_mousemove","shape","pixel","_mousedown","clickStartShape","_mouseup","_touchstart","tapStartShape","_touchend","_touchmove","clientX","_getContentPosition","clientY","touches","getBoundingClientRect","display","_onContent","getClearBeforeDraw","getHitCanvas","insertBefore","Rect","getCornerRadius","arc","rect","Circle","getRadius","setRadius","Ellipse","Wedge","getAngle","getClockwise","getCrop","getFilter","_applyFilter","applyFilter","filterCanvas","getImage","_drawImage","imageHitRegion","clearFilter","setCrop","createImageHitRegion","clearImageHitRegion","addFilterGetterSetter","addFilterSetter","fillText","partialText","strokeText","_setTextData","getPadding","getFontStyle","getFontSize","getFontFamily","getTextHeight","getLineHeight","textArr","font","_getContextFont","textBaseline","getAlign","setText","getTextWidth","textWidth","textHeight","_getTextSize","measureText","_addTextLine","_getTextWidth","getText","getWrap","C","D","E","F","G","H","lastIndexOf","Line","Spline","_setAllPoints","getTension","allPoints","quadraticCurveTo","bezierCurveTo","Blob","Sprite","setIndex","getAnimation","getIndex","getAnimations","interval","setInterval","_updateIndex","afterFrameFunc","afterFrameIndex","getFrameRate","clearInterval","afterFrame","Path","dataArray","parsePathData","getData","command","getLineLength","getPointOnLine","getPointOnCubicBezier","getPointOnQuadraticBezier","getPointOnEllipticalArc","RegExp","parseFloat","isNaN","convertEndpointToCenterParameterization","pathLength","calcLength","acos","TextPath","dummyCanvas","charArr","glyphInfo","p0","p1","atan2","transposeX","transposeY","RegularPolygon","sides","radius","Star","innerRadius","outerRadius","numPoints","Label","____init","_sync","getTag","getPointerDirection","getPointerWidth","pointerHeight","getPointerHeight","Tag","Grayscale","Brighten","getFilterBrightness","Invert","next","I","J","K","L","M","N","O","P","Q","R","Blur","getFilterRadius","Mask","getFilterThreshold","waveformData","clientHeight","frameOffset","seeking","stage","waveformLayer","createWaveform","createRefWaveform","createUi","cancelSeeking","updateRefWaveform","layerX","playheadPixel","at_time","updateUi","end","newWaveformData","WaveformAxis","refLayer","opacity","cornerRadius","playheadLine","_getPlayheadPoints","uiLayer","axis","time_in","time_out","offset_in","offset_out","set_segment","pixelOffset","cur_scale","rootData","playing","pixelLength","zoomWaveformLayer","createZoomWaveform","dX","updateZoomWaveform","userSeekHandler","frameIndex","seekFrame","playFrom","syncPlayhead","playheadLineAnimation","current_scale","previous_scale","startZoomAnimation","nudgeFrame","step","zoomWaveformShape","seconds_per_pixel","zoomPlayheadLine","zoomPlayheadText","align","zoomPlayheadGroup","remPixels","startPosition","frameSeconds","pixelsPerSecond","pixels_per_second","positionInFrame","newFrame","nextOffset","pixelIndex","upperLimit","in_offset","currentSampleRate","previousSampleRate","input_index","output_index","lastFrameOffsetTime","frameData","numOfFrames","frame_sample_rate","newWidthSeconds","sample_rate","oldPixelIndex","newPixelIndex","resampled","runZoomAnimation","intermediate_data","SegmentShape","views","createSegmentWaveform","segmentId","getSegmentColor","segmentZoomGroup","segmentOverviewGroup","segmentGroups","menter","mleave","segmentGroup","createShape","segmentHandleDrag","updateSegmentWaveform","overviewStartOffset","overviewEndOffset","zoomStartOffset","zoomEndOffset","frameStartOffset","frameEndOffset","startPixel","endPixel","thisSeg","inOffset","outOffset","constructPoint","pointZoomGroup","pointOverviewGroup","pointGroups","pointGroup","marker","pointHandleDrag","waveformView","updatePoint","set_point","overviewtimestampOffset","zoomtimestampOffset","thisPoint","updatePoints","WaveformDataSegment","WaveformDataPoint","response_data","fromResponseData","xhrData","responseText","keys","adapter_id","isCompatible","data_length","offset_end","identifier","timeStamp","remove_point","is_partial_resampling","definedPartialOptionsCount","reduce","count","output_data","samples_per_pixel","channel_count","input_buffer_size","min_sample","max_sample","min_value","max_value","where","prev_where","value","last_input_index","sample_at_pixel","add_sample","object",{"end":{"file":"?","comments_before":[],"nlb":false,"endpos":14145,"pos":14142,"col":6,"line":430,"value":"min","type":"name"},"start":{"file":"?","comments_before":[],"nlb":false,"endpos":14145,"pos":14142,"col":6,"line":430,"value":"min","type":"name"},"name":"min"},"offsetValues","correction","values","at","offset_duration","fromAudioObjectBuilder","raw_response","scale_adjuster","decodeAudioData","audio_buffer","left_channel","right_channel","data_object","DataView","ArrayBuffer","Infinity","scale_counter","buffer_length","setInt32","setUint32","sampleRate","getChannelData","sample","setInt8","buffer","arraybuffer","AudioContext","webkitAudioContext","roundUpToNearest","multiple","remainder","axisShape","axisDrawFunction","getAxisLabelScale","secs","baseSecs","steps","minSpacing","pixels","currentFrameStartTime","markerHeight","axisLabelIntervalSecs","firstAxisLabelSecs","axisLabelOffsetSecs","axisLabelOffsetPixels","labelWidth","labelX","labelY","BaseShape","WaveShape","segmentData","WaveformDataArrayBufferAdapter","getInt32","is_8_bit","getUint32","is_16_bit","getInt8","WaveformDataObjectAdapter","bits","noop","throwUndefined"],"mappings":"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,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKwC,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GA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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var EventEmitter = require('EventEmitter'), AudioPlayer = require('peaks/player/player'), Waveform = require('peaks/waveform/waveform.core'), mixins = require('peaks/waveform/waveform.mixins'), keyboard = require('peaks/player/player.keyboard');\n'use strict';\nvar buildUi = function (container) {\n    return {\n        'player': container.querySelector('.waveform'),\n        'zoom': container.querySelector('.zoom-container'),\n        'overview': container.querySelector('.overview-container')\n    };\n};\nvar extend = function (to, from) {\n    for (var key in from) {\n        to[key] = from[key];\n    }\n    return to;\n};\nfunction Peaks(container) {\n    this.options = {\n        zoomLevels: [\n            512,\n            1024,\n            2048,\n            4096\n        ],\n        dataUri: null,\n        dataUriDefaultFormat: 'json',\n        keyboard: false,\n        nudgeIncrement: 0.01,\n        inMarkerColor: '#a0a0a0',\n        outMarkerColor: '#a0a0a0',\n        zoomWaveformColor: 'rgba(0, 225, 128, 1)',\n        overviewWaveformColor: 'rgba(0,0,0,0.2)',\n        randomizeSegmentColor: true,\n        height: 200,\n        segmentColor: 'rgba(255, 161, 39, 1)',\n        playheadColor: 'rgba(0, 0, 0, 1)',\n        template: [\n            '<div class=\"waveform\">',\n            '<div class=\"zoom-container\"></div>',\n            '<div class=\"overview-container\"></div>',\n            '</div>'\n        ].join(''),\n        pointMarkerColor: '#FF0000',\n        pointDblClickHandler: null,\n        pointDragEndHandler: null\n    };\n    this.container = container;\n    this.currentZoomLevel = 0;\n}\nPeaks.init = function init(opts) {\n    opts = opts || {};\n    if (opts.audioElement) {\n        opts.mediaElement = opts.audioElement;\n        if (console && typeof console.log === 'function') {\n            console.log('`audioElement` option is deprecated. Please use `mediaElement` instead.');\n        }\n    }\n    if (!opts.mediaElement) {\n        throw new Error('Please provide an audio element.');\n    }\n    if (!(opts.mediaElement instanceof HTMLMediaElement)) {\n        throw new TypeError('[Peaks.init] The mediaElement option should be an HTMLMediaElement.');\n    }\n    if (!opts.container) {\n        throw new Error('Please provide a container object.');\n    }\n    if (opts.container.clientWidth > 0 === false) {\n        throw new TypeError('Please ensure that the container has a width.');\n    }\n    var instance = new Peaks(opts.container);\n    extend(instance.options, opts);\n    extend(instance.options, {\n        segmentInMarker: mixins.defaultInMarker(instance.options),\n        segmentOutMarker: mixins.defaultOutMarker(instance.options),\n        segmentLabelDraw: mixins.defaultSegmentLabelDraw(instance.options),\n        pointMarker: mixins.defaultPointMarker(instance.options)\n    });\n    if (typeof instance.options.template === 'string') {\n        instance.container.innerHTML = instance.options.template;\n    } else if (instance.options.template instanceof HTMLElement) {\n        instance.container.appendChild(instance.options.template);\n    } else {\n        throw new TypeError('Please ensure you provide an HTML string or a DOM template as `template` instance option. Provided: ' + instance.options.template);\n    }\n    if (instance.options.keyboard)\n        keyboard.init(instance);\n    instance.player = new AudioPlayer(instance);\n    instance.player.init(instance.options.mediaElement);\n    instance.waveform = new Waveform(instance);\n    instance.waveform.init(buildUi(instance.container));\n    instance.on('waveformOverviewReady', function () {\n        instance.waveform.openZoomView();\n        if (instance.options.segments) {\n            instance.segments.addSegment(instance.options.segments);\n        }\n        if (instance.options.points) {\n            instance.points.addPoint(instance.options.points);\n        }\n    });\n    return instance;\n};\nPeaks.prototype = Object.create(EventEmitter.prototype, {\n    segments: {\n        get: function () {\n            var self = this;\n            function addSegment(startTime, endTime, editable, color, labelText) {\n                var segments = arguments[0];\n                if (typeof segments === 'number') {\n                    segments = [{\n                            startTime: startTime,\n                            endTime: endTime,\n                            editable: editable,\n                            color: color,\n                            labelText: labelText\n                        }];\n                }\n                if (Array.isArray(segments)) {\n                    segments.forEach(function (segment) {\n                        self.waveform.segments.createSegment(segment.startTime, segment.endTime, segment.editable, segment.color, segment.labelText);\n                    });\n                    self.waveform.segments.render();\n                } else {\n                    throw new TypeError('[Peaks.segments.addSegment] Unrecognized segment parameters.');\n                }\n            }\n            return {\n                addSegment: addSegment,\n                add: addSegment,\n                remove: function (segment) {\n                    var index = self.waveform.segments.remove(segment);\n                    if (index === null) {\n                        throw new RangeError('Unable to find the requested segment' + String(segment));\n                    }\n                    self.waveform.segments.updateSegments();\n                    return self.waveform.segments.segments.splice(index, 1).pop();\n                },\n                removeByTime: function (startTime, endTime) {\n                    endTime = typeof endTime === 'number' ? endTime : 0;\n                    var fnFilter;\n                    if (endTime > 0) {\n                        fnFilter = function (segment) {\n                            return segment.startTime === startTime && segment.endTime === endTime;\n                        };\n                    } else {\n                        fnFilter = function (segment) {\n                            return segment.startTime === startTime;\n                        };\n                    }\n                    var indexes = self.waveform.segments.segments.filter(fnFilter).map(function (segment, i) {\n                            self.waveform.segments.remove(segment);\n                            return i;\n                        }).sort(function (a, b) {\n                            return b - a;\n                        }).map(function (index) {\n                            self.waveform.segments.segments.splice(index, 1);\n                            return index;\n                        });\n                    self.waveform.segments.updateSegments();\n                    return indexes.length;\n                },\n                removeAll: function () {\n                    self.waveform.segments.segments.forEach(function (segment) {\n                        self.waveform.segments.remove(segment);\n                    });\n                    self.waveform.segments.segments = [];\n                    self.waveform.segments.updateSegments();\n                },\n                getSegments: function () {\n                    return self.waveform.segments.segments;\n                }\n            };\n        }\n    },\n    points: {\n        get: function () {\n            var self = this;\n            return {\n                add: function (timestamp, editable, color, labelText) {\n                    var points = arguments[0];\n                    if (typeof points === 'number') {\n                        points = [{\n                                timestamp: timestamp,\n                                editable: editable,\n                                color: color,\n                                labelText: labelText\n                            }];\n                    }\n                    if (Array.isArray(points)) {\n                        points.forEach(self.waveform.points.createPoint.bind(self.waveform.points));\n                        self.waveform.points.render();\n                    } else {\n                        throw new TypeError('[Peaks.points.addPoint] Unrecognized point parameters.');\n                    }\n                },\n                getPoints: function () {\n                    return self.waveform.points.points;\n                },\n                removeByTime: function (timestamp) {\n                    var indexes = self.waveform.points.points.filter(function (point) {\n                            return point.timestamp === timestamp;\n                        }).map(function (point, i) {\n                            self.waveform.points.remove(point);\n                            return i;\n                        }).sort(function (a, b) {\n                            return b - a;\n                        }).map(function (index) {\n                            self.waveform.points.points.splice(index, 1);\n                            return index;\n                        });\n                    self.waveform.points.render();\n                    return indexes.length;\n                }\n            };\n        }\n    },\n    time: {\n        get: function () {\n            var self = this;\n            return {\n                setCurrentTime: function setCurrentTime(time) {\n                    return self.player.seekBySeconds(time);\n                },\n                getCurrentTime: function () {\n                    return self.player.getTime();\n                }\n            };\n        }\n    },\n    zoom: {\n        get: function () {\n            var self = this;\n            return {\n                zoomIn: function () {\n                    self.zoom.setZoom(self.currentZoomLevel - 1);\n                },\n                zoomOut: function () {\n                    self.zoom.setZoom(self.currentZoomLevel + 1);\n                },\n                setZoom: function (zoomLevelIndex) {\n                    if (zoomLevelIndex >= self.options.zoomLevels.length) {\n                        zoomLevelIndex = self.options.zoomLevels.length - 1;\n                    }\n                    if (zoomLevelIndex < 0) {\n                        zoomLevelIndex = 0;\n                    }\n                    var previousZoomLevel = self.currentZoomLevel;\n                    self.currentZoomLevel = zoomLevelIndex;\n                    self.emit('zoom.update', self.options.zoomLevels[zoomLevelIndex], self.options.zoomLevels[previousZoomLevel]);\n                },\n                getZoom: function () {\n                    return self.currentZoomLevel;\n                },\n                overview: function zoomToOverview() {\n                    self.emit('zoom.update', self.waveform.waveformOverview.data.adapter.scale, self.options.zoomLevels[self.currentZoomLevel]);\n                },\n                reset: function resetOverview() {\n                    self.emit('zoom.update', self.options.zoomLevels[self.currentZoomLevel], self.waveform.waveformOverview.data.adapter.scale);\n                }\n            };\n        }\n    }\n});\nmodule.exports = Peaks;","/*!\n * EventEmitter2\n * https://github.com/hij1nx/EventEmitter2\n *\n * Copyright (c) 2013 hij1nx\n * Licensed under the MIT license.\n */\n;!function(undefined) {\n\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  var defaultMaxListeners = 10;\n\n  function init() {\n    this._events = {};\n    if (this._conf) {\n      configure.call(this, this._conf);\n    }\n  }\n\n  function configure(conf) {\n    if (conf) {\n\n      this._conf = conf;\n\n      conf.delimiter && (this.delimiter = conf.delimiter);\n      conf.maxListeners && (this._events.maxListeners = conf.maxListeners);\n      conf.wildcard && (this.wildcard = conf.wildcard);\n      conf.newListener && (this.newListener = conf.newListener);\n\n      if (this.wildcard) {\n        this.listenerTree = {};\n      }\n    }\n  }\n\n  function EventEmitter(conf) {\n    this._events = {};\n    this.newListener = false;\n    configure.call(this, conf);\n  }\n\n  //\n  // Attention, function return type now is array, always !\n  // It has zero elements if no any matches found and one or more\n  // elements (leafs) if there are matches\n  //\n  function searchListenerTree(handlers, type, tree, i) {\n    if (!tree) {\n      return [];\n    }\n    var listeners=[], leaf, len, branch, xTree, xxTree, isolatedBranch, endReached,\n        typeLength = type.length, currentType = type[i], nextType = type[i+1];\n    if (i === typeLength && tree._listeners) {\n      //\n      // If at the end of the event(s) list and the tree has listeners\n      // invoke those listeners.\n      //\n      if (typeof tree._listeners === 'function') {\n        handlers && handlers.push(tree._listeners);\n        return [tree];\n      } else {\n        for (leaf = 0, len = tree._listeners.length; leaf < len; leaf++) {\n          handlers && handlers.push(tree._listeners[leaf]);\n        }\n        return [tree];\n      }\n    }\n\n    if ((currentType === '*' || currentType === '**') || tree[currentType]) {\n      //\n      // If the event emitted is '*' at this part\n      // or there is a concrete match at this patch\n      //\n      if (currentType === '*') {\n        for (branch in tree) {\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\n            listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+1));\n          }\n        }\n        return listeners;\n      } else if(currentType === '**') {\n        endReached = (i+1 === typeLength || (i+2 === typeLength && nextType === '*'));\n        if(endReached && tree._listeners) {\n          // The next element has a _listeners, add it to the handlers.\n          listeners = listeners.concat(searchListenerTree(handlers, type, tree, typeLength));\n        }\n\n        for (branch in tree) {\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\n            if(branch === '*' || branch === '**') {\n              if(tree[branch]._listeners && !endReached) {\n                listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], typeLength));\n              }\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\n            } else if(branch === nextType) {\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+2));\n            } else {\n              // No match on this one, shift into the tree but not in the type array.\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\n            }\n          }\n        }\n        return listeners;\n      }\n\n      listeners = listeners.concat(searchListenerTree(handlers, type, tree[currentType], i+1));\n    }\n\n    xTree = tree['*'];\n    if (xTree) {\n      //\n      // If the listener tree will allow any match for this part,\n      // then recursively explore all branches of the tree\n      //\n      searchListenerTree(handlers, type, xTree, i+1);\n    }\n\n    xxTree = tree['**'];\n    if(xxTree) {\n      if(i < typeLength) {\n        if(xxTree._listeners) {\n          // If we have a listener on a '**', it will catch all, so add its handler.\n          searchListenerTree(handlers, type, xxTree, typeLength);\n        }\n\n        // Build arrays of matching next branches and others.\n        for(branch in xxTree) {\n          if(branch !== '_listeners' && xxTree.hasOwnProperty(branch)) {\n            if(branch === nextType) {\n              // We know the next element will match, so jump twice.\n              searchListenerTree(handlers, type, xxTree[branch], i+2);\n            } else if(branch === currentType) {\n              // Current node matches, move into the tree.\n              searchListenerTree(handlers, type, xxTree[branch], i+1);\n            } else {\n              isolatedBranch = {};\n              isolatedBranch[branch] = xxTree[branch];\n              searchListenerTree(handlers, type, { '**': isolatedBranch }, i+1);\n            }\n          }\n        }\n      } else if(xxTree._listeners) {\n        // We have reached the end and still on a '**'\n        searchListenerTree(handlers, type, xxTree, typeLength);\n      } else if(xxTree['*'] && xxTree['*']._listeners) {\n        searchListenerTree(handlers, type, xxTree['*'], typeLength);\n      }\n    }\n\n    return listeners;\n  }\n\n  function growListenerTree(type, listener) {\n\n    type = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n\n    //\n    // Looks for two consecutive '**', if so, don't add the event at all.\n    //\n    for(var i = 0, len = type.length; i+1 < len; i++) {\n      if(type[i] === '**' && type[i+1] === '**') {\n        return;\n      }\n    }\n\n    var tree = this.listenerTree;\n    var name = type.shift();\n\n    while (name) {\n\n      if (!tree[name]) {\n        tree[name] = {};\n      }\n\n      tree = tree[name];\n\n      if (type.length === 0) {\n\n        if (!tree._listeners) {\n          tree._listeners = listener;\n        }\n        else if(typeof tree._listeners === 'function') {\n          tree._listeners = [tree._listeners, listener];\n        }\n        else if (isArray(tree._listeners)) {\n\n          tree._listeners.push(listener);\n\n          if (!tree._listeners.warned) {\n\n            var m = defaultMaxListeners;\n\n            if (typeof this._events.maxListeners !== 'undefined') {\n              m = this._events.maxListeners;\n            }\n\n            if (m > 0 && tree._listeners.length > m) {\n\n              tree._listeners.warned = true;\n              console.error('(node) warning: possible EventEmitter memory ' +\n                            'leak detected. %d listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit.',\n                            tree._listeners.length);\n              console.trace();\n            }\n          }\n        }\n        return true;\n      }\n      name = type.shift();\n    }\n    return true;\n  }\n\n  // By default EventEmitters will print a warning if more than\n  // 10 listeners are added to it. This is a useful default which\n  // helps finding memory leaks.\n  //\n  // Obviously not all Emitters should be limited to 10. This function allows\n  // that to be increased. Set to zero for unlimited.\n\n  EventEmitter.prototype.delimiter = '.';\n\n  EventEmitter.prototype.setMaxListeners = function(n) {\n    this._events || init.call(this);\n    this._events.maxListeners = n;\n    if (!this._conf) this._conf = {};\n    this._conf.maxListeners = n;\n  };\n\n  EventEmitter.prototype.event = '';\n\n  EventEmitter.prototype.once = function(event, fn) {\n    this.many(event, 1, fn);\n    return this;\n  };\n\n  EventEmitter.prototype.many = function(event, ttl, fn) {\n    var self = this;\n\n    if (typeof fn !== 'function') {\n      throw new Error('many only accepts instances of Function');\n    }\n\n    function listener() {\n      if (--ttl === 0) {\n        self.off(event, listener);\n      }\n      fn.apply(this, arguments);\n    }\n\n    listener._origin = fn;\n\n    this.on(event, listener);\n\n    return self;\n  };\n\n  EventEmitter.prototype.emit = function() {\n\n    this._events || init.call(this);\n\n    var type = arguments[0];\n\n    if (type === 'newListener' && !this.newListener) {\n      if (!this._events.newListener) { return false; }\n    }\n\n    // Loop through the *_all* functions and invoke them.\n    if (this._all) {\n      var l = arguments.length;\n      var args = new Array(l - 1);\n      for (var i = 1; i < l; i++) args[i - 1] = arguments[i];\n      for (i = 0, l = this._all.length; i < l; i++) {\n        this.event = type;\n        this._all[i].apply(this, args);\n      }\n    }\n\n    // If there is no 'error' event listener then throw.\n    if (type === 'error') {\n\n      if (!this._all &&\n        !this._events.error &&\n        !(this.wildcard && this.listenerTree.error)) {\n\n        if (arguments[1] instanceof Error) {\n          throw arguments[1]; // Unhandled 'error' event\n        } else {\n          throw new Error(\"Uncaught, unspecified 'error' event.\");\n        }\n        return false;\n      }\n    }\n\n    var handler;\n\n    if(this.wildcard) {\n      handler = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\n    }\n    else {\n      handler = this._events[type];\n    }\n\n    if (typeof handler === 'function') {\n      this.event = type;\n      if (arguments.length === 1) {\n        handler.call(this);\n      }\n      else if (arguments.length > 1)\n        switch (arguments.length) {\n          case 2:\n            handler.call(this, arguments[1]);\n            break;\n          case 3:\n            handler.call(this, arguments[1], arguments[2]);\n            break;\n          // slower\n          default:\n            var l = arguments.length;\n            var args = new Array(l - 1);\n            for (var i = 1; i < l; i++) args[i - 1] = arguments[i];\n            handler.apply(this, args);\n        }\n      return true;\n    }\n    else if (handler) {\n      var l = arguments.length;\n      var args = new Array(l - 1);\n      for (var i = 1; i < l; i++) args[i - 1] = arguments[i];\n\n      var listeners = handler.slice();\n      for (var i = 0, l = listeners.length; i < l; i++) {\n        this.event = type;\n        listeners[i].apply(this, args);\n      }\n      return (listeners.length > 0) || !!this._all;\n    }\n    else {\n      return !!this._all;\n    }\n\n  };\n\n  EventEmitter.prototype.on = function(type, listener) {\n\n    if (typeof type === 'function') {\n      this.onAny(type);\n      return this;\n    }\n\n    if (typeof listener !== 'function') {\n      throw new Error('on only accepts instances of Function');\n    }\n    this._events || init.call(this);\n\n    // To avoid recursion in the case that type == \"newListeners\"! Before\n    // adding it to the listeners, first emit \"newListeners\".\n    this.emit('newListener', type, listener);\n\n    if(this.wildcard) {\n      growListenerTree.call(this, type, listener);\n      return this;\n    }\n\n    if (!this._events[type]) {\n      // Optimize the case of one listener. Don't need the extra array object.\n      this._events[type] = listener;\n    }\n    else if(typeof this._events[type] === 'function') {\n      // Adding the second element, need to change to array.\n      this._events[type] = [this._events[type], listener];\n    }\n    else if (isArray(this._events[type])) {\n      // If we've already got an array, just append.\n      this._events[type].push(listener);\n\n      // Check for listener leak\n      if (!this._events[type].warned) {\n\n        var m = defaultMaxListeners;\n\n        if (typeof this._events.maxListeners !== 'undefined') {\n          m = this._events.maxListeners;\n        }\n\n        if (m > 0 && this._events[type].length > m) {\n\n          this._events[type].warned = true;\n          console.error('(node) warning: possible EventEmitter memory ' +\n                        'leak detected. %d listeners added. ' +\n                        'Use emitter.setMaxListeners() to increase limit.',\n                        this._events[type].length);\n          console.trace();\n        }\n      }\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.onAny = function(fn) {\n\n    if (typeof fn !== 'function') {\n      throw new Error('onAny only accepts instances of Function');\n    }\n\n    if(!this._all) {\n      this._all = [];\n    }\n\n    // Add the function to the event listener collection.\n    this._all.push(fn);\n    return this;\n  };\n\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  EventEmitter.prototype.off = function(type, listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('removeListener only takes instances of Function');\n    }\n\n    var handlers,leafs=[];\n\n    if(this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n    }\n    else {\n      // does not use listeners(), so no side effect of creating _events[type]\n      if (!this._events[type]) return this;\n      handlers = this._events[type];\n      leafs.push({_listeners:handlers});\n    }\n\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n      var leaf = leafs[iLeaf];\n      handlers = leaf._listeners;\n      if (isArray(handlers)) {\n\n        var position = -1;\n\n        for (var i = 0, length = handlers.length; i < length; i++) {\n          if (handlers[i] === listener ||\n            (handlers[i].listener && handlers[i].listener === listener) ||\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0) {\n          continue;\n        }\n\n        if(this.wildcard) {\n          leaf._listeners.splice(position, 1);\n        }\n        else {\n          this._events[type].splice(position, 1);\n        }\n\n        if (handlers.length === 0) {\n          if(this.wildcard) {\n            delete leaf._listeners;\n          }\n          else {\n            delete this._events[type];\n          }\n        }\n        return this;\n      }\n      else if (handlers === listener ||\n        (handlers.listener && handlers.listener === listener) ||\n        (handlers._origin && handlers._origin === listener)) {\n        if(this.wildcard) {\n          delete leaf._listeners;\n        }\n        else {\n          delete this._events[type];\n        }\n      }\n    }\n\n    return this;\n  };\n\n  EventEmitter.prototype.offAny = function(fn) {\n    var i = 0, l = 0, fns;\n    if (fn && this._all && this._all.length > 0) {\n      fns = this._all;\n      for(i = 0, l = fns.length; i < l; i++) {\n        if(fn === fns[i]) {\n          fns.splice(i, 1);\n          return this;\n        }\n      }\n    } else {\n      this._all = [];\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\n\n  EventEmitter.prototype.removeAllListeners = function(type) {\n    if (arguments.length === 0) {\n      !this._events || init.call(this);\n      return this;\n    }\n\n    if(this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      var leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n\n      for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n        var leaf = leafs[iLeaf];\n        leaf._listeners = null;\n      }\n    }\n    else {\n      if (!this._events[type]) return this;\n      this._events[type] = null;\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.listeners = function(type) {\n    if(this.wildcard) {\n      var handlers = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\n      return handlers;\n    }\n\n    this._events || init.call(this);\n\n    if (!this._events[type]) this._events[type] = [];\n    if (!isArray(this._events[type])) {\n      this._events[type] = [this._events[type]];\n    }\n    return this._events[type];\n  };\n\n  EventEmitter.prototype.listenersAny = function() {\n\n    if(this._all) {\n      return this._all;\n    }\n    else {\n      return [];\n    }\n\n  };\n\n  if (typeof define === 'function' && define.amd) {\n     // AMD. Register as an anonymous module.\n    define(function() {\n      return EventEmitter;\n    });\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    exports.EventEmitter2 = EventEmitter;\n  }\n  else {\n    // Browser global.\n    window.EventEmitter2 = EventEmitter;\n  }\n}();\n","var mixins = require('peaks/waveform/waveform.mixins');\n'use strict';\nvar radio = function (peaks) {\n    var _helpers = {\n            timeFromPercentage: function (time, percentage) {\n                return time * (percentage / 100);\n            }\n        };\n    return {\n        init: function (mediaElement) {\n            var that = this;\n            this.player = mediaElement;\n            this.duration = this.player.duration;\n            if (this.player.readyState === 4) {\n                peaks.emit('player_load', that);\n            }\n            this.player.addEventListener('timeupdate', function () {\n                peaks.emit('player_time_update', that.getTime());\n            });\n            this.player.addEventListener('play', function () {\n                peaks.emit('player_play', that.getTime());\n            });\n            this.player.addEventListener('pause', function () {\n                peaks.emit('player_pause', that.getTime());\n            });\n            this.player.addEventListener('seeked', function () {\n                peaks.emit('waveform_seek', that.getTime());\n            });\n        },\n        setSource: function (source) {\n            this.player.setAttribute('src', source);\n        },\n        getSource: function () {\n            return this.player.src;\n        },\n        play: function () {\n            this.player.play();\n            peaks.emit('radio_play', this.getTime());\n        },\n        pause: function () {\n            this.player.pause();\n            peaks.emit('radio_pause', this.getTime());\n        },\n        getTime: function () {\n            return this.player.currentTime;\n        },\n        getTimeFromPercentage: function (p) {\n            return mixins.niceTime(this.duration * p / 100, false);\n        },\n        getSecsFromPercentage: function (p) {\n            return Math.floor(this.duration * p / 100);\n        },\n        getDuration: function () {\n            return this.duration;\n        },\n        getPercentage: function () {\n            return this.getPercentageFromSeconds(this.player.currentTime);\n        },\n        getPercentageFromSeconds: function (s) {\n            var percentage = s / this.duration * 100;\n            return Math.round(percentage * 100) / 100;\n        },\n        seek: function (percentage) {\n            this.player.currentTime = _helpers.timeFromPercentage(this.duration, percentage);\n        },\n        seekBySeconds: function (seconds) {\n            this.player.currentTime = seconds;\n        }\n    };\n};\nmodule.exports = radio;","var WaveformData = require('waveform-data'), WaveformOverview = require('peaks/views/waveform.overview'), WaveformZoomView = require('peaks/views/waveform.zoomview'), WaveformSegments = require('peaks/markers/waveform.segments'), WaveformPoints = require('peaks/markers/waveform.points');\n'use strict';\nvar isXhr2 = 'withCredentials' in new XMLHttpRequest();\nmodule.exports = function (peaks) {\n    return {\n        init: function (ui) {\n            this.ui = ui;\n            var that = this;\n            that.getRemoteData(peaks.options);\n        },\n        getRemoteData: function (options) {\n            var that = this;\n            var xhr = new XMLHttpRequest();\n            var uri = null;\n            var requestType = null;\n            var builder = null;\n            if (options.dataUri) {\n                if (typeof options.dataUri === 'string') {\n                    var dataUri = {};\n                    dataUri[options.dataUriDefaultFormat || 'json'] = options.dataUri;\n                    options.dataUri = dataUri;\n                }\n                if (typeof options.dataUri === 'object') {\n                    [\n                        'ArrayBuffer',\n                        'JSON'\n                    ].some(function (connector) {\n                        if (window[connector]) {\n                            requestType = connector.toLowerCase();\n                            uri = options.dataUri[requestType];\n                            return Boolean(uri);\n                        }\n                    });\n                }\n            }\n            if (!options.dataUri && WaveformData.builders.webaudio.getAudioContext()) {\n                requestType = 'arraybuffer';\n                uri = options.mediaElement.currentSrc || options.mediaElement.src;\n                builder = 'webaudio';\n            }\n            if (!uri && !requestType) {\n                throw new Error('Unable to determine a compatible dataUri format for this browser.');\n            }\n            xhr.open('GET', uri, true);\n            if (isXhr2) {\n                try {\n                    xhr.responseType = requestType;\n                } catch (e) {\n                }\n            }\n            xhr.onload = function (response) {\n                if (this.readyState === 4 && this.status === 200) {\n                    if (builder) {\n                        WaveformData.builders[builder](response.target.response, that.handleRemoteData.bind(that));\n                    } else {\n                        that.handleRemoteData(response.target, xhr);\n                    }\n                }\n            };\n            xhr.send();\n        },\n        handleRemoteData: function (remoteData, xhr) {\n            this.origWaveformData = remoteData instanceof WaveformData ? remoteData : WaveformData.create(remoteData);\n            var overviewWaveformData = this.origWaveformData.resample(this.ui.player.clientWidth);\n            this.waveformOverview = new WaveformOverview(overviewWaveformData, this.ui.overview, peaks);\n            peaks.emit('waveformOverviewReady');\n            this.bindResize();\n        },\n        openZoomView: function () {\n            var that = this;\n            that.waveformZoomView = new WaveformZoomView(that.origWaveformData, that.ui.zoom, peaks);\n            that.segments = new WaveformSegments(peaks);\n            that.segments.init();\n            that.points = new WaveformPoints(peaks);\n            that.points.init();\n            peaks.emit('waveformZoomReady');\n        },\n        bindResize: function () {\n            var that = this;\n            window.addEventListener('resize', function () {\n                that.ui.overview.hidden = true;\n                that.ui.zoom.hidden = true;\n                if (that.resizeTimeoutId)\n                    clearTimeout(that.resizeTimeoutId);\n                that.resizeTimeoutId = setTimeout(function () {\n                    var w = that.ui.player.clientWidth;\n                    var overviewWaveformData = that.origWaveformData.resample(w);\n                    peaks.emit('resizeEndOverview', w, overviewWaveformData);\n                    peaks.emit('window_resized', w, that.origWaveformData);\n                }, 500);\n            });\n            peaks.on('overview_resized', function () {\n                that.ui.overview.removeAttribute('hidden');\n            });\n            peaks.on('zoomview_resized', function () {\n                that.ui.zoom.removeAttribute('hidden');\n            });\n        }\n    };\n};","var Kinetic = require('Kinetic');\n'use strict';\nvar createHandle = function (height, color, inMarker) {\n    return function (draggable, segment, parent, onDrag) {\n        var markerTop = 0, markerX = 0.5, handleTop = height / 2 - 10.5, handleBottom = height / 2 + 9.5, markerBottom = height, handleX = inMarker ? -19.5 : 19.5;\n        var handlePoints = [\n                [\n                    markerX,\n                    markerTop\n                ],\n                [\n                    markerX,\n                    handleTop\n                ],\n                [\n                    handleX,\n                    handleTop\n                ],\n                [\n                    handleX,\n                    handleBottom\n                ],\n                [\n                    markerX,\n                    handleBottom\n                ],\n                [\n                    markerX,\n                    markerBottom\n                ]\n            ];\n        var group = new Kinetic.Group({\n                draggable: draggable,\n                dragBoundFunc: function (pos) {\n                    var limit;\n                    if (inMarker) {\n                        limit = segment.outMarker.getX() - segment.outMarker.getWidth();\n                        if (pos.x > limit)\n                            pos.x = limit;\n                    } else {\n                        limit = segment.inMarker.getX() + segment.inMarker.getWidth();\n                        if (pos.x < limit)\n                            pos.x = limit;\n                    }\n                    return {\n                        x: pos.x,\n                        y: this.getAbsolutePosition().y\n                    };\n                }\n            }).on('dragmove', function (event) {\n                onDrag(segment, parent);\n            });\n        var xPosition = inMarker ? -24 : 24;\n        var text = new Kinetic.Text({\n                x: xPosition,\n                y: height / 2 - 5,\n                text: '',\n                fontSize: 10,\n                fontFamily: 'sans-serif',\n                fill: '#000',\n                textAlign: 'center'\n            });\n        text.hide();\n        group.label = text;\n        group.add(text);\n        var handle = new Kinetic.Polygon({\n                points: handlePoints,\n                fill: color,\n                stroke: color,\n                strokeWidth: 1\n            }).on('mouseover', function (event) {\n                text.show();\n                if (inMarker)\n                    text.setX(xPosition - text.getWidth());\n                segment.view.segmentLayer.draw();\n            }).on('mouseout', function (event) {\n                text.hide();\n                segment.view.segmentLayer.draw();\n            });\n        group.add(handle);\n        return group;\n    };\n};\nfunction createPointHandle(height, color) {\n    return function (draggable, point, parent, onDrag, onDblClick, onDragEnd) {\n        var markerTop = 0, markerX = 0.5, handleTop = height / 2 - 10.5, handleBottom = height / 2 + 9.5, markerBottom = height, handleX = 9.75;\n        var handlePoints = [\n                [\n                    markerX,\n                    markerTop\n                ],\n                [\n                    markerX,\n                    handleTop\n                ],\n                [\n                    handleX,\n                    handleTop\n                ],\n                [\n                    handleX,\n                    handleBottom\n                ],\n                [\n                    markerX,\n                    handleBottom\n                ],\n                [\n                    markerX,\n                    markerBottom\n                ]\n            ];\n        var group = new Kinetic.Group({\n                draggable: draggable,\n                dragBoundFunc: function (pos) {\n                    return {\n                        x: pos.x,\n                        y: this.getAbsolutePosition().y\n                    };\n                }\n            }).on('dragmove', function (event) {\n                onDrag(point, parent);\n            });\n        if (onDblClick) {\n            group.on('dblclick', function (event) {\n                onDblClick(parent);\n            });\n        }\n        if (onDragEnd) {\n            group.on('dragend', function (event) {\n                onDragEnd(parent);\n            });\n        }\n        var xPosition = -24;\n        var text = new Kinetic.Text({\n                x: xPosition,\n                y: height / 2 - 5,\n                text: '',\n                fontSize: 10,\n                fontFamily: 'sans-serif',\n                fill: '#000',\n                textAlign: 'center'\n            });\n        text.hide();\n        group.label = text;\n        group.add(text);\n        var handle = new Kinetic.Polygon({\n                points: handlePoints,\n                fill: color,\n                stroke: color,\n                strokeWidth: 1\n            }).on('mouseover', function (event) {\n                text.show();\n                text.setX(xPosition - text.getWidth());\n                point.view.pointLayer.draw();\n            }).on('mouseout', function (event) {\n                text.hide();\n                point.view.pointLayer.draw();\n            });\n        group.add(handle);\n        return group;\n    };\n}\nfunction drawWaveform(ctx, min, max, offset_start, offset_length, y) {\n    ctx.beginPath();\n    min.forEach(function (val, x) {\n        ctx.lineTo(offset_start + x + 0.5, y(val) + 0.5);\n    });\n    max.reverse().forEach(function (val, x) {\n        ctx.lineTo(offset_start + (offset_length - x) + 0.5, y(val) + 0.5);\n    });\n    ctx.closePath();\n}\nfunction interpolateHeightGenerator(total_height) {\n    var amplitude = 256;\n    return function interpolateHeight(size) {\n        return total_height - (size + 128) * total_height / amplitude;\n    };\n}\nmodule.exports = {\n    interpolateHeight: interpolateHeightGenerator,\n    drawWaveform: drawWaveform,\n    waveformDrawFunction: function (view, canvas) {\n        var waveform = view.intermediateData || view.data;\n        var y = interpolateHeightGenerator(view.height);\n        var offset_length = waveform.offset_length;\n        var ctx = canvas.getContext();\n        drawWaveform(ctx, waveform.min, waveform.max, 0, offset_length, y);\n        canvas.fillStroke(this);\n    },\n    waveformOverviewMarkerDrawFunction: function (xIndex, viewGroup, view) {\n        viewGroup.waveformShape.setPoints([\n            xIndex,\n            0,\n            xIndex,\n            view.height\n        ]);\n    },\n    waveformRectDrawFunction: function (waveform) {\n        if (waveform.segments.zoom === undefined) {\n            return;\n        }\n        this.refWaveformRect.setAttrs({\n            x: waveform.segments.zoom.offset_start - waveform.offset_start,\n            width: waveform.segments.zoom.offset_length\n        });\n    },\n    niceTime: function (time, dropHundredths) {\n        var hundredths, seconds, minutes, hours, result = [];\n        hundredths = Math.floor(time % 1 * 100);\n        seconds = Math.floor(time);\n        minutes = Math.floor(seconds / 60);\n        hours = Math.floor(minutes / 60);\n        if (hours > 0)\n            result.push(hours);\n        result.push(minutes % 60);\n        result.push(seconds % 60);\n        for (var i = 0; i < result.length; i++) {\n            var x = result[i];\n            if (x < 10) {\n                result[i] = '0' + x;\n            } else {\n                result[i] = x;\n            }\n        }\n        result = result.join(':');\n        if (!dropHundredths) {\n            if (hundredths < 10) {\n                hundredths = '0' + hundredths;\n            }\n            result += '.' + hundredths;\n        }\n        return result;\n    },\n    defaultInMarker: function (options) {\n        return createHandle(options.height, options.outMarkerColor, true);\n    },\n    defaultOutMarker: function (options) {\n        return createHandle(options.height, options.outMarkerColor, false);\n    },\n    defaultPointMarker: function (options) {\n        return createPointHandle(options.height, options.pointMarkerColor);\n    },\n    defaultSegmentLabelDraw: function (options) {\n        return function (segment, parent) {\n            return new Kinetic.Text({\n                x: 12,\n                y: 12,\n                text: parent.labelText,\n                fontSize: 12,\n                fontFamily: 'Arial, sans-serif',\n                fill: '#000',\n                textAlign: 'center'\n            });\n        };\n    }\n};","'use strict';\nvar SPACE = 32, TAB = 9, LEFT_ARROW = 37, RIGHT_ARROW = 39;\nfunction handleKeyEventGenerator(peaksInstance) {\n    return function handleKeyEvent(event) {\n        var c = event.keyCode;\n        var t = event.type;\n        if ([\n                'OBJECT',\n                'TEXTAREA',\n                'INPUT',\n                'SELECT',\n                'OPTION'\n            ].indexOf(event.target.nodeName) === -1) {\n            if ([\n                    SPACE,\n                    TAB,\n                    LEFT_ARROW,\n                    RIGHT_ARROW\n                ].indexOf(event.type) > -1) {\n                event.preventDefault();\n            }\n            if (t === 'keydown' || t === 'keypress') {\n                switch (c) {\n                case SPACE:\n                    peaksInstance.emit('kybrd_space');\n                    break;\n                case TAB:\n                    peaksInstance.emit('kybrd_tab');\n                    break;\n                }\n            } else if (t === 'keyup') {\n                switch (c) {\n                case LEFT_ARROW:\n                    if (event.shiftKey)\n                        peaksInstance.emit('kybrd_shift_left');\n                    else\n                        peaksInstance.emit('kybrd_left');\n                    break;\n                case RIGHT_ARROW:\n                    if (peaksInstance.shiftKey)\n                        peaksInstance.emit('kybrd_shift_right');\n                    else\n                        peaksInstance.emit('kybrd_right');\n                    break;\n                }\n            }\n        }\n    };\n}\nmodule.exports = {\n    init: function (peaks) {\n        document.addEventListener('keydown', handleKeyEventGenerator(peaks));\n        document.addEventListener('keypress', handleKeyEventGenerator(peaks));\n        document.addEventListener('keyup', handleKeyEventGenerator(peaks));\n    }\n};","\"use strict\";\n\nvar WaveformData = require(\"./lib/core\");\nWaveformData.adapters = require(\"./lib/adapters\");\n\nWaveformData.builders = {\n  webaudio: require(\"./lib/builders/webaudio.js\")\n};\n\nmodule.exports = WaveformData;","/*! KineticJS v4.5.5 2013-07-28 http://www.kineticjs.com by Eric Rowell @ericdrowell - MIT License https://github.com/ericdrowell/KineticJS/wiki/License*/\r\nvar Kinetic={};!function(){Kinetic.version=\"4.5.5\",Kinetic.Filters={},Kinetic.Node=function(a){this._init(a)},Kinetic.Shape=function(a){this.__init(a)},Kinetic.Container=function(a){this.__init(a)},Kinetic.Stage=function(a){this.___init(a)},Kinetic.Layer=function(a){this.___init(a)},Kinetic.Group=function(a){this.___init(a)},Kinetic.Global={stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,dblClickWindow:400,isDragging:function(){var a=Kinetic.DD;return a?a.isDragging:!1},isDragReady:function(){var a=Kinetic.DD;return a?!!a.node:!1},_addId:function(a,b){void 0!==b&&(this.ids[b]=a)},_removeId:function(a){void 0!==a&&delete this.ids[a]},_addName:function(a,b){void 0!==b&&(void 0===this.names[b]&&(this.names[b]=[]),this.names[b].push(a))},_removeName:function(a,b){if(void 0!==a){var c=this.names[a];if(void 0!==c){for(var d=0;d<c.length;d++){var e=c[d];e._id===b&&c.splice(d,1)}0===c.length&&delete this.names[a]}}}}}(),function(a,b){\"object\"==typeof exports?module.exports=b():\"function\"==typeof define&&define.amd?define(b):a.returnExports=b()}(this,function(){return Kinetic}),function(){Kinetic.Collection=function(){var a=[].slice.call(arguments),b=a.length,c=0;for(this.length=b;b>c;c++)this[c]=a[c];return this},Kinetic.Collection.prototype=[],Kinetic.Collection.prototype.each=function(a){for(var b=0;b<this.length;b++)a(this[b],b)},Kinetic.Collection.prototype.toArray=function(){var a,b=[],c=this.length;for(a=0;c>a;a++)b.push(this[a]);return b},Kinetic.Collection.toCollection=function(a){var b,c=new Kinetic.Collection,d=a.length;for(b=0;d>b;b++)c.push(a[b]);return c},Kinetic.Collection.mapMethods=function(a){var b,c=a.length;for(b=0;c>b;b++)!function(b){var c=a[b];Kinetic.Collection.prototype[c]=function(){var a,b=this.length;for(args=[].slice.call(arguments),a=0;b>a;a++)this[a][c].apply(this[a],args)}}(b)}}(),function(){Kinetic.Transform=function(){this.m=[1,0,0,1,0,0]},Kinetic.Transform.prototype={translate:function(a,b){this.m[4]+=this.m[0]*a+this.m[2]*b,this.m[5]+=this.m[1]*a+this.m[3]*b},scale:function(a,b){this.m[0]*=a,this.m[1]*=a,this.m[2]*=b,this.m[3]*=b},rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=this.m[0]*b+this.m[2]*c,e=this.m[1]*b+this.m[3]*c,f=this.m[0]*-c+this.m[2]*b,g=this.m[1]*-c+this.m[3]*b;this.m[0]=d,this.m[1]=e,this.m[2]=f,this.m[3]=g},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(a,b){var c=this.m[0]+this.m[2]*b,d=this.m[1]+this.m[3]*b,e=this.m[2]+this.m[0]*a,f=this.m[3]+this.m[1]*a;this.m[0]=c,this.m[1]=d,this.m[2]=e,this.m[3]=f},multiply:function(a){var b=this.m[0]*a.m[0]+this.m[2]*a.m[1],c=this.m[1]*a.m[0]+this.m[3]*a.m[1],d=this.m[0]*a.m[2]+this.m[2]*a.m[3],e=this.m[1]*a.m[2]+this.m[3]*a.m[3],f=this.m[0]*a.m[4]+this.m[2]*a.m[5]+this.m[4],g=this.m[1]*a.m[4]+this.m[3]*a.m[5]+this.m[5];this.m[0]=b,this.m[1]=c,this.m[2]=d,this.m[3]=e,this.m[4]=f,this.m[5]=g},invert:function(){var a=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),b=this.m[3]*a,c=-this.m[1]*a,d=-this.m[2]*a,e=this.m[0]*a,f=a*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),g=a*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=b,this.m[1]=c,this.m[2]=d,this.m[3]=e,this.m[4]=f,this.m[5]=g},getMatrix:function(){return this.m}}}(),function(){var a=\"canvas\",b=\"2d\",c=\"[object Array]\",d=\"[object Number]\",e=\"[object String]\",f=Math.PI/180,g=180/Math.PI,h=\"#\",i=\"\",j=\"0\",k=\"Kinetic warning: \",l=\"Kinetic error: \",m=\"rgb(\",n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},o=/rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/;Kinetic.Util={_isElement:function(a){return!(!a||1!=a.nodeType)},_isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},_isObject:function(a){return!!a&&a.constructor==Object},_isArray:function(a){return Object.prototype.toString.call(a)==c},_isNumber:function(a){return Object.prototype.toString.call(a)==d},_isString:function(a){return Object.prototype.toString.call(a)==e},_hasMethods:function(a){var b,c=[];for(b in a)this._isFunction(a[b])&&c.push(b);return c.length>0},_isInDocument:function(a){for(;a=a.parentNode;)if(a==document)return!0;return!1},_getXY:function(a){if(this._isNumber(a))return{x:a,y:a};if(this._isArray(a)){if(1===a.length){var b=a[0];if(this._isNumber(b))return{x:b,y:b};if(this._isArray(b))return{x:b[0],y:b[1]};if(this._isObject(b))return b}else if(a.length>=2)return{x:a[0],y:a[1]}}else if(this._isObject(a))return a;return null},_getSize:function(a){if(this._isNumber(a))return{width:a,height:a};if(this._isArray(a))if(1===a.length){var b=a[0];if(this._isNumber(b))return{width:b,height:b};if(this._isArray(b)){if(b.length>=4)return{width:b[2],height:b[3]};if(b.length>=2)return{width:b[0],height:b[1]}}else if(this._isObject(b))return b}else{if(a.length>=4)return{width:a[2],height:a[3]};if(a.length>=2)return{width:a[0],height:a[1]}}else if(this._isObject(a))return a;return null},_getPoints:function(a){var b,c,d=[];if(void 0===a)return[];if(c=a.length,this._isArray(a[0])){for(b=0;c>b;b++)d.push({x:a[b][0],y:a[b][1]});return d}if(this._isObject(a[0]))return a;for(b=0;c>b;b+=2)d.push({x:a[b],y:a[b+1]});return d},_getImage:function(c,d){var e,f,g,h;c?this._isElement(c)?d(c):this._isString(c)?(e=new Image,e.onload=function(){d(e)},e.src=c):c.data?(f=document.createElement(a),f.width=c.width,f.height=c.height,g=f.getContext(b),g.putImageData(c,0,0),h=f.toDataURL(),e=new Image,e.onload=function(){d(e)},e.src=h):d(null):d(null)},_rgbToHex:function(a,b,c){return((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)},_hexToRgb:function(a){a=a.replace(h,i);var b=parseInt(a,16);return{r:255&b>>16,g:255&b>>8,b:255&b}},getRandomColor:function(){for(var a=(16777215*Math.random()<<0).toString(16);a.length<6;)a=j+a;return h+a},getRGB:function(a){var b;return a in n?(b=n[a],{r:b[0],g:b[1],b:b[2]}):a[0]===h?this._hexToRgb(a.substring(1)):a.substr(0,4)===m?(b=o.exec(a.replace(/ /g,\"\")),{r:parseInt(b[1],10),g:parseInt(b[2],10),b:parseInt(b[3],10)}):{r:0,g:0,b:0}},_merge:function(a,b){var c=this._clone(b);for(var d in a)c[d]=this._isObject(a[d])?this._merge(a[d],c[d]):a[d];return c},_clone:function(a){var b={};for(var c in a)b[c]=this._isObject(a[c])?this._clone(a[c]):a[c];return b},_degToRad:function(a){return a*f},_radToDeg:function(a){return a*g},_capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},error:function(a){throw new Error(l+a)},warn:function(a){window.console&&console.warn&&console.warn(k+a)},extend:function(a,b){for(var c in b.prototype)c in a.prototype||(a.prototype[c]=b.prototype[c])},addMethods:function(a,b){var c;for(c in b)a.prototype[c]=b[c]},_getControlPoints:function(a,b,c,d){var e=a.x,f=a.y,g=b.x,h=b.y,i=c.x,j=c.y,k=Math.sqrt(Math.pow(g-e,2)+Math.pow(h-f,2)),l=Math.sqrt(Math.pow(i-g,2)+Math.pow(j-h,2)),m=d*k/(k+l),n=d*l/(k+l),o=g-m*(i-e),p=h-m*(j-f),q=g+n*(i-e),r=h+n*(j-f);return[{x:o,y:p},{x:q,y:r}]},_expandPoints:function(a,b){var c,d,e=a.length,f=[];for(c=1;e-1>c;c++)d=Kinetic.Util._getControlPoints(a[c-1],a[c],a[c+1],b),f.push(d[0]),f.push(a[c]),f.push(d[1]);return f},_removeLastLetter:function(a){return a.substring(0,a.length-1)}}}(),function(){var a=document.createElement(\"canvas\"),b=a.getContext(\"2d\"),c=window.devicePixelRatio||1,d=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1,e=c/d;Kinetic.Canvas=function(a){this.init(a)},Kinetic.Canvas.prototype={init:function(a){a=a||{};var b=a.width||0,c=a.height||0,d=a.pixelRatio||e,f=a.contextType||\"2d\";this.pixelRatio=d,this.element=document.createElement(\"canvas\"),this.element.style.padding=0,this.element.style.margin=0,this.element.style.border=0,this.element.style.background=\"transparent\",this.element.style.position=\"absolute\",this.element.style.top=0,this.element.style.left=0,this.context=this.element.getContext(f),this.setSize(b,c)},getElement:function(){return this.element},getContext:function(){return this.context},setWidth:function(a){this.width=this.element.width=a*this.pixelRatio,this.element.style.width=a+\"px\"},setHeight:function(a){this.height=this.element.height=a*this.pixelRatio,this.element.style.height=a+\"px\"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(a,b){this.setWidth(a),this.setHeight(b)},clear:function(){var a=this.getContext();this.getElement(),a.clearRect(0,0,this.getWidth(),this.getHeight())},toDataURL:function(a,b){try{return this.element.toDataURL(a,b)}catch(c){try{return this.element.toDataURL()}catch(d){return Kinetic.Util.warn(\"Unable to get data URL. \"+d.message),\"\"}}},fill:function(a){a.getFillEnabled()&&this._fill(a)},stroke:function(a){a.getStrokeEnabled()&&this._stroke(a)},fillStroke:function(a){var b=a.getFillEnabled();b&&this._fill(a),a.getStrokeEnabled()&&this._stroke(a,a.hasShadow()&&a.hasFill()&&b)},applyShadow:function(a,b){var c=this.context;c.save(),this._applyShadow(a),b(),c.restore(),b()},_applyLineCap:function(a){var b=a.getLineCap();b&&(this.context.lineCap=b)},_applyOpacity:function(a){var b=a.getAbsoluteOpacity();1!==b&&(this.context.globalAlpha=b)},_applyLineJoin:function(a){var b=a.getLineJoin();b&&(this.context.lineJoin=b)},_applyAncestorTransforms:function(a){var b,c,d=this.context;a._eachAncestorReverse(function(a){b=a.getTransform(!0),c=b.getMatrix(),d.transform(c[0],c[1],c[2],c[3],c[4],c[5])},!0)},_clip:function(a){var b=this.getContext();b.save(),this._applyAncestorTransforms(a),b.beginPath(),a.getClipFunc()(this),b.clip(),b.setTransform(1,0,0,1,0,0)}},Kinetic.SceneCanvas=function(a){Kinetic.Canvas.call(this,a)},Kinetic.SceneCanvas.prototype={setWidth:function(a){var b=this.pixelRatio;Kinetic.Canvas.prototype.setWidth.call(this,a),this.context.scale(b,b)},setHeight:function(a){var b=this.pixelRatio;Kinetic.Canvas.prototype.setHeight.call(this,a),this.context.scale(b,b)},_fillColor:function(a){var b=this.context,c=a.getFill();b.fillStyle=c,a._fillFunc(b)},_fillPattern:function(a){var b=this.context,c=a.getFillPatternImage(),d=a.getFillPatternX(),e=a.getFillPatternY(),f=a.getFillPatternScale(),g=a.getFillPatternRotation(),h=a.getFillPatternOffset(),i=a.getFillPatternRepeat();(d||e)&&b.translate(d||0,e||0),g&&b.rotate(g),f&&b.scale(f.x,f.y),h&&b.translate(-1*h.x,-1*h.y),b.fillStyle=b.createPattern(c,i||\"repeat\"),b.fill()},_fillLinearGradient:function(a){var b=this.context,c=a.getFillLinearGradientStartPoint(),d=a.getFillLinearGradientEndPoint(),e=a.getFillLinearGradientColorStops(),f=b.createLinearGradient(c.x,c.y,d.x,d.y);if(e){for(var g=0;g<e.length;g+=2)f.addColorStop(e[g],e[g+1]);b.fillStyle=f,b.fill()}},_fillRadialGradient:function(a){for(var b=this.context,c=a.getFillRadialGradientStartPoint(),d=a.getFillRadialGradientEndPoint(),e=a.getFillRadialGradientStartRadius(),f=a.getFillRadialGradientEndRadius(),g=a.getFillRadialGradientColorStops(),h=b.createRadialGradient(c.x,c.y,e,d.x,d.y,f),i=0;i<g.length;i+=2)h.addColorStop(g[i],g[i+1]);b.fillStyle=h,b.fill()},_fill:function(a,b){var c=this.context,d=a.getFill(),e=a.getFillPatternImage(),f=a.getFillLinearGradientColorStops(),g=a.getFillRadialGradientColorStops(),h=a.getFillPriority();c.save(),!b&&a.hasShadow()&&this._applyShadow(a),d&&\"color\"===h?this._fillColor(a):e&&\"pattern\"===h?this._fillPattern(a):f&&\"linear-gradient\"===h?this._fillLinearGradient(a):g&&\"radial-gradient\"===h?this._fillRadialGradient(a):d?this._fillColor(a):e?this._fillPattern(a):f?this._fillLinearGradient(a):g&&this._fillRadialGradient(a),c.restore(),!b&&a.hasShadow()&&this._fill(a,!0)},_stroke:function(a,b){var c=this.context,d=a.getStroke(),e=a.getStrokeWidth(),f=a.getDashArray();(d||e)&&(c.save(),a.getStrokeScaleEnabled()||c.setTransform(1,0,0,1,0,0),this._applyLineCap(a),f&&a.getDashArrayEnabled()&&(c.setLineDash?c.setLineDash(f):\"mozDash\"in c?c.mozDash=f:\"webkitLineDash\"in c&&(c.webkitLineDash=f)),!b&&a.hasShadow()&&this._applyShadow(a),c.lineWidth=e||2,c.strokeStyle=d||\"black\",a._strokeFunc(c),c.restore(),!b&&a.hasShadow()&&this._stroke(a,!0))},_applyShadow:function(a){var b=this.context;if(a.hasShadow()&&a.getShadowEnabled()){var c=a.getAbsoluteOpacity(),d=a.getShadowColor()||\"black\",e=a.getShadowBlur()||5,f=a.getShadowOffset()||{x:0,y:0};a.getShadowOpacity()&&(b.globalAlpha=a.getShadowOpacity()*c),b.shadowColor=d,b.shadowBlur=e,b.shadowOffsetX=f.x,b.shadowOffsetY=f.y}}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(a){Kinetic.Canvas.call(this,a)},Kinetic.HitCanvas.prototype={_fill:function(a){var b=this.context;b.save(),b.fillStyle=a.colorKey,a._fillFuncHit(b),b.restore()},_stroke:function(a){var b=this.context,c=a.getStroke(),d=a.getStrokeWidth();(c||d)&&(this._applyLineCap(a),b.save(),b.lineWidth=d||2,b.strokeStyle=a.colorKey,a._strokeFuncHit(b),b.restore())}},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),function(){var a=\"add\",b=\" \",c=\"\",d=\".\",e=\"get\",f=\"set\",g=\"Shape\",h=\"Stage\",i=\"X\",j=\"Y\",k=\"kinetic\",l=\"before\",m=\"Change\",n=\"id\",o=\"name\",p=\"mouseenter\",q=\"mouseleave\",r=\"Deg\",s=\"RGB\",u=\"r\",v=\"g\",w=\"b\",x=\"R\",y=\"G\",z=\"B\",A=\"#\",B=\"children\";Kinetic.Util.addMethods(Kinetic.Node,{_init:function(a){this._id=Kinetic.Global.idCounter++,this.eventListeners={},this.attrs={},this.setAttrs(a)},on:function(a,e){var f,g,h,i,j,k=a.split(b),l=k.length;for(f=0;l>f;f++)g=k[f],h=g.split(d),i=h[0],j=h[1]||c,this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:j,handler:e});return this},off:function(a){var c,e,f,g,h,i=a.split(b),j=i.length;for(c=0;j>c;c++)if(e=i[c],f=e.split(d),g=f[0],h=f[1],g)this.eventListeners[g]&&this._off(g,h);else for(t in this.eventListeners)this._off(t,h);return this},remove:function(){var a=this.getParent();return a&&a.children&&(a.children.splice(this.index,1),a._setChildrenIndices(),delete this.parent),this},destroy:function(){var a=Kinetic.Global;a._removeId(this.getId()),a._removeName(this.getName(),this._id),this.remove()},getAttr:function(a){var b=e+Kinetic.Util._capitalize(a);return Kinetic.Util._isFunction(this[b])?this[b]():this.attrs[a]},setAttr:function(){var a=Array.prototype.slice.call(arguments),b=a[0],c=f+Kinetic.Util._capitalize(b),d=this[c];return a.shift(),Kinetic.Util._isFunction(d)?d.apply(this,a):this.attrs[b]=a[0],this},getAttrs:function(){return this.attrs||{}},setAttrs:function(a){var b,c;if(a)for(b in a)b===B||(c=f+Kinetic.Util._capitalize(b),Kinetic.Util._isFunction(this[c])?this[c](a[b]):this._setAttr(b,a[b]));return this},getVisible:function(){var a=this.attrs.visible,b=this.getParent();return void 0===a&&(a=!0),a&&b&&!b.getVisible()?!1:a},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function a(h){for(b=[],c=h.length,d=0;c>d;d++)e=h[d],j++,e.nodeType!==g&&(b=b.concat(e.getChildren().toArray())),e._id===i._id&&(d=c);b.length>0&&b[0].getLevel()<=f&&a(b)}var b,c,d,e,f=this.getLevel(),i=(this.getStage(),this),j=0;return i.nodeType!==h&&a(i.getStage().getChildren()),j},getLevel:function(){for(var a=0,b=this.parent;b;)a++,b=b.parent;return a},setPosition:function(){var a=Kinetic.Util._getXY([].slice.call(arguments));return this.setX(a.x),this.setY(a.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var a=this.getAbsoluteTransform(),b=this.getOffset();return a.translate(b.x,b.y),a.getTranslation()},setAbsolutePosition:function(){var a,b=Kinetic.Util._getXY([].slice.call(arguments)),c=this._clearTransform();return this.attrs.x=c.x,this.attrs.y=c.y,delete c.x,delete c.y,a=this.getAbsoluteTransform(),a.invert(),a.translate(b.x,b.y),b={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this.setPosition(b.x,b.y),this._setTransform(c),this},move:function(){var a=Kinetic.Util._getXY([].slice.call(arguments)),b=this.getX(),c=this.getY();return void 0!==a.x&&(b+=a.x),void 0!==a.y&&(c+=a.y),this.setPosition(b,c),this},_eachAncestorReverse:function(a,b){var c,d,e=[],f=this.getParent();for(b&&e.unshift(this);f;)e.unshift(f),f=f.parent;for(c=e.length,d=0;c>d;d++)a(e[d])},rotate:function(a){return this.setRotation(this.getRotation()+a),this},rotateDeg:function(a){return this.setRotation(this.getRotation()+Kinetic.Util._degToRad(a)),this},moveToTop:function(){var a=this.index;return this.parent.children.splice(a,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){var a=this.index,b=this.parent.getChildren().length;return b-1>a?(this.parent.children.splice(a,1),this.parent.children.splice(a+1,0,this),this.parent._setChildrenIndices(),!0):!1},moveDown:function(){var a=this.index;return a>0?(this.parent.children.splice(a,1),this.parent.children.splice(a-1,0,this),this.parent._setChildrenIndices(),!0):!1},moveToBottom:function(){var a=this.index;return a>0?(this.parent.children.splice(a,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1},setZIndex:function(a){var b=this.index;return this.parent.children.splice(b,1),this.parent.children.splice(a,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){var a=this.getOpacity();return this.getParent()&&(a*=this.getParent().getAbsoluteOpacity()),a},moveTo:function(a){return Kinetic.Node.prototype.remove.call(this),a.add(this),this},toObject:function(){var a,b,c=Kinetic.Util,d={},e=this.getAttrs();d.attrs={};for(a in e)b=e[a],c._isFunction(b)||c._isElement(b)||c._isObject(b)&&c._hasMethods(b)||(d.attrs[a]=b);return d.className=this.getClassName(),d},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){return this.getParent().getLayer()},getStage:function(){return this.getParent()?this.getParent().getStage():void 0},fire:function(a,b,c){return c?this._fireAndBubble(a,b||{}):this._fire(a,b||{}),this},getAbsoluteTransform:function(){var a,b=new Kinetic.Transform;return this._eachAncestorReverse(function(c){a=c.getTransform(),b.multiply(a)},!0),b},_getAndCacheTransform:function(){var a=new Kinetic.Transform,b=this.getX(),c=this.getY(),d=this.getRotation(),e=this.getScaleX(),f=this.getScaleY(),g=this.getSkewX(),h=this.getSkewY(),i=this.getOffsetX(),j=this.getOffsetY();return(0!==b||0!==c)&&a.translate(b,c),0!==d&&a.rotate(d),(0!==g||0!==h)&&a.skew(g,h),(1!==e||1!==f)&&a.scale(e,f),(0!==i||0!==j)&&a.translate(-1*i,-1*j),this.cachedTransform=a,a},getTransform:function(a){var b=this.cachedTransform;return a&&b?b:this._getAndCacheTransform()},clone:function(a){var b,c,d,e,f,g=this.getClassName(),h=new Kinetic[g](this.attrs);for(b in this.eventListeners)for(c=this.eventListeners[b],d=c.length,e=0;d>e;e++)f=c[e],f.name.indexOf(k)<0&&(h.eventListeners[b]||(h.eventListeners[b]=[]),h.eventListeners[b].push(f));return h.setAttrs(a),h},toDataURL:function(a){a=a||{};var b=a.mimeType||null,c=a.quality||null,d=this.getStage(),e=a.x||0,f=a.y||0,g=new Kinetic.SceneCanvas({width:a.width||d.getWidth(),height:a.height||d.getHeight(),pixelRatio:1}),h=g.getContext();return h.save(),(e||f)&&h.translate(-1*e,-1*f),this.drawScene(g),h.restore(),g.toDataURL(b,c)},toImage:function(a){Kinetic.Util._getImage(this.toDataURL(a),function(b){a.callback(b)})},setSize:function(){var a=Kinetic.Util._getSize(Array.prototype.slice.call(arguments));return this.setWidth(a.width),this.setHeight(a.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},_get:function(a){return this.nodeType===a?[this]:[]},_off:function(a,b){var c,d,e=this.eventListeners[a];for(c=0;c<e.length;c++)if(d=e[c].name,!(\"kinetic\"===d&&\"kinetic\"!==b||b&&d!==b)){if(e.splice(c,1),0===e.length){delete this.eventListeners[a];break}c--}},_clearTransform:function(){var a={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,a},_setTransform:function(a){var b;for(b in a)this.attrs[b]=a[b];this.cachedTransform=null},_fireBeforeChangeEvent:function(a,b,c){this._fire(l+Kinetic.Util._capitalize(a)+m,{oldVal:b,newVal:c})},_fireChangeEvent:function(a,b,c){this._fire(a+m,{oldVal:b,newVal:c})},setId:function(a){var b=this.getId(),c=(this.getStage(),Kinetic.Global);return c._removeId(b),c._addId(this,a),this._setAttr(n,a),this},setName:function(a){var b=this.getName(),c=(this.getStage(),Kinetic.Global);return c._removeName(b,this._id),c._addName(this,a),this._setAttr(o,a),this},_setAttr:function(a,b){var c;void 0!==b&&(c=this.attrs[a],this._fireBeforeChangeEvent(a,c,b),this.attrs[a]=b,this._fireChangeEvent(a,c,b))},_fireAndBubble:function(a,b,c){b&&this.nodeType===g&&(b.targetNode=this),this.getStage(),this.eventListeners;var d=!0;a===p&&c&&this._id===c._id?d=!1:a===q&&c&&this._id===c._id&&(d=!1),d&&(this._fire(a,b),b&&!b.cancelBubble&&this.parent&&(c&&c.parent?this._fireAndBubble.call(this.parent,a,b,c.parent):this._fireAndBubble.call(this.parent,a,b)))},_fire:function(a,b){var c,d,e=this.eventListeners[a];if(e)for(c=e.length,d=0;c>d;d++)e[d].handler.call(this,b)},draw:function(){return this.drawScene(),this.drawHit(),this},shouldDrawHit:function(){return this.isVisible()&&this.isListening()&&!Kinetic.Global.isDragging()},isDraggable:function(){return!1}}),Kinetic.Node.addGetterSetter=function(a,b,c,d){this.addGetter(a,b,c),this.addSetter(a,b,d)},Kinetic.Node.addPointGetterSetter=function(a,b,c,d){this.addPointGetter(a,b),this.addPointSetter(a,b),this.addGetter(a,b+i,c),this.addGetter(a,b+j,c),this.addSetter(a,b+i,d),this.addSetter(a,b+j,d)},Kinetic.Node.addPointsGetterSetter=function(a,b){this.addPointsGetter(a,b),this.addPointsSetter(a,b),this.addPointAdder(a,b)},Kinetic.Node.addRotationGetterSetter=function(a,b,c,d){this.addRotationGetter(a,b,c),this.addRotationSetter(a,b,d)},Kinetic.Node.addColorGetterSetter=function(a,b){this.addGetter(a,b),this.addSetter(a,b),this.addColorRGBGetter(a,b),this.addColorComponentGetter(a,b,u),this.addColorComponentGetter(a,b,v),this.addColorComponentGetter(a,b,w),this.addColorRGBSetter(a,b),this.addColorComponentSetter(a,b,u),this.addColorComponentSetter(a,b,v),this.addColorComponentSetter(a,b,w)},Kinetic.Node.addColorRGBGetter=function(a,b){var c=e+Kinetic.Util._capitalize(b)+s;a.prototype[c]=function(){return Kinetic.Util.getRGB(this.attrs[b])}},Kinetic.Node.addColorComponentGetter=function(a,b,c){var d=e+Kinetic.Util._capitalize(b),f=d+Kinetic.Util._capitalize(c);a.prototype[f]=function(){return this[d+s]()[c]}},Kinetic.Node.addPointsGetter=function(a,b){var c=e+Kinetic.Util._capitalize(b);a.prototype[c]=function(){var a=this.attrs[b];return void 0===a?[]:a}},Kinetic.Node.addGetter=function(a,b,c){var d=e+Kinetic.Util._capitalize(b);a.prototype[d]=function(){var a=this.attrs[b];return void 0===a?c:a}},Kinetic.Node.addPointGetter=function(a,b){var c=e+Kinetic.Util._capitalize(b);a.prototype[c]=function(){var a=this;return{x:a[c+i](),y:a[c+j]()}}},Kinetic.Node.addRotationGetter=function(a,b,c){var d=e+Kinetic.Util._capitalize(b);a.prototype[d]=function(){var a=this.attrs[b];return void 0===a&&(a=c),a},a.prototype[d+r]=function(){var a=this.attrs[b];return void 0===a&&(a=c),Kinetic.Util._radToDeg(a)}},Kinetic.Node.addColorRGBSetter=function(a,b){var c=f+Kinetic.Util._capitalize(b)+s;a.prototype[c]=function(a){var c=a&&void 0!==a.r?0|a.r:this.getAttr(b+x),d=a&&void 0!==a.g?0|a.g:this.getAttr(b+y),e=a&&void 0!==a.b?0|a.b:this.getAttr(b+z);this._setAttr(b,A+Kinetic.Util._rgbToHex(c,d,e))}},Kinetic.Node.addColorComponentSetter=function(a,b,c){var d=f+Kinetic.Util._capitalize(b),e=d+Kinetic.Util._capitalize(c);a.prototype[e]=function(a){var b={};b[c]=a,this[d+s](b)}},Kinetic.Node.addPointsSetter=function(a,b){var c=f+Kinetic.Util._capitalize(b);a.prototype[c]=function(a){var b=Kinetic.Util._getPoints(a);this._setAttr(\"points\",b)}},Kinetic.Node.addSetter=function(a,b,c){var d=f+Kinetic.Util._capitalize(b);a.prototype[d]=function(a){this._setAttr(b,a),c&&(this.cachedTransform=null)}},Kinetic.Node.addPointSetter=function(a,b){var c=f+Kinetic.Util._capitalize(b);a.prototype[c]=function(){var a=Kinetic.Util._getXY([].slice.call(arguments)),d=this.attrs[b],e=0,f=0;a&&(e=a.x,f=a.y,this._fireBeforeChangeEvent(b,d,a),void 0!==e&&this[c+i](e),void 0!==f&&this[c+j](f),this._fireChangeEvent(b,d,a))}},Kinetic.Node.addRotationSetter=function(a,b,c){var d=f+Kinetic.Util._capitalize(b);a.prototype[d]=function(a){this._setAttr(b,a),c&&(this.cachedTransform=null)},a.prototype[d+r]=function(a){this._setAttr(b,Kinetic.Util._degToRad(a)),c&&(this.cachedTransform=null)}},Kinetic.Node.addPointAdder=function(b,c){var d=a+Kinetic.Util._removeLastLetter(Kinetic.Util._capitalize(c));b.prototype[d]=function(){var a=Kinetic.Util._getXY([].slice.call(arguments)),b=this.attrs[c];a&&(this._fireBeforeChangeEvent(c,b,a),this.attrs[c].push(a),this._fireChangeEvent(c,b,a))}},Kinetic.Node.create=function(a,b){return this._createNode(JSON.parse(a),b)},Kinetic.Node._createNode=function(a,b){var c,d,e,f=Kinetic.Node.prototype.getClassName.call(a),g=a.children;if(b&&(a.attrs.container=b),c=new Kinetic[f](a.attrs),g)for(d=g.length,e=0;d>e;e++)c.add(this._createNode(g[e]));return c},Kinetic.Node.addGetterSetter(Kinetic.Node,\"x\",0,!0),Kinetic.Node.addGetterSetter(Kinetic.Node,\"y\",0,!0),Kinetic.Node.addGetterSetter(Kinetic.Node,\"opacity\",1),Kinetic.Node.addGetter(Kinetic.Node,\"name\"),Kinetic.Node.addGetter(Kinetic.Node,\"id\"),Kinetic.Node.addRotationGetterSetter(Kinetic.Node,\"rotation\",0,!0),Kinetic.Node.addPointGetterSetter(Kinetic.Node,\"scale\",1,!0),Kinetic.Node.addPointGetterSetter(Kinetic.Node,\"skew\",0,!0),Kinetic.Node.addPointGetterSetter(Kinetic.Node,\"offset\",0,!0),Kinetic.Node.addSetter(Kinetic.Node,\"width\"),Kinetic.Node.addSetter(Kinetic.Node,\"height\"),Kinetic.Node.addGetterSetter(Kinetic.Node,\"listening\",!0),Kinetic.Node.addSetter(Kinetic.Node,\"visible\"),Kinetic.Node.prototype.isListening=Kinetic.Node.prototype.getListening,Kinetic.Node.prototype.isVisible=Kinetic.Node.prototype.getVisible,Kinetic.Collection.mapMethods([\"on\",\"off\",\"remove\",\"destroy\",\"show\",\"hide\",\"move\",\"rotate\",\"moveToTop\",\"moveUp\",\"moveDown\",\"moveToBottom\",\"moveTo\",\"fire\",\"draw\"])}(),function(){function a(a){window.setTimeout(a,1e3/60)}var b=500;Kinetic.Animation=function(a,b){this.func=a,this.setLayers(b),this.id=Kinetic.Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:(new Date).getTime()}},Kinetic.Animation.prototype={setLayers:function(a){var b=[];b=a?a.length>0?a:[a]:[],this.layers=b},getLayers:function(){return this.layers},addLayer:function(a){var b,c,d=this.layers;if(d){for(b=d.length,c=0;b>c;c++)if(d[c]._id===a._id)return!1}else this.layers=[];return this.layers.push(a),!0},isRunning:function(){for(var a=Kinetic.Animation,b=a.animations,c=0;c<b.length;c++)if(b[c].id===this.id)return!0;return!1},start:function(){this.stop(),this.frame.timeDiff=0,this.frame.lastTime=(new Date).getTime(),Kinetic.Animation._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(a){this.frame.timeDiff=a-this.frame.lastTime,this.frame.lastTime=a,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(a){this.animations.push(a),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(a){for(var b=a.id,c=this.animations,d=c.length,e=0;d>e;e++)if(c[e].id===b){this.animations.splice(e,1);break}},Kinetic.Animation._runFrames=function(){var a,b,c,d,e,f,g,h,i={},j=this.animations;for(d=0;d<j.length;d++){for(a=j[d],b=a.layers,c=a.func,a._updateFrameObject((new Date).getTime()),f=b.length,e=0;f>e;e++)g=b[e],void 0!==g._id&&(i[g._id]=g);c&&c.call(a,a.frame)}for(h in i)i[h].draw()},Kinetic.Animation._animationLoop=function(){var a=this;this.animations.length>0?(this._runFrames(),Kinetic.Animation.requestAnimFrame(function(){a._animationLoop()})):this.animRunning=!1},Kinetic.Animation._handleAnimation=function(){var a=this;this.animRunning||(this.animRunning=!0,a._animationLoop())},RAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||a}(),Kinetic.Animation.requestAnimFrame=function(b){var c=Kinetic.DD&&Kinetic.DD.isDragging?a:RAF;c(b)};var c=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(a){c.call(this,a)},Kinetic.Layer.prototype.batchDraw=function(){var a=this;this.batchAnim||(this.batchAnim=new Kinetic.Animation(function(){a.lastBatchDrawTime&&(new Date).getTime()-a.lastBatchDrawTime>b&&a.batchAnim.stop()},this)),this.lastBatchDrawTime=(new Date).getTime(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(a){a.batchDraw()})}}(),function(){var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},b=1,c=2,d=3,e=0;Kinetic.Tween=function(b){var c,d=this,g=b.node,h=g._id,i=b.duration||1,j=b.easing||Kinetic.Easings.Linear,k=!!b.yoyo;this.node=g,this._id=e++,this.anim=new Kinetic.Animation(function(){d.tween.onEnterFrame()},g.getLayer()||g.getLayers()),this.tween=new f(c,function(a){d._tweenFunc(a)},j,0,1,1e3*i,k),this._addListeners(),Kinetic.Tween.attrs[h]||(Kinetic.Tween.attrs[h]={}),Kinetic.Tween.attrs[h][this._id]||(Kinetic.Tween.attrs[h][this._id]={}),Kinetic.Tween.tweens[h]||(Kinetic.Tween.tweens[h]={});for(c in b)void 0===a[c]&&this._addAttr(c,b[c]);this.reset(),this.onFinish=b.onFinish,this.onReset=b.onReset},Kinetic.Tween.attrs={},Kinetic.Tween.tweens={},Kinetic.Tween.prototype={_addAttr:function(a,b){var c,d,e,f,g,h,i,j=this.node,k=j._id;if(e=Kinetic.Tween.tweens[k][a],e&&delete Kinetic.Tween.attrs[k][e][a],c=j.getAttr(a),Kinetic.Util._isArray(b))for(b=Kinetic.Util._getPoints(b),d=[],g=b.length,f=0;g>f;f++)h=c[f],i=b[f],d.push({x:i.x-h.x,y:i.y-h.y});else d=b-c;Kinetic.Tween.attrs[k][this._id][a]={start:c,diff:d},Kinetic.Tween.tweens[k][a]=this._id},_tweenFunc:function(a){var b,c,d,e,f,g,h,i,j,k=this.node,l=Kinetic.Tween.attrs[k._id][this._id];for(b in l){if(c=l[b],d=c.start,e=c.diff,Kinetic.Util._isArray(d))for(f=[],h=d.length,g=0;h>g;g++)i=d[g],j=e[g],f.push({x:i.x+j.x*a,y:i.y+j.y*a});else f=d+e*a;k.setAttr(b,f)}},_addListeners:function(){var a=this;this.tween.onPlay=function(){a.anim.start()},this.tween.onReverse=function(){a.anim.start()},this.tween.onPause=function(){a.anim.stop()},this.tween.onFinish=function(){a.onFinish&&a.onFinish()},this.tween.onReset=function(){a.onReset&&a.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){var a=this.node;return this.tween.reset(),(a.getLayer()||a.getLayers()).draw(),this},seek:function(a){var b=this.node;return this.tween.seek(1e3*a),(b.getLayer()||b.getLayers()).draw(),this},pause:function(){return this.tween.pause(),this},finish:function(){var a=this.node;return this.tween.finish(),(a.getLayer()||a.getLayers()).draw(),this},destroy:function(){var a,b=this.node._id,c=this._id,d=Kinetic.Tween.tweens[b];this.pause();for(a in d)delete Kinetic.Tween.tweens[b][a];delete Kinetic.Tween.attrs[b][c]}};var f=function(a,b,c,d,e,f,g){this.prop=a,this.propFunc=b,this.begin=d,this._pos=d,this.duration=f,this._change=0,this.prevPos=0,this.yoyo=g,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=c,this._change=e-this.begin,this.pause()\n};f.prototype={fire:function(a){var b=this[a];b&&b()},setTime:function(a){a>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():0>a?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=a,this.update())},getTime:function(){return this._time},setPosition:function(a){this.prevPos=this._pos,this.propFunc(a),this._pos=a},getPosition:function(a){return void 0===a&&(a=this._time),this.func(a,this.begin,this._change,this.duration)},play:function(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire(\"onPlay\")},reverse:function(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire(\"onReverse\")},seek:function(a){this.pause(),this._time=a,this.update(),this.fire(\"onSeek\")},reset:function(){this.pause(),this._time=0,this.update(),this.fire(\"onReset\")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire(\"onFinish\")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var a=this.getTimer()-this._startTime;this.state===c?this.setTime(a):this.state===d&&this.setTime(this.duration-a)},pause:function(){this.state=b,this.fire(\"onPause\")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(a,b,c,d){var e=1.70158;return c*(a/=d)*a*((e+1)*a-e)+b},BackEaseOut:function(a,b,c,d){var e=1.70158;return c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},BackEaseInOut:function(a,b,c,d){var e=1.70158;return(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},ElasticEaseIn:function(a,b,c,d,e,f){var g=0;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f))+b)},ElasticEaseOut:function(a,b,c,d,e,f){var g=0;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b)},ElasticEaseInOut:function(a,b,c,d,e,f){var g=0;return 0===a?b:2==(a/=d/2)?b+c:(f||(f=d*.3*1.5),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),1>a?-.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+b:.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+c+b)},BounceEaseOut:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},BounceEaseIn:function(a,b,c,d){return c-Kinetic.Easings.BounceEaseOut(d-a,0,c,d)+b},BounceEaseInOut:function(a,b,c,d){return d/2>a?.5*Kinetic.Easings.BounceEaseIn(2*a,0,c,d)+b:.5*Kinetic.Easings.BounceEaseOut(2*a-d,0,c,d)+.5*c+b},EaseIn:function(a,b,c,d){return c*(a/=d)*a+b},EaseOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},EaseInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},StrongEaseIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},StrongEaseOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},StrongEaseInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},Linear:function(a,b,c,d){return c*a/d+b}}}(),function(){Kinetic.DD={anim:new Kinetic.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(a){var b=Kinetic.DD,c=b.node;if(c){var d=c.getStage().getPointerPosition(),e=c.getDragBoundFunc(),f={x:d.x-b.offset.x,y:d.y-b.offset.y};void 0!==e&&(f=e.call(c,f,a)),c.setAbsolutePosition(f),b.isDragging||(b.isDragging=!0,c.fire(\"dragstart\",a,!0)),c.fire(\"dragmove\",a,!0)}},_endDragBefore:function(a){var b,c,d=Kinetic.DD,e=Kinetic.Global,f=d.node;f&&(b=f.nodeType,c=f.getLayer(),d.anim.stop(),d.isDragging&&(d.isDragging=!1,e.listenClickTap=!1,a&&(a.dragEndNode=f)),delete d.node,(c||f).draw())},_endDragAfter:function(a){a=a||{};var b=a.dragEndNode;a&&b&&b.fire(\"dragend\",a,!0)}},Kinetic.Node.prototype.startDrag=function(){var a=Kinetic.DD,b=this.getStage(),c=this.getLayer(),d=b.getPointerPosition(),e=(this.getTransform().getTranslation(),this.getAbsolutePosition());d&&(a.node&&a.node.stopDrag(),a.node=this,a.offset.x=d.x-e.x,a.offset.y=d.y-e.y,a.anim.setLayers(c||this.getLayers()),a.anim.start())},Kinetic.Node.prototype.stopDrag=function(){var a=Kinetic.DD,b={};a._endDragBefore(b),a._endDragAfter(b)},Kinetic.Node.prototype.setDraggable=function(a){this._setAttr(\"draggable\",a),this._dragChange()};var a=Kinetic.Node.prototype.destroy;Kinetic.Node.prototype.destroy=function(){var b=Kinetic.DD;b.node&&b.node._id===this._id&&this.stopDrag(),a.call(this)},Kinetic.Node.prototype.isDragging=function(){var a=Kinetic.DD;return a.node&&a.node._id===this._id&&a.isDragging},Kinetic.Node.prototype._listenDrag=function(){this._dragCleanup();var a=this;this.on(\"mousedown.kinetic touchstart.kinetic\",function(b){Kinetic.DD.node||a.startDrag(b)})},Kinetic.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var a=this.getStage(),b=Kinetic.DD;a&&b.node&&b.node._id===this._id&&b.node.stopDrag()}},Kinetic.Node.prototype._dragCleanup=function(){this.off(\"mousedown.kinetic\"),this.off(\"touchstart.kinetic\")},Kinetic.Node.addGetterSetter(Kinetic.Node,\"dragBoundFunc\"),Kinetic.Node.addGetter(Kinetic.Node,\"draggable\",!1),Kinetic.Node.prototype.isDraggable=Kinetic.Node.prototype.getDraggable;var b=document.getElementsByTagName(\"html\")[0];b.addEventListener(\"mouseup\",Kinetic.DD._endDragBefore,!0),b.addEventListener(\"touchend\",Kinetic.DD._endDragBefore,!0),b.addEventListener(\"mouseup\",Kinetic.DD._endDragAfter,!1),b.addEventListener(\"touchend\",Kinetic.DD._endDragAfter,!1)}(),function(){Kinetic.Util.addMethods(Kinetic.Container,{__init:function(a){this.children=new Kinetic.Collection,Kinetic.Node.call(this,a)},getChildren:function(){return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var a,b=this.children;b.length>0;)a=b[0],a.hasChildren()&&a.removeChildren(),a.remove();return this},destroyChildren:function(){for(var a=this.children;a.length>0;)a[0].destroy();return this},add:function(a){var b=(Kinetic.Global,this.children);return this._validateAdd(a),a.index=b.length,a.parent=this,b.push(a),this._fire(\"add\",{child:a}),this},destroy:function(){this.hasChildren()&&this.destroyChildren(),Kinetic.Node.prototype.destroy.call(this)},get:function(a){var b,c,d,e,f,g,h,i=[],j=a.replace(/ /g,\"\").split(\",\"),k=j.length;for(b=0;k>b;b++)if(d=j[b],\"#\"===d.charAt(0))f=this._getNodeById(d.slice(1)),f&&i.push(f);else if(\".\"===d.charAt(0))e=this._getNodesByName(d.slice(1)),i=i.concat(e);else for(g=this.getChildren(),h=g.length,c=0;h>c;c++)i=i.concat(g[c]._get(d));return Kinetic.Collection.toCollection(i)},_getNodeById:function(a){var b=(this.getStage(),Kinetic.Global),c=b.ids[a];return void 0!==c&&this.isAncestorOf(c)?c:null},_getNodesByName:function(a){var b=Kinetic.Global,c=b.names[a]||[];return this._getDescendants(c)},_get:function(a){for(var b=Kinetic.Node.prototype._get.call(this,a),c=this.getChildren(),d=c.length,e=0;d>e;e++)b=b.concat(c[e]._get(a));return b},toObject:function(){var a=Kinetic.Node.prototype.toObject.call(this);a.children=[];for(var b=this.getChildren(),c=b.length,d=0;c>d;d++){var e=b[d];a.children.push(e.toObject())}return a},_getDescendants:function(a){for(var b=[],c=a.length,d=0;c>d;d++){var e=a[d];this.isAncestorOf(e)&&b.push(e)}return b},isAncestorOf:function(a){for(var b=a.getParent();b;){if(b._id===this._id)return!0;b=b.getParent()}return!1},clone:function(a){var b=Kinetic.Node.prototype.clone.call(this,a);return this.getChildren().each(function(a){b.add(a.clone())}),b},getAllIntersections:function(){for(var a=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),b=[],c=this.get(\"Shape\"),d=c.length,e=0;d>e;e++){var f=c[e];f.isVisible()&&f.intersects(a)&&b.push(f)}return b},_setChildrenIndices:function(){for(var a=this.children,b=a.length,c=0;b>c;c++)a[c].index=c},drawScene:function(a){var b,c,d,e=this.getLayer(),f=!!this.getClipFunc();if(!a&&e&&(a=e.getCanvas()),this.isVisible()){for(f&&a._clip(this),b=this.children,d=b.length,c=0;d>c;c++)b[c].drawScene(a);f&&a.getContext().restore()}return this},drawHit:function(){var a,b=!!this.getClipFunc()&&\"Stage\"!==this.nodeType,c=0,d=0,e=[];if(this.shouldDrawHit()){for(b&&(a=this.getLayer().hitCanvas,a._clip(this)),e=this.children,d=e.length,c=0;d>c;c++)e[c].drawHit();b&&a.getContext().restore()}return this}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Node.addGetterSetter(Kinetic.Container,\"clipFunc\")}(),function(){function a(a){a.fill()}function b(a){a.stroke()}function c(a){a.fill()}function d(a){a.stroke()}var e=\"beforeDraw\",f=\"draw\";Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(e){this.nodeType=\"Shape\",this._fillFunc=a,this._strokeFunc=b,this._fillFuncHit=c,this._strokeFuncHit=d;for(var f,g=Kinetic.Global.shapes;;)if(f=Kinetic.Util.getRandomColor(),f&&!(f in g))break;this.colorKey=f,g[f]=this,Kinetic.Node.call(this,e),this._setDrawFuncs()},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return 0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},_get:function(a){return this.className===a||this.nodeType===a?[this]:[]},intersects:function(){var a=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),b=this.getStage(),c=b.hitCanvas;c.clear(),this.drawScene(c);var d=c.context.getImageData(0|a.x,0|a.y,1,1).data;return d[3]>0},enableFill:function(){return this._setAttr(\"fillEnabled\",!0),this},disableFill:function(){return this._setAttr(\"fillEnabled\",!1),this},enableStroke:function(){return this._setAttr(\"strokeEnabled\",!0),this},disableStroke:function(){return this._setAttr(\"strokeEnabled\",!1),this},enableStrokeScale:function(){return this._setAttr(\"strokeScaleEnabled\",!0),this},disableStrokeScale:function(){return this._setAttr(\"strokeScaleEnabled\",!1),this},enableShadow:function(){return this._setAttr(\"shadowEnabled\",!0),this},disableShadow:function(){return this._setAttr(\"shadowEnabled\",!1),this},enableDashArray:function(){return this._setAttr(\"dashArrayEnabled\",!0),this},disableDashArray:function(){return this._setAttr(\"dashArrayEnabled\",!1),this},destroy:function(){return Kinetic.Node.prototype.destroy.call(this),delete Kinetic.Global.shapes[this.colorKey],this},drawScene:function(a){a=a||this.getLayer().getCanvas();var b=this.getDrawFunc(),c=a.getContext();return b&&this.isVisible()&&(c.save(),a._applyOpacity(this),a._applyLineJoin(this),a._applyAncestorTransforms(this),this._fireBeforeDrawEvents(),b.call(this,a),this._fireDrawEvents(),c.restore()),this},_fireBeforeDrawEvents:function(){this._fireAndBubble(e,{node:this})},_fireDrawEvents:function(){this._fireAndBubble(f,{node:this})},drawHit:function(){var a=this.getAttrs(),b=a.drawHitFunc||a.drawFunc,c=this.getLayer().hitCanvas,d=c.getContext();return b&&this.shouldDrawHit()&&(d.save(),c._applyLineJoin(this),c._applyAncestorTransforms(this),b.call(this,c),d.restore()),this},_setDrawFuncs:function(){!this.attrs.drawFunc&&this.drawFunc&&this.setDrawFunc(this.drawFunc),!this.attrs.drawHitFunc&&this.drawHitFunc&&this.setDrawHitFunc(this.drawHitFunc)}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Node.addColorGetterSetter(Kinetic.Shape,\"stroke\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"lineJoin\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"lineCap\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"strokeWidth\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"drawFunc\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"drawHitFunc\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"dashArray\"),Kinetic.Node.addColorGetterSetter(Kinetic.Shape,\"shadowColor\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"shadowBlur\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"shadowOpacity\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillPatternImage\"),Kinetic.Node.addColorGetterSetter(Kinetic.Shape,\"fill\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillPatternX\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillPatternY\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillLinearGradientColorStops\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillRadialGradientStartRadius\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillRadialGradientEndRadius\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillRadialGradientColorStops\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillPatternRepeat\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillEnabled\",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"strokeEnabled\",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"shadowEnabled\",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"dashArrayEnabled\",!0),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"fillPriority\",\"color\"),Kinetic.Node.addGetterSetter(Kinetic.Shape,\"strokeScaleEnabled\",!0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,\"fillPatternOffset\",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,\"fillPatternScale\",1),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,\"fillLinearGradientStartPoint\",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,\"fillLinearGradientEndPoint\",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,\"fillRadialGradientStartPoint\",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,\"fillRadialGradientEndPoint\",0),Kinetic.Node.addPointGetterSetter(Kinetic.Shape,\"shadowOffset\",0),Kinetic.Node.addRotationGetterSetter(Kinetic.Shape,\"fillPatternRotation\",0)}(),function(){function a(a,b){a.content.addEventListener(b,function(c){a[x+b](c)},!1)}var b=\"Stage\",c=\"string\",d=\"px\",e=\"mouseout\",f=\"mouseleave\",g=\"mouseover\",h=\"mouseenter\",i=\"mousemove\",j=\"mousedown\",k=\"mouseup\",l=\"click\",m=\"dblclick\",n=\"touchstart\",o=\"touchend\",p=\"tap\",q=\"dbltap\",r=\"touchmove\",s=\"div\",t=\"relative\",u=\"inline-block\",v=\"kineticjs-content\",w=\" \",x=\"_\",y=\"container\",z=\"\",A=[j,i,k,e,n,r,o,g],B=A.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(a){Kinetic.Container.call(this,a),this.nodeType=b,this._id=Kinetic.Global.idCounter++,this._buildDOM(),this._bindContentEvents(),Kinetic.Global.stages.push(this)},_validateAdd:function(a){\"Layer\"!==a.getType()&&Kinetic.Util.error(\"You may only add layers to the stage.\")},setContainer:function(a){return typeof a===c&&(a=document.getElementById(a)),this._setAttr(y,a),this},draw:function(){return Kinetic.Node.prototype.draw.call(this),this},setHeight:function(a){return Kinetic.Node.prototype.setHeight.call(this,a),this._resizeDOM(),this},setWidth:function(a){return Kinetic.Node.prototype.setWidth.call(this,a),this._resizeDOM(),this},clear:function(){var a,b=this.children,c=b.length;for(a=0;c>a;a++)b[a].clear();return this},destroy:function(){var a=this.content;Kinetic.Container.prototype.destroy.call(this),a&&Kinetic.Util._isInDocument(a)&&this.getContainer().removeChild(a)},getMousePosition:function(){return this.mousePos},getTouchPosition:function(){return this.touchPos},getPointerPosition:function(){return this.getTouchPosition()||this.getMousePosition()},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(a){function b(e){var f=i[e],j=f.toDataURL(),k=new Image;k.onload=function(){h.drawImage(k,0,0),e<i.length-1?b(e+1):a.callback(g.toDataURL(c,d))},k.src=j}a=a||{};var c=a.mimeType||null,d=a.quality||null,e=a.x||0,f=a.y||0,g=new Kinetic.SceneCanvas({width:a.width||this.getWidth(),height:a.height||this.getHeight(),pixelRatio:1}),h=g.getContext(),i=this.children;(e||f)&&h.translate(-1*e,-1*f),b(0)},toImage:function(a){var b=a.callback;a.callback=function(a){Kinetic.Util._getImage(a,function(a){b(a)})},this.toDataURL(a)},getIntersection:function(){var a,b,c=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),d=this.getChildren(),e=d.length,f=e-1;for(a=f;a>=0;a--)if(b=d[a].getIntersection(c))return b;return null},_resizeDOM:function(){if(this.content){var a,b,c=this.getWidth(),e=this.getHeight(),f=this.getChildren(),g=f.length;for(this.content.style.width=c+d,this.content.style.height=e+d,this.bufferCanvas.setSize(c,e,1),this.hitCanvas.setSize(c,e),a=0;g>a;a++)b=f[a],b.getCanvas().setSize(c,e),b.hitCanvas.setSize(c,e),b.draw()}},add:function(a){return Kinetic.Container.prototype.add.call(this,a),a.canvas.setSize(this.attrs.width,this.attrs.height),a.hitCanvas.setSize(this.attrs.width,this.attrs.height),a.draw(),this.content.appendChild(a.canvas.element),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_setPointerPosition:function(a){a||(a=window.event),this._setMousePosition(a),this._setTouchPosition(a)},_bindContentEvents:function(){var b;for(b=0;B>b;b++)a(this,A[b])},_mouseover:function(a){this._fire(g,a)},_mouseout:function(a){this._setPointerPosition(a);var b=Kinetic.Global,c=this.targetShape;c&&!b.isDragging()&&(c._fireAndBubble(e,a),c._fireAndBubble(f,a),this.targetShape=null),this.mousePos=void 0,this._fire(e,a)},_mousemove:function(a){this._setPointerPosition(a);var b,c=Kinetic.Global,d=Kinetic.DD,j=this.getIntersection(this.getPointerPosition());j?(b=j.shape,b&&(c.isDragging()||255!==j.pixel[3]||this.targetShape&&this.targetShape._id===b._id?b._fireAndBubble(i,a):(b._fireAndBubble(g,a,this.targetShape),b._fireAndBubble(h,a,this.targetShape),this.targetShape&&(this.targetShape._fireAndBubble(e,a,b),this.targetShape._fireAndBubble(f,a,b)),this.targetShape=b))):(this._fire(i,a),this.targetShape&&!c.isDragging()&&(this.targetShape._fireAndBubble(e,a),this.targetShape._fireAndBubble(f,a),this.targetShape=null)),d&&d._drag(a),a.preventDefault&&a.preventDefault()},_mousedown:function(a){this._setPointerPosition(a);var b=Kinetic.Global,c=this.getIntersection(this.getPointerPosition()),d=c&&c.shape?c.shape:this;b.listenClickTap=!0,this.clickStartShape=d,d._fireAndBubble(j,a),a.preventDefault&&a.preventDefault()},_mouseup:function(a){this._setPointerPosition(a);var b=Kinetic.Global,c=this.getIntersection(this.getPointerPosition()),d=c&&c.shape?c.shape:this;d._fireAndBubble(k,a),b.listenClickTap&&d._id===this.clickStartShape._id&&(d._fireAndBubble(l,a),b.inDblClickWindow?(d._fireAndBubble(m,a),b.inDblClickWindow=!1):b.inDblClickWindow=!0,setTimeout(function(){b.inDblClickWindow=!1},b.dblClickWindow)),b.listenClickTap=!1,a.preventDefault&&a.preventDefault()},_touchstart:function(a){this._setPointerPosition(a);var b=Kinetic.Global,c=this.getIntersection(this.getPointerPosition()),d=c&&c.shape?c.shape:this;b.listenClickTap=!0,this.tapStartShape=d,d._fireAndBubble(n,a),d.isListening()&&a.preventDefault&&a.preventDefault()},_touchend:function(a){this._setPointerPosition(a);var b=Kinetic.Global,c=this.getIntersection(this.getPointerPosition()),d=c&&c.shape?c.shape:this;d._fireAndBubble(o,a),b.listenClickTap&&d._id===this.tapStartShape._id&&(d._fireAndBubble(p,a),b.inDblClickWindow?(d._fireAndBubble(q,a),b.inDblClickWindow=!1):b.inDblClickWindow=!0,setTimeout(function(){b.inDblClickWindow=!1},b.dblClickWindow)),b.listenClickTap=!1,d.isListening()&&a.preventDefault&&a.preventDefault()},_touchmove:function(a){this._setPointerPosition(a);var b=Kinetic.DD,c=this.getIntersection(this.getPointerPosition()),d=c&&c.shape?c.shape:this;d._fireAndBubble(r,a),b&&b._drag(a),d.isListening()&&a.preventDefault&&a.preventDefault()},_setMousePosition:function(a){var b=a.clientX-this._getContentPosition().left,c=a.clientY-this._getContentPosition().top;this.mousePos={x:b,y:c}},_setTouchPosition:function(a){var b,c,d;void 0!==a.touches&&1===a.touches.length&&(b=a.touches[0],c=b.clientX-this._getContentPosition().left,d=b.clientY-this._getContentPosition().top,this.touchPos={x:c,y:d})},_getContentPosition:function(){var a=this.content.getBoundingClientRect();return{top:a.top,left:a.left}},_buildDOM:function(){var a=this.getContainer();a.innerHTML=z,this.content=document.createElement(s),this.content.style.position=t,this.content.style.display=u,this.content.className=v,a.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(a,b){var c,d,e=a.split(w),f=e.length;for(c=0;f>c;c++)d=e[c],this.content.addEventListener(d,b,!1)}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Node.addGetter(Kinetic.Stage,\"container\")}(),function(){var a=\"#\";Kinetic.Util.addMethods(Kinetic.Layer,{___init:function(a){this.nodeType=\"Layer\",this.canvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,Kinetic.Container.call(this,a)},_validateAdd:function(a){var b=a.getType();\"Group\"!==b&&\"Shape\"!==b&&Kinetic.Util.error(\"You may only add groups and shapes to a layer.\")},getIntersection:function(){var b,c,d,e=Kinetic.Util._getXY(Array.prototype.slice.call(arguments));if(this.isVisible()&&this.isListening()){if(b=this.hitCanvas.context.getImageData(0|e.x,0|e.y,1,1).data,255===b[3])return c=Kinetic.Util._rgbToHex(b[0],b[1],b[2]),d=Kinetic.Global.shapes[a+c],{shape:d,pixel:b};if(b[0]>0||b[1]>0||b[2]>0||b[3]>0)return{pixel:b}}return null},drawScene:function(a){return a=a||this.getCanvas(),this.getClearBeforeDraw()&&a.clear(),Kinetic.Container.prototype.drawScene.call(this,a),this},drawHit:function(){var a=this.getLayer();return a&&a.getClearBeforeDraw()&&a.getHitCanvas().clear(),Kinetic.Container.prototype.drawHit.call(this),this},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(){return this.getCanvas().clear(),this},setVisible:function(a){return Kinetic.Node.prototype.setVisible.call(this,a),a?(this.getCanvas().element.style.display=\"block\",this.hitCanvas.element.style.display=\"block\"):(this.getCanvas().element.style.display=\"none\",this.hitCanvas.element.style.display=\"none\"),this},setZIndex:function(a){Kinetic.Node.prototype.setZIndex.call(this,a);var b=this.getStage();return b&&(b.content.removeChild(this.getCanvas().element),a<b.getChildren().length-1?b.content.insertBefore(this.getCanvas().element,b.getChildren()[a+1].getCanvas().element):b.content.appendChild(this.getCanvas().element)),this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var a=this.getStage();a&&(a.content.removeChild(this.getCanvas().element),a.content.appendChild(this.getCanvas().element))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var a=this.getStage();a&&(a.content.removeChild(this.getCanvas().element),this.index<a.getChildren().length-1?a.content.insertBefore(this.getCanvas().element,a.getChildren()[this.index+1].getCanvas().element):a.content.appendChild(this.getCanvas().element))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var a=this.getStage();if(a){var b=a.getChildren();a.content.removeChild(this.getCanvas().element),a.content.insertBefore(this.getCanvas().element,b[this.index+1].getCanvas().element)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var a=this.getStage();if(a){var b=a.getChildren();a.content.removeChild(this.getCanvas().element),a.content.insertBefore(this.getCanvas().element,b[1].getCanvas().element)}}},getLayer:function(){return this},remove:function(){var a=this.getStage(),b=this.getCanvas(),c=b.element;return Kinetic.Node.prototype.remove.call(this),a&&b&&Kinetic.Util._isInDocument(c)&&a.content.removeChild(c),this}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.Container),Kinetic.Node.addGetterSetter(Kinetic.Layer,\"clearBeforeDraw\",!0)}(),function(){Kinetic.Util.addMethods(Kinetic.Group,{___init:function(a){this.nodeType=\"Group\",Kinetic.Container.call(this,a)},_validateAdd:function(a){var b=a.getType();\"Group\"!==b&&\"Shape\"!==b&&Kinetic.Util.error(\"You may only add groups and shapes to groups.\")}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container)}(),function(){Kinetic.Rect=function(a){this.___init(a)},Kinetic.Rect.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"Rect\"},drawFunc:function(a){var b=a.getContext(),c=this.getCornerRadius(),d=this.getWidth(),e=this.getHeight();b.beginPath(),c?(b.moveTo(c,0),b.lineTo(d-c,0),b.arc(d-c,c,c,3*Math.PI/2,0,!1),b.lineTo(d,e-c),b.arc(d-c,e-c,c,0,Math.PI/2,!1),b.lineTo(c,e),b.arc(c,e-c,c,Math.PI/2,Math.PI,!1),b.lineTo(0,c),b.arc(c,c,c,Math.PI,3*Math.PI/2,!1)):b.rect(0,0,d,e),b.closePath(),a.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Rect,\"cornerRadius\",0)}(),function(){var a=2*Math.PI-1e-4,b=\"Circle\";Kinetic.Circle=function(a){this.___init(a)},Kinetic.Circle.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=b},drawFunc:function(b){var c=b.getContext();c.beginPath(),c.arc(0,0,this.getRadius(),0,a,!1),c.closePath(),b.fillStroke(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(a){Kinetic.Node.prototype.setWidth.call(this,a),this.setRadius(a/2)},setHeight:function(a){Kinetic.Node.prototype.setHeight.call(this,a),this.setRadius(a/2)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Circle,\"radius\",0)}(),function(){var a=2*Math.PI-1e-4,b=\"Ellipse\";Kinetic.Ellipse=function(a){this.___init(a)},Kinetic.Ellipse.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=b},drawFunc:function(b){var c=b.getContext(),d=this.getRadius();c.beginPath(),c.save(),d.x!==d.y&&c.scale(1,d.y/d.x),c.arc(0,0,d.x,0,a,!1),c.restore(),c.closePath(),b.fillStroke(this)},getWidth:function(){return 2*this.getRadius().x},getHeight:function(){return 2*this.getRadius().y},setWidth:function(a){Kinetic.Node.prototype.setWidth.call(this,a),this.setRadius({x:a/2})},setHeight:function(a){Kinetic.Node.prototype.setHeight.call(this,a),this.setRadius({y:a/2})}},Kinetic.Util.extend(Kinetic.Ellipse,Kinetic.Shape),Kinetic.Node.addPointGetterSetter(Kinetic.Ellipse,\"radius\",0)}(),function(){Kinetic.Wedge=function(a){this.___init(a)},Kinetic.Wedge.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"Wedge\"},drawFunc:function(a){var b=a.getContext();b.beginPath(),b.arc(0,0,this.getRadius(),0,this.getAngle(),this.getClockwise()),b.lineTo(0,0),b.closePath(),a.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Wedge,\"radius\",0),Kinetic.Node.addRotationGetterSetter(Kinetic.Wedge,\"angle\",0),Kinetic.Node.addGetterSetter(Kinetic.Wedge,\"clockwise\",!1)}(),function(){var a=\"Image\",b=\"crop\",c=\"set\";Kinetic.Image=function(a){this.___init(a)},Kinetic.Image.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className=a},drawFunc:function(a){var b,c,d,e,f,g,h=this.getWidth(),i=this.getHeight(),j=this,k=a.getContext(),l=this.getCrop();this.getFilter()&&this._applyFilter&&(this.applyFilter(),this._applyFilter=!1),g=this.filterCanvas?this.filterCanvas.getElement():this.getImage(),k.beginPath(),k.rect(0,0,h,i),k.closePath(),a.fillStroke(this),g&&(l?(c=l.x||0,d=l.y||0,e=l.width||0,f=l.height||0,b=[g,c,d,e,f,0,0,h,i]):b=[g,0,0,h,i],this.hasShadow()?a.applyShadow(this,function(){j._drawImage(k,b)}):this._drawImage(k,b))},drawHitFunc:function(a){var b=this.getWidth(),c=this.getHeight(),d=this.imageHitRegion,e=a.getContext();d?(e.drawImage(d,0,0,b,c),e.beginPath(),e.rect(0,0,b,c),e.closePath(),a.stroke(this)):(e.beginPath(),e.rect(0,0,b,c),e.closePath(),a.fillStroke(this))},applyFilter:function(){var a,b,c,d=this.getImage(),e=this.getWidth(),f=this.getHeight(),g=this.getFilter();a=this.filterCanvas?this.filterCanvas:this.filterCanvas=new Kinetic.SceneCanvas({width:e,height:f}),b=a.getContext();try{this._drawImage(b,[d,0,0,e,f]),c=b.getImageData(0,0,a.getWidth(),a.getHeight()),g.call(this,c),b.putImageData(c,0,0)}catch(h){this.clearFilter(),Kinetic.Util.warn(\"Unable to apply filter. \"+h.message)}},clearFilter:function(){this.filterCanvas=null,this._applyFilter=!1},setCrop:function(){var a=[].slice.call(arguments),c=Kinetic.Util._getXY(a),d=Kinetic.Util._getSize(a),e=Kinetic.Util._merge(c,d);this._setAttr(b,Kinetic.Util._merge(e,this.getCrop()))},createImageHitRegion:function(a){var b,c,d,e,f,g=this,h=this.getWidth(),i=this.getHeight(),j=new Kinetic.Canvas({width:h,height:i}),k=j.getContext(),l=this.getImage();k.drawImage(l,0,0);try{for(b=k.getImageData(0,0,h,i),c=b.data,d=Kinetic.Util._hexToRgb(this.colorKey),e=0,f=c.length;f>e;e+=4)c[e+3]>0&&(c[e]=d.r,c[e+1]=d.g,c[e+2]=d.b);Kinetic.Util._getImage(b,function(b){g.imageHitRegion=b,a&&a()})}catch(m){Kinetic.Util.warn(\"Unable to create image hit region. \"+m.message)}},clearImageHitRegion:function(){delete this.imageHitRegion},getWidth:function(){var a=this.getImage();return this.attrs.width||(a?a.width:0)},getHeight:function(){var a=this.getImage();return this.attrs.height||(a?a.height:0)},_drawImage:function(a,b){5===b.length?a.drawImage(b[0],b[1],b[2],b[3],b[4]):9===b.length&&a.drawImage(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])}},Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Node.addFilterGetterSetter=function(a,b,c){this.addGetter(a,b,c),this.addFilterSetter(a,b)},Kinetic.Node.addFilterSetter=function(a,b){var d=c+Kinetic.Util._capitalize(b);a.prototype[d]=function(a){this._setAttr(b,a),this._applyFilter=!0}},Kinetic.Node.addGetterSetter(Kinetic.Image,\"image\"),Kinetic.Node.addGetter(Kinetic.Image,\"crop\"),Kinetic.Node.addFilterGetterSetter(Kinetic.Image,\"filter\")}(),function(){Kinetic.Polygon=function(a){this.___init(a)},Kinetic.Polygon.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"Polygon\"},drawFunc:function(a){var b=a.getContext(),c=this.getPoints(),d=c.length;b.beginPath(),b.moveTo(c[0].x,c[0].y);for(var e=1;d>e;e++)b.lineTo(c[e].x,c[e].y);b.closePath(),a.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Polygon,Kinetic.Shape),Kinetic.Node.addPointsGetterSetter(Kinetic.Polygon,\"points\")}(),function(){function a(a){a.fillText(this.partialText,0,0)}function b(a){a.strokeText(this.partialText,0,0)}var c=\"auto\",d=\"Calibri\",e=\"canvas\",f=\"center\",g=\"Change.kinetic\",h=\"2d\",i=\"-\",j=\"\",k=\"left\",l=\"text\",m=\"Text\",n=\"middle\",o=\"normal\",p=\"px \",q=\" \",r=\"right\",s=\"word\",t=\"char\",u=\"none\",v=[\"fontFamily\",\"fontSize\",\"fontStyle\",\"padding\",\"align\",\"lineHeight\",\"text\",\"width\",\"height\",\"wrap\"],w=v.length,x=document.createElement(e).getContext(h);Kinetic.Text=function(a){this.___init(a)},Kinetic.Text.prototype={___init:function(d){var e=this;void 0===d.width&&(d.width=c),void 0===d.height&&(d.height=c),Kinetic.Shape.call(this,d),this._fillFunc=a,this._strokeFunc=b,this.className=m;for(var f=0;w>f;f++)this.on(v[f]+g,e._setTextData);this._setTextData()},drawFunc:function(a){var b=a.getContext(),c=this.getPadding(),d=(this.getFontStyle(),this.getFontSize(),this.getFontFamily(),this.getTextHeight()),e=this.getLineHeight()*d,g=this.textArr,h=g.length,i=this.getWidth();b.font=this._getContextFont(),b.textBaseline=n,b.textAlign=k,b.save(),b.translate(c,0),b.translate(0,c+d/2);for(var j=0;h>j;j++){var l=g[j],m=l.text,o=l.width;b.save(),this.getAlign()===r?b.translate(i-o-2*c,0):this.getAlign()===f&&b.translate((i-o-2*c)/2,0),this.partialText=m,a.fillStroke(this),b.restore(),b.translate(0,e)}b.restore()},drawHitFunc:function(a){var b=a.getContext(),c=this.getWidth(),d=this.getHeight();b.beginPath(),b.rect(0,0,c,d),b.closePath(),a.fillStroke(this)},setText:function(a){var b=Kinetic.Util._isString(a)?a:a.toString();this._setAttr(l,b)},getWidth:function(){return this.attrs.width===c?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return this.attrs.height===c?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(a){var b,c=x,d=this.getFontSize();return c.save(),c.font=this._getContextFont(),b=c.measureText(a),c.restore(),{width:b.width,height:parseInt(d,10)}\n},_getContextFont:function(){return this.getFontStyle()+q+this.getFontSize()+p+this.getFontFamily()},_addTextLine:function(a,b){return this.textArr.push({text:a,width:b})},_getTextWidth:function(a){return x.measureText(a).width},_setTextData:function(){var a=this.getText().split(\"\\n\"),b=+this.getFontSize(),d=0,e=this.getLineHeight()*b,f=this.attrs.width,g=this.attrs.height,h=f!==c,j=g!==c,k=this.getPadding(),l=f-2*k,m=g-2*k,n=0,o=this.getWrap(),r=o!==u,s=o!==t&&r;this.textArr=[],x.save(),x.font=this.getFontStyle()+q+b+p+this.getFontFamily();for(var v=0,w=a.length;w>v;++v){var y=a[v],z=this._getTextWidth(y);if(h&&z>l)for(;y.length>0;){for(var A=0,B=y.length,C=\"\",D=0;B>A;){var E=A+B>>>1,F=y.slice(0,E+1),G=this._getTextWidth(F);l>=G?(A=E+1,C=F,D=G):B=E}if(!C)break;if(s){var H=Math.max(C.lastIndexOf(q),C.lastIndexOf(i))+1;H>0&&(A=H,C=C.slice(0,A),D=this._getTextWidth(C))}if(this._addTextLine(C,D),n+=e,!r||j&&n+e>m)break;if(y=y.slice(A),y.length>0&&(z=this._getTextWidth(y),l>=z)){this._addTextLine(y,z),n+=e;break}}else this._addTextLine(y,z),n+=e,d=Math.max(d,z);if(j&&n+e>m)break}x.restore(),this.textHeight=b,this.textWidth=d}},Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Text,\"fontFamily\",d),Kinetic.Node.addGetterSetter(Kinetic.Text,\"fontSize\",12),Kinetic.Node.addGetterSetter(Kinetic.Text,\"fontStyle\",o),Kinetic.Node.addGetterSetter(Kinetic.Text,\"padding\",0),Kinetic.Node.addGetterSetter(Kinetic.Text,\"align\",k),Kinetic.Node.addGetterSetter(Kinetic.Text,\"lineHeight\",1),Kinetic.Node.addGetterSetter(Kinetic.Text,\"wrap\",s),Kinetic.Node.addGetter(Kinetic.Text,l,j),Kinetic.Node.addSetter(Kinetic.Text,\"width\"),Kinetic.Node.addSetter(Kinetic.Text,\"height\")}(),function(){Kinetic.Line=function(a){this.___init(a)},Kinetic.Line.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"Line\"},drawFunc:function(a){var b,c,d=this.getPoints(),e=d.length,f=a.getContext();for(f.beginPath(),f.moveTo(d[0].x,d[0].y),b=1;e>b;b++)c=d[b],f.lineTo(c.x,c.y);a.stroke(this)}},Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape),Kinetic.Node.addPointsGetterSetter(Kinetic.Line,\"points\")}(),function(){Kinetic.Spline=function(a){this.___init(a)},Kinetic.Spline.prototype={___init:function(a){var b=this;Kinetic.Shape.call(this,a),this.className=\"Spline\",this.on(\"pointsChange.kinetic tensionChange.kinetic\",function(){b._setAllPoints()}),this._setAllPoints()},drawFunc:function(a){var b,c,d,e,f=this.getPoints(),g=f.length,h=a.getContext(),i=this.getTension();if(h.beginPath(),h.moveTo(f[0].x,f[0].y),0!==i&&g>2){for(b=this.allPoints,c=b.length,d=2,h.quadraticCurveTo(b[0].x,b[0].y,b[1].x,b[1].y);c-1>d;)h.bezierCurveTo(b[d].x,b[d++].y,b[d].x,b[d++].y,b[d].x,b[d++].y);h.quadraticCurveTo(b[c-1].x,b[c-1].y,f[g-1].x,f[g-1].y)}else for(d=1;g>d;d++)e=f[d],h.lineTo(e.x,e.y);a.stroke(this)},_setAllPoints:function(){this.allPoints=Kinetic.Util._expandPoints(this.getPoints(),this.getTension())}},Kinetic.Util.extend(Kinetic.Spline,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Spline,\"tension\",1),Kinetic.Node.addPointsGetterSetter(Kinetic.Spline,\"points\")}(),function(){Kinetic.Blob=function(a){this.___init(a)},Kinetic.Blob.prototype={___init:function(a){var b=this;Kinetic.Shape.call(this,a),this.className=\"Blob\",this.on(\"pointsChange.kinetic tensionChange.kinetic\",function(){b._setAllPoints()}),this._setAllPoints()},drawFunc:function(a){var b,c,d,e,f=this.getPoints(),g=f.length,h=a.getContext(),i=this.getTension();if(h.beginPath(),h.moveTo(f[0].x,f[0].y),0!==i&&g>2)for(b=this.allPoints,c=b.length,d=0;c-1>d;)h.bezierCurveTo(b[d].x,b[d++].y,b[d].x,b[d++].y,b[d].x,b[d++].y);else for(d=1;g>d;d++)e=f[d],h.lineTo(e.x,e.y);h.closePath(),a.fillStroke(this)},_setAllPoints:function(){var a=this.getPoints(),b=a.length,c=this.getTension(),d=Kinetic.Util,e=d._getControlPoints(a[b-1],a[0],a[1],c),f=d._getControlPoints(a[b-2],a[b-1],a[0],c);this.allPoints=Kinetic.Util._expandPoints(this.getPoints(),this.getTension()),this.allPoints.unshift(e[1]),this.allPoints.push(f[0]),this.allPoints.push(a[b-1]),this.allPoints.push(f[1]),this.allPoints.push(e[0]),this.allPoints.push(a[0])}},Kinetic.Util.extend(Kinetic.Blob,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Blob,\"tension\",1),Kinetic.Node.addPointsGetterSetter(Kinetic.Blob,\"points\")}(),function(){Kinetic.Sprite=function(a){this.___init(a)},Kinetic.Sprite.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"Sprite\",this.anim=new Kinetic.Animation;var b=this;this.on(\"animationChange.kinetic\",function(){b.setIndex(0)})},drawFunc:function(a){var b=this.getAnimation(),c=this.getIndex(),d=this.getAnimations()[b][c],e=a.getContext(),f=this.getImage();f&&e.drawImage(f,d.x,d.y,d.width,d.height,0,0,d.width,d.height)},drawHitFunc:function(a){var b=this.getAnimation(),c=this.getIndex(),d=this.getAnimations()[b][c],e=a.getContext();e.beginPath(),e.rect(0,0,d.width,d.height),e.closePath(),a.fill(this)},start:function(){var a=this,b=this.getLayer();this.anim.setLayers(b),this.interval=setInterval(function(){var b=a.getIndex();a._updateIndex(),a.afterFrameFunc&&b===a.afterFrameIndex&&(a.afterFrameFunc(),delete a.afterFrameFunc,delete a.afterFrameIndex)},1e3/this.getFrameRate()),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},afterFrame:function(a,b){this.afterFrameIndex=a,this.afterFrameFunc=b},_updateIndex:function(){var a=this.getIndex(),b=this.getAnimation(),c=this.getAnimations(),d=c[b],e=d.length;e-1>a?this.setIndex(a+1):this.setIndex(0)}},Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Sprite,\"animation\"),Kinetic.Node.addGetterSetter(Kinetic.Sprite,\"animations\"),Kinetic.Node.addGetterSetter(Kinetic.Sprite,\"image\"),Kinetic.Node.addGetterSetter(Kinetic.Sprite,\"index\",0),Kinetic.Node.addGetterSetter(Kinetic.Sprite,\"frameRate\",17)}(),function(){Kinetic.Path=function(a){this.___init(a)},Kinetic.Path.prototype={___init:function(a){this.dataArray=[];var b=this;Kinetic.Shape.call(this,a),this.className=\"Path\",this.dataArray=Kinetic.Path.parsePathData(this.getData()),this.on(\"dataChange.kinetic\",function(){b.dataArray=Kinetic.Path.parsePathData(this.getData())})},drawFunc:function(a){var b=this.dataArray,c=a.getContext();c.beginPath();for(var d=0;d<b.length;d++){var e=b[d].command,f=b[d].points;switch(e){case\"L\":c.lineTo(f[0],f[1]);break;case\"M\":c.moveTo(f[0],f[1]);break;case\"C\":c.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5]);break;case\"Q\":c.quadraticCurveTo(f[0],f[1],f[2],f[3]);break;case\"A\":var g=f[0],h=f[1],i=f[2],j=f[3],k=f[4],l=f[5],m=f[6],n=f[7],o=i>j?i:j,p=i>j?1:i/j,q=i>j?j/i:1;c.translate(g,h),c.rotate(m),c.scale(p,q),c.arc(0,0,o,k,k+l,1-n),c.scale(1/p,1/q),c.rotate(-m),c.translate(-g,-h);break;case\"z\":c.closePath()}}a.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape),Kinetic.Path.getLineLength=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},Kinetic.Path.getPointOnLine=function(a,b,c,d,e,f,g){void 0===f&&(f=b),void 0===g&&(g=c);var h=(e-c)/(d-b+1e-8),i=Math.sqrt(a*a/(1+h*h));b>d&&(i*=-1);var j,k=h*i;if((g-c)/(f-b+1e-8)===h)j={x:f+i,y:g+k};else{var l,m,n=this.getLineLength(b,c,d,e);if(1e-8>n)return void 0;var o=(f-b)*(d-b)+(g-c)*(e-c);o/=n*n,l=b+o*(d-b),m=c+o*(e-c);var p=this.getLineLength(f,g,l,m),q=Math.sqrt(a*a-p*p);i=Math.sqrt(q*q/(1+h*h)),b>d&&(i*=-1),k=h*i,j={x:l+i,y:m+k}}return j},Kinetic.Path.getPointOnCubicBezier=function(a,b,c,d,e,f,g,h,i){function j(a){return a*a*a}function k(a){return 3*a*a*(1-a)}function l(a){return 3*a*(1-a)*(1-a)}function m(a){return(1-a)*(1-a)*(1-a)}var n=h*j(a)+f*k(a)+d*l(a)+b*m(a),o=i*j(a)+g*k(a)+e*l(a)+c*m(a);return{x:n,y:o}},Kinetic.Path.getPointOnQuadraticBezier=function(a,b,c,d,e,f,g){function h(a){return a*a}function i(a){return 2*a*(1-a)}function j(a){return(1-a)*(1-a)}var k=f*h(a)+d*i(a)+b*j(a),l=g*h(a)+e*i(a)+c*j(a);return{x:k,y:l}},Kinetic.Path.getPointOnEllipticalArc=function(a,b,c,d,e,f){var g=Math.cos(f),h=Math.sin(f),i={x:c*Math.cos(e),y:d*Math.sin(e)};return{x:a+(i.x*g-i.y*h),y:b+(i.x*h+i.y*g)}},Kinetic.Path.parsePathData=function(a){if(!a)return[];var b=a,c=[\"m\",\"M\",\"l\",\"L\",\"v\",\"V\",\"h\",\"H\",\"z\",\"Z\",\"c\",\"C\",\"q\",\"Q\",\"t\",\"T\",\"s\",\"S\",\"a\",\"A\"];b=b.replace(new RegExp(\" \",\"g\"),\",\");for(var d=0;d<c.length;d++)b=b.replace(new RegExp(c[d],\"g\"),\"|\"+c[d]);var e=b.split(\"|\"),f=[],g=0,h=0;for(d=1;d<e.length;d++){var i=e[d],j=i.charAt(0);i=i.slice(1),i=i.replace(new RegExp(\",-\",\"g\"),\"-\"),i=i.replace(new RegExp(\"-\",\"g\"),\",-\"),i=i.replace(new RegExp(\"e,-\",\"g\"),\"e-\");var k=i.split(\",\");k.length>0&&\"\"===k[0]&&k.shift();for(var l=0;l<k.length;l++)k[l]=parseFloat(k[l]);for(;k.length>0&&!isNaN(k[0]);){var m,n,o,p,q,r,s,t,u,v,w=null,x=[],y=g,z=h;switch(j){case\"l\":g+=k.shift(),h+=k.shift(),w=\"L\",x.push(g,h);break;case\"L\":g=k.shift(),h=k.shift(),x.push(g,h);break;case\"m\":g+=k.shift(),h+=k.shift(),w=\"M\",x.push(g,h),j=\"l\";break;case\"M\":g=k.shift(),h=k.shift(),w=\"M\",x.push(g,h),j=\"L\";break;case\"h\":g+=k.shift(),w=\"L\",x.push(g,h);break;case\"H\":g=k.shift(),w=\"L\",x.push(g,h);break;case\"v\":h+=k.shift(),w=\"L\",x.push(g,h);break;case\"V\":h=k.shift(),w=\"L\",x.push(g,h);break;case\"C\":x.push(k.shift(),k.shift(),k.shift(),k.shift()),g=k.shift(),h=k.shift(),x.push(g,h);break;case\"c\":x.push(g+k.shift(),h+k.shift(),g+k.shift(),h+k.shift()),g+=k.shift(),h+=k.shift(),w=\"C\",x.push(g,h);break;case\"S\":n=g,o=h,m=f[f.length-1],\"C\"===m.command&&(n=g+(g-m.points[2]),o=h+(h-m.points[3])),x.push(n,o,k.shift(),k.shift()),g=k.shift(),h=k.shift(),w=\"C\",x.push(g,h);break;case\"s\":n=g,o=h,m=f[f.length-1],\"C\"===m.command&&(n=g+(g-m.points[2]),o=h+(h-m.points[3])),x.push(n,o,g+k.shift(),h+k.shift()),g+=k.shift(),h+=k.shift(),w=\"C\",x.push(g,h);break;case\"Q\":x.push(k.shift(),k.shift()),g=k.shift(),h=k.shift(),x.push(g,h);break;case\"q\":x.push(g+k.shift(),h+k.shift()),g+=k.shift(),h+=k.shift(),w=\"Q\",x.push(g,h);break;case\"T\":n=g,o=h,m=f[f.length-1],\"Q\"===m.command&&(n=g+(g-m.points[0]),o=h+(h-m.points[1])),g=k.shift(),h=k.shift(),w=\"Q\",x.push(n,o,g,h);break;case\"t\":n=g,o=h,m=f[f.length-1],\"Q\"===m.command&&(n=g+(g-m.points[0]),o=h+(h-m.points[1])),g+=k.shift(),h+=k.shift(),w=\"Q\",x.push(n,o,g,h);break;case\"A\":p=k.shift(),q=k.shift(),r=k.shift(),s=k.shift(),t=k.shift(),u=g,v=h,g=k.shift(),h=k.shift(),w=\"A\",x=this.convertEndpointToCenterParameterization(u,v,g,h,s,t,p,q,r);break;case\"a\":p=k.shift(),q=k.shift(),r=k.shift(),s=k.shift(),t=k.shift(),u=g,v=h,g+=k.shift(),h+=k.shift(),w=\"A\",x=this.convertEndpointToCenterParameterization(u,v,g,h,s,t,p,q,r)}f.push({command:w||j,points:x,start:{x:y,y:z},pathLength:this.calcLength(y,z,w||j,x)})}(\"z\"===j||\"Z\"===j)&&f.push({command:\"z\",points:[],start:void 0,pathLength:0})}return f},Kinetic.Path.calcLength=function(a,b,c,d){var e,f,g,h=Kinetic.Path;switch(c){case\"L\":return h.getLineLength(a,b,d[0],d[1]);case\"C\":for(e=0,f=h.getPointOnCubicBezier(0,a,b,d[0],d[1],d[2],d[3],d[4],d[5]),t=.01;1>=t;t+=.01)g=h.getPointOnCubicBezier(t,a,b,d[0],d[1],d[2],d[3],d[4],d[5]),e+=h.getLineLength(f.x,f.y,g.x,g.y),f=g;return e;case\"Q\":for(e=0,f=h.getPointOnQuadraticBezier(0,a,b,d[0],d[1],d[2],d[3]),t=.01;1>=t;t+=.01)g=h.getPointOnQuadraticBezier(t,a,b,d[0],d[1],d[2],d[3]),e+=h.getLineLength(f.x,f.y,g.x,g.y),f=g;return e;case\"A\":e=0;var i=d[4],j=d[5],k=d[4]+j,l=Math.PI/180;if(Math.abs(i-k)<l&&(l=Math.abs(i-k)),f=h.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],i,0),0>j)for(t=i-l;t>k;t-=l)g=h.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],t,0),e+=h.getLineLength(f.x,f.y,g.x,g.y),f=g;else for(t=i+l;k>t;t+=l)g=h.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],t,0),e+=h.getLineLength(f.x,f.y,g.x,g.y),f=g;return g=h.getPointOnEllipticalArc(d[0],d[1],d[2],d[3],k,0),e+=h.getLineLength(f.x,f.y,g.x,g.y)}return 0},Kinetic.Path.convertEndpointToCenterParameterization=function(a,b,c,d,e,f,g,h,i){var j=i*(Math.PI/180),k=Math.cos(j)*(a-c)/2+Math.sin(j)*(b-d)/2,l=-1*Math.sin(j)*(a-c)/2+Math.cos(j)*(b-d)/2,m=k*k/(g*g)+l*l/(h*h);m>1&&(g*=Math.sqrt(m),h*=Math.sqrt(m));var n=Math.sqrt((g*g*h*h-g*g*l*l-h*h*k*k)/(g*g*l*l+h*h*k*k));e==f&&(n*=-1),isNaN(n)&&(n=0);var o=n*g*l/h,p=n*-h*k/g,q=(a+c)/2+Math.cos(j)*o-Math.sin(j)*p,r=(b+d)/2+Math.sin(j)*o+Math.cos(j)*p,s=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},t=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(s(a)*s(b))},u=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(t(a,b))},v=u([1,0],[(k-o)/g,(l-p)/h]),w=[(k-o)/g,(l-p)/h],x=[(-1*k-o)/g,(-1*l-p)/h],y=u(w,x);return t(w,x)<=-1&&(y=Math.PI),t(w,x)>=1&&(y=0),0===f&&y>0&&(y-=2*Math.PI),1==f&&0>y&&(y+=2*Math.PI),[q,r,g,h,v,y,j,f]},Kinetic.Node.addGetterSetter(Kinetic.Path,\"data\")}(),function(){function a(a){a.fillText(this.partialText,0,0)}function b(a){a.strokeText(this.partialText,0,0)}var c=\"\",d=\"Calibri\",e=\"normal\";Kinetic.TextPath=function(a){this.___init(a)},Kinetic.TextPath.prototype={___init:function(c){var d=this;this.dummyCanvas=document.createElement(\"canvas\"),this.dataArray=[],Kinetic.Shape.call(this,c),this._fillFunc=a,this._strokeFunc=b,this.className=\"TextPath\",this.dataArray=Kinetic.Path.parsePathData(this.attrs.data),this.on(\"dataChange.kinetic\",function(){d.dataArray=Kinetic.Path.parsePathData(this.attrs.data)}),this.on(\"textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic\",d._setTextData),d._setTextData()},drawFunc:function(a){var b=(this.charArr,a.getContext());b.font=this._getContextFont(),b.textBaseline=\"middle\",b.textAlign=\"left\",b.save();for(var c=this.glyphInfo,d=0;d<c.length;d++){b.save();var e=c[d].p0;c[d].p1,parseFloat(this.attrs.fontSize),b.translate(e.x,e.y),b.rotate(c[d].rotation),this.partialText=c[d].text,a.fillStroke(this),b.restore()}b.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(a){Kinetic.Text.prototype.setText.call(this,a)},_getTextSize:function(a){var b=this.dummyCanvas,c=b.getContext(\"2d\");c.save(),c.font=this._getContextFont();var d=c.measureText(a);return c.restore(),{width:d.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var a=this,b=this._getTextSize(this.attrs.text);this.textWidth=b.width,this.textHeight=b.height,this.glyphInfo=[];for(var c,d,e,f=this.attrs.text.split(\"\"),g=-1,h=0,i=function(){h=0;for(var b=a.dataArray,d=g+1;d<b.length;d++){if(b[d].pathLength>0)return g=d,b[d];\"M\"==b[d].command&&(c={x:b[d].points[0],y:b[d].points[1]})}return{}},j=function(b){var f=a._getTextSize(b).width,g=0,j=0;for(d=void 0;Math.abs(f-g)/f>.01&&25>j;){j++;for(var k=g;void 0===e;)e=i(),e&&k+e.pathLength<f&&(k+=e.pathLength,e=void 0);if(e==={}||void 0===c)return void 0;var l=!1;switch(e.command){case\"L\":Kinetic.Path.getLineLength(c.x,c.y,e.points[0],e.points[1])>f?d=Kinetic.Path.getPointOnLine(f,c.x,c.y,e.points[0],e.points[1],c.x,c.y):e=void 0;break;case\"A\":var m=e.points[4],n=e.points[5],o=e.points[4]+n;0===h?h=m+1e-8:f>g?h+=Math.PI/180*n/Math.abs(n):h-=Math.PI/360*n/Math.abs(n),Math.abs(h)>Math.abs(o)&&(h=o,l=!0),d=Kinetic.Path.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],h,e.points[6]);break;case\"C\":0===h?h=f>e.pathLength?1e-8:f/e.pathLength:f>g?h+=(f-g)/e.pathLength:h-=(g-f)/e.pathLength,h>1&&(h=1,l=!0),d=Kinetic.Path.getPointOnCubicBezier(h,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);break;case\"Q\":0===h?h=f/e.pathLength:f>g?h+=(f-g)/e.pathLength:h-=(g-f)/e.pathLength,h>1&&(h=1,l=!0),d=Kinetic.Path.getPointOnQuadraticBezier(h,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3])}void 0!==d&&(g=Kinetic.Path.getLineLength(c.x,c.y,d.x,d.y)),l&&(l=!1,e=void 0)}},k=0;k<f.length&&(j(f[k]),void 0!==c&&void 0!==d);k++){var l=Kinetic.Path.getLineLength(c.x,c.y,d.x,d.y),m=0,n=Kinetic.Path.getPointOnLine(m+l/2,c.x,c.y,d.x,d.y),o=Math.atan2(d.y-c.y,d.x-c.x);this.glyphInfo.push({transposeX:n.x,transposeY:n.y,text:f[k],rotation:o,p0:c,p1:d}),c=d}}},Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont,Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.TextPath,\"fontFamily\",d),Kinetic.Node.addGetterSetter(Kinetic.TextPath,\"fontSize\",12),Kinetic.Node.addGetterSetter(Kinetic.TextPath,\"fontStyle\",e),Kinetic.Node.addGetter(Kinetic.TextPath,\"text\",c)}(),function(){Kinetic.RegularPolygon=function(a){this.___init(a)},Kinetic.RegularPolygon.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"RegularPolygon\"},drawFunc:function(a){var b,c,d,e=a.getContext(),f=this.attrs.sides,g=this.attrs.radius;for(e.beginPath(),e.moveTo(0,0-g),b=1;f>b;b++)c=g*Math.sin(2*b*Math.PI/f),d=-1*g*Math.cos(2*b*Math.PI/f),e.lineTo(c,d);e.closePath(),a.fillStroke(this)}},Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.RegularPolygon,\"radius\",0),Kinetic.Node.addGetterSetter(Kinetic.RegularPolygon,\"sides\",0)}(),function(){Kinetic.Star=function(a){this.___init(a)},Kinetic.Star.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"Star\"},drawFunc:function(a){var b=a.getContext(),c=this.attrs.innerRadius,d=this.attrs.outerRadius,e=this.attrs.numPoints;b.beginPath(),b.moveTo(0,0-this.attrs.outerRadius);for(var f=1;2*e>f;f++){var g=0===f%2?d:c,h=g*Math.sin(f*Math.PI/e),i=-1*g*Math.cos(f*Math.PI/e);b.lineTo(h,i)}b.closePath(),a.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Star,\"numPoints\",0),Kinetic.Node.addGetterSetter(Kinetic.Star,\"innerRadius\",0),Kinetic.Node.addGetterSetter(Kinetic.Star,\"outerRadius\",0)}(),function(){var a=[\"fontFamily\",\"fontSize\",\"fontStyle\",\"padding\",\"lineHeight\",\"text\"],b=\"Change.kinetic\",c=\"none\",d=\"up\",e=\"right\",f=\"down\",g=\"left\",h=\"Label\",i=a.length;Kinetic.Label=function(a){this.____init(a)},Kinetic.Label.prototype={____init:function(a){var b=this;this.className=h,Kinetic.Group.call(this,a),this.on(\"add.kinetic\",function(a){b._addListeners(a.child),b._sync()})},getText:function(){return this.get(\"Text\")[0]},getTag:function(){return this.get(\"Tag\")[0]},_addListeners:function(c){var d,e=this,f=function(){e._sync()};for(d=0;i>d;d++)c.on(a[d]+b,f)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var a,b,c,h,i,j,k=this.getText(),l=this.getTag();if(k&&l){switch(a=k.getWidth(),b=k.getHeight(),c=l.getPointerDirection(),h=l.getPointerWidth(),pointerHeight=l.getPointerHeight(),i=0,j=0,c){case d:i=a/2,j=-1*pointerHeight;break;case e:i=a+h,j=b/2;break;case f:i=a/2,j=b+pointerHeight;break;case g:i=-1*h,j=b/2}l.setAttrs({x:-1*i,y:-1*j,width:a,height:b}),k.setAttrs({x:-1*i,y:-1*j})}}},Kinetic.Util.extend(Kinetic.Label,Kinetic.Group),Kinetic.Tag=function(a){this.___init(a)},Kinetic.Tag.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=\"Tag\"},drawFunc:function(a){var b=a.getContext(),c=this.getWidth(),h=this.getHeight(),i=this.getPointerDirection(),j=this.getPointerWidth(),k=this.getPointerHeight();this.getCornerRadius(),b.beginPath(),b.moveTo(0,0),i===d&&(b.lineTo((c-j)/2,0),b.lineTo(c/2,-1*k),b.lineTo((c+j)/2,0)),b.lineTo(c,0),i===e&&(b.lineTo(c,(h-k)/2),b.lineTo(c+j,h/2),b.lineTo(c,(h+k)/2)),b.lineTo(c,h),i===f&&(b.lineTo((c+j)/2,h),b.lineTo(c/2,h+k),b.lineTo((c-j)/2,h)),b.lineTo(0,h),i===g&&(b.lineTo(0,(h+k)/2),b.lineTo(-1*j,h/2),b.lineTo(0,(h-k)/2)),b.closePath(),a.fillStroke(this)}},Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape),Kinetic.Node.addGetterSetter(Kinetic.Tag,\"pointerDirection\",c),Kinetic.Node.addGetterSetter(Kinetic.Tag,\"pointerWidth\",0),Kinetic.Node.addGetterSetter(Kinetic.Tag,\"pointerHeight\",0),Kinetic.Node.addGetterSetter(Kinetic.Tag,\"cornerRadius\",0)}(),function(){Kinetic.Filters.Grayscale=function(a){for(var b=a.data,c=0;c<b.length;c+=4){var d=.34*b[c]+.5*b[c+1]+.16*b[c+2];b[c]=d,b[c+1]=d,b[c+2]=d}}}(),function(){Kinetic.Filters.Brighten=function(a){for(var b=this.getFilterBrightness(),c=a.data,d=0;d<c.length;d+=4)c[d]+=b,c[d+1]+=b,c[d+2]+=b},Kinetic.Node.addFilterGetterSetter(Kinetic.Image,\"filterBrightness\",0)}(),function(){Kinetic.Filters.Invert=function(a){for(var b=a.data,c=0;c<b.length;c+=4)b[c]=255-b[c],b[c+1]=255-b[c+1],b[c+2]=255-b[c+2]}}(),function(){function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function b(b,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=b.data,E=b.width,F=b.height,G=e+e+1,H=E-1,I=F-1,J=e+1,K=J*(J+1)/2,L=new a,M=null,N=L,O=null,P=null,Q=c[e],R=d[e];for(h=1;G>h;h++)N=N.next=new a,h==J&&(M=N);for(N.next=L,l=k=0,g=0;F>g;g++){for(u=v=w=x=m=n=o=p=0,q=J*(y=D[k]),r=J*(z=D[k+1]),s=J*(A=D[k+2]),t=J*(B=D[k+3]),m+=K*y,n+=K*z,o+=K*A,p+=K*B,N=L,h=0;J>h;h++)N.r=y,N.g=z,N.b=A,N.a=B,N=N.next;for(h=1;J>h;h++)i=k+((h>H?H:h)<<2),m+=(N.r=y=D[i])*(C=J-h),n+=(N.g=z=D[i+1])*C,o+=(N.b=A=D[i+2])*C,p+=(N.a=B=D[i+3])*C,u+=y,v+=z,w+=A,x+=B,N=N.next;for(O=L,P=M,f=0;E>f;f++)D[k+3]=B=p*Q>>R,0!==B?(B=255/B,D[k]=(m*Q>>R)*B,D[k+1]=(n*Q>>R)*B,D[k+2]=(o*Q>>R)*B):D[k]=D[k+1]=D[k+2]=0,m-=q,n-=r,o-=s,p-=t,q-=O.r,r-=O.g,s-=O.b,t-=O.a,i=l+((i=f+e+1)<H?i:H)<<2,u+=O.r=D[i],v+=O.g=D[i+1],w+=O.b=D[i+2],x+=O.a=D[i+3],m+=u,n+=v,o+=w,p+=x,O=O.next,q+=y=P.r,r+=z=P.g,s+=A=P.b,t+=B=P.a,u-=y,v-=z,w-=A,x-=B,P=P.next,k+=4;l+=E}for(f=0;E>f;f++){for(v=w=x=u=n=o=p=m=0,k=f<<2,q=J*(y=D[k]),r=J*(z=D[k+1]),s=J*(A=D[k+2]),t=J*(B=D[k+3]),m+=K*y,n+=K*z,o+=K*A,p+=K*B,N=L,h=0;J>h;h++)N.r=y,N.g=z,N.b=A,N.a=B,N=N.next;for(j=E,h=1;e>=h;h++)k=j+f<<2,m+=(N.r=y=D[k])*(C=J-h),n+=(N.g=z=D[k+1])*C,o+=(N.b=A=D[k+2])*C,p+=(N.a=B=D[k+3])*C,u+=y,v+=z,w+=A,x+=B,N=N.next,I>h&&(j+=E);for(k=f,O=L,P=M,g=0;F>g;g++)i=k<<2,D[i+3]=B=p*Q>>R,B>0?(B=255/B,D[i]=(m*Q>>R)*B,D[i+1]=(n*Q>>R)*B,D[i+2]=(o*Q>>R)*B):D[i]=D[i+1]=D[i+2]=0,m-=q,n-=r,o-=s,p-=t,q-=O.r,r-=O.g,s-=O.b,t-=O.a,i=f+((i=g+J)<I?i:I)*E<<2,m+=u+=O.r=D[i],n+=v+=O.g=D[i+1],o+=w+=O.b=D[i+2],p+=x+=O.a=D[i+3],O=O.next,q+=y=P.r,r+=z=P.g,s+=A=P.b,t+=B=P.a,u-=y,v-=z,w-=A,x-=B,P=P.next,k+=E}}var c=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],d=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(a){var c=0|this.getFilterRadius();c>0&&b(a,c)},Kinetic.Node.addFilterGetterSetter(Kinetic.Image,\"filterRadius\",0)}(),function(){function a(a,b,c){var d=4*(c*a.width+b),e=[];return e.push(a.data[d++],a.data[d++],a.data[d++],a.data[d++]),e}function b(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2)+Math.pow(a[2]-b[2],2))}function c(a){for(var b=[0,0,0],c=0;c<a.length;c++)b[0]+=a[c][0],b[1]+=a[c][1],b[2]+=a[c][2];return b[0]/=a.length,b[1]/=a.length,b[2]/=a.length,b}function d(d,e){var f=a(d,0,0),g=a(d,d.width-1,0),h=a(d,0,d.height-1),i=a(d,d.width-1,d.height-1),j=e||10;if(b(f,g)<j&&b(g,i)<j&&b(i,h)<j&&b(h,f)<j){for(var k=c([g,f,i,h]),l=[],m=0;m<d.width*d.height;m++){var n=b(k,[d.data[4*m],d.data[4*m+1],d.data[4*m+2]]);l[m]=j>n?0:255}return l}}function e(a,b){for(var c=0;c<a.width*a.height;c++)a.data[4*c+3]=b[c]}function f(a,b,c){for(var d=[1,1,1,1,0,1,1,1,1],e=Math.round(Math.sqrt(d.length)),f=Math.floor(e/2),g=[],h=0;c>h;h++)for(var i=0;b>i;i++){for(var j=h*b+i,k=0,l=0;e>l;l++)for(var m=0;e>m;m++){var n=h+l-f,o=i+m-f;if(n>=0&&c>n&&o>=0&&b>o){var p=n*b+o,q=d[l*e+m];k+=a[p]*q}}g[j]=2040===k?255:0}return g}function g(a,b,c){for(var d=[1,1,1,1,1,1,1,1,1],e=Math.round(Math.sqrt(d.length)),f=Math.floor(e/2),g=[],h=0;c>h;h++)for(var i=0;b>i;i++){for(var j=h*b+i,k=0,l=0;e>l;l++)for(var m=0;e>m;m++){var n=h+l-f,o=i+m-f;if(n>=0&&c>n&&o>=0&&b>o){var p=n*b+o,q=d[l*e+m];k+=a[p]*q}}g[j]=k>=1020?255:0}return g}function h(a,b,c){for(var d=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],e=Math.round(Math.sqrt(d.length)),f=Math.floor(e/2),g=[],h=0;c>h;h++)for(var i=0;b>i;i++){for(var j=h*b+i,k=0,l=0;e>l;l++)for(var m=0;e>m;m++){var n=h+l-f,o=i+m-f;if(n>=0&&c>n&&o>=0&&b>o){var p=n*b+o,q=d[l*e+m];k+=a[p]*q}}g[j]=k}return g}Kinetic.Filters.Mask=function(a){var b=this.getFilterThreshold(),c=d(a,b);return c&&(c=f(c,a.width,a.height),c=g(c,a.width,a.height),c=h(c,a.width,a.height),e(a,c)),a},Kinetic.Node.addFilterGetterSetter(Kinetic.Image,\"filterThreshold\",0)}();","var WaveformAxis = require('peaks/waveform/waveform.axis'), mixins = require('peaks/waveform/waveform.mixins'), Kinetic = require('Kinetic');\n'use strict';\nfunction WaveformOverview(waveformData, container, peaks) {\n    var that = this;\n    that.peaks = peaks;\n    that.options = peaks.options;\n    that.data = waveformData;\n    that.width = container.clientWidth;\n    that.height = container.clientHeight || that.options.height;\n    that.frameOffset = 0;\n    that.seeking = false;\n    that.stage = new Kinetic.Stage({\n        container: container,\n        width: that.width,\n        height: that.height\n    });\n    that.waveformLayer = new Kinetic.Layer();\n    that.background = new Kinetic.Rect({\n        x: 0,\n        y: 0,\n        width: that.width,\n        height: that.height\n    });\n    that.waveformLayer.add(that.background);\n    that.createWaveform();\n    that.createRefWaveform();\n    that.createUi();\n    that.stage.add(that.waveformLayer);\n    var cancelSeeking = function () {\n        that.stage.off('mousemove mouseup');\n        that.seeking = false;\n    };\n    that.stage.on('mousedown', function (event) {\n        if (event.targetNode && !event.targetNode.attrs.draggable && !event.targetNode.parent.attrs.draggable) {\n            if (event.type == 'mousedown') {\n                that.seeking = true;\n                var width = that.refWaveformRect.getWidth();\n                that.updateRefWaveform(that.data.time(event.layerX), that.data.time(event.layerX + width));\n                peaks.emit('overview_user_seek', that.data.time(event.layerX), event.layerX);\n                that.stage.on('mousemove', function (event) {\n                    that.updateRefWaveform(that.data.time(event.layerX), that.data.time(event.layerX + width));\n                    peaks.emit('overview_user_seek', that.data.time(event.layerX), event.layerX);\n                });\n                that.stage.on('mouseup', cancelSeeking);\n            } else {\n                cancelSeeking();\n            }\n        }\n    });\n    peaks.on('player_time_update', function (time) {\n        if (!that.seeking) {\n            that.playheadPixel = that.data.at_time(time);\n            that.updateUi(that.playheadPixel);\n        }\n    });\n    peaks.on('overview_user_seek', function (time, frame) {\n        that.playheadPixel = frame;\n        that.updateUi(that.playheadPixel);\n        that.options.mediaElement.currentTime = time;\n    });\n    peaks.on('waveform_zoom_displaying', function (start, end) {\n        that.updateRefWaveform(start, end);\n    });\n    peaks.on('resizeEndOverview', function (width, newWaveformData) {\n        that.width = width;\n        that.data = newWaveformData;\n        that.stage.setWidth(that.width);\n        peaks.emit('overview_resized');\n    });\n}\nWaveformOverview.prototype.createWaveform = function () {\n    var that = this;\n    this.waveformShape = new Kinetic.Shape({\n        fill: that.options.overviewWaveformColor,\n        strokeWidth: 0\n    });\n    this.waveformShape.setDrawFunc(mixins.waveformDrawFunction.bind(this.waveformShape, that));\n    this.waveformLayer.add(this.waveformShape);\n    this.stage.add(this.waveformLayer);\n};\nWaveformOverview.prototype.createRefWaveform = function () {\n    var that = this;\n    this.refLayer = new Kinetic.Layer();\n    this.refWaveformRect = new Kinetic.Rect({\n        x: 0,\n        y: 11,\n        width: 0,\n        stroke: 'grey',\n        strokeWidth: 1,\n        height: this.height - 11 * 2,\n        fill: 'grey',\n        opacity: 0.3,\n        cornerRadius: 2\n    });\n    this.refLayer.add(this.refWaveformRect);\n    this.stage.add(this.refLayer);\n};\nWaveformOverview.prototype.createUi = function () {\n    var that = this;\n    this.playheadLine = new Kinetic.Line({\n        points: that._getPlayheadPoints(0),\n        stroke: that.options.playheadColor,\n        strokeWidth: 1\n    });\n    that.uiLayer = new Kinetic.Layer();\n    that.axis = new WaveformAxis(that);\n    this.uiLayer.add(this.playheadLine);\n    this.stage.add(this.uiLayer);\n};\nWaveformOverview.prototype.updateRefWaveform = function (time_in, time_out) {\n    var that = this;\n    var offset_in = that.data.at_time(time_in);\n    var offset_out = that.data.at_time(time_out);\n    that.data.set_segment(offset_in, offset_out, 'zoom');\n    mixins.waveformRectDrawFunction.call(this, that.data);\n    that.refWaveformRect.setWidth(that.data.at_time(time_out) - that.data.at_time(time_in));\n    that.refLayer.draw();\n};\nWaveformOverview.prototype.updateUi = function (pixel) {\n    var that = this;\n    that.playheadLine.setAttr('points', that._getPlayheadPoints(pixel));\n    that.uiLayer.setZIndex(100);\n    that.uiLayer.draw();\n};\nWaveformOverview.prototype._getPlayheadPoints = function (pixelOffset) {\n    var that = this;\n    return [\n        {\n            x: pixelOffset + 0.5,\n            y: 0\n        },\n        {\n            x: pixelOffset + 0.5,\n            y: that.height\n        }\n    ];\n};\nmodule.exports = WaveformOverview;","var WaveformAxis = require('peaks/waveform/waveform.axis'), mixins = require('peaks/waveform/waveform.mixins'), Kinetic = require('Kinetic');\n'use strict';\nfunction WaveformZoomView(waveformData, container, peaks) {\n    var that = this;\n    that.cur_scale = 0;\n    that.peaks = peaks;\n    that.options = peaks.options;\n    that.rootData = waveformData;\n    that.playing = false;\n    that.seeking = false;\n    that.intermediateData = null;\n    that.data = that.rootData.resample({ scale: that.options.zoomLevels[peaks.zoom.getZoom()] });\n    that.playheadPixel = that.data.at_time(that.options.mediaElement.currentTime);\n    that.pixelLength = that.data.adapter.length;\n    that.frameOffset = 0;\n    that.width = container.clientWidth;\n    that.height = container.clientHeight || that.options.height;\n    that.stage = new Kinetic.Stage({\n        container: container,\n        width: that.width,\n        height: that.height\n    });\n    that.zoomWaveformLayer = new Kinetic.Layer();\n    that.uiLayer = new Kinetic.Layer();\n    that.background = new Kinetic.Rect({\n        x: 0,\n        y: 0,\n        width: that.width,\n        height: that.height\n    });\n    that.zoomWaveformLayer.add(that.background);\n    that.axis = new WaveformAxis(that);\n    that.createZoomWaveform();\n    that.createUi();\n    that.stage.on('mousedown', function (event) {\n        if (event.targetNode && !event.targetNode.attrs.draggable && !event.targetNode.parent.attrs.draggable) {\n            if (event.type === 'mousedown') {\n                var x = event.layerX, dX, p;\n                that.seeking = true;\n                that.stage.on('mousemove', function (event) {\n                    that.seeking = false;\n                    dX = event.layerX > x ? x - event.layerX : (x - event.layerX) * 1;\n                    x = event.layerX;\n                    p = that.frameOffset + dX;\n                    p = p < 0 ? 0 : p > that.pixelLength - that.width ? that.pixelLength - that.width : p;\n                    that.updateZoomWaveform(p);\n                });\n                that.stage.on('mouseup', function () {\n                    if (that.seeking) {\n                        that.peaks.emit('zoomview_user_seek', that.data.time(that.frameOffset + x), that.frameOffset + x);\n                    }\n                    that.stage.off('mousemove mouseup');\n                    that.seeking = false;\n                });\n            }\n        }\n    });\n    var userSeekHandler = function userSeekHandler(time) {\n        var frameIndex = that.data.at_time(time);\n        that.seekFrame(frameIndex);\n        if (that.playing) {\n            that.playFrom(time, frameIndex);\n        }\n    };\n    that.peaks.on('player_time_update', function (time) {\n        if (!that.seeking && !that.playing) {\n            that.seekFrame(that.data.at_time(time));\n        }\n    });\n    that.peaks.on('zoomview_user_seek', function (time, frameIndex) {\n        that.options.mediaElement.currentTime = time;\n        that.syncPlayhead(frameIndex);\n        if (that.playing) {\n            that.playFrom(time, that.data.at_time(time));\n        }\n    });\n    that.peaks.on('waveform_seek', userSeekHandler);\n    that.peaks.on('overview_user_seek', userSeekHandler);\n    that.peaks.on('player_play', function (time) {\n        that.playing = true;\n        that.playFrom(time, that.data.at_time(time));\n    });\n    that.peaks.on('player_pause', function (time) {\n        that.playing = false;\n        if (that.playheadLineAnimation) {\n            that.playheadLineAnimation.stop();\n        }\n        that.syncPlayhead(that.data.at_time(time));\n    });\n    that.peaks.on('zoom.update', function (current_scale, previous_scale) {\n        if (that.playing) {\n            return;\n        }\n        if (current_scale !== previous_scale) {\n            that.data = that.rootData.resample({ scale: current_scale });\n            that.startZoomAnimation(current_scale, previous_scale);\n        }\n    });\n    that.peaks.on('window_resized', function (width, newWaveformData) {\n        that.width = width;\n        that.data = newWaveformData;\n        that.stage.setWidth(that.width);\n        that.updateZoomWaveform(that.frameOffset);\n        that.peaks.emit('zoomview_resized');\n    });\n    var nudgeFrame = function nudgeFrame(step) {\n        var time = that.options.mediaElement.currentTime;\n        time += that.options.nudgeIncrement * step;\n        that.seekFrame(that.data.at_time(time));\n    };\n    that.peaks.on('kybrd_left', nudgeFrame.bind(that, -1));\n    that.peaks.on('kybrd_right', nudgeFrame.bind(that, 1));\n    that.peaks.on('kybrd_shift_left', nudgeFrame.bind(that, -10));\n    that.peaks.on('kybrd_shift_right', nudgeFrame.bind(that, 10));\n}\nWaveformZoomView.prototype.createZoomWaveform = function () {\n    var that = this;\n    that.zoomWaveformShape = new Kinetic.Shape({\n        fill: that.options.zoomWaveformColor,\n        strokeWidth: 0\n    });\n    that.zoomWaveformShape.setDrawFunc(mixins.waveformDrawFunction.bind(that.zoomWaveformShape, that));\n    that.zoomWaveformLayer.add(that.zoomWaveformShape);\n    that.stage.add(that.zoomWaveformLayer);\n    that.peaks.emit('waveform_zoom_displaying', 0 * that.data.seconds_per_pixel, that.width * that.data.seconds_per_pixel);\n};\nWaveformZoomView.prototype.createUi = function () {\n    var that = this;\n    that.zoomPlayheadLine = new Kinetic.Line({\n        points: [\n            {\n                x: 0,\n                y: 0\n            },\n            {\n                x: 0,\n                y: that.height\n            }\n        ],\n        stroke: that.options.playheadColor,\n        strokeWidth: 1\n    });\n    that.zoomPlayheadText = new Kinetic.Text({\n        x: 2,\n        y: 12,\n        text: '00:00:00',\n        fontSize: 11,\n        fontFamily: 'sans-serif',\n        fill: '#aaa',\n        align: 'right'\n    });\n    that.zoomPlayheadGroup = new Kinetic.Group({\n        x: 0,\n        y: 0\n    }).add(that.zoomPlayheadLine).add(that.zoomPlayheadText);\n    that.uiLayer.add(that.zoomPlayheadGroup);\n    that.stage.add(that.uiLayer);\n};\nWaveformZoomView.prototype.updateZoomWaveform = function (pixelOffset) {\n    var that = this;\n    that.frameOffset = pixelOffset;\n    that.pixelLength = that.data.adapter.length;\n    that.data.offset(pixelOffset, pixelOffset + that.width);\n    var display = that.playheadPixel >= pixelOffset && that.playheadPixel <= pixelOffset + that.width;\n    if (display) {\n        var remPixels = that.playheadPixel - pixelOffset;\n        that.zoomPlayheadGroup.show().setAttr('x', remPixels + 0.5);\n        that.zoomPlayheadText.setText(mixins.niceTime(that.data.time(that.playheadPixel), false));\n    } else {\n        that.zoomPlayheadGroup.hide();\n    }\n    that.uiLayer.draw();\n    that.zoomWaveformLayer.draw();\n    that.peaks.emit('waveform_zoom_displaying', pixelOffset * that.data.seconds_per_pixel, (pixelOffset + that.width) * that.data.seconds_per_pixel);\n    that.peaks.emit('waveform_zoom_displaying_finished', pixelOffset * that.data.seconds_per_pixel, (pixelOffset + that.width) * that.data.seconds_per_pixel);\n};\nWaveformZoomView.prototype.playFrom = function (time, startPosition) {\n    var that = this;\n    if (that.playheadLineAnimation) {\n        that.playheadLineAnimation.stop();\n    }\n    var frameSeconds = 0;\n    var pixelsPerSecond = that.data.pixels_per_second;\n    that.playheadLineAnimation = new Kinetic.Animation(function (frame) {\n        var time = frame.time;\n        var seconds = time / 1000;\n        var positionInFrame = Math.round(startPosition - that.frameOffset + pixelsPerSecond * (seconds - frameSeconds));\n        that.syncPlayhead(that.frameOffset + positionInFrame);\n    }, that.uiLayer);\n    that.playheadLineAnimation.start();\n};\nWaveformZoomView.prototype.newFrame = function (frameOffset) {\n    var nextOffset = frameOffset + this.width;\n    if (nextOffset < this.data.adapter.length) {\n        this.frameOffset = nextOffset;\n        this.updateZoomWaveform(nextOffset);\n        return true;\n    }\n    return false;\n};\nWaveformZoomView.prototype.syncPlayhead = function (pixelIndex) {\n    var that = this;\n    var display = pixelIndex >= that.frameOffset && pixelIndex <= that.frameOffset + that.width;\n    that.playheadPixel = pixelIndex;\n    if (display) {\n        var remPixels = that.playheadPixel - that.frameOffset;\n        that.zoomPlayheadGroup.show().setAttr('x', remPixels + 0.5);\n        that.zoomPlayheadText.setText(mixins.niceTime(that.data.time(that.playheadPixel), false));\n    } else {\n        that.zoomPlayheadGroup.hide();\n    }\n};\nWaveformZoomView.prototype.seekFrame = function (pixelIndex) {\n    var that = this;\n    var upperLimit = that.data.adapter.length - that.width;\n    if (!that.data.in_offset(pixelIndex)) {\n        if (pixelIndex > that.width && pixelIndex < upperLimit) {\n            that.frameOffset = pixelIndex - Math.round(that.width / 2);\n        } else if (pixelIndex >= upperLimit) {\n            that.frameOffset = upperLimit;\n        } else {\n            that.frameOffset = 0;\n        }\n    }\n    that.syncPlayhead(pixelIndex);\n    that.updateZoomWaveform(that.frameOffset);\n};\nWaveformZoomView.prototype.startZoomAnimation = function (currentSampleRate, previousSampleRate) {\n    var that = this;\n    var currentTime = that.peaks.time.getCurrentTime();\n    var frameData = [];\n    var numOfFrames = 30;\n    var input_index;\n    var output_index;\n    var lastFrameOffsetTime;\n    if (that.segmentLayer) {\n        that.segmentLayer.setVisible(false);\n    }\n    if (previousSampleRate < currentSampleRate) {\n        numOfFrames = 15;\n    }\n    for (var i = 0; i < numOfFrames; i++) {\n        var frame_sample_rate = Math.round(previousSampleRate + (i + 1) * (currentSampleRate - previousSampleRate) / numOfFrames);\n        var newWidthSeconds = that.width * frame_sample_rate / that.rootData.adapter.sample_rate;\n        if (currentTime >= 0 && currentTime <= 0 + newWidthSeconds / 2) {\n            input_index = 0;\n            output_index = 0;\n        } else if (currentTime <= that.rootData.duration && currentTime >= that.rootData.duration - newWidthSeconds / 2) {\n            lastFrameOffsetTime = that.rootData.duration - newWidthSeconds;\n            input_index = lastFrameOffsetTime * that.rootData.adapter.sample_rate / previousSampleRate;\n            output_index = lastFrameOffsetTime * that.rootData.adapter.sample_rate / frame_sample_rate;\n        } else {\n            var oldPixelIndex = currentTime * that.rootData.adapter.sample_rate / previousSampleRate;\n            input_index = oldPixelIndex - that.width / 2;\n            var newPixelIndex = currentTime * that.rootData.adapter.sample_rate / frame_sample_rate;\n            output_index = newPixelIndex - that.width / 2;\n        }\n        var resampled = that.rootData.resample({\n                scale: frame_sample_rate,\n                input_index: Math.floor(input_index),\n                output_index: Math.floor(output_index),\n                width: that.width\n            });\n        frameData.push(resampled);\n        previousSampleRate = frame_sample_rate;\n    }\n    that.runZoomAnimation(frameData);\n};\nWaveformZoomView.prototype.runZoomAnimation = function (frameData) {\n    var that = this;\n    that.intermediateData = null;\n    if (frameData.length) {\n        var intermediate_data = frameData.shift();\n        that.intermediateData = intermediate_data;\n        that.zoomWaveformLayer.draw();\n        Kinetic.Animation.requestAnimFrame(function () {\n            that.runZoomAnimation(frameData);\n        });\n    } else {\n        that.segmentLayer.setVisible(true);\n        that.seekFrame(that.data.at_time(that.currentTime));\n    }\n};\nmodule.exports = WaveformZoomView;","var Kinetic = require('Kinetic'), mixins = require('peaks/waveform/waveform.mixins'), SegmentShape = require('peaks/markers/shapes/wave');\n'use strict';\nmodule.exports = function (peaks) {\n    var self = this;\n    self.segments = [];\n    self.views = [\n        peaks.waveform.waveformZoomView,\n        peaks.waveform.waveformOverview\n    ].map(function (view) {\n        if (!view.segmentLayer) {\n            view.segmentLayer = new Kinetic.Layer();\n            view.stage.add(view.segmentLayer);\n            view.segmentLayer.moveToTop();\n        }\n        return view;\n    });\n    var createSegmentWaveform = function (segmentId, startTime, endTime, editable, color, labelText) {\n        var segment = {\n                id: segmentId,\n                startTime: startTime,\n                endTime: endTime,\n                labelText: labelText || '',\n                color: color || getSegmentColor(),\n                editable: editable\n            };\n        var segmentZoomGroup = new Kinetic.Group();\n        var segmentOverviewGroup = new Kinetic.Group();\n        var segmentGroups = [\n                segmentZoomGroup,\n                segmentOverviewGroup\n            ];\n        var menter = function (event) {\n            this.parent.label.show();\n            this.parent.view.segmentLayer.draw();\n        };\n        var mleave = function (event) {\n            this.parent.label.hide();\n            this.parent.view.segmentLayer.draw();\n        };\n        segmentGroups.forEach(function (segmentGroup, i) {\n            var view = self.views[i];\n            segmentGroup.waveformShape = SegmentShape.createShape(segment, view);\n            segmentGroup.waveformShape.on('mouseenter', menter);\n            segmentGroup.waveformShape.on('mouseleave', mleave);\n            segmentGroup.add(segmentGroup.waveformShape);\n            segmentGroup.label = new peaks.options.segmentLabelDraw(segmentGroup, segment);\n            segmentGroup.add(segmentGroup.label.hide());\n            if (editable) {\n                var draggable = true;\n                if (segmentGroup === segmentOverviewGroup) {\n                    draggable = false;\n                }\n                segmentGroup.inMarker = new peaks.options.segmentInMarker(draggable, segmentGroup, segment, segmentHandleDrag);\n                segmentGroup.add(segmentGroup.inMarker);\n                segmentGroup.outMarker = new peaks.options.segmentOutMarker(draggable, segmentGroup, segment, segmentHandleDrag);\n                segmentGroup.add(segmentGroup.outMarker);\n            }\n            view.segmentLayer.add(segmentGroup);\n        });\n        segment.zoom = segmentZoomGroup;\n        segment.zoom.view = peaks.waveform.waveformZoomView;\n        segment.overview = segmentOverviewGroup;\n        segment.overview.view = peaks.waveform.waveformOverview;\n        return segment;\n    };\n    var updateSegmentWaveform = function (segment) {\n        peaks.waveform.waveformOverview.data.set_segment(peaks.waveform.waveformOverview.data.at_time(segment.startTime), peaks.waveform.waveformOverview.data.at_time(segment.endTime), segment.id);\n        peaks.waveform.waveformZoomView.data.set_segment(peaks.waveform.waveformZoomView.data.at_time(segment.startTime), peaks.waveform.waveformZoomView.data.at_time(segment.endTime), segment.id);\n        var overviewStartOffset = peaks.waveform.waveformOverview.data.at_time(segment.startTime);\n        var overviewEndOffset = peaks.waveform.waveformOverview.data.at_time(segment.endTime);\n        segment.overview.setWidth(overviewEndOffset - overviewStartOffset);\n        if (segment.editable) {\n            if (segment.overview.inMarker)\n                segment.overview.inMarker.show().setX(overviewStartOffset - segment.overview.inMarker.getWidth());\n            if (segment.overview.outMarker)\n                segment.overview.outMarker.show().setX(overviewEndOffset);\n            segment.overview.inMarker.label.setText(mixins.niceTime(segment.startTime, false));\n            segment.overview.outMarker.label.setText(mixins.niceTime(segment.endTime, false));\n        }\n        SegmentShape.update.call(segment.overview.waveformShape, peaks.waveform.waveformOverview, segment.id);\n        segment.overview.view.segmentLayer.draw();\n        var zoomStartOffset = peaks.waveform.waveformZoomView.data.at_time(segment.startTime);\n        var zoomEndOffset = peaks.waveform.waveformZoomView.data.at_time(segment.endTime);\n        var frameStartOffset = peaks.waveform.waveformZoomView.frameOffset;\n        var frameEndOffset = peaks.waveform.waveformZoomView.frameOffset + peaks.waveform.waveformZoomView.width;\n        if (zoomStartOffset < frameStartOffset)\n            zoomStartOffset = frameStartOffset;\n        if (zoomEndOffset > frameEndOffset)\n            zoomEndOffset = frameEndOffset;\n        if (peaks.waveform.waveformZoomView.data.segments[segment.id].visible) {\n            var startPixel = zoomStartOffset - frameStartOffset;\n            var endPixel = zoomEndOffset - frameStartOffset;\n            segment.zoom.show();\n            SegmentShape.update.call(segment.zoom.waveformShape, peaks.waveform.waveformZoomView, segment.id);\n            if (segment.editable) {\n                if (segment.zoom.inMarker)\n                    segment.zoom.inMarker.show().setX(startPixel - segment.zoom.inMarker.getWidth());\n                if (segment.zoom.outMarker)\n                    segment.zoom.outMarker.show().setX(endPixel);\n                segment.zoom.inMarker.label.setText(mixins.niceTime(segment.startTime, false));\n                segment.zoom.outMarker.label.setText(mixins.niceTime(segment.endTime, false));\n            }\n        } else {\n            segment.zoom.hide();\n        }\n    };\n    var segmentHandleDrag = function (thisSeg, segment) {\n        if (thisSeg.inMarker.getX() > 0) {\n            var inOffset = thisSeg.view.frameOffset + thisSeg.inMarker.getX() + thisSeg.inMarker.getWidth();\n            segment.startTime = thisSeg.view.data.time(inOffset);\n        }\n        if (thisSeg.outMarker.getX() < thisSeg.view.width) {\n            var outOffset = thisSeg.view.frameOffset + thisSeg.outMarker.getX();\n            segment.endTime = thisSeg.view.data.time(outOffset);\n        }\n        updateSegmentWaveform(segment);\n    };\n    var getSegmentColor = function () {\n        var c;\n        if (peaks.options.randomizeSegmentColor) {\n            var g = function () {\n                return Math.floor(Math.random() * 255);\n            };\n            c = 'rgba(' + g() + ', ' + g() + ', ' + g() + ', 1)';\n        } else {\n            c = peaks.options.segmentColor;\n        }\n        return c;\n    };\n    this.init = function () {\n        peaks.on('waveform_zoom_displaying', this.updateSegments.bind(this));\n        peaks.emit('segments.ready');\n    };\n    this.updateSegments = function () {\n        this.segments.forEach(updateSegmentWaveform);\n        this.render();\n    };\n    this.createSegment = function (startTime, endTime, editable, color, labelText) {\n        var segmentId = 'segment' + self.segments.length;\n        if (startTime >= 0 === false) {\n            throw new TypeError('[waveform.segments.createSegment] startTime should be a positive value');\n        }\n        if (endTime > 0 === false) {\n            throw new TypeError('[waveform.segments.createSegment] endTime should be a positive value');\n        }\n        if (endTime > startTime === false) {\n            throw new RangeError('[waveform.segments.createSegment] endTime should be higher than startTime');\n        }\n        var segment = createSegmentWaveform(segmentId, startTime, endTime, editable, color, labelText);\n        updateSegmentWaveform(segment);\n        self.segments.push(segment);\n        return segment;\n    };\n    this.remove = function removeSegment(segment) {\n        var index = null;\n        this.segments.some(function (s, i) {\n            if (s === segment) {\n                index = i;\n                return true;\n            }\n        });\n        if (typeof index === 'number') {\n            segment = this.segments[index];\n            segment.overview.destroy();\n            segment.zoom.destroy();\n        }\n        return index;\n    };\n    this.render = function renderSegments() {\n        this.views.forEach(function (view) {\n            view.segmentLayer.draw();\n        });\n    };\n};","var mixins = require('peaks/waveform/waveform.mixins'), Kinetic = require('Kinetic');\nmodule.exports = function (peaks) {\n    var self = this;\n    var waveformView = peaks.waveform;\n    self.points = [];\n    self.views = [\n        waveformView.waveformZoomView,\n        waveformView.waveformOverview\n    ].map(function (view) {\n        if (!view.pointLayer) {\n            view.pointLayer = new Kinetic.Layer();\n            view.stage.add(view.pointLayer);\n            view.pointLayer.moveToTop();\n        }\n        return view;\n    });\n    function constructPoint(point) {\n        var pointZoomGroup = new Kinetic.Group();\n        var pointOverviewGroup = new Kinetic.Group();\n        var pointGroups = [\n                pointZoomGroup,\n                pointOverviewGroup\n            ];\n        point.editable = Boolean(point.editable);\n        pointGroups.forEach(function (pointGroup, i) {\n            var view = self.views[i];\n            if (point.editable) {\n                pointGroup.marker = new peaks.options.pointMarker(true, pointGroup, point, pointHandleDrag, peaks.options.pointDblClickHandler, peaks.options.pointDragEndHandler);\n                pointGroup.add(pointGroup.marker);\n            }\n            view.pointLayer.add(pointGroup);\n        });\n        point.zoom = pointZoomGroup;\n        point.zoom.view = waveformView.waveformZoomView;\n        point.overview = pointOverviewGroup;\n        point.overview.view = waveformView.waveformOverview;\n        return point;\n    }\n    function updatePoint(point) {\n        waveformView.waveformOverview.data.set_point(waveformView.waveformOverview.data.at_time(point.timestamp), point.id);\n        waveformView.waveformZoomView.data.set_point(waveformView.waveformZoomView.data.at_time(point.timestamp), point.id);\n        var overviewtimestampOffset = waveformView.waveformOverview.data.at_time(point.timestamp);\n        if (point.editable) {\n            if (point.overview.marker)\n                point.overview.marker.show().setX(overviewtimestampOffset - point.overview.marker.getWidth());\n            point.overview.marker.label.setText(mixins.niceTime(point.timestamp, false));\n        }\n        var zoomtimestampOffset = waveformView.waveformZoomView.data.at_time(point.timestamp);\n        var frameStartOffset = waveformView.waveformZoomView.frameOffset;\n        if (zoomtimestampOffset < frameStartOffset) {\n            zoomStartOffset = frameStartOffset;\n        }\n        if (waveformView.waveformZoomView.data.points[point.id].visible) {\n            var startPixel = zoomtimestampOffset - frameStartOffset;\n            point.zoom.show();\n            if (point.editable) {\n                if (point.zoom.marker)\n                    point.zoom.marker.show().setX(startPixel - point.zoom.marker.getWidth());\n                point.zoom.marker.label.setText(mixins.niceTime(point.timestamp, false));\n            }\n        } else {\n            point.zoom.hide();\n        }\n    }\n    function pointHandleDrag(thisPoint, point) {\n        if (thisPoint.marker.getX() > 0) {\n            var inOffset = thisPoint.view.frameOffset + thisPoint.marker.getX() + thisPoint.marker.getWidth();\n            point.timestamp = thisPoint.view.data.time(inOffset);\n        }\n        updatePoint(point);\n        self.render();\n    }\n    this.init = function () {\n        peaks.on('waveform_zoom_displaying', self.updatePoints.bind(self));\n        peaks.emit('points.ready');\n    };\n    this.updatePoints = function () {\n        self.points.forEach(updatePoint);\n        self.render();\n    };\n    this.createPoint = function (point) {\n        if (point.timestamp >= 0 === false) {\n            throw new RangeError('[waveform.points.createPoint] timestamp should be a >=0 value');\n        }\n        point.id = 'point' + self.points.length;\n        point = constructPoint(point);\n        updatePoint(point);\n        self.points.push(point);\n    };\n    this.remove = function removePoint(point) {\n        var index = null;\n        this.points.some(function (p, i) {\n            if (p === point) {\n                index = i;\n                return true;\n            }\n        });\n        if (typeof index === 'number') {\n            point.overview.destroy();\n            point.zoom.destroy();\n        }\n        return index;\n    };\n    this.render = function renderPoints() {\n        self.views.forEach(function (view) {\n            view.pointLayer.draw();\n        });\n    };\n};","\"use strict\";\n\nvar WaveformDataSegment = require(\"./segment.js\");\nvar WaveformDataPoint = require(\"./point.js\");\n\n/**\n * Facade to iterate on audio waveform response.\n *\n * ```javascript\n *  var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n *\n *  var json_waveform = new WaveformData(xhr.responseText, WaveformData.adapters.object);\n *\n *  var arraybuff_waveform = new WaveformData(getArrayBufferData(), WaveformData.adapters.arraybuffer);\n * ```\n *\n * ## Offsets\n *\n * An **offset** is a non-destructive way to iterate on a subset of data.\n *\n * It is the easiest way to **navigate** through data without having to deal with complex calculations.\n * Simply iterate over the data to display them.\n *\n * *Notice*: the default offset is the entire set of data.\n *\n * @param {String|ArrayBuffer|Mixed} response_data Waveform data, to be consumed by the related adapter.\n * @param {WaveformData.adapter|Function} adapter Backend adapter used to manage access to the data.\n * @constructor\n */\nvar WaveformData = module.exports = function WaveformData(response_data, adapter){\n  /**\n   * Backend adapter used to manage access to the data.\n   *\n   * @type {Object}\n   */\n  this.adapter = adapter.fromResponseData(response_data);\n\n  /**\n   * Defined segments.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   *\n   * console.log(waveform.segments.speakerA);          // -> undefined\n   *\n   * waveform.set_segment(30, 90, \"speakerA\");\n   *\n   * console.log(waveform.segments.speakerA.start);    // -> 30\n   * ```\n   *\n   * @type {Object} A hash of `WaveformDataSegment` objects.\n   */\n  this.segments = {};\n\n  /**\n   * Defined points.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   *\n   * console.log(waveform.points.speakerA);          // -> undefined\n   *\n   * waveform.set_point(30, \"speakerA\");\n   *\n   * console.log(waveform.points.speakerA.timeStamp);    // -> 30\n   * ```\n   *\n   * @type {Object} A hash of `WaveformDataPoint` objects.\n   */\n  this.points = {};\n\n  this.offset(0, this.adapter.length);\n};\n\n/**\n * Creates an instance of WaveformData by guessing the adapter from the data type.\n * As an icing sugar, it will also do the detection job from an XMLHttpRequest response.\n *\n * ```javascript\n * var xhr = new XMLHttpRequest();\n * xhr.open(\"GET\", \"http://example.com/waveforms/track.dat\");\n * xhr.responseType = \"arraybuffer\";\n *\n * xhr.addEventListener(\"load\", function onResponse(progressEvent){\n *   var waveform = WaveformData.create(progressEvent.target);\n *\n *   console.log(waveform.duration);\n * });\n *\n * xhr.send();\n * ```\n *\n * @static\n * @throws TypeError\n * @param {XMLHttpRequest|Mixed} data\n * @return {WaveformData}\n */\nWaveformData.create = function createFromResponseData(data){\n  var adapter = null;\n  var xhrData = null;\n\n  if (data && typeof data === \"object\" && (\"responseText\" in data || \"response\" in data)){\n    xhrData = (\"responseType\" in data) ? data.response : (data.responseText || data.response);\n  }\n\n  Object.keys(WaveformData.adapters).some(function(adapter_id){\n    if (WaveformData.adapters[adapter_id].isCompatible(xhrData || data)){\n      adapter = WaveformData.adapters[adapter_id];\n      return true;\n    }\n  });\n\n  if (adapter === null){\n    throw new TypeError(\"Could not detect a WaveformData adapter from the input.\");\n  }\n\n  return new WaveformData(xhrData || data, adapter);\n};\n\n/**\n * Public API for the Waveform Data manager.\n *\n * @namespace WaveformData\n */\nWaveformData.prototype = {\n  /**\n   * Clamp an offset of data upon the whole response body.\n   * Pros: it's just a reference, not a new array. So it's fast.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.offset_length);   // -> 150\n   * console.log(waveform.min[0]);          // -> -12\n   *\n   * waveform.offset(20, 50);\n   *\n   * console.log(waveform.min.length);      // -> 30\n   * console.log(waveform.min[0]);          // -> -9\n   * ```\n   *\n   * @param {Integer} start New beginning of the offset. (inclusive)\n   * @param {Integer} end New ending of the offset (exclusive)\n   */\n  offset: function(start, end){\n    var data_length = this.adapter.length;\n\n    if (end < 0){\n      throw new RangeError(\"End point must be non-negative.\");\n    }\n\n    if (end <= start){\n      throw new RangeError(\"We can't end prior to the starting point.\");\n    }\n\n    if (start < 0){\n      throw new RangeError(\"Start point must be non-negative.\");\n    }\n\n    if (start >= data_length){\n      throw new RangeError(\"Start point must be within range.\");\n    }\n\n    if (end > data_length){\n      end = data_length;\n    }\n\n    this.offset_start = start;\n    this.offset_end = end;\n    this.offset_length = end - start;\n  },\n  /**\n   * Creates a new segment of data.\n   * Pretty handy if you need to bookmark a duration and display it according to the current offset.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(Object.keys(waveform.segments));          // -> []\n   *\n   * waveform.set_segment(10, 120);\n   * waveform.set_segment(30, 90, \"speakerA\");\n   *\n   * console.log(Object.keys(waveform.segments));          // -> ['default', 'speakerA']\n   * console.log(waveform.segments.default.min.length);    // -> 110\n   * console.log(waveform.segments.speakerA.min.length);   // -> 60\n   * ```\n   *\n   * @param {Integer} start Beginning of the segment (inclusive)\n   * @param {Integer} end Ending of the segment (exclusive)\n   * @param {String*} identifier Unique identifier. If nothing is specified, *default* will be used as a value.\n   * @return {WaveformDataSegment}\n   */\n  set_segment: function setSegment(start, end, identifier){\n    identifier = identifier || \"default\";\n\n    this.segments[identifier] = new WaveformDataSegment(this, start, end);\n\n    return this.segments[identifier];\n  },\n  /**\n   * Creates a new point of data.\n   * Pretty handy if you need to bookmark a specific point and display it according to the current offset.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(Object.keys(waveform.points));          // -> []\n   *\n   * waveform.set_point(10);\n   * waveform.set_point(30, \"speakerA\");\n   *\n   * console.log(Object.keys(waveform.points));          // -> ['default', 'speakerA']\n   * ```\n   *\n   * @param {Integer} timeStamp the time to place the bookmark\n   * @param {String*} identifier Unique identifier. If nothing is specified, *default* will be used as a value.\n   * @return {WaveformDataPoint}\n   */\n  set_point: function setPoint(timeStamp, identifier){\n    identifier = identifier || \"default\";\n\n    this.points[identifier] = new WaveformDataPoint(this, timeStamp);\n\n    return this.points[identifier];\n  },\n  /**\n   * Removes a point of data.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(Object.keys(waveform.points));          // -> []\n   *\n   * waveform.set_point(30, \"speakerA\");\n   * console.log(Object.keys(waveform.points));          // -> ['speakerA']\n   * waveform.remove_point(\"speakerA\");\n   * console.log(Object.keys(waveform.points));          // -> []\n   * ```\n   *\n   * @param {String*} identifier Unique identifier. If nothing is specified, *default* will be used as a value.\n   * @return null\n   */\n  remove_point: function removePoint(identifier) {\n    if(this.points[identifier]) {\n      delete this.points[identifier];\n    }\n  },\n  /**\n   * Creates a new WaveformData object with resampled data.\n   * Returns a rescaled waveform, to either fit the waveform to a specific width, or to a specific zoom level.\n   *\n   * **Note**: You may specify either the *width* or the *scale*, but not both. The `scale` will be deduced from the `width` you want to fit the data into.\n   *\n   * Adapted from Sequence::GetWaveDisplay in Audacity, with permission.\n   *\n   * ```javascript\n   * // ...\n   * var waveform = WaveformData.create({ ... });\n   *\n   * // fitting the data in a 500px wide canvas\n   * var resampled_waveform = waveform.resample({ width: 500 });\n   *\n   * console.log(resampled_waveform.min.length);   // -> 500\n   *\n   * // zooming out on a 3 times less precise scale\n   * var resampled_waveform = waveform.resample({ scale: waveform.adapter.scale * 3 });\n   *\n   * // partial resampling (to perform fast animations involving a resampling per animation frame)\n   * var partially_resampled_waveform = waveform.resample({ width: 500, from: 0, to: 500 });\n   *\n   * // ...\n   * ```\n   *\n   * @see https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/Sequence.cpp\n   * @param {Number|{width: Number, scale: Number}} options Either a constraint width or a constraint sample rate\n   * @return {WaveformData} New resampled object\n   */\n  resample: function(options){\n    if (typeof options === 'number'){\n      options = {\n        width: options\n      };\n    }\n\n    options.input_index = typeof options.input_index === 'number' ? options.input_index : null;\n    options.output_index = typeof options.output_index === 'number' ? options.output_index : null;\n    options.scale = typeof options.scale === 'number' ? options.scale : null;\n    options.width = typeof options.width === 'number' ? options.width : null;\n\n    var is_partial_resampling = Boolean(options.input_index) || Boolean(options.output_index);\n\n    if (options.input_index !== null && (options.input_index >= 0) === false){\n      throw new RangeError('options.input_index should be a positive integer value. ['+ options.input_index +']');\n    }\n\n    if (options.output_index !== null && (options.output_index >= 0) === false){\n      throw new RangeError('options.output_index should be a positive integer value. ['+ options.output_index +']');\n    }\n\n    if (options.width !== null && (options.width > 0) === false){\n      throw new RangeError('options.width should be a strictly positive integer value. ['+ options.width +']');\n    }\n\n    if (options.scale !== null && (options.scale > 0) === false){\n      throw new RangeError('options.scale should be a strictly positive integer value. ['+ options.scale +']');\n    }\n\n    if (!options.scale && !options.width){\n      throw new RangeError('You should provide either a resampling scale or a width in pixel the data should fit in.');\n    }\n\n    var definedPartialOptionsCount = ['width', 'scale', 'output_index', 'input_index'].reduce(function(count, key){\n      return count + (options[key] === null ? 0 : 1);\n    }, 0);\n\n    if (is_partial_resampling && definedPartialOptionsCount !== 4) {\n      throw new Error('Some partial resampling options are missing. You provided ' + definedPartialOptionsCount + ' of them over 4.');\n    }\n\n    var output_data = [];\n    var samples_per_pixel = options.scale || Math.floor(this.duration * this.adapter.sample_rate / options.width);    //scale we want to reach\n    var scale = this.adapter.scale;   //scale we are coming from\n    var channel_count = 2;\n\n    var input_buffer_size = this.adapter.length; //the amount of data we want to resample i.e. final zoom want to resample all data but for intermediate zoom we want to resample subset\n    var input_index = options.input_index || 0; //is this start point? or is this the index at current scale\n    var output_index = options.output_index || 0; //is this end point? or is this the index at scale we want to be?\n    var min = input_buffer_size ? this.min_sample(input_index) : 0; //min value for peak in waveform\n    var max = input_buffer_size ? this.max_sample(input_index) : 0; //max value for peak in waveform\n    var min_value = -128;\n    var max_value = 127;\n\n    if (samples_per_pixel < scale){\n      throw new Error(\"Zoom level \"+samples_per_pixel+\" too low, minimum: \"+scale);\n    }\n\n    var where, prev_where, stop, value, last_input_index;\n\n    var sample_at_pixel = function sample_at_pixel(x){\n      return Math.floor(x * samples_per_pixel);\n    };\n\n    var add_sample = function add_sample(min, max){\n      output_data.push(min, max);\n    };\n\n    while (input_index < input_buffer_size) {\n      while (Math.floor(sample_at_pixel(output_index) / scale) <= input_index){\n        if (output_index){\n          add_sample(min, max);\n        }\n\n        last_input_index = input_index;\n\n        output_index++;\n\n        where      = sample_at_pixel(output_index);\n        prev_where = sample_at_pixel(output_index - 1);\n\n        if (where !== prev_where){\n          min = max_value;\n          max = min_value;\n        }\n      }\n\n      where = sample_at_pixel(output_index);\n      stop = Math.floor(where / scale);\n\n      if (stop > input_buffer_size){\n        stop = input_buffer_size;\n      }\n\n      while (input_index < stop){\n        value = this.min_sample(input_index);\n\n        if (value < min){\n          min = value;\n        }\n\n        value = this.max_sample(input_index);\n\n        if (value > max){\n          max = value;\n        }\n\n        input_index++;\n      }\n\n      if (is_partial_resampling && (output_data.length / channel_count) >= options.width) {\n        break;\n      }\n    }\n\n    if (is_partial_resampling) {\n      if ((output_data.length / channel_count) > options.width && input_index !== last_input_index){\n        add_sample(min, max);\n      }\n    }\n    else if(input_index !== last_input_index){\n      add_sample(min, max);\n    }\n\n    return new WaveformData({\n      version: this.adapter.version,\n      samples_per_pixel: samples_per_pixel,\n      length: output_data.length / channel_count,\n      data: output_data,\n      sample_rate: this.adapter.sample_rate\n    }, WaveformData.adapters.object);\n  },\n  /**\n   * Returns all the min peaks values.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.min.length);      // -> 150\n   * console.log(waveform.min[0]);          // -> -12\n   *\n   * waveform.offset(20, 50);\n   *\n   * console.log(waveform.min.length);      // -> 30\n   * console.log(waveform.min[0]);          // -> -9\n   * ```\n   *\n   * @api\n   * @return {Array.<Integer>} Min values contained in the offset.\n   */\n  get min(){\n    return this.offsetValues(this.offset_start, this.offset_length, 0);\n  },\n  /**\n   * Returns all the max peaks values.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.max.length);      // -> 150\n   * console.log(waveform.max[0]);          // -> 12\n   *\n   * waveform.offset(20, 50);\n   *\n   * console.log(waveform.max.length);      // -> 30\n   * console.log(waveform.max[0]);          // -> 5\n   * ```\n   *\n   * @api\n   * @return {Array.<Integer>} Max values contained in the offset.\n   */\n  get max(){\n    return this.offsetValues(this.offset_start, this.offset_length, 1);\n  },\n  /**\n   * Return the unpacked values for a particular offset.\n   *\n   * @param {Integer} start\n   * @param {Integer} length\n   * @param {Integer} correction The step to skip for each iteration (as the response body is [min, max, min, max...])\n   * @return {Array.<Integer>}\n   */\n  offsetValues: function getOffsetValues(start, length, correction){\n    var adapter = this.adapter;\n    var values = [];\n\n    correction += (start * 2);  //offsetting the positioning query\n\n    for (var i = 0; i < length; i++){\n      values.push(adapter.at((i * 2) + correction));\n    }\n\n    return values;\n  },\n  /**\n   * Compute the duration in seconds of the audio file.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   * console.log(waveform.duration);    // -> 10.33333333333\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.duration);    // -> 10.33333333333\n   * ```\n   *\n   * @api\n   * @return {number} Duration of the audio waveform, in seconds.\n   */\n  get duration(){\n    return (this.adapter.length * this.adapter.scale) / this.adapter.sample_rate;\n  },\n  /**\n   * Return the duration in seconds of the current offset.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.offset_duration);    // -> 10.33333333333\n   *\n   * waveform.offset(20, 50);\n   *\n   * console.log(waveform.offset_duration);    // -> 2.666666666667\n   * ```\n   *\n   * @api\n   * @return {number} Duration of the offset, in seconds.\n   */\n  get offset_duration(){\n    return (this.offset_length * this.adapter.scale) / this.adapter.sample_rate;\n  },\n  /**\n   * Return the number of pixels per second.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.pixels_per_second);       // -> 93.75\n   * ```\n   *\n   * @api\n   * @return {number} Number of pixels per second.\n   */\n  get pixels_per_second(){\n    return this.adapter.sample_rate / this.adapter.scale;\n  },\n  /**\n   * Return the amount of time represented by a single pixel.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.seconds_per_pixel);       // -> 0.010666666666666666\n   * ```\n   *\n   * @return {number} Amount of time (in seconds) contained in a pixel.\n   */\n  get seconds_per_pixel(){\n    return this.adapter.scale / this.adapter.sample_rate;\n  },\n  /**\n   * Returns a value at a specific offset.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.at(20));              // -> -7\n   * console.log(waveform.at(21));              // -> 12\n   * ```\n   *\n   * @proxy\n   * @param {Integer} index\n   * @return {number} Offset value\n   */\n  at: function at_sample_proxy(index){\n    return this.adapter.at(index);\n  },\n  /**\n   * Return the pixel location for a certain time.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.at_time(0.0000000023));       // -> 10\n   * ```\n   * @param {number} time\n   * @return {integer} Index location for a specific time.\n   */\n  at_time: function at_time(time){\n    return Math.floor((time * this.adapter.sample_rate) / this.adapter.scale);\n  },\n  /**\n   * Returns the time in seconds for a particular index\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.time(10));                    // -> 0.0000000023\n   * ```\n   *\n   * @param {Integer} index\n   * @return {number}\n   */\n  time: function time(index){\n    return index * this.seconds_per_pixel;\n  },\n  /**\n   * Return if a pixel lies within the current offset.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.in_offset(50));      // -> true\n   * console.log(waveform.in_offset(120));     // -> true\n   *\n   * waveform.offset(100, 150);\n   *\n   * console.log(waveform.in_offset(50));      // -> false\n   * console.log(waveform.in_offset(120));     // -> true\n   * ```\n   *\n   * @param {number} pixel\n   * @return {boolean} True if the pixel lies in the current offset, false otherwise.\n   */\n  in_offset: function isInOffset(pixel){\n    return pixel >= this.offset_start && pixel < this.offset_end;\n  },\n  /**\n   * Returns a min value for a specific offset.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.min_sample(10));      // -> -7\n   * ```\n   *\n   * @param {Integer} offset\n   * @return {Number} Offset min value\n   */\n  min_sample: function getMinValue(offset){\n    return this.adapter.at(offset * 2);\n  },\n  /**\n   * Returns a max value for a specific offset.\n   *\n   * ```javascript\n   * var waveform = WaveformData.create({ ... });\n   *\n   * console.log(waveform.max_sample(10));      // -> 12\n   * ```\n   *\n   * @param {Integer} offset\n   * @return {Number} Offset max value\n   */\n  max_sample: function getMaxValue(offset){\n    return this.adapter.at((offset * 2) + 1);\n  }\n};\n\n/**\n * Available adapters to manage the data backends.\n *\n * @type {Object}\n */\nWaveformData.adapters = {};\n\n\n/**\n * WaveformData Adapter Structure\n *\n * @typedef {{from: Number, to: Number, platforms: {}}}\n */\nWaveformData.adapter = function WaveformDataAdapter(response_data){\n  this.data = response_data;\n};\n","\"use strict\";\n\nvar WaveformData = require('../core.js');\nWaveformData.adapters = require('../adapters');\n\n/**\n * Creates a working WaveformData based on binary audio data.\n *\n * This is still quite experimental and the result will mostly depend of the\n * support state of the running browser.\n *\n * ```javascript\n * var xhr = new XMLHttpRequest();\n *\n * // URL of a CORS MP3/Ogg file\n * xhr.open(\"GET\", \"http://example.com/audio/track.ogg\");\n * xhr.responseType = \"arraybuffer\";\n *\n * xhr.addEventListener(\"load\", function onResponse(progressEvent){\n *   WaveformData.builders.webaudio(progressEvent.target.response, onProcessed(waveform){\n *     console.log(waveform.duration);\n *   });\n * });\n *\n * xhr.send();\n *  ```\n *\n * @todo use the errorCallback for `decodeAudioData` to handle possible failures\n * @todo use a Web Worker to offload processing of the binary data\n * @todo or use `SourceBuffer.appendBuffer` and `ProgressEvent` to stream the decoding\n * @todo abstract the number of channels, because it is assumed the audio file is stereo\n * @param {ArrayBuffer} raw_response\n * @param {callback} what to do once the decoding is done\n * @constructor\n */\nfunction fromAudioObjectBuilder(raw_response, callback){\n  var context = fromAudioObjectBuilder.getAudioContext();\n  var scale = 512;\n  var scale_adjuster = 127; // to produce an 8bit like value\n\n  /*\n   * The result will vary on the codec implentation of the browser.\n   * We don't handle the case where the browser is unable to handle the decoding.\n   *\n   * @see https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#dfn-decodeAudioData\n   *\n   * Adapted from BlockFile::CalcSummary in Audacity, with permission.\n   * @see https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/BlockFile.cpp\n   */\n  context.decodeAudioData(raw_response, function onAudioDecoded(audio_buffer){\n    var data_length = Math.floor(audio_buffer.length / scale);\n    var offset = 20;\n    var data_object = new DataView(new ArrayBuffer(offset + data_length * 2));\n    var left_channel, right_channel;\n    var min_value = Infinity, max_value = -Infinity, scale_counter = scale;\n    var buffer_length = audio_buffer.length;\n\n    data_object.setInt32(0, 1, true);   //version\n    data_object.setUint32(4, 1, true);   //is 8 bit\n    data_object.setInt32(8, audio_buffer.sampleRate, true);   //sample rate\n    data_object.setInt32(12, scale, true);   //scale\n    data_object.setInt32(16, data_length, true);   //length\n\n    left_channel = audio_buffer.getChannelData(0);\n    right_channel = audio_buffer.getChannelData(0);\n\n    for (var i = 0; i < buffer_length; i++){\n      var sample = (left_channel[i] + right_channel[i]) / 2 * scale_adjuster;\n\n      if (sample < min_value){\n        min_value = sample;\n      }\n\n      if (sample > max_value){\n        max_value = sample;\n      }\n\n      if (--scale_counter === 0){\n        data_object.setInt8(offset++, Math.floor(min_value));\n        data_object.setInt8(offset++, Math.floor(max_value));\n        min_value = Infinity; max_value = -Infinity; scale_counter = scale;\n      }\n    }\n\n    callback(new WaveformData(data_object.buffer, WaveformData.adapters.arraybuffer));\n  });\n}\n\nfromAudioObjectBuilder.getAudioContext = function getAudioContext(){\n  var AudioContext = window.AudioContext || window.webkitAudioContext;\n\n  // jshint -W098: true\n  return new AudioContext();\n};\n\nmodule.exports = fromAudioObjectBuilder;","var mixins = require('peaks/waveform/waveform.mixins'), Kinetic = require('Kinetic');\n'use strict';\nfunction roundUpToNearest(value, multiple) {\n    var remainder = value % multiple;\n    if (remainder === 0) {\n        return value;\n    } else {\n        return value + multiple - remainder;\n    }\n}\nfunction WaveformAxis(view) {\n    this.view = view;\n    this.axisShape = new Kinetic.Shape({\n        fill: 'rgba(38, 255, 161, 1)',\n        strokeWidth: 0,\n        opacity: 1\n    });\n    this.axisShape.setDrawFunc(this.axisDrawFunction.bind(this, view));\n    this.view.uiLayer.add(this.axisShape);\n}\nWaveformAxis.prototype.getAxisLabelScale = function () {\n    var baseSecs = 1;\n    var steps = [\n            1,\n            2,\n            5,\n            10,\n            20,\n            30\n        ];\n    var minSpacing = 60;\n    var index = 0;\n    var secs;\n    for (;;) {\n        secs = baseSecs * steps[index];\n        var pixels = this.view.data.at_time(secs);\n        if (pixels < minSpacing) {\n            if (++index == steps.length) {\n                baseSecs *= 60;\n                index = 0;\n            }\n        } else {\n            break;\n        }\n    }\n    return secs;\n};\nWaveformAxis.prototype.axisDrawFunction = function (view, canvas) {\n    var currentFrameStartTime = view.data.time(view.frameOffset);\n    var markerHeight = 10;\n    var axisLabelIntervalSecs = this.getAxisLabelScale();\n    var firstAxisLabelSecs = roundUpToNearest(currentFrameStartTime, axisLabelIntervalSecs);\n    var axisLabelOffsetSecs = firstAxisLabelSecs - currentFrameStartTime;\n    var axisLabelOffsetPixels = this.view.data.at_time(axisLabelOffsetSecs);\n    var ctx = canvas.getContext();\n    ctx.strokeStyle = '#ccc';\n    ctx.lineWidth = 1;\n    ctx.font = '11px sans-serif';\n    ctx.fillStyle = '#aaa';\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'bottom';\n    var secs = firstAxisLabelSecs;\n    var x;\n    for (;;) {\n        x = axisLabelOffsetPixels + this.view.data.at_time(secs - firstAxisLabelSecs);\n        if (x >= this.view.width) {\n            break;\n        }\n        ctx.beginPath();\n        ctx.moveTo(x + 0.5, 0);\n        ctx.lineTo(x + 0.5, 0 + markerHeight);\n        ctx.moveTo(x + 0.5, this.view.height);\n        ctx.lineTo(x + 0.5, this.view.height - markerHeight);\n        ctx.stroke();\n        var label = mixins.niceTime(secs, true);\n        var labelWidth = ctx.measureText(label).width;\n        var labelX = x - labelWidth / 2;\n        var labelY = this.view.height - 1 - markerHeight;\n        if (labelX >= 0) {\n            ctx.fillText(label, labelX, labelY);\n        }\n        secs += axisLabelIntervalSecs;\n    }\n};\nmodule.exports = WaveformAxis;","\"use strict\";\n\nmodule.exports = {\n  \"arraybuffer\": require(\"./arraybuffer.js\"),\n  \"object\": require(\"./object.js\")\n};","var BaseShape = require('peaks/markers/shapes/base'), mixins = require('peaks/waveform/waveform.mixins'), Kinetic = require('Kinetic');\n'use strict';\nvar WaveShape = Object.create(BaseShape.prototype);\nWaveShape.createShape = function createShape(segmentData, view) {\n    var shape = new Kinetic.Shape({\n            fill: segmentData.color,\n            strokeWidth: 0,\n            opacity: 1\n        });\n    shape.setDrawFunc(WaveShape.drawFunc.bind(shape, view, segmentData.id));\n    return shape;\n};\nWaveShape.drawFunc = function WaveShapedrawFunc(view, segmentId, canvas) {\n    var waveformData = view.data;\n    if (waveformData.segments[segmentId] === undefined) {\n        return;\n    }\n    var segment = waveformData.segments[segmentId];\n    var offset_length = segment.offset_length;\n    var offset_start = segment.offset_start - waveformData.offset_start;\n    var ctx = canvas.getContext();\n    var y = mixins.interpolateHeight(view.height);\n    mixins.drawWaveform(ctx, segment.min, segment.max, offset_start, offset_length, y);\n    canvas.fillStroke(this);\n};\nmodule.exports = WaveShape;","\"use strict\";\n\n/**\n * Segments are an easy way to keep track of portions of the described audio file.\n *\n * They return values based on the actual offset. Which means if you change your offset and:\n *\n * * a segment becomes **out of scope**, no data will be returned;\n * * a segment is only **partially included in the offset**, only the visible parts will be returned;\n * * a segment is **fully included in the offset**, its whole content will be returned.\n *\n * Segments are created with the `WaveformData.set_segment(from, to, name?)` method.\n *\n * @see WaveformData.prototype.set_segment\n * @param {WaveformData} context WaveformData instance\n * @param {Integer} start Initial start index\n * @param {Integer} end Initial end index\n * @constructor\n */\nvar WaveformDataSegment = module.exports = function WaveformDataSegment(context, start, end){\n  this.context = context;\n\n  /**\n   * Start index.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.start);  // -> 10\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.segments.example.start);  // -> 10\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.segments.example.start);  // -> 10\n   * ```\n   * @type {Integer} Initial starting point of the segment.\n   */\n  this.start = start;\n\n  /**\n   * End index.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.end);  // -> 50\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.segments.example.end);  // -> 50\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.segments.example.end);  // -> 50\n   * ```\n   * @type {Integer} Initial ending point of the segment.\n   */\n  this.end = end;\n};\n\n/**\n * @namespace WaveformDataSegment\n */\nWaveformDataSegment.prototype = {\n  /**\n   * Dynamic starting point based on the WaveformData instance offset.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.offset_start);  // -> 10\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.segments.example.offset_start);  // -> 20\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.segments.example.offset_start);  // -> null\n   * ```\n   *\n   * @return {number} Starting point of the segment within the waveform offset. (inclusive)\n   */\n  get offset_start(){\n    if (this.start < this.context.offset_start && this.end > this.context.offset_start){\n      return this.context.offset_start;\n    }\n\n    if (this.start >= this.context.offset_start && this.start < this.context.offset_end){\n      return this.start;\n    }\n\n    return null;\n  },\n  /**\n   * Dynamic ending point based on the WaveformData instance offset.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.offset_end);  // -> 50\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.segments.example.offset_end);  // -> 50\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.segments.example.offset_end);  // -> null\n   * ```\n   *\n   * @return {number} Ending point of the segment within the waveform offset. (exclusive)\n   */\n  get offset_end(){\n    if (this.end > this.context.offset_start && this.end <= this.context.offset_end){\n      return this.end;\n    }\n\n    if (this.end > this.context.offset_end && this.start < this.context.offset_end){\n      return this.context.offset_end;\n    }\n\n    return null;\n  },\n  /**\n   * Dynamic segment length based on the WaveformData instance offset.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.offset_length);  // -> 40\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.segments.example.offset_length);  // -> 30\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.segments.example.offset_length);  // -> 0\n   * ```\n   *\n   * @return {number} Visible length of the segment within the waveform offset.\n   */\n  get offset_length(){\n    return this.offset_end - this.offset_start;\n  },\n  /**\n   * Initial length of the segment.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.length);  // -> 40\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.segments.example.length);  // -> 40\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.segments.example.length);  // -> 40\n   * ```\n   *\n   * @return {number} Initial length of the segment.\n   */\n  get length(){\n    return this.end - this.start;\n  },\n  /**\n   * Indicates if the segment has some visible part in the actual WaveformData offset.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.visible);        // -> true\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.segments.example.visible);        // -> true\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.segments.example.visible);        // -> false\n   * ```\n   *\n   * @return {Boolean} True if at least partly visible, false otherwise.\n   */\n  get visible(){\n    return this.context.in_offset(this.start) || this.context.in_offset(this.end) || (this.context.offset_start > this.start && this.context.offset_start < this.end);\n  },\n  /**\n   * Return the minimum values for the segment.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.min.length);        // -> 40\n   * console.log(waveform.segments.example.min.offset_length); // -> 40\n   * console.log(waveform.segments.example.min[0]);            // -> -12\n   *\n   * waveform.offset(20, 50);\n   *\n   * console.log(waveform.segments.example.min.length);        // -> 40\n   * console.log(waveform.segments.example.min.offset_length); // -> 30\n   * console.log(waveform.segments.example.min[0]);            // -> -5\n   * ```\n   *\n   * @return {Array.<Integer>} Min values of the segment.\n   */\n  get min(){\n    return this.visible ? this.context.offsetValues(this.offset_start, this.offset_length, 0) : [];\n  },\n  /**\n   * Return the maximum values for the segment.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_segment(10, 50, \"example\");\n   *\n   * console.log(waveform.segments.example.max.length);        // -> 40\n   * console.log(waveform.segments.example.max.offset_length); // -> 40\n   * console.log(waveform.segments.example.max[0]);            // -> 5\n   *\n   * waveform.offset(20, 50);\n   *\n   * console.log(waveform.segments.example.max.length);        // -> 40\n   * console.log(waveform.segments.example.max.offset_length); // -> 30\n   * console.log(waveform.segments.example.max[0]);            // -> 11\n   * ```\n   *\n   * @return {Array.<Integer>} Max values of the segment.\n   */\n  get max(){\n    return this.visible ? this.context.offsetValues(this.offset_start, this.offset_length, 1) : [];\n  }\n};","\"use strict\";\n\n/**\n * Points are an easy way to keep track bookmarks of the described audio file.\n *\n * They return values based on the actual offset. Which means if you change your offset and:\n *\n * * a point becomes **out of scope**, no data will be returned; \n * * a point is **fully included in the offset**, its whole content will be returned.\n *\n * Points are created with the `WaveformData.set_point(timeStamp, name?)` method.\n *\n * @see WaveformData.prototype.set_point\n * @param {WaveformData} context WaveformData instance\n * @param {Integer} start Initial start index\n * @param {Integer} end Initial end index\n * @constructor\n */\nvar WaveformDataPoint = module.exports = function WaveformDataPoint(context, timeStamp){\n  this.context = context;\n\n  /**\n   * Start index.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_point(10, \"example\");\n   *\n   * console.log(waveform.points.example.timeStamp);  // -> 10\n   *\n   * waveform.offset(20, 50);\n   * console.log(waveform.points.example.timeStamp);  // -> 10\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.points.example.timeStamp);  // -> 10\n   * ```\n   * @type {Integer} Time Stamp of the point\n   */\n  this.timeStamp = timeStamp;\n};\n\n/**\n * @namespace WaveformDataPoint\n */\nWaveformDataPoint.prototype = {\n  /**\n   * Indicates if the point has some visible part in the actual WaveformData offset.\n   *\n   * ```javascript\n   * var waveform = new WaveformData({ ... }, WaveformData.adapters.object);\n   * waveform.set_point(10, \"example\");\n   *\n   * console.log(waveform.points.example.visible);        // -> true\n   *\n   * waveform.offset(0, 50);\n   * console.log(waveform.points.example.visible);        // -> true\n   *\n   * waveform.offset(70, 100);\n   * console.log(waveform.points.example.visible);        // -> false\n   * ```\n   *\n   * @return {Boolean} True if visible, false otherwise.\n   */\n  get visible(){\n    return this.context.in_offset(this.timeStamp);\n  }\n};","\"use strict\";\n\n/**\n * ArrayBuffer adapter consumes binary waveform data (data format version 1).\n * It is used as a data abstraction layer by `WaveformData`.\n *\n * This is supposed to be the fastest adapter ever:\n * * **Pros**: working directly in memory, everything is done by reference (including the offsetting)\n * * **Cons**: binary data are hardly readable without data format knowledge (and this is why this adapter exists).\n *\n * Also, it is recommended to use the `fromResponseData` factory.\n *\n * @see WaveformDataArrayBufferAdapter.fromResponseData\n * @param {DataView} response_data\n * @constructor\n */\nvar WaveformDataArrayBufferAdapter = module.exports = function WaveformDataArrayBufferAdapter(response_data){\n  this.data = response_data;\n};\n\n/**\n * Detects if a set of data is suitable for the ArrayBuffer adapter.\n * It is used internally by `WaveformData.create` so you should not bother using it.\n *\n * @static\n * @param {Mixed} data\n * @returns {boolean}\n */\nWaveformDataArrayBufferAdapter.isCompatible = function isCompatible(data){\n  return data && typeof data === \"object\" && \"byteLength\" in data;\n};\n\n/**\n * Setup factory to create an adapter based on heterogeneous input formats.\n *\n * It is the preferred way to build an adapter instance.\n *\n * ```javascript\n * var arrayBufferAdapter = WaveformData.adapters.arraybuffer;\n * var xhr = new XMLHttpRequest();\n *\n * // .dat file generated by audiowaveform program\n * xhr.open(\"GET\", \"http://example.com/waveforms/track.dat\");\n * xhr.responseType = \"arraybuffer\";\n * xhr.addEventListener(\"load\", function onResponse(progressEvent){\n *  var responseData = progressEvent.target.response;\n *\n *  // doing stuff with the raw data ...\n *  // you only have access to WaveformDataArrayBufferAdapter API\n *  var adapter = arrayBufferAdapter.fromResponseData(responseData);\n *\n *  // or making things easy by using WaveformData ...\n *  // you have access WaveformData API\n *  var waveform = new WaveformData(responseData, arrayBufferAdapter);\n * });\n *\n * xhr.send();\n * ```\n\n * @static\n * @param {ArrayBuffer} response_data\n * @return {WaveformDataArrayBufferAdapter}\n */\nWaveformDataArrayBufferAdapter.fromResponseData = function fromArrayBufferResponseData(response_data){\n  return new WaveformDataArrayBufferAdapter(new DataView(response_data));\n};\n\n/**\n * @namespace WaveformDataArrayBufferAdapter\n */\nWaveformDataArrayBufferAdapter.prototype = {\n  /**\n   * Returns the data format version number.\n   *\n   * @return {Integer} Version number of the consumed data format.\n   */\n  get version(){\n    return this.data.getInt32(0, true);\n  },\n  /**\n   * Indicates if the response body is encoded in 8bits.\n   *\n   * **Notice**: currently the adapter only deals with 8bits encoded data.\n   * You should favor that too because of the smaller data network fingerprint.\n   *\n   * @return {boolean} True if data are declared to be 8bits encoded.\n   */\n  get is_8_bit(){\n    return !!this.data.getUint32(4, true);\n  },\n  /**\n   * Indicates if the response body is encoded in 16bits.\n   *\n   * @return {boolean} True if data are declared to be 16bits encoded.\n   */\n  get is_16_bit(){\n    return !this.is_8_bit;\n  },\n  /**\n   * Returns the number of samples per second.\n   *\n   * @return {Integer} Number of samples per second.\n   */\n  get sample_rate(){\n    return this.data.getInt32(8, true);\n  },\n  /**\n   * Returns the scale (number of samples per pixel).\n   *\n   * @return {Integer} Number of samples per pixel.\n   */\n  get scale(){\n    return this.data.getInt32(12, true);\n  },\n  /**\n   * Returns the length of the waveform data (number of data points).\n   *\n   * @return {Integer} Length of the waveform data.\n   */\n  get length(){\n    return this.data.getUint32(16, true);\n  },\n  /**\n   * Returns a value at a specific offset.\n   *\n   * @param {Integer} index\n   * @return {number} waveform value\n   */\n  at: function at_sample(index){\n    return Math.round(this.data.getInt8(20 + index));\n  }\n};\n","\"use strict\";\n\n/**\n * Object adapter consumes stringified JSON or JSON waveform data (data format version 1).\n * It is used as a data abstraction layer by `WaveformData`.\n *\n * This is supposed to be a fallback for browsers not supporting ArrayBuffer:\n * * **Pros**: easy to debug response_data and quite self describing.\n * * **Cons**: slower than ArrayBuffer, more memory consumption.\n *\n * Also, it is recommended to use the `fromResponseData` factory.\n *\n * @see WaveformDataObjectAdapter.fromResponseData\n * @param {String|Object} response_data JSON or stringified JSON\n * @constructor\n */\nvar WaveformDataObjectAdapter = module.exports = function WaveformDataObjectAdapter(response_data){\n  this.data = response_data;\n};\n\n/**\n * Detects if a set of data is suitable for the Object adapter.\n * It is used internally by `WaveformData.create` so you should not bother using it.\n *\n * @static\n * @param {Mixed} data\n * @returns {boolean}\n */\nWaveformDataObjectAdapter.isCompatible = function isCompatible(data){\n  return data && (typeof data === \"object\" && \"sample_rate\" in data) || (typeof data === \"string\" && \"sample_rate\" in JSON.parse(data));\n};\n\n/**\n * Setup factory to create an adapter based on heterogeneous input formats.\n *\n * It is the preferred way to build an adapter instance.\n *\n * ```javascript\n * var objectAdapter = WaveformData.adapters.object;\n * var xhr = new XMLHttpRequest();\n *\n * // .dat file generated by audiowaveform program\n * xhr.open(\"GET\", \"http://example.com/waveforms/track.json\");\n * xhr.responseType = \"json\";\n * xhr.addEventListener(\"load\", function onResponse(progressEvent){\n *  var responseData = progressEvent.target.response;\n *\n *  // doing stuff with the raw data ...\n *  // you only have access to WaveformDataObjectAdapter API\n *  var adapter = objectAdapter.fromResponseData(responseData);\n *\n *  // or making things easy by using WaveformData ...\n *  // you have access WaveformData API\n *  var waveform = new WaveformData(responseData, objectAdapter);\n * });\n *\n * xhr.send();\n * ```\n\n * @static\n * @param {String|Object} response_data JSON or stringified JSON\n * @return {WaveformDataObjectAdapter}\n */\nWaveformDataObjectAdapter.fromResponseData = function fromJSONResponseData(response_data){\n  if (typeof response_data === \"string\"){\n    return new WaveformDataObjectAdapter(JSON.parse(response_data));\n  }\n  else{\n    return new WaveformDataObjectAdapter(response_data);\n  }\n};\n/**\n * @namespace WaveformDataObjectAdapter\n */\nWaveformDataObjectAdapter.prototype = {\n  /**\n   * Returns the data format version number.\n   *\n   * @return {Integer} Version number of the consumed data format.\n   */\n  get version(){\n    return this.data.version || 1;\n  },\n  /**\n   * Indicates if the response body is encoded in 8bits.\n   *\n   * **Notice**: currently the adapter only deals with 8bits encoded data.\n   * You should favor that too because of the smaller data network fingerprint.\n   *\n   * @return {boolean} True if data are declared to be 8bits encoded.\n   */\n  get is_8_bit(){\n    return this.data.bits === 8;\n  },\n  /**\n   * Indicates if the response body is encoded in 16bits.\n   *\n   * @return {boolean} True if data are declared to be 16bits encoded.\n   */\n  get is_16_bit(){\n    return !this.is_8_bit;\n  },\n  /**\n   * Returns the number of samples per second.\n   *\n   * @return {Integer} Number of samples per second.\n   */\n  get sample_rate(){\n    return this.data.sample_rate;\n  },\n  /**\n   * Returns the scale (number of samples per pixel).\n   *\n   * @return {Integer} Number of samples per pixel.\n   */\n  get scale(){\n    return this.data.samples_per_pixel;\n  },\n  /**\n   * Returns the length of the waveform data (number of data points).\n   *\n   * @return {Integer} Length of the waveform data.\n   */\n  get length(){\n    return this.data.length;\n  },\n  /**\n   * Returns a value at a specific offset.\n   *\n   * @param {Integer} index\n   * @return {number} waveform value\n   */\n  at: function at_sample(index){\n    return Math.round(this.data.data[index]);\n  }\n};\n","'use strict';\nfunction BaseShape() {\n    console.log('BaseShape');\n}\nfunction noop() {\n}\nfunction throwUndefined() {\n    throw new Error('You should extend this method in your parent class.');\n}\nBaseShape.prototype = {\n    createShape: throwUndefined,\n    update: noop\n};\nmodule.exports = BaseShape;"]}