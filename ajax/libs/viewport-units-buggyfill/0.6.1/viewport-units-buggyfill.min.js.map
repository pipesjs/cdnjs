{"version":3,"sources":["viewport-units-buggyfill.js"],"names":["root","factory","define","amd","exports","module","viewportUnitsBuggyfill","this","debounce","func","wait","timeout","context","args","arguments","callback","apply","clearTimeout","setTimeout","inIframe","window","self","top","e","initialize","initOptions","initialized","force","options","isMobileSafari","isBadStockAndroid","ignoreVmax","isOldIE","isBuggyIE","isOperaMini","hacks","required","console","info","init","dispatchEvent","CustomEvent","styleNode","document","createElement","id","head","appendChild","importCrossOriginLinks","_refresh","refresh","refreshDebounceWait","addEventListener","_listeningToResize","initializeEvents","updateStyles","textContent","getReplacedViewportUnits","parentNode","findProperties","processStylesheet","ss","cssRules","name","rules","i","length","rule","push","declarations","forEach","call","styleSheets","sheet","ownerNode","getAttribute","media","mediaText","matchMedia","matches","findDeclarations","type","value","cssText","viewportUnitExpression","lastIndex","test","style","_rule","getPropertyValue","getPropertyPriority","dimensions","getViewport","open","close","css","buffer","item","_item","overwriteDeclaration","_open","selector","join","_close","Array","content","_value","_selectors","replace","replaceValues","selectorText","parentRule","unshift","conditionText","match","number","unit","_base","_number","parseFloat","vh","innerHeight","vw","innerWidth","vmax","Math","max","vmin","min","next","_waiting","decrease","href","origin","location","convertLinkToStyle","url","slice","indexOf","link","getCors","setAttribute","responseText","replaceChild","success","error","xhr","XMLHttpRequest","XDomainRequest","Error","onload","onerror","send","userAgent","navigator","iOSversion","parseInt","isAndroid","isStockAndroid","versionNumber","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Event","version","getCss"],"mappings":"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","file":"viewport-units-buggyfill.min.js"}