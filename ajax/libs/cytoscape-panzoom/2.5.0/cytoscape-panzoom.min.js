!function(){"use strict";var n=function(n,o){n&&(o.fn.cyPanzoom=o.fn.cytoscapePanzoom=function(n){return a.apply(this,[n,o]),this},n("core","panzoom",function(n){var t=this;return a.apply(t.container(),[n,o]),this}))},o={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},a=function(n,a){var t=a.extend(!0,{},o,n),e=n,i={destroy:function(){var n=a(this),o=n.find(".cy-panzoom");o.data("winbdgs").forEach(function(n){a(window).unbind(n.evt,n.fn)}),o.data("cybdgs").forEach(function(o){n.cytoscape("get").off(o.evt,o.fn)}),o.remove()},init:function(){window;return a(this).each(function(){function n(n){var o={x:n.originalEvent.pageX-D.offset().left-D.width()/2,y:n.originalEvent.pageY-D.offset().top-D.height()/2},a=t.panDragAreaSize,e=Math.sqrt(o.x*o.x+o.y*o.y),i=Math.min(e/a,1);return e<t.panInactiveArea?{x:0/0,y:0/0}:(o={x:o.x/e,y:o.y/e},i=Math.max(t.panMinPercentSpeed,i),{x:-1*o.x*(i*t.panDistance),y:-1*o.y*(i*t.panDistance)})}function o(){clearInterval(E),y("mousemove",C),N.hide()}function e(n){var o=n,a=Math.sqrt(o.x*o.x+o.y*o.y),e={x:-1*o.x/a,y:-1*o.y/a},i=D.width(),c=D.height(),p=a/t.panDistance,s=Math.max(t.panIndicatorMinOpacity,p),r=255-Math.round(255*s);N.show().css({left:i/2*e.x+i/2,top:c/2*e.y+c/2,background:"rgb("+r+", "+r+", "+r+")"})}function i(){var n=u.cytoscape("get");n.pan(),n.zoom();j=u.width()/2,k=u.height()/2}function c(){q=!0,i()}function p(){q=!1}function s(n){var o=u.cytoscape("get");q||i(),o.zoom({level:n,renderedPosition:{x:j,y:k}})}function r(n,o){void 0===o&&(o=0);var a=B,e=0+a,i=M.height()-I.height()-2*a,c=n.pageY-M.offset().top-o;c<e&&(c=e),c>i&&(c=i);var p=1-(c-e)/(i-e);I.css("top",c);var r=t.minZoom,d=t.maxZoom,m=Math.log(r)/Math.log(d),u=(1-m)*p+m,f=Math.pow(d,u);f<r?f=r:f>d&&(f=d),s(f)}function d(){var n=u.cytoscape("get"),o=n.zoom(),a=t.minZoom,e=t.maxZoom,i=Math.log(a)/Math.log(e),c=Math.log(o)/Math.log(e),p=1-(c-i)/(1-i),s=B,r=M.height()-I.height()-2*B,d=p*(r-s);d<s&&(d=s),d>r&&(d=r),I.css("top",d)}function m(n,o){var a;n.bind("mousedown",function(n){if(n.preventDefault(),n.stopPropagation(),0==n.button){var e=u.cytoscape("get"),i=function(){var n=e.zoom(),a=e.zoom()*o;a<t.minZoom&&(a=t.minZoom),a>t.maxZoom&&(a=t.maxZoom),a==t.maxZoom&&n==t.maxZoom||a==t.minZoom&&n==t.minZoom||s(a)};return c(),i(),a=setInterval(i,t.zoomDelay),!1}}),l("mouseup blur",function(){clearInterval(a),p()})}var u=a(this),f=[],v=a(window),l=function(n,o){f.push({evt:n,fn:o}),v.bind(n,o)},y=function(n,o){for(var a=0;a<f.length;a++){var t=f[a];if(t.evt===n&&t.fn===o){f.splice(a,1);break}}v.unbind(n,o)},h=[],z=u.cytoscape("get"),g=a('<div class="cy-panzoom"></div>');u.prepend(g),g.css("position","absolute"),g.data("winbdgs",f),g.data("cybdgs",h),t.zoomOnly&&g.addClass("cy-panzoom-zoom-only");var b=a('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+t.zoomInIcon+'"></span></div>');g.append(b);var x=a('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+t.zoomOutIcon+'"></span></div>');g.append(x);var w=a('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+t.resetIcon+'"></span></div>');g.append(w);var M=a('<div class="cy-panzoom-slider"></div>');g.append(M),M.append('<div class="cy-panzoom-slider-background"></div>');var I=a('<div class="cy-panzoom-slider-handle"><span class="icon '+t.sliderHandleIcon+'"></span></div>');M.append(I);var Z=a('<div class="cy-panzoom-no-zoom-tick"></div>');M.append(Z);var D=a('<div class="cy-panzoom-panner"></div>');g.append(D);var P=a('<div class="cy-panzoom-panner-handle"></div>');D.append(P);var O=a('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),S=a('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),A=a('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),F=a('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');D.append(O).append(S).append(A).append(F);var N=a('<div class="cy-panzoom-pan-indicator"></div>');D.append(N);var j,k,E,q=!1,C=function(o){o.stopPropagation(),o.preventDefault(),clearInterval(E);var a=n(o);if(isNaN(a.x)||isNaN(a.y))return void N.hide();e(a),E=setInterval(function(){u.cytoscape("get").panBy(a)},t.panSpeed)};P.bind("mousedown",function(n){C(n),l("mousemove",C)}),P.bind("mouseup",function(){o()}),l("mouseup blur",function(){o()}),M.bind("mousedown",function(){return!1});var Y,H,Q=!1,B=2;I.bind("mousedown",Y=function(n){var o=n.target===I[0]?n.offsetY:0;Q=!0,c(),I.addClass("active");var a=0;return l("mousemove",H=function(n){var t=+new Date;return t>a+10&&(a=t,r(n,o),!1)}),l("mouseup",function(){y("mousemove",H),Q=!1,I.removeClass("active"),p()}),!1}),M.bind("mousedown",function(n){n.target!==I[0]&&(Y(n),r(n))}),d(),function(n,o){h.push({evt:n,fn:o}),z.on(n,o)}("zoom",function(){Q||d()}),function(){var n=t.minZoom,o=t.maxZoom,a=Math.log(n)/Math.log(o),e=Math.log(1)/Math.log(o),i=1-(e-a)/(1-a);if(i>1||i<0)return void Z.hide();var c=B,p=M.height()-I.height()-2*B,s=i*(p-c);s<c&&(s=c),s>p&&(s=p),Z.css("top",s)}(),m(b,1+t.zoomFactor),m(x,1-t.zoomFactor),w.bind("mousedown",function(n){if(0==n.button){var o=u.cytoscape("get"),a=t.fitSelector?o.elements(t.fitSelector):o.elements();if(0===a.size())o.reset();else{("function"==typeof t.animateOnFit?t.animateOnFit.call():t.animateOnFit)?o.animate({fit:{eles:a,padding:t.fitPadding}},{duration:t.fitAnimationDuration}):o.fit(a,t.fitPadding)}return!1}})})}};return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(a.error("No such function `"+e+"` for jquery.cytoscapePanzoom"),a(this)):i.init.apply(this,arguments)};"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof define&&define.amd&&define("cytoscape-panzoom",function(){return n}),"undefined"!=typeof cytoscape&&"undefined"!=typeof jQuery&&n(cytoscape,jQuery)}();
//# sourceMappingURL=cytoscape-panzoom.min.js.map