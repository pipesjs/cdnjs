!function(){"use strict";var n=function(n,o){n&&(o.fn.cyPanzoom=o.fn.cytoscapePanzoom=function(n){return a.apply(this,[n,o]),this},n("core","panzoom",function(n){return a.apply(this,[n,o]),this}))},o={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},a=function(n,a){var t=this,e=a.extend(!0,{},o,n),i=n,c={destroy:function(){var n=a(t.container()),o=n.find(".cy-panzoom");o.data("winbdgs").forEach(function(n){a(window).unbind(n.evt,n.fn)}),o.data("cybdgs").forEach(function(n){t.off(n.evt,n.fn)}),o.remove()},init:function(){window;return a(t.container()).each(function(){function n(n){var o={x:n.originalEvent.pageX-D.offset().left-D.width()/2,y:n.originalEvent.pageY-D.offset().top-D.height()/2},a=e.panDragAreaSize,t=Math.sqrt(o.x*o.x+o.y*o.y),i=Math.min(t/a,1);return t<e.panInactiveArea?{x:NaN,y:NaN}:(o={x:o.x/t,y:o.y/t},i=Math.max(e.panMinPercentSpeed,i),{x:-1*o.x*(i*e.panDistance),y:-1*o.y*(i*e.panDistance)})}function o(){clearInterval(E),h("mousemove",C),F.hide()}function i(n){var o=n,a=Math.sqrt(o.x*o.x+o.y*o.y),t={x:-1*o.x/a,y:-1*o.y/a},i=D.width(),c=D.height(),p=a/e.panDistance,r=Math.max(e.panIndicatorMinOpacity,p),s=255-Math.round(255*r);F.show().css({left:i/2*t.x+i/2,top:c/2*t.y+c/2,background:"rgb("+s+", "+s+", "+s+")"})}function c(){t.pan(),t.zoom();j=f.width()/2,k=f.height()/2}function p(){q=!0,c()}function r(){q=!1}function s(n){q||c(),t.zoom({level:n,renderedPosition:{x:j,y:k}})}function d(n,o){void 0===o&&(o=0);var a=B,t=0+a,i=M.height()-I.height()-2*a,c=n.pageY-M.offset().top-o;c<t&&(c=t),c>i&&(c=i);var p=1-(c-t)/(i-t);I.css("top",c);var r=e.minZoom,d=e.maxZoom,m=Math.log(r)/Math.log(d),u=(1-m)*p+m,f=Math.pow(d,u);f<r?f=r:f>d&&(f=d),s(f)}function m(){var n=t.zoom(),o=e.minZoom,a=e.maxZoom,i=Math.log(o)/Math.log(a),c=Math.log(n)/Math.log(a),p=1-(c-i)/(1-i),r=B,s=M.height()-I.height()-2*B,d=p*(s-r);d<r&&(d=r),d>s&&(d=s),I.css("top",d)}function u(n,o){var a;n.bind("mousedown",function(n){if(n.preventDefault(),n.stopPropagation(),0==n.button){var i=function(){var n=t.zoom(),a=t.zoom()*o;a<e.minZoom&&(a=e.minZoom),a>e.maxZoom&&(a=e.maxZoom),a==e.maxZoom&&n==e.maxZoom||a==e.minZoom&&n==e.minZoom||s(a)};return p(),i(),a=setInterval(i,e.zoomDelay),!1}}),y("mouseup blur",function(){clearInterval(a),r()})}var f=a(this);f.cytoscape=cytoscape;var v=[],l=a(window),y=function(n,o){v.push({evt:n,fn:o}),l.bind(n,o)},h=function(n,o){for(var a=0;a<v.length;a++){var t=v[a];if(t.evt===n&&t.fn===o){v.splice(a,1);break}}l.unbind(n,o)},z=[],g=a('<div class="cy-panzoom"></div>');f.prepend(g),g.css("position","absolute"),g.data("winbdgs",v),g.data("cybdgs",z),e.zoomOnly&&g.addClass("cy-panzoom-zoom-only");var b=a('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+e.zoomInIcon+'"></span></div>');g.append(b);var x=a('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+e.zoomOutIcon+'"></span></div>');g.append(x);var w=a('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+e.resetIcon+'"></span></div>');g.append(w);var M=a('<div class="cy-panzoom-slider"></div>');g.append(M),M.append('<div class="cy-panzoom-slider-background"></div>');var I=a('<div class="cy-panzoom-slider-handle"><span class="icon '+e.sliderHandleIcon+'"></span></div>');M.append(I);var Z=a('<div class="cy-panzoom-no-zoom-tick"></div>');M.append(Z);var D=a('<div class="cy-panzoom-panner"></div>');g.append(D);var P=a('<div class="cy-panzoom-panner-handle"></div>');D.append(P);var O=a('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),N=a('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),S=a('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),A=a('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');D.append(O).append(N).append(S).append(A);var F=a('<div class="cy-panzoom-pan-indicator"></div>');D.append(F);var j,k,E,q=!1,C=function(o){o.stopPropagation(),o.preventDefault(),clearInterval(E);var a=n(o);if(isNaN(a.x)||isNaN(a.y))return void F.hide();i(a),E=setInterval(function(){t.panBy(a)},e.panSpeed)};P.bind("mousedown",function(n){C(n),y("mousemove",C)}),P.bind("mouseup",function(){o()}),y("mouseup blur",function(){o()}),M.bind("mousedown",function(){return!1});var Y,H,Q=!1,B=2;I.bind("mousedown",Y=function(n){var o=n.target===I[0]?n.offsetY:0;Q=!0,p(),I.addClass("active");var a=0;return y("mousemove",H=function(n){var t=+new Date;return t>a+10&&(a=t,d(n,o),!1)}),y("mouseup",function(){h("mousemove",H),Q=!1,I.removeClass("active"),r()}),!1}),M.bind("mousedown",function(n){n.target!==I[0]&&(Y(n),d(n))}),m(),function(n,o){z.push({evt:n,fn:o}),t.on(n,o)}("zoom",function(){Q||m()}),function(){var n=e.minZoom,o=e.maxZoom,a=Math.log(n)/Math.log(o),t=Math.log(1)/Math.log(o),i=1-(t-a)/(1-a);if(i>1||i<0)return void Z.hide();var c=B,p=M.height()-I.height()-2*B,r=i*(p-c);r<c&&(r=c),r>p&&(r=p),Z.css("top",r)}(),u(b,1+e.zoomFactor),u(x,1-e.zoomFactor),w.bind("mousedown",function(n){if(0==n.button){var o=e.fitSelector?t.elements(e.fitSelector):t.elements();if(0===o.size())t.reset();else{("function"==typeof e.animateOnFit?e.animateOnFit.call():e.animateOnFit)?t.animate({fit:{eles:o,padding:e.fitPadding}},{duration:e.fitAnimationDuration}):t.fit(o,e.fitPadding)}return!1}})})}};return c[i]?c[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(a.error("No such function `"+i+"` for jquery.cytoscapePanzoom"),a(this)):c.init.apply(this,arguments)};"undefined"!=typeof module&&module.exports?module.exports=n:"undefined"!=typeof define&&define.amd&&define("cytoscape-panzoom",function(){return n}),"undefined"!=typeof cytoscape&&"undefined"!=typeof jQuery&&n(cytoscape,jQuery)}();
//# sourceMappingURL=cytoscape-panzoom.min.js.map