function isSpace(t){return t<14&&t>8||32===t||160===t||o(t)}function isDummy(t){return"✖"==t.name}function parse_dammit(t,e){var s=new LooseParser(t,e);return s.next(),s.parseTopLevel()}import{defaultOptions as t,addLooseExports as e,SourceLocation as s,tokTypes as i,tokenizer as r,Node as n,lineBreak as a,isNewLine as o,getLineInfo as h,Token as p,lineBreakG as c}from"./acorn";var pluginsLoose={},LooseParser=function(t,e){if(void 0===e&&(e={}),this.toks=r(t,e),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:i.eof,start:0,end:0},this.options.locations){var n=this.toks.curPosition();this.tok.loc=new s(this.toks,n,n)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.options.pluginsLoose=e.pluginsLoose||{},this.loadPlugins(this.options.pluginsLoose)};LooseParser.prototype.startNode=function(){return new n(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},LooseParser.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},LooseParser.prototype.startNodeAt=function(t){return this.options.locations?new n(this.toks,t[0],t[1]):new n(this.toks,t)},LooseParser.prototype.finishNode=function(t,e){return t.type=e,t.end=this.last.end,this.options.locations&&(t.loc.end=this.last.loc.end),this.options.ranges&&(t.range[1]=this.last.end),t},LooseParser.prototype.dummyNode=function(t){var e=this.startNode();return e.type=t,e.end=e.start,this.options.locations&&(e.loc.end=e.loc.start),this.options.ranges&&(e.range[1]=e.start),this.last={type:i.name,start:e.start,end:e.start,loc:e.loc},e},LooseParser.prototype.dummyIdent=function(){var t=this.dummyNode("Identifier");return t.name="✖",t},LooseParser.prototype.dummyString=function(){var t=this.dummyNode("Literal");return t.value=t.raw="✖",t},LooseParser.prototype.eat=function(t){return this.tok.type===t&&(this.next(),!0)},LooseParser.prototype.isContextual=function(t){return this.tok.type===i.name&&this.tok.value===t},LooseParser.prototype.eatContextual=function(t){return this.tok.value===t&&this.eat(i.name)},LooseParser.prototype.canInsertSemicolon=function(){return this.tok.type===i.eof||this.tok.type===i.braceR||a.test(this.input.slice(this.last.end,this.tok.start))},LooseParser.prototype.semicolon=function(){return this.eat(i.semi)},LooseParser.prototype.expect=function(t){var e=this;if(this.eat(t))return!0;for(var s=1;s<=2;s++)if(e.lookAhead(s).type==t){for(var i=0;i<s;i++)e.next();return!0}},LooseParser.prototype.pushCx=function(){this.context.push(this.curIndent)},LooseParser.prototype.popCx=function(){this.curIndent=this.context.pop()},LooseParser.prototype.lineEnd=function(t){for(;t<this.input.length&&!o(this.input.charCodeAt(t));)++t;return t},LooseParser.prototype.indentationAfter=function(t){for(var e=this,s=0;;++t){var i=e.input.charCodeAt(t);if(32===i)++s;else{if(9!==i)return s;s+=e.options.tabSize}}},LooseParser.prototype.closes=function(t,e,s,r){return this.tok.type===t||this.tok.type===i.eof||s!=this.curLineStart&&this.curIndent<e&&this.tokenStartsLine()&&(!r||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<e)},LooseParser.prototype.tokenStartsLine=function(){for(var t=this,e=this.tok.start-1;e>=this.curLineStart;--e){var s=t.input.charCodeAt(e);if(9!==s&&32!==s)return!1}return!0},LooseParser.prototype.extend=function(t,e){this[t]=e(this[t])},LooseParser.prototype.loadPlugins=function(t){var e=this;for(var s in t){var i=pluginsLoose[s];if(!i)throw new Error("Plugin '"+s+"' not found");i(e,t[s])}};var lp=LooseParser.prototype;lp.next=function(){var t=this;if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)t.curLineStart=t.nextLineStart,t.nextLineStart=t.lineEnd(t.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},lp.readToken=function(){for(var t=this;;)try{return t.toks.next(),t.toks.type===i.dot&&"."===t.input.substr(t.toks.end,1)&&t.options.ecmaVersion>=6&&(t.toks.end++,t.toks.type=i.ellipsis),new p(t.toks)}catch(p){if(!(p instanceof SyntaxError))throw p;var e=p.message,r=p.raisedAt,n=!0;if(/unterminated/i.test(e))if(r=t.lineEnd(p.pos+1),/string/.test(e))n={start:p.pos,end:r,type:i.string,value:t.input.slice(p.pos+1,r)};else if(/regular expr/i.test(e)){var a=t.input.slice(p.pos,r);try{a=new RegExp(a)}catch(t){}n={start:p.pos,end:r,type:i.regexp,value:a}}else n=!!/template/.test(e)&&{start:p.pos,end:r,type:i.template,value:t.input.slice(p.pos,r)};else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(e))for(;r<this.input.length&&!isSpace(this.input.charCodeAt(r));)++r;else if(/character escape|expected hexadecimal/i.test(e))for(;r<this.input.length;){var c=t.input.charCodeAt(r++);if(34===c||39===c||o(c))break}else if(/unexpected character/i.test(e))r++,n=!1;else{if(!/regular expression/i.test(e))throw p;n=!0}if(t.resetTo(r),n===!0&&(n={start:r,end:r,type:i.name,value:"✖"}),n)return t.options.locations&&(n.loc=new s(t.toks,h(t.input,n.start),h(t.input,n.end))),n}},lp.resetTo=function(t){var e=this;this.toks.pos=t;var s=this.input.charAt(t-1);if(this.toks.exprAllowed=!s||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(s)||/[enwfd]/.test(s)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(t-10,t)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=c.lastIndex=0;for(var i;(i=c.exec(this.input))&&i.index<t;)++e.toks.curLine,e.toks.lineStart=i.index+i[0].length}},lp.lookAhead=function(t){for(var e=this;t>this.ahead.length;)e.ahead.push(e.readToken());return this.ahead[t-1]};var lp$1=LooseParser.prototype;lp$1.parseTopLevel=function(){var t=this,e=this.startNodeAt(this.options.locations?[0,h(this.input,0)]:0);for(e.body=[];this.tok.type!==i.eof;)e.body.push(t.parseStatement());return this.last=this.tok,this.options.ecmaVersion>=6&&(e.sourceType=this.options.sourceType),this.finishNode(e,"Program")},lp$1.parseStatement=function(){var t,e=this,s=this.tok.type,r=this.startNode();switch(this.toks.isLet()&&(s=i._var,t="let"),s){case i._break:case i._continue:this.next();var n=s===i._break;return this.semicolon()||this.canInsertSemicolon()?r.label=null:(r.label=this.tok.type===i.name?this.parseIdent():null,this.semicolon()),this.finishNode(r,n?"BreakStatement":"ContinueStatement");case i._debugger:return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement");case i._do:return this.next(),r.body=this.parseStatement(),r.test=this.eat(i._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(r,"DoWhileStatement");case i._for:if(this.next(),this.pushCx(),this.expect(i.parenL),this.tok.type===i.semi)return this.parseFor(r,null);var a=this.toks.isLet();if(a||this.tok.type===i._var||this.tok.type===i._const){var o=this.parseVar(!0,a?"let":this.tok.value);return 1!==o.declarations.length||this.tok.type!==i._in&&!this.isContextual("of")?this.parseFor(r,o):this.parseForIn(r,o)}var h=this.parseExpression(!0);return this.tok.type===i._in||this.isContextual("of")?this.parseForIn(r,this.toAssignable(h)):this.parseFor(r,h);case i._function:return this.next(),this.parseFunction(r,!0);case i._if:return this.next(),r.test=this.parseParenExpression(),r.consequent=this.parseStatement(),r.alternate=this.eat(i._else)?this.parseStatement():null,this.finishNode(r,"IfStatement");case i._return:return this.next(),this.eat(i.semi)||this.canInsertSemicolon()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement");case i._switch:var p=this.curIndent,c=this.curLineStart;this.next(),r.discriminant=this.parseParenExpression(),r.cases=[],this.pushCx(),this.expect(i.braceL);for(var u;!this.closes(i.braceR,p,c,!0);)if(e.tok.type===i._case||e.tok.type===i._default){var l=e.tok.type===i._case;u&&e.finishNode(u,"SwitchCase"),r.cases.push(u=e.startNode()),u.consequent=[],e.next(),l?u.test=e.parseExpression():u.test=null,e.expect(i.colon)}else u||(r.cases.push(u=e.startNode()),u.consequent=[],u.test=null),u.consequent.push(e.parseStatement());return u&&this.finishNode(u,"SwitchCase"),this.popCx(),this.eat(i.braceR),this.finishNode(r,"SwitchStatement");case i._throw:return this.next(),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement");case i._try:if(this.next(),r.block=this.parseBlock(),r.handler=null,this.tok.type===i._catch){var d=this.startNode();this.next(),this.expect(i.parenL),d.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(i.parenR),d.body=this.parseBlock(),r.handler=this.finishNode(d,"CatchClause")}return r.finalizer=this.eat(i._finally)?this.parseBlock():null,r.handler||r.finalizer?this.finishNode(r,"TryStatement"):r.block;case i._var:case i._const:return this.parseVar(!1,t||this.tok.value);case i._while:return this.next(),r.test=this.parseParenExpression(),r.body=this.parseStatement(),this.finishNode(r,"WhileStatement");case i._with:return this.next(),r.object=this.parseParenExpression(),r.body=this.parseStatement(),this.finishNode(r,"WithStatement");case i.braceL:return this.parseBlock();case i.semi:return this.next(),this.finishNode(r,"EmptyStatement");case i._class:return this.parseClass(!0);case i._import:return this.parseImport();case i._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(r,!0,!0);var m=this.parseExpression();return isDummy(m)?(this.next(),this.tok.type===i.eof?this.finishNode(r,"EmptyStatement"):this.parseStatement()):s===i.name&&"Identifier"===m.type&&this.eat(i.colon)?(r.body=this.parseStatement(),r.label=m,this.finishNode(r,"LabeledStatement")):(r.expression=m,this.semicolon(),this.finishNode(r,"ExpressionStatement"))}},lp$1.parseBlock=function(){var t=this,e=this.startNode();this.pushCx(),this.expect(i.braceL);var s=this.curIndent,r=this.curLineStart;for(e.body=[];!this.closes(i.braceR,s,r,!0);)e.body.push(t.parseStatement());return this.popCx(),this.eat(i.braceR),this.finishNode(e,"BlockStatement")},lp$1.parseFor=function(t,e){return t.init=e,t.test=t.update=null,this.eat(i.semi)&&this.tok.type!==i.semi&&(t.test=this.parseExpression()),this.eat(i.semi)&&this.tok.type!==i.parenR&&(t.update=this.parseExpression()),this.popCx(),this.expect(i.parenR),t.body=this.parseStatement(),this.finishNode(t,"ForStatement")},lp$1.parseForIn=function(t,e){var s=this.tok.type===i._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.popCx(),this.expect(i.parenR),t.body=this.parseStatement(),this.finishNode(t,s)},lp$1.parseVar=function(t,e){var s=this,r=this.startNode();r.kind=e,this.next(),r.declarations=[];do{var n=s.startNode();n.id=s.options.ecmaVersion>=6?s.toAssignable(s.parseExprAtom(),!0):s.parseIdent(),n.init=s.eat(i.eq)?s.parseMaybeAssign(t):null,r.declarations.push(s.finishNode(n,"VariableDeclarator"))}while(this.eat(i.comma));if(!r.declarations.length){var a=this.startNode();a.id=this.dummyIdent(),r.declarations.push(this.finishNode(a,"VariableDeclarator"))}return t||this.semicolon(),this.finishNode(r,"VariableDeclaration")},lp$1.parseClass=function(t){var e=this,s=this.startNode();this.next(),null==t&&(t=this.tok.type===i.name),this.tok.type===i.name?s.id=this.parseIdent():t?s.id=this.dummyIdent():s.id=null,s.superClass=this.eat(i._extends)?this.parseExpression():null,s.body=this.startNode(),s.body.body=[],this.pushCx();var r=this.curIndent+1,n=this.curLineStart;for(this.eat(i.braceL),this.curIndent+1<r&&(r=this.curIndent,n=this.curLineStart);!this.closes(i.braceR,r,n);)if(!e.semicolon()){var a,o,h=e.startNode();e.options.ecmaVersion>=6&&(h.static=!1,a=e.eat(i.star)),e.parsePropertyName(h),isDummy(h.key)?(isDummy(e.parseMaybeAssign())&&e.next(),e.eat(i.comma)):("Identifier"!==h.key.type||h.computed||"static"!==h.key.name||e.tok.type==i.parenL||e.tok.type==i.braceL?h.static=!1:(h.static=!0,a=e.eat(i.star),e.parsePropertyName(h)),h.computed||"Identifier"!==h.key.type||"async"!==h.key.name||e.tok.type===i.parenL||e.canInsertSemicolon()?o=!1:(e.parsePropertyName(h),o=!0),e.options.ecmaVersion>=5&&"Identifier"===h.key.type&&!h.computed&&("get"===h.key.name||"set"===h.key.name)&&e.tok.type!==i.parenL&&e.tok.type!==i.braceL?(h.kind=h.key.name,e.parsePropertyName(h),h.value=e.parseMethod(!1)):(h.computed||h.static||a||o||!("Identifier"===h.key.type&&"constructor"===h.key.name||"Literal"===h.key.type&&"constructor"===h.key.value)?h.kind="method":h.kind="constructor",h.value=e.parseMethod(a,o)),s.body.body.push(e.finishNode(h,"MethodDefinition")))}return this.popCx(),this.eat(i.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(s.body,"ClassBody"),this.finishNode(s,t?"ClassDeclaration":"ClassExpression")},lp$1.parseFunction=function(t,e,s){var r=this.inAsync;return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(i.star)),this.options.ecmaVersion>=8&&(t.async=!!s),null==e&&(e=this.tok.type===i.name),this.tok.type===i.name?t.id=this.parseIdent():e&&(t.id=this.dummyIdent()),this.inAsync=t.async,t.params=this.parseFunctionParams(),t.body=this.parseBlock(),this.inAsync=r,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},lp$1.parseExport=function(){var t=this.startNode();if(this.next(),this.eat(i.star))return t.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(i._default)){var e;if(this.tok.type===i._function||(e=this.toks.isAsyncFunction())){var s=this.startNode();this.next(),e&&this.next(),t.declaration=this.parseFunction(s,null,e)}else this.tok.type===i._class?t.declaration=this.parseClass(null):(t.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(t,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(t.declaration=this.parseStatement(),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifierList(),t.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")},lp$1.parseImport=function(){var t=this.startNode();if(this.next(),this.tok.type===i.string)t.specifiers=[],t.source=this.parseExprAtom(),t.kind="";else{var e;this.tok.type===i.name&&"from"!==this.tok.value&&(e=this.startNode(),e.local=this.parseIdent(),this.finishNode(e,"ImportDefaultSpecifier"),this.eat(i.comma)),t.specifiers=this.parseImportSpecifierList(),t.source=this.eatContextual("from")&&this.tok.type==i.string?this.parseExprAtom():this.dummyString(),e&&t.specifiers.unshift(e)}return this.semicolon(),this.finishNode(t,"ImportDeclaration")},lp$1.parseImportSpecifierList=function(){var t=this,e=[];if(this.tok.type===i.star){var s=this.startNode();this.next(),s.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),e.push(this.finishNode(s,"ImportNamespaceSpecifier"))}else{var r=this.curIndent,n=this.curLineStart,a=this.nextLineStart;for(this.pushCx(),this.eat(i.braceL),this.curLineStart>a&&(a=this.curLineStart);!this.closes(i.braceR,r+(this.curLineStart<=a?1:0),n);){var o=t.startNode();if(t.eat(i.star))o.local=t.eatContextual("as")?t.parseIdent():t.dummyIdent(),t.finishNode(o,"ImportNamespaceSpecifier");else{if(t.isContextual("from"))break;if(o.imported=t.parseIdent(),isDummy(o.imported))break;o.local=t.eatContextual("as")?t.parseIdent():o.imported,t.finishNode(o,"ImportSpecifier")}e.push(o),t.eat(i.comma)}this.eat(i.braceR),this.popCx()}return e},lp$1.parseExportSpecifierList=function(){var t=this,e=[],s=this.curIndent,r=this.curLineStart,n=this.nextLineStart;for(this.pushCx(),this.eat(i.braceL),this.curLineStart>n&&(n=this.curLineStart);!this.closes(i.braceR,s+(this.curLineStart<=n?1:0),r)&&!t.isContextual("from");){var a=t.startNode();if(a.local=t.parseIdent(),isDummy(a.local))break;a.exported=t.eatContextual("as")?t.parseIdent():a.local,t.finishNode(a,"ExportSpecifier"),e.push(a),t.eat(i.comma)}return this.eat(i.braceR),this.popCx(),e};var lp$2=LooseParser.prototype;lp$2.checkLVal=function(t){if(!t)return t;switch(t.type){case"Identifier":case"MemberExpression":return t;case"ParenthesizedExpression":return t.expression=this.checkLVal(t.expression),t;default:return this.dummyIdent()}},lp$2.parseExpression=function(t){var e=this,s=this.storeCurrentPos(),r=this.parseMaybeAssign(t);if(this.tok.type===i.comma){var n=this.startNodeAt(s);for(n.expressions=[r];this.eat(i.comma);)n.expressions.push(e.parseMaybeAssign(t));return this.finishNode(n,"SequenceExpression")}return r},lp$2.parseParenExpression=function(){this.pushCx(),this.expect(i.parenL);var t=this.parseExpression();return this.popCx(),this.expect(i.parenR),t},lp$2.parseMaybeAssign=function(t){if(this.toks.isContextual("yield")){var e=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=i.star&&!this.tok.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(i.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")}var s=this.storeCurrentPos(),r=this.parseMaybeConditional(t);if(this.tok.type.isAssign){var n=this.startNodeAt(s);return n.operator=this.tok.value,n.left=this.tok.type===i.eq?this.toAssignable(r):this.checkLVal(r),this.next(),n.right=this.parseMaybeAssign(t),this.finishNode(n,"AssignmentExpression")}return r},lp$2.parseMaybeConditional=function(t){var e=this.storeCurrentPos(),s=this.parseExprOps(t);if(this.eat(i.question)){var r=this.startNodeAt(e);return r.test=s,r.consequent=this.parseMaybeAssign(),r.alternate=this.expect(i.colon)?this.parseMaybeAssign(t):this.dummyIdent(),this.finishNode(r,"ConditionalExpression")}return s},lp$2.parseExprOps=function(t){var e=this.storeCurrentPos(),s=this.curIndent,i=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),e,-1,t,s,i)},lp$2.parseExprOp=function(t,e,s,r,n,a){if(this.curLineStart!=a&&this.curIndent<n&&this.tokenStartsLine())return t;var o=this.tok.type.binop;if(null!=o&&(!r||this.tok.type!==i._in)&&o>s){var h=this.startNodeAt(e);if(h.left=t,h.operator=this.tok.value,this.next(),this.curLineStart!=a&&this.curIndent<n&&this.tokenStartsLine())h.right=this.dummyIdent();else{var p=this.storeCurrentPos();h.right=this.parseExprOp(this.parseMaybeUnary(!1),p,o,r,n,a)}return this.finishNode(h,/&&|\|\|/.test(h.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(h,e,s,r,n,a)}return t},lp$2.parseMaybeUnary=function(t){var e,s=this,r=this.storeCurrentPos();if(this.options.ecmaVersion>=8&&this.inAsync&&this.toks.isContextual("await"))e=this.parseAwait(),t=!0;else if(this.tok.type.prefix){var n=this.startNode(),a=this.tok.type===i.incDec;a||(t=!0),n.operator=this.tok.value,n.prefix=!0,this.next(),n.argument=this.parseMaybeUnary(!0),a&&(n.argument=this.checkLVal(n.argument)),e=this.finishNode(n,a?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===i.ellipsis){var o=this.startNode();this.next(),o.argument=this.parseMaybeUnary(t),e=this.finishNode(o,"SpreadElement")}else for(e=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var h=s.startNodeAt(r);h.operator=s.tok.value,h.prefix=!1,h.argument=s.checkLVal(e),s.next(),e=s.finishNode(h,"UpdateExpression")}if(!t&&this.eat(i.starstar)){var p=this.startNodeAt(r);return p.operator="**",p.left=e,p.right=this.parseMaybeUnary(!1),this.finishNode(p,"BinaryExpression")}return e},lp$2.parseExprSubscripts=function(){var t=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),t,!1,this.curIndent,this.curLineStart)},lp$2.parseSubscripts=function(t,e,s,r,n){for(var a=this;;){if(a.curLineStart!=n&&a.curIndent<=r&&a.tokenStartsLine()){if(a.tok.type!=i.dot||a.curIndent!=r)return t;--r}var o="Identifier"===t.type&&"async"===t.name&&!a.canInsertSemicolon();if(a.eat(i.dot)){var h=a.startNodeAt(e);h.object=t,a.curLineStart!=n&&a.curIndent<=r&&a.tokenStartsLine()?h.property=a.dummyIdent():h.property=a.parsePropertyAccessor()||a.dummyIdent(),h.computed=!1,t=a.finishNode(h,"MemberExpression")}else if(a.tok.type==i.bracketL){a.pushCx(),a.next();var p=a.startNodeAt(e);p.object=t,p.property=a.parseExpression(),p.computed=!0,a.popCx(),a.expect(i.bracketR),t=a.finishNode(p,"MemberExpression")}else if(s||a.tok.type!=i.parenL){if(a.tok.type!=i.backQuote)return t;var c=a.startNodeAt(e);c.tag=t,c.quasi=a.parseTemplate(),t=a.finishNode(c,"TaggedTemplateExpression")}else{var u=a.parseExprList(i.parenR);if(o&&a.eat(i.arrow))return a.parseArrowExpression(a.startNodeAt(e),u,!0);var l=a.startNodeAt(e);l.callee=t,l.arguments=u,t=a.finishNode(l,"CallExpression")}}},lp$2.parseExprAtom=function(){var t;switch(this.tok.type){case i._this:case i._super:var e=this.tok.type===i._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,e);case i.name:var s=this.storeCurrentPos(),r=this.parseIdent(),n=!1;if("async"===r.name&&!this.canInsertSemicolon()){if(this.eat(i._function))return this.parseFunction(this.startNodeAt(s),!1,!0);this.tok.type===i.name&&(r=this.parseIdent(),n=!0)}return this.eat(i.arrow)?this.parseArrowExpression(this.startNodeAt(s),[r],n):r;case i.regexp:t=this.startNode();var a=this.tok.value;return t.regex={pattern:a.pattern,flags:a.flags},t.value=a.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case i.num:case i.string:return t=this.startNode(),t.value=this.tok.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case i._null:case i._true:case i._false:return t=this.startNode(),t.value=this.tok.type===i._null?null:this.tok.type===i._true,t.raw=this.tok.type.keyword,this.next(),this.finishNode(t,"Literal");case i.parenL:var o=this.storeCurrentPos();this.next();var h=this.parseExpression();if(this.expect(i.parenR),this.eat(i.arrow)){var p=h.expressions||[h];return p.length&&isDummy(p[p.length-1])&&p.pop(),this.parseArrowExpression(this.startNodeAt(o),p)}if(this.options.preserveParens){var c=this.startNodeAt(o);c.expression=h,h=this.finishNode(c,"ParenthesizedExpression")}return h;case i.bracketL:return t=this.startNode(),t.elements=this.parseExprList(i.bracketR,!0),this.finishNode(t,"ArrayExpression");case i.braceL:return this.parseObj();case i._class:return this.parseClass(!1);case i._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case i._new:return this.parseNew();case i.backQuote:return this.parseTemplate();default:return this.dummyIdent()}},lp$2.parseNew=function(){var t=this.startNode(),e=this.curIndent,s=this.curLineStart,r=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(i.dot))return t.meta=r,t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty");var n=this.storeCurrentPos();return t.callee=this.parseSubscripts(this.parseExprAtom(),n,!0,e,s),this.tok.type==i.parenL?t.arguments=this.parseExprList(i.parenR):t.arguments=[],this.finishNode(t,"NewExpression")},lp$2.parseTemplateElement=function(){var t=this.startNode();return t.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),t.tail=this.tok.type===i.backQuote,this.finishNode(t,"TemplateElement")},lp$2.parseTemplate=function(){var t=this,e=this.startNode();this.next(),e.expressions=[];var s=this.parseTemplateElement();for(e.quasis=[s];!s.tail;)t.next(),e.expressions.push(t.parseExpression()),t.expect(i.braceR)?s=t.parseTemplateElement():(s=t.startNode(),s.value={cooked:"",raw:""},s.tail=!0,t.finishNode(s,"TemplateElement")),e.quasis.push(s);return this.expect(i.backQuote),this.finishNode(e,"TemplateLiteral")},lp$2.parseObj=function(){var t=this,e=this.startNode();e.properties=[],this.pushCx();var s=this.curIndent+1,r=this.curLineStart;for(this.eat(i.braceL),this.curIndent+1<s&&(s=this.curIndent,r=this.curLineStart);!this.closes(i.braceR,s,r);){var n,a,o,h=t.startNode();if(t.options.ecmaVersion>=6&&(o=t.storeCurrentPos(),h.method=!1,h.shorthand=!1,n=t.eat(i.star)),t.parsePropertyName(h),h.computed||"Identifier"!==h.key.type||"async"!==h.key.name||t.tok.type===i.parenL||t.tok.type===i.colon||t.canInsertSemicolon()?a=!1:(t.parsePropertyName(h),a=!0),isDummy(h.key))isDummy(t.parseMaybeAssign())&&t.next(),t.eat(i.comma);else{if(t.eat(i.colon))h.kind="init",h.value=t.parseMaybeAssign();else if(t.options.ecmaVersion>=6&&(t.tok.type===i.parenL||t.tok.type===i.braceL))h.kind="init",h.method=!0,h.value=t.parseMethod(n,a);else if(t.options.ecmaVersion>=5&&"Identifier"===h.key.type&&!h.computed&&("get"===h.key.name||"set"===h.key.name)&&t.tok.type!=i.comma&&t.tok.type!=i.braceR)h.kind=h.key.name,t.parsePropertyName(h),h.value=t.parseMethod(!1);else{if(h.kind="init",t.options.ecmaVersion>=6)if(t.eat(i.eq)){var p=t.startNodeAt(o);p.operator="=",p.left=h.key,p.right=t.parseMaybeAssign(),h.value=t.finishNode(p,"AssignmentExpression")}else h.value=h.key;else h.value=t.dummyIdent();h.shorthand=!0}e.properties.push(t.finishNode(h,"Property")),t.eat(i.comma)}}return this.popCx(),this.eat(i.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(e,"ObjectExpression")},lp$2.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(i.bracketL))return t.computed=!0,t.key=this.parseExpression(),void this.expect(i.bracketR);t.computed=!1}var e=this.tok.type===i.num||this.tok.type===i.string?this.parseExprAtom():this.parseIdent();t.key=e||this.dummyIdent()},lp$2.parsePropertyAccessor=function(){if(this.tok.type===i.name||this.tok.type.keyword)return this.parseIdent()},lp$2.parseIdent=function(){var t=this.tok.type===i.name?this.tok.value:this.tok.type.keyword;if(!t)return this.dummyIdent();var e=this.startNode();return this.next(),e.name=t,this.finishNode(e,"Identifier")},lp$2.initFunction=function(t){t.id=null,t.params=[],this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},lp$2.toAssignable=function(t,e){var s=this;if(!t||"Identifier"==t.type||"MemberExpression"==t.type&&!e);else if("ParenthesizedExpression"==t.type)t.expression=this.toAssignable(t.expression,e);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if("ObjectExpression"==t.type){t.type="ObjectPattern";for(var i=t.properties,r=0;r<i.length;r++)i[r].value=s.toAssignable(i[r].value,e)}else if("ArrayExpression"==t.type)t.type="ArrayPattern",this.toAssignableList(t.elements,e);else if("SpreadElement"==t.type)t.type="RestElement",t.argument=this.toAssignable(t.argument,e);else{if("AssignmentExpression"!=t.type)return this.dummyIdent();t.type="AssignmentPattern",delete t.operator}}return t},lp$2.toAssignableList=function(t,e){for(var s=this,i=0;i<t.length;i++)t[i]=s.toAssignable(t[i],e);return t},lp$2.parseFunctionParams=function(t){return t=this.parseExprList(i.parenR),this.toAssignableList(t,!0)},lp$2.parseMethod=function(t,e){var s=this.startNode(),r=this.inAsync;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=!!t),this.options.ecmaVersion>=8&&(s.async=!!e),this.inAsync=s.async,s.params=this.parseFunctionParams(),s.expression=this.options.ecmaVersion>=6&&this.tok.type!==i.braceL,s.body=s.expression?this.parseMaybeAssign():this.parseBlock(),this.inAsync=r,this.finishNode(s,"FunctionExpression")},lp$2.parseArrowExpression=function(t,e,s){var r=this.inAsync;return this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!s),this.inAsync=t.async,t.params=this.toAssignableList(e,!0),t.expression=this.tok.type!==i.braceL,t.body=t.expression?this.parseMaybeAssign():this.parseBlock(),this.inAsync=r,this.finishNode(t,"ArrowFunctionExpression")},lp$2.parseExprList=function(t,e){var s=this;this.pushCx();var r=this.curIndent,n=this.curLineStart,a=[];for(this.next();!this.closes(t,r+1,n);)if(s.eat(i.comma))a.push(e?null:s.dummyIdent());else{var o=s.parseMaybeAssign();if(isDummy(o)){if(s.closes(t,r,n))break;s.next()}else a.push(o);s.eat(i.comma)}return this.popCx(),this.eat(t)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),a},lp$2.parseAwait=function(){var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(),this.finishNode(t,"AwaitExpression")},t.tabSize=4,e(parse_dammit,LooseParser,pluginsLoose);export{parse_dammit:parse_dammit,LooseParser:LooseParser,pluginsLoose:pluginsLoose};
//# sourceMappingURL=acorn_loose.es.min.js.map